!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=7)}([function(t,e,i){t.exports=i.p+"4548616750b49599e29ad31f27052fc7.mp3"},function(t,e,i){t.exports=i.p+"42e1c91573e0327cd3f17f251e8af2a6.mp3"},function(t,e,i){t.exports=i.p+"f1ceea5d555947c80281f368bfaf8fa8.mp3"},function(t,e,i){t.exports=i.p+"b5599f87dda55c2ca04eb255a9788fa5.png"},function(t,e,i){t.exports=i.p+"dec4bbd246838204460cee765e852465.png"},function(t,e,i){t.exports=i.p+"b78224d2549be6ccf64dc62f3973084e.png"},function(t,e){Array.prototype.firstOrDefault=function(t){for(const e of this)if(t(e))return e;return null},Array.prototype.first=function(t){for(const e of this)if(t(e))return e;throw console.log("item not found"),console.log(this),"item not found"},Array.prototype.getNext=function(t,e){var i=e(t)+1,s=this.firstOrDefault(t=>e(t)==i);return s||(s=this.first(t=>1==e(t))),s},Array.prototype.removeItem=function(t){var e=this.indexOf(t);if(-1==e)throw"item not found";this.splice(e,1)},Array.prototype.contains=function(t){return-1!==this.indexOf(t)},Array.prototype.removeItemIfExists=function(t){var e=this.indexOf(t);-1!=e&&this.splice(e,1)},Array.prototype.addItemIfNotExists=function(t){-1==this.indexOf(t)&&this.push(t)},Array.prototype.remove=function(t){this.removeItem(this.first(t))},Array.prototype.toList=function(){return this.filter(t=>!0)}},function(t,e,i){"use strict";i.r(e);class s{constructor(t,e,i,s){this.x=t,this.y=e,this.width=i,this.height=s,this.collidesWith=t=>{var e=!1,i=!1;return this.x<=t.x?this.x<=t.x&&this.x+this.width>t.x&&(e=!0):t.x<=this.x&&t.x+t.width>this.x&&(e=!0),e&&(this.y<=t.y?this.y<=t.y&&this.y+this.width>t.y&&(i=!0):t.y<=this.y&&t.y+t.width>this.y&&(i=!0)),e&&i},this.isHitBy=(t,e)=>t>this.x&&t<this.x+this.width&&e>this.y&&e<this.y+this.height}}class n{constructor(t){this.canvas=t,this.isTouchMode=!1,this.canvasResized=()=>{this.shouldUpdateLayout=!0},this.touchMode=t=>{this.isTouchMode||(this.isTouchMode=!0,document.removeEventListener("mouseup",this.mouseUp),document.removeEventListener("mousemove",this.mouseMove),document.removeEventListener("mousedown",this.mouseDown),document.addEventListener("mousedown",this.mouseMode),document.removeEventListener("touchstart",this.touchMode))},this.mouseMode=t=>{this.isTouchMode&&(this.isTouchMode=!1,document.addEventListener("mouseup",this.mouseUp),document.addEventListener("mousemove",this.mouseMove),document.addEventListener("mousedown",this.mouseDown),document.addEventListener("touchstart",this.touchMode),document.removeEventListener("mousedown",this.mouseMode))},this.mouseDown=t=>{this.view&&this.view.mouseDown({clientX:t.clientX/this.canvas.dpr,clientY:t.clientY/this.canvas.dpr,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey})},this.mouseUp=t=>{this.view&&this.view.mouseUp({clientX:t.clientX/this.canvas.dpr,clientY:t.clientY/this.canvas.dpr,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey})},this.mouseMove=t=>{this.view&&this.view.mouseMove({clientX:t.clientX/this.canvas.dpr,clientY:t.clientY/this.canvas.dpr,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey})},this.click=t=>{this.view&&this.view.click({clientX:t.clientX/this.canvas.dpr,clientY:t.clientY/this.canvas.dpr,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey})},this.render=(t,e,i)=>{this.view&&(this.shouldUpdateLayout&&(this.view.updateLayout(t,new s(0,0,e,i)),this.shouldUpdateLayout=!1),t.clearRect(0,0,e,i),this.view.render(t))},this.setView=t=>{this.view=t,this.shouldUpdateLayout=!0},t.addDrawFunction(this.render),t.resized.addEventListener(this.canvasResized),document.addEventListener("click",this.click),document.addEventListener("touchstart",this.touchMode),document.addEventListener("mousedown",this.mouseDown),document.addEventListener("mouseup",this.mouseUp),document.addEventListener("mousemove",this.mouseMove)}}var a,r,h,o,d,l;!function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right"}(a||(a={})),function(t){t[t.Top=0]="Top",t[t.Center=1]="Center",t[t.Bottom=2]="Bottom"}(r||(r={}));class u{constructor(){this.top=0,this.right=0,this.bottom=0,this.left=0}}class c{constructor(){this.horizontalAlign=a.Center,this.verticalAlignmentRatio=r.Center,this.margin=new u,this.calculateDimensionsX=(t,e)=>{switch(this.horizontalAlign){case a.Left:return t.x+this.margin.left;case a.Center:return t.x+t.width/2-e/2;case a.Right:return t.x+t.width-e-this.margin.right}},this.calculateDimensionsY=(t,e)=>t.y+t.height*this.verticalAlignmentRatio-e*this.verticalAlignmentRatio+(this.verticalAlignmentRatio>.5?-this.margin.bottom:this.margin.top),this.verticalAlign=r.Center}set verticalAlign(t){switch(t){case r.Bottom:this.verticalAlignmentRatio=1;break;case r.Center:this.verticalAlignmentRatio=.5;break;case r.Top:this.verticalAlignmentRatio=0}}}class m{constructor(t,e,i){this.executer=t,this.setMethod=i,this.methods=[],this.add=t=>{var e=t(this.methods[this.methods.length-1]);this.methods.push(e),this.setMethod(e)},this.remove=()=>{this.methods.pop(),this.setMethod(this.methods[this.methods.length-1])},this.reset=()=>{this.setMethod(this.methods[this.methods.length-1])},this.clear=()=>{this.setMethod(()=>{})},e.bind(this.executer),this.methods.push(e)}}class p{constructor(t){this.durationSeconds=t,this.getValue=()=>{return(Date.now()-this.startTime)/1e3/this.durationSeconds},this.ended=()=>{return(Date.now()-this.startTime)/1e3>this.durationSeconds},this.startTime=Date.now()}}class g{constructor(){this.generateNewId=()=>(g.idCounter++,g.idCounter),this.bounds=new s(0,0,0,0),this.dimensions=new s(0,0,0,0),this.alignement=new c,this.shouldUpdateLayout=!1,this.render=t=>{this.shouldUpdateLayout&&(this.updateLayout(t,this.bounds),this.shouldUpdateLayout=!1)},this.triggerUpdateLayout=()=>{this.shouldUpdateLayout=!0},this.isActive=!0,this.activate=t=>{this.renderMethodManipulation.reset();var e=new p(t);this.renderMethodManipulation.add(t=>i=>{e.ended()?(t(i),this.renderMethodManipulation.remove()):(i.save(),i.globalAlpha=e.getValue(),t(i),i.restore())})},this.deactivated=()=>{this.renderMethodManipulation.clear()},this.deactivate=t=>{var e=new p(t);this.renderMethodManipulation.add(t=>i=>{e.ended()?(this.renderMethodManipulation.remove(),this.renderMethodManipulation.clear()):(i.save(),i.globalAlpha=1-e.getValue(),t(i),i.restore())})},this.disableMouseEvents=()=>{this.mouseDown=()=>{},this.mouseUp=()=>{},this.mouseMove=()=>{},this.click=()=>{}},this.id=this.generateNewId(),this.name="object "+this.id}get renderMethodManipulation(){return this._renderMethodManipulation||(this._renderMethodManipulation=new m(this,this.render,t=>this.render=t)),this._renderMethodManipulation}updateLayout(t,e){this.bounds=e,this.shouldUpdateLayout=!1}}g.idCounter=0;class y extends g{constructor(){super(...arguments),this.children=[],this.superRender=this.render,this.render=t=>{this.superRender(t);for(const e of this.children)e.render(t)}}mouseDown(t){for(const e of this.children)e.mouseDown(t)}mouseUp(t){for(const e of this.children)e.mouseUp(t)}mouseMove(t){for(const e of this.children)e.mouseMove(t)}click(t){for(const e of this.children.toList())e.click(t)}}class v extends g{constructor(t){super(),this.star=t,this.render=t=>{var e=3*this.star.r,i=t.createRadialGradient(this.star.x,this.star.y,this.star.r,this.star.x,this.star.y,e);i.addColorStop(0,"rgba(255, 255, 255, 0.2)"),i.addColorStop(1,"rgba(255, 255, 255, 0)"),t.fillStyle=i,t.arc(this.star.x,this.star.y,e,0,2*Math.PI),t.fill(),t.fillStyle="white",t.beginPath(),t.arc(this.star.x,this.star.y,this.star.r,0,2*Math.PI),t.fill()}}mouseDown(t){}mouseUp(t){}mouseMove(t){throw new Error("Method not implemented.")}click(t){throw new Error("Method not implemented.")}}!function(t){t[t.AddStarLayer=0]="AddStarLayer",t[t.RemoveStarLayer=1]="RemoveStarLayer",t[t.ChangeNumberOfStars=2]="ChangeNumberOfStars",t[t.ChangeSpeed=3]="ChangeSpeed",t[t.ChangeSizes=4]="ChangeSizes"}(h||(h={}));class f extends y{constructor(t){super(),this.starLayer=t,this.settingsUpdated=t=>{switch(t){case h.ChangeNumberOfStars:this.updateNumberOfStars()}},this.updateNumberOfStars=()=>{this.triggerUpdateLayout()},ct.settingManager.update.addEventListener(this.settingsUpdated),this.disableMouseEvents(),this.triggerUpdateLayout()}updateLayout(t,e){this.children=[];for(const t of this.starLayer.stars)this.children.push(new v(t))}mouseMove(t){}click(t){}}!function(t){t[t.hidden=0]="hidden",t[t.beforeVisible=1]="beforeVisible",t[t.visible=2]="visible"}(o||(o={}));class w{constructor(){this.state=o.hidden}}class L{constructor(){this.listeners=[],this.addEventListener=t=>{if(!t||this.listeners.indexOf(t)>=0)throw"listener already added";this.listeners.push(t)},this.addEventListenerIfNotExists=t=>{!t||this.listeners.indexOf(t)>=0||this.listeners.push(t)},this.dispatchEvent=()=>{for(let t=0;t<this.listeners.length;t++){(0,this.listeners[t])()}},this.removeEventListener=t=>{if(!t||this.listeners.indexOf(t)<0)throw"listener not found";this.listeners.splice(this.listeners.indexOf(t),1)},this.removeEventListenerIfExists=t=>{!t||this.listeners.indexOf(t)<0||this.listeners.splice(this.listeners.indexOf(t),1)}}}class x{constructor(){this.listeners=[],this.addEventListener=t=>{if(!t||this.listeners.indexOf(t)>=0)throw"listener already added";this.listeners.push(t)},this.dispatchEvent=t=>{for(let e=0;e<this.listeners.length;e++){(0,this.listeners[e])(t)}},this.removeEventListener=t=>{if(!t||this.listeners.indexOf(t)<0)throw"listener not found";this.listeners.splice(this.listeners.indexOf(t),1)}}}class S{constructor(){this.listeners=[],this.addEventListener=t=>{if(!t||this.listeners.indexOf(t)>=0)throw"listener already added";this.listeners.push(t)},this.dispatchEvent=(t,e)=>{for(let i=0;i<this.listeners.length;i++){(0,this.listeners[i])(t,e)}},this.removeEventListener=t=>{if(!t||this.listeners.indexOf(t)<0)throw"listener not found";this.listeners.splice(this.listeners.indexOf(t),1)}}}class b{constructor(){this.drawFunctions=[],this.dpr=1,this.dprScalingEnabled=!1,this.enableDprScaling=()=>{this.dprScalingEnabled=!0,this.resize()},this.disableDprScaling=()=>{this.dprScalingEnabled=!1,this.resize()},this.resized=new L,this.resize=()=>{this.dpr=this.dprScalingEnabled&&window.devicePixelRatio||1,this.canvas.width=this.canvas.clientWidth,this.canvas.height=this.canvas.clientHeight,this.resized.dispatchEvent()},this.draw=()=>{this.ctx.save(),this.ctx.scale(this.dpr,this.dpr);for(const t of this.drawFunctions)t(this.ctx,this.width,this.height);this.ctx.restore()},this.addDrawFunction=t=>{this.drawFunctions.push(t)},this.removeDrawFunction=t=>{this.drawFunctions.splice(this.drawFunctions.indexOf(t),1)}}get width(){return this.canvas.clientWidth/this.dpr}get height(){return this.canvas.clientHeight/this.dpr}static createFullScreen(){document.body.parentElement.style.height="100%",document.body.style.height="100%",document.body.style.margin="0",document.body.style.overflow="hidden";var t=document.createElement("canvas");document.body.appendChild(t),t.style.width="100%",t.style.height="100%";var e=new b;return e.canvas=t,e.ctx=t.getContext("2d"),window.addEventListener("resize",e.resize),e.resize(),e}}b.cursorLock=null,b.SetCursor=(t,e)=>{e?(document.body.style.cursor="pointer",b.cursorLock=t):t==b.cursorLock&&(document.body.style.cursor="default",b.cursorLock=null)};class M extends g{constructor(){super(...arguments),this.isMouseOver=!1,this.isEnabled=!0,this.clicked=new x,this.click=t=>{this.isEnabled&&this.dimensions.isHitBy(t.clientX,t.clientY)&&this.clicked.dispatchEvent(this)}}mouseMove(t){this.isEnabled&&(this.dimensions.isHitBy(t.clientX,t.clientY)?(this.isMouseOver=!0,b.SetCursor(this.name,!0)):(this.isMouseOver=!1,b.SetCursor(this.name,!1)))}mouseDown(t){}mouseUp(t){}}class V{constructor(){this.fontSize=40,this.fontPrefix="",this.fontFamily="fontawesome",this.fillStyle="blue",this.mouseOverFillStyle="red",this.backgroundFillStyle=void 0,this.getFont=()=>{var t="";return this.fontPrefix&&(t+=this.fontPrefix+" "),t+=this.fontSize+"px "+this.fontFamily}}}class E extends M{constructor(){super(...arguments),this.properties=new V,this.render=t=>{this.properties.backgroundFillStyle&&(t.fillStyle=this.properties.backgroundFillStyle,t.fillRect(this.dimensions.x,this.dimensions.y,this.dimensions.width,this.dimensions.height)),this.isMouseOver?t.fillStyle=this.properties.mouseOverFillStyle:t.fillStyle=this.properties.fillStyle,t.font=this.properties.getFont(),t.textAlign="left",t.textBaseline="top",t.fillText(this.text,this.dimensions.x,this.dimensions.y)},this.updateLayout=(t,e)=>{super.updateLayout(t,e),t.font=this.properties.getFont(),t.textAlign="left",t.textBaseline="top";var i=t.measureText(this.text),n=this.alignement.calculateDimensionsX(e,i.width),a=this.alignement.calculateDimensionsY(e,this.properties.fontSize);this.dimensions=new s(n,a,i.width,this.properties.fontSize)}}}!function(t){t[t.Horizontal=0]="Horizontal",t[t.Vertical=1]="Vertical"}(d||(d={}));class I{constructor(){this.itemSpacing=30,this.orientation=d.Vertical}}class A extends y{constructor(){super(...arguments),this.properties=new I,this.addItem=t=>{t.alignement.horizontalAlign=a.Left,t.alignement.verticalAlign=r.Top,this.children.push(t),this.triggerUpdateLayout()},this.removeItem=t=>{this.children.removeItem(t),this.triggerUpdateLayout()}}updateLayout(t,e){super.updateLayout(t,e);var i=this.alignement.calculateDimensionsX(e,this.dimensions.width),n=this.alignement.calculateDimensionsY(e,this.dimensions.height),a=0,r=0;if(this.properties.orientation==d.Vertical)for(let e=0;e<this.children.length;e++){const h=this.children[e];e>0&&(n+=this.properties.itemSpacing,r+=this.properties.itemSpacing),h.updateLayout(t,new s(i,n,0,0)),n+=h.dimensions.height,r+=h.dimensions.height,a=Math.max(a,h.dimensions.width)}else for(let e=0;e<this.children.length;e++){const h=this.children[e];e>0&&(i+=this.properties.itemSpacing,a+=this.properties.itemSpacing),h.updateLayout(t,new s(i,n,0,0)),i+=h.dimensions.width,a+=h.dimensions.width,r=Math.max(r,h.dimensions.height)}this.dimensions.x==i&&this.dimensions.y==n&&this.dimensions.width==a&&this.dimensions.height==r||(this.dimensions.x=i,this.dimensions.y=n,this.dimensions.height=r,this.dimensions.width=a,this.updateLayout(t,e))}}class C extends M{constructor(){super(),this.radius=10,this.minValue=0,this.maxValue=100,this.currentValue=50,this.valueChanged=new x,this.render=t=>{var e=this.dimensions.x,i=this.dimensions.y;t.strokeStyle="white",t.lineWidth=2,t.beginPath(),t.moveTo(e+this.radius,i+this.dimensions.height/2),t.lineTo(e+this.dimensions.width-this.radius,i+this.dimensions.height/2),t.stroke();var s=(this.currentValue-this.minValue)/(this.maxValue-this.minValue);t.fillStyle="blue",t.beginPath(),t.arc(e+this.radius+(this.dimensions.width-2*this.radius)*s,i+this.dimensions.height/2,this.radius,0,2*Math.PI),t.closePath(),t.fill()},this.updateLayout=(t,e)=>{super.updateLayout(t,e),this.dimensions=new s(e.x,e.y,200,2*this.radius)},this.mouseDown=t=>{this.dimensions.isHitBy(t.clientX,t.clientY)&&(this.isDragging=!0,this.updateCurrentValue(t))},this.mouseUp=t=>{this.isDragging=!1}}mouseMove(t){super.mouseMove(t),this.isDragging&&this.updateCurrentValue(t)}updateCurrentValue(t){var e=t.clientX-this.dimensions.x-this.radius;(e=e/(this.dimensions.width-2*this.radius)*(this.maxValue-this.minValue)+this.minValue)>this.maxValue&&(e=this.maxValue),e<this.minValue&&(e=this.minValue),this.currentValue=e,this.valueChanged.dispatchEvent(this.currentValue)}}class F extends M{constructor(){super(),this.radius=10,this.minValue=0,this.maxValue=100,this.currentValueLow=25,this.currentValueHigh=75,this.minDiff=.1,this.valuesChanged=new S,this.render=t=>{var e=this.dimensions.x,i=this.dimensions.y;t.strokeStyle="white",t.lineWidth=2,t.beginPath(),t.moveTo(e+this.radius,i+this.dimensions.height/2),t.lineTo(e+this.dimensions.width-this.radius,i+this.dimensions.height/2),t.stroke(),t.fillStyle="blue";var s=i+this.dimensions.height/2,n=(this.currentValueLow-this.minValue)/(this.maxValue-this.minValue),a=e+this.radius+(this.dimensions.width-2*this.radius)*n,r=(this.currentValueHigh-this.minValue)/(this.maxValue-this.minValue),h=e+this.radius+(this.dimensions.width-2*this.radius)*r;t.strokeStyle="blue",t.lineWidth=2,t.beginPath(),t.moveTo(a,s),t.lineTo(h,s),t.stroke(),t.beginPath(),t.arc(a,s,this.radius,0,2*Math.PI),t.closePath(),t.fill(),t.beginPath(),t.arc(h,s,this.radius,0,2*Math.PI),t.closePath(),t.fill()},this.updateLayout=(t,e)=>{super.updateLayout(t,e),this.dimensions=new s(e.x,e.y,200,2*this.radius)},this.mouseDown=t=>{if(this.dimensions.isHitBy(t.clientX,t.clientY)){var e=this.getClickedValue(t),i=Math.abs(this.currentValueLow-e),s=Math.abs(this.currentValueHigh-e);i==s?e<this.currentValueLow?this.isDraggingLow=!0:this.isDraggingHigh=!0:i>s?this.isDraggingHigh=!0:this.isDraggingLow=!0,this.updateCurrentValues(t)}},this.mouseUp=t=>{this.isDraggingHigh=!1,this.isDraggingLow=!1}}mouseMove(t){super.mouseMove(t),(this.isDraggingHigh||this.isDraggingLow)&&this.updateCurrentValues(t)}updateCurrentValues(t){var e=this.getClickedValue(t);this.isDraggingLow?e>this.currentValueHigh-this.minDiff&&(e=this.currentValueHigh-this.minDiff):e<this.currentValueLow+this.minDiff&&(e=this.currentValueLow+this.minDiff),this.isDraggingLow?this.currentValueLow=e:this.currentValueHigh=e,this.valuesChanged.dispatchEvent(this.currentValueLow,this.currentValueHigh)}getClickedValue(t){var e=t.clientX-this.dimensions.x-this.radius;return(e=e/(this.dimensions.width-2*this.radius)*(this.maxValue-this.minValue)+this.minValue)>this.maxValue&&(e=this.maxValue),e<this.minValue&&(e=this.minValue),e}}class D extends y{constructor(t){super(),this.starLayer=t,this.numberOfStarsChanged=t=>{ct.settingManager.changeNumberOfStars(this.starLayer,Math.round(t))},this.speedChanged=t=>{ct.settingManager.changeSpeed(this.starLayer,t)},this.sizesChanged=(t,e)=>{ct.settingManager.changeSizes(this.starLayer,t,e)},this.settingsList=new A,this.settingsList.alignement.horizontalAlign=a.Left,this.settingsList.alignement.verticalAlign=r.Top;var e=new E;e.text="Remove Layer",e.properties.fillStyle="white",this.settingsList.addItem(e),this.children.push(e),e.clicked.addEventListener(t=>{ct.settingManager.removeStarLayer(this.starLayer)});var i=new C;i.minValue=10,i.maxValue=1e3,i.currentValue=t.stars.length,this.children.push(i),this.settingsList.addItem(i),i.valueChanged.addEventListener(this.numberOfStarsChanged);var s=new C;s.minValue=0,s.maxValue=20,s.currentValue=t.speed,this.children.push(s),this.settingsList.addItem(s),s.valueChanged.addEventListener(this.speedChanged);var n=new F,h=this.starLayer.stars.map(t=>t.r);n.minValue=.001,n.maxValue=2,n.currentValueLow=Math.min(...h),n.currentValueHigh=Math.max(...h),this.children.push(n),this.settingsList.addItem(n),n.valuesChanged.addEventListener(this.sizesChanged)}updateLayout(t,e){this.settingsList.updateLayout(t,new s(e.x,e.y,0,0))}}class k extends y{constructor(){super(),this.viewModel=new w,this.lastMoved=Date.now(),this.inactivityTimeout=2e3,this.layerButtons=[],this.settingsIconText="",this.settingsUpdated=t=>{switch(t){case h.AddStarLayer:for(const t of ct.settings.starLayers)if(!this.layerButtons.map(t=>t.tag).contains(t)){this.settingsList.removeItem(this.addLayerBtn);var e=new E;e.text="Edit Layer",e.tag=t,e.properties.fillStyle="white",this.settingsList.addItem(e),this.layerButtons.push(e),e.clicked.addEventListener(e=>{this.toggleShowHideStarLayerView(t)}),this.settingsList.addItem(this.addLayerBtn);break}break;case h.RemoveStarLayer:for(const t of this.layerButtons)if(!ct.settings.starLayers.contains(t.tag)){this.settingsList.removeItem(t),this.layerButtons.removeItem(t);break}this.children.removeItem(this.detailedStarLayerView),this.detailedStarLayerView=void 0}},this.toggleShowHideStarLayerView=t=>{if(this.detailedStarLayerView)if(this.detailedStarLayerView.starLayer!=t){this.children.removeItem(this.detailedStarLayerView),this.detailedStarLayerView=void 0;e=new D(t);this.detailedStarLayerView=e,this.children.push(this.detailedStarLayerView),this.triggerUpdateLayout()}else this.children.removeItem(this.detailedStarLayerView),this.detailedStarLayerView=void 0;else{var e=new D(t);this.detailedStarLayerView=e,this.children.push(this.detailedStarLayerView),this.triggerUpdateLayout()}},this.showHideOverlayClicked=t=>{this.viewModel.state==o.visible?this.setState(o.beforeVisible):this.setState(o.visible)},this.mouseMove=t=>{this.viewModel.state!=o.hidden&&this.viewModel.state!=o.beforeVisible||this.setState(o.beforeVisible),super.mouseMove(t)},this.click=t=>{this.viewModel.state!=o.hidden&&this.viewModel.state!=o.beforeVisible||this.setState(o.beforeVisible),super.click(t)},this.mouseInactivityHandler=()=>{Date.now()-this.lastMoved>=this.inactivityTimeout?this.viewModel.state==o.beforeVisible&&this.setState(o.hidden):setTimeout(this.mouseInactivityHandler,this.inactivityTimeout-(Date.now()-this.lastMoved))},this.setState=t=>{switch(t){case o.hidden:this.children.removeItem(this.showOverLayerButton),this.viewModel.state=o.hidden;break;case o.beforeVisible:this.lastMoved=Date.now(),this.viewModel.state==o.hidden&&(setTimeout(this.mouseInactivityHandler,this.inactivityTimeout),this.children.addItemIfNotExists(this.showOverLayerButton)),this.viewModel.state==o.visible&&(setTimeout(this.mouseInactivityHandler,this.inactivityTimeout),this.children.removeItemIfExists(this.settingsList),this.children.removeItemIfExists(this.detailedStarLayerView),this.detailedStarLayerView=void 0),this.viewModel.state=o.beforeVisible;break;case o.visible:this.viewModel.state==o.beforeVisible&&this.children.push(this.settingsList),this.viewModel.state=o.visible}},this.showOverLayerButton=new E,this.showOverLayerButton.properties.fontPrefix="900",this.showOverLayerButton.properties.fontFamily="'Font Awesome 5 Free'",this.showOverLayerButton.text=this.settingsIconText,this.showOverLayerButton.alignement.verticalAlign=r.Top,this.showOverLayerButton.alignement.horizontalAlign=a.Left,this.showOverLayerButton.clicked.addEventListener(this.showHideOverlayClicked),this.showOverLayerButton.properties.backgroundFillStyle="rgba(0, 0, 0, 0.5)",this.children.push(this.showOverLayerButton),this.settingsList=new A,this.settingsList.alignement.horizontalAlign=a.Left,this.settingsList.alignement.verticalAlign=r.Top;var t=new E;t.text="Add Layer",t.properties.fillStyle="white",this.settingsList.addItem(t),t.clicked.addEventListener(t=>{ct.settingManager.addStarLayer()}),this.addLayerBtn=t,ct.settingManager.update.addEventListener(this.settingsUpdated)}updateLayout(t,e){super.updateLayout(t,e),this.showOverLayerButton.updateLayout(t,e);var i=2*this.showOverLayerButton.dimensions.height;this.settingsList.updateLayout(t,new s(e.x,e.y+i,e.width,e.height-i)),this.detailedStarLayerView&&this.detailedStarLayerView.updateLayout(t,new s(e.x+this.settingsList.dimensions.width,e.y+i,e.width,e.height-i))}}class O{constructor(t){this.starLayer=t,this.update=t=>{for(const e of this.starLayer.stars)e.x+=this.starLayer.speed*t,e.y+=this.starLayer.speed*t,e.x>ct.settings.width&&(e.x-=ct.settings.width),e.y>ct.settings.height&&(e.y-=ct.settings.height)}}}class P{}P.instances={},P.addInstance=(t,e)=>{P.instances[t]=e},P.getInstance=t=>P.instances[t];class T extends y{constructor(){super(),this.playIconText="",this.pauseIconText="",this.stopIconText="",this.nextIconText="",this.previousIconText="";var t=P.getInstance("audio"),e=new A;e.alignement.verticalAlign=r.Bottom,e.alignement.margin.bottom=20,e.properties.orientation=d.Horizontal,this.children.push(e);var i=new E;i.properties.fontPrefix="900",i.properties.fontFamily="'Font Awesome 5 Free'",i.text=this.playIconText,i.clicked.addEventListener(()=>{i.text==this.playIconText?(t.play(),i.text=this.pauseIconText):(t.pause(),i.text=this.playIconText),this.triggerUpdateLayout()}),e.addItem(i);var s=new E;s.properties.fontPrefix="900",s.properties.fontFamily="'Font Awesome 5 Free'",s.text=this.stopIconText,s.clicked.addEventListener(()=>{t.stop(),i.text==this.pauseIconText&&(i.text=this.playIconText),this.triggerUpdateLayout()}),e.addItem(s);var n=new E;n.properties.fontPrefix="900",n.properties.fontFamily="'Font Awesome 5 Free'",n.text=this.previousIconText,n.clicked.addEventListener(()=>{t.previous()}),e.addItem(n);var a=new E;a.properties.fontPrefix="900",a.properties.fontFamily="'Font Awesome 5 Free'",a.text=this.nextIconText,a.clicked.addEventListener(()=>{t.next()}),e.addItem(a)}updateLayout(t,e){super.updateLayout(t,e);for(const e of this.children)e.updateLayout(t,this.bounds)}}!function(t){t[t.FitAndOverfill=0]="FitAndOverfill",t[t.FitAndSpace=1]="FitAndSpace"}(l||(l={}));class U{constructor(){this.imageScalingMode=l.FitAndSpace,this.scale=1}}class B extends M{constructor(t){super(),this.properties=new U,this.superRender=this.render,this.render=t=>{this.superRender(t),t.drawImage(this.image,this.dimensions.x,this.dimensions.y,this.dimensions.width,this.dimensions.height),this.isMouseOver&&this.isEnabled&&(t.fillStyle="rgba(255,255,255,0.5)",t.fillRect(this.dimensions.x,this.dimensions.y,this.dimensions.width,this.dimensions.height))},this.image=t}updateLayout(t,e){super.updateLayout(t,e);var i=1,s=this.image.naturalWidth/this.image.naturalHeight>e.width/e.height;switch(this.properties.imageScalingMode){case l.FitAndOverfill:i=s?e.height/this.image.height:e.width/this.image.width;break;case l.FitAndSpace:i=s?e.width/this.image.width:e.height/this.image.height}var n=this.image.naturalWidth*i,a=this.image.naturalHeight*i;this.dimensions.x=this.alignement.calculateDimensionsX(e,n),this.dimensions.y=this.alignement.calculateDimensionsY(e,n),this.dimensions.width=n,this.dimensions.height=a}}B.createFromUrl=t=>new Promise((e,i)=>{var s=new Image;s.src=t,s.onload=()=>{e(new B(s))}});class N extends y{constructor(){super();var t=P.getInstance("assets").getImage("background"),e=new B(t);e.disableMouseEvents(),e.properties.imageScalingMode=l.FitAndOverfill,this.children.push(e)}updateLayout(t,e){super.updateLayout(t,e);for(const i of this.children)i.updateLayout(t,e)}}class R{constructor(){this.fontSize=40,this.fontPrefix="",this.fontFamily="fontawesome",this.fillStyle="blue",this.backgroundFillStyle=void 0,this.getFont=()=>{var t="";return this.fontPrefix&&(t+=this.fontPrefix+" "),t+=this.fontSize+"px "+this.fontFamily}}}class z extends M{constructor(){super(),this.properties=new R,this.render=t=>{t.fillStyle=this.properties.fillStyle,t.font=this.properties.getFont(),t.textAlign="left",t.textBaseline="top",t.fillText(this.text,this.dimensions.x,this.dimensions.y)},this.updateLayout=(t,e)=>{super.updateLayout(t,e),t.font=this.properties.getFont(),t.textAlign="left",t.textBaseline="top";var i=t.measureText(this.text),n=this.alignement.calculateDimensionsX(e,i.width),a=this.alignement.calculateDimensionsY(e,this.properties.fontSize);this.dimensions=new s(n,a,i.width,this.properties.fontSize)},this.disableMouseEvents()}}class H extends y{constructor(){super(),this.frequencyIndex=7,this.lowerBorder=.4,this.upperBorder=.9;var t=P.getInstance("assets"),e=P.getInstance("audio");this.analyser=e.getAnalyser();var i=t.getImage("logo"),s=t.getImage("logo-nova");this.disableMouseEvents();var n=new B(s);n.properties.imageScalingMode=l.FitAndSpace,this.children.push(n);var a=n.render;n.render=t=>{var e=this.analyser.getSpectrum(),i=this.calculateRelDataValue(e[this.frequencyIndex]);t.save(),t.globalAlpha=i,a(t),t.restore()};var r=new B(i);r.properties.imageScalingMode=l.FitAndSpace,this.children.push(r);var h=new z;h.text="Name of the song",h.properties.fillStyle="blue",h.properties.fontFamily="Operetta",h.alignement.verticalAlignmentRatio=.6,this.children.push(h)}calculateRelDataValue(t){var e=t/255;return e<this.lowerBorder&&(e=this.lowerBorder),e>this.upperBorder&&(e=this.upperBorder),(e-this.lowerBorder)/(this.upperBorder-this.lowerBorder)}updateLayout(t,e){super.updateLayout(t,e);for(const i of this.children)i.updateLayout(t,e)}}class W extends y{constructor(){super(),this.starLayers=[],this.starAnimators=[],this.onLowPerformance=()=>{for(const t of this.starLayers)ct.settingManager.changeNumberOfStars(t.starLayer,Math.round(.9*t.starLayer.stars.length))},this.appSettingsUpdated=t=>{switch(t){case h.AddStarLayer:this.addStarLayer();break;case h.RemoveStarLayer:this.removeStarLayer()}},this.addStarLayer=()=>{for(const i of ct.settings.starLayers)if(null==this.starLayers.firstOrDefault(t=>t.starLayer==i)){var t=new f(i);this.starLayers.push(t),this.children.splice(1,0,t),this.triggerUpdateLayout();var e=new O(i);this.animation.addUpdateFunction(e.update),this.starAnimators.push(e);break}},this.removeStarLayer=()=>{for(const e of this.starLayers)if(null==ct.settings.starLayers.firstOrDefault(t=>t==e.starLayer)){var t=this.starAnimators.first(t=>t.starLayer==e.starLayer);this.animation.removeUpdateFunction(t.update),this.starAnimators.removeItem(t),this.children.remove(t=>t==e),this.starLayers.remove(t=>t==e),this.triggerUpdateLayout()}},this.animation=P.getInstance("animation"),this.animation.lowPerformance.addEventListener(this.onLowPerformance),ct.settingManager.update.addEventListener(this.appSettingsUpdated);var t=new N;this.children.push(t),document.testit=t;var e=new T;this.children.push(e);var i=new H;this.children.push(i);var s=new k;this.children.push(s),this.triggerUpdateLayout()}updateLayout(t,e){super.updateLayout(t,e);for(const i of this.children)i.updateLayout(t,e)}}class K{constructor(){this.stars=[],this.speed=1*Math.random()+.1}}class X{constructor(){this.updateFunctions=[],this.isRunning=!1,this.performanceWarningThreshold=1.2,this.performanceWarningDelayRuns=8,this.currentPerformanceWarningDelayRun=0,this.lowPerformance=new L,this.addUpdateFunction=t=>{this.updateFunctions.push(t)},this.removeUpdateFunction=t=>{this.updateFunctions.splice(this.updateFunctions.indexOf(t),1)},this.setFps=t=>{this.fps=t,this.fpsInterval=1e3/this.fps},this.animationLoop=()=>{this.isRunning&&requestAnimationFrame(this.animationLoop);var t=Date.now(),e=t-this.lastFrameTime;if(e>this.fpsInterval){this.lastFrameTime=t;var i=e/1e3;e/this.fpsInterval-1>this.performanceWarningThreshold?(console.log("Warning: low performance"),this.currentPerformanceWarningDelayRun++,this.currentPerformanceWarningDelayRun>this.performanceWarningDelayRuns&&(this.lowPerformance.dispatchEvent(),this.currentPerformanceWarningDelayRun=0)):this.currentPerformanceWarningDelayRun>0&&(this.currentPerformanceWarningDelayRun=0);for(const t of this.updateFunctions)t(i)}},this.setFps(30),this.play(),document.addEventListener("keyup",t=>{80==t.keyCode&&this.playPause()})}play(){this.isRunning||(this.isRunning=!0,this.lastFrameTime=Date.now(),this.animationLoop())}pause(){this.isRunning&&(this.isRunning=!1)}playPause(){this.isRunning?this.pause():this.play()}}class Y{constructor(){this.loadFontawesomeFree=()=>this.loadFont("","","900 20px 'Font Awesome 5 Free'"),this.loadFontawesomeBrands=()=>this.loadFont("","","400 20px 'Font Awesome 5 Brands'"),this.countPixels=t=>{var e=0;for(let r=0;r<t.data.length;r+=4){var i=t.data[r],s=t.data[r+1],n=t.data[r+2],a=t.data[r+3];i<50&&s<50&&n<50&&a>.9&&e++}return e},this.getIconPixels=(t,e,i)=>{t.clearRect(0,0,e.width,e.height),t.fillText(i,0,0);var s=t.getImageData(0,0,e.width,e.height);return this.countPixels(s)},this.loadFont=(t,e,i)=>{var s=10;return new Promise((n,a)=>{console.log('loading font "'+i+'"');var r=document.createElement("canvas");r.width=20,r.height=20;var h=r.getContext("2d");h.font=i,h.fillStyle="black",h.textAlign="left",h.textBaseline="top";var o=()=>{var a=this.getIconPixels(h,r,t),d=this.getIconPixels(h,r,e);Math.abs(d-a)>5?(console.log('loaded font "'+i+'"'),n()):0==--s?(console.log("stop loading font after "+s+" retries with 500ms delay"),n()):setTimeout(()=>{o()},500)};o()})}}}class j{constructor(t,e){this.name=t,this.audioCtx=e}}class _ extends j{constructor(){super(...arguments),this.getAudioNode=()=>this.analyserNode}reload(){return new Promise((t,e)=>{this.analyserNode||(this.analyserNode=this.audioCtx.createAnalyser()),this.analyserNode.fftSize=32,this.analyserNode.smoothingTimeConstant=.9,this.bufferLength=this.analyserNode.frequencyBinCount,this.dataArray=new Uint8Array(this.bufferLength),t()})}getSpectrum(){return this.analyserNode?(this.analyserNode.getByteFrequencyData(this.dataArray),this.dataArray):new Uint8Array(0)}getWave(){return this.analyserNode?(this.analyserNode.getByteTimeDomainData(this.dataArray),this.dataArray):new Uint8Array(0)}}class G extends j{constructor(){super(...arguments),this.getAudioNode=()=>this.audioCtx.destination}reload(){}}class q extends j{constructor(t,e,i){super(t,e),this.audioEnded=new L,this.audioEndedEvent=()=>{this.audioEnded.dispatchEvent()},this.getAudioNode=()=>this.source,this.play=()=>{this.audio.play()},this.pause=()=>{this.audio.pause()},this.stop=()=>{this.audio.pause(),this.audio.currentTime=0},this.setUrl=t=>{var e=!this.audio.paused;this.url=t,this.audio.src=t,this.audio.load(),e&&this.audio.play()},this.url=i,this.audio=document.createElement("audio"),this.audio.controls=!0,this.audio.src=this.url,this.audio.addEventListener("ended",this.audioEndedEvent)}reload(){return new Promise((t,e)=>{this.source||(this.source=this.audioCtx.createMediaElementSource(this.audio)),t()})}}class J{constructor(){this.audioNodes=[],this.addMediaElementSource=(t,e)=>{var i=new q(t,this.audioCtx,e);return this.audioNodes.push(i),i},this.addAnalyzer=t=>{var e=new _(t,this.audioCtx);return this.audioNodes.push(e),e},this.getAudioGraphNode=t=>this.audioNodes.first(e=>e.name==t),this.audioContextStateChanged=new x,this.documentClick=()=>{"suspended"===this.audioCtx.state&&(this.audioCtx.resume(),document.removeEventListener("click",this.documentClick))},this.audioContextStateChangedEvaluator=()=>{"running"===this.audioCtx.state&&(console.log("audio context state changed"),this.audioCtx.removeEventListener("statechange",this.audioContextStateChangedEvaluator),this.reload().then(()=>{this.audioContextStateChanged.dispatchEvent(this.audioCtx.state)}))},this.reload=()=>new Promise((t,e)=>{console.log("realoading audio graph"),Promise.all(this.audioNodes.map(t=>t.reload())).then(()=>{console.log("reloaded audio graph");for(let t=0;t<this.audioNodes.length;t++){const e=this.audioNodes[t];e.getAudioNode().disconnect(),t<this.audioNodes.length-1?e.getAudioNode().connect(this.audioNodes[t+1].getAudioNode()):e.getAudioNode().connect(this.destinationNode.getAudioNode())}t()})});try{this.audioCtx=new(window.AudioContext||window.webkitAudioContext),this.audioCtx.addEventListener("statechange",this.audioContextStateChangedEvaluator),"suspended"===this.audioCtx.state&&(document.addEventListener("click",this.documentClick),console.log("Audio context is suspended. Click the dom to make it running.")),this.destinationNode=new G("destination",this.audioCtx)}catch(t){throw"It looks like your browser does not support web audio API :("}}}var Q=i(0),Z=i.n(Q),$=i(1),tt=i.n($),et=i(2),it=i.n(et);class st{constructor(){this.songs=[Z.a,tt.a,it.a],this.reload=()=>this.audioGraph.reload(),this.play=()=>{this.source.play()},this.pause=()=>{this.source.pause()},this.next=()=>{var t=this.songs.indexOf(this.source.url)+1;t==this.songs.length&&(t=0),this.source.setUrl(this.songs[t])},this.previous=()=>{var t=this.songs.indexOf(this.source.url)-1;-1==t&&(t=this.songs.length-1),this.source.setUrl(this.songs[t])},this.getAnalyser=()=>this.analyser,this.stop=()=>{this.source.stop()},this.audioGraph=new J,this.source=this.audioGraph.addMediaElementSource("source",this.songs[0]),this.source.audioEnded.addEventListener(this.endedNext()),this.analyser=this.audioGraph.addAnalyzer("analyser")}endedNext(){return()=>{this.next(),this.source.play()}}}class nt{constructor(){this.imageAssets=[],this.addImage=(t,e)=>{this.imageAssets.push({name:t,url:e,image:void 0})},this.getImage=t=>{var e=this.imageAssets.firstOrDefault(e=>e.name==t);return e?e.image:void 0},this.load=()=>Promise.all(this.imageAssets.map(t=>new Promise((e,i)=>{if(t.image)e();else{var s=new Image;s.src=t.url,s.onload=()=>{t.image=s,e()}}})))}}var at=i(3),rt=i.n(at),ht=i(4),ot=i.n(ht),dt=i(5),lt=i.n(dt);class ut extends y{constructor(){super();var t=new z;t.text="Loading...",t.properties.fillStyle="white",this.children.push(t)}updateLayout(t,e){super.updateLayout(t,e);for(const e of this.children)e.updateLayout(t,this.bounds)}}class ct{constructor(){this.run=()=>{document.body.style.backgroundColor="black";var t=b.createFullScreen(),e=new n(t),i=new X;i.addUpdateFunction(t.draw),P.addInstance("canvas",t),P.addInstance("stage",e),P.addInstance("animation",i);var s,a=new ut;a.deactivated(),e.setView(a),a.activate(.7),console.log("loading app"),Promise.all([(new Y).loadFontawesomeFree(),new Promise((t,e)=>{var i=new st;i.reload(),P.addInstance("audio",i),t()}),new Promise((t,e)=>{setTimeout(()=>{t()},2e3)}),new Promise((t,e)=>{var i=new nt;P.addInstance("assets",i),i.addImage("background",rt.a),i.addImage("logo",ot.a),i.addImage("logo-nova",lt.a),i.load().then(()=>{(s=new W).deactivated(),ct.settingManager.addStarLayer(),ct.settingManager.addStarLayer(),ct.settingManager.addStarLayer(),ct.settingManager.addStarLayer(),t()})})]).then(()=>{a.deactivate(.7),setTimeout(()=>{e.setView(s),s.activate(.7)},800)}).catch(t=>{console.log(t),alert(t)})}}}ct.settings=new class{constructor(t,e){this.width=t,this.height=e,this.starLayers=[]}}(window.innerWidth,window.innerHeight),ct.settingManager=new class{constructor(){this.update=new x,this.addStarLayer=()=>{var t=new K;for(let e=0;e<300;e++)t.stars.push({x:Math.random()*ct.settings.width,y:Math.random()*ct.settings.height,r:.5*Math.random()+.05});ct.settings.starLayers.push(t),this.update.dispatchEvent(h.AddStarLayer)},this.removeStarLayer=t=>{ct.settings.starLayers.removeItem(t),this.update.dispatchEvent(h.RemoveStarLayer)},this.changeNumberOfStars=(t,e)=>{if(e>0){var i=e-t.stars.length;if(i>0)for(let e=0;e<i;e++){var s=t.stars.map(t=>t.r),n=Math.min(...s),a=Math.max(...s);t.stars.push({x:Math.random()*ct.settings.width,y:Math.random()*ct.settings.height,r:Math.random()*(a-n)+n})}else if(i<0)for(let e=0;e<-i;e++)t.stars.splice(Math.floor(Math.random()*t.stars.length),1);this.update.dispatchEvent(h.ChangeNumberOfStars)}},this.changeSpeed=(t,e)=>{t.speed=e,this.update.dispatchEvent(h.ChangeSpeed)},this.changeSizes=(t,e,i)=>{var s=t.stars.map(t=>t.r),n=Math.min(...s),a=Math.max(...s)-n;a<=0&&(a=1e-4);for(const s of t.stars)s.r=(s.r-n)/a*(i-e)+e;this.update.dispatchEvent(h.ChangeSpeed)}}};i(6);document.addEventListener("DOMContentLoaded",function(){(new ct).run()},!1),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("service-worker.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9kZW1vL1RyYWlsZXJfZmFpbnRDb2xvci5tcDMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9kZW1vL1RyYWlsZXJfRGVlcEZpZWxkLm1wMyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL2RlbW8vVHJhaWxlcl9EcmlmdGluZ0ludG9UaGVBdG1vc3BoZXJlLm1wMyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL2JhY2tncm91bmQucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvbG9nby1mcm9udC5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9sb2dvLW5vdmEucG5nIiwid2VicGFjazovLy8uL2VuYy9zcmMvZXh0ZW5zaW9ucy50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL2dlb21ldHJ5L3JlY3RhbmdsZS50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL3N0YWdlLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvYWxpZ25lbWVudC9ob3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvdmVydGljYWxBbGlnbmVtZW50T3B0aW9uLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXR0aW5ncy9zZXR0aW5nT3BlcmF0aW9uLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3L292ZXJsYXkvc2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9hbGlnbmVtZW50L29yaWVudGF0aW9uLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvY29udHJvbHMvaW1hZ2VTY2FsaW5nTW9kZS50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvc3BhY2luZy50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvYWxpZ25lbWVudC50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL21ldGhvZE1hbmlwdWxhdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL3VpbWF0aW9uL3VpbWF0aW9uLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvcmVuZGVyT2JqZWN0LnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGF5b3V0Vmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy9zdGFyUmVuZGVyT2JqZWN0LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3L3N0YXJMYXllckRyYXdlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy9vdmVybGF5L3NldHRpbmdzT3ZlcmxheVZpZXdNb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL2VFdmVudC50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2VDYW52YXMudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9jb250cm9scy9jb250cm9sLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvY29udHJvbHMvYnV0dG9uUHJvcGVydGllcy50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2J1dHRvbi50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xpc3RWaWV3UHJvcGVydGllcy50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xpc3RWaWV3LnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvY29udHJvbHMvc2xpZGVyLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvY29udHJvbHMvcmFuZ2VTbGlkZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXcvb3ZlcmxheS9zdGFyTGF5ZXJWaWV3LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3L292ZXJsYXkvc2V0dGluZ3NPdmVybGF5Vmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy9zdGFyTGF5ZXJBbmltYXRvci50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL2RpbmplY3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXcvcGxheWVyVmlldy50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2ltYWdlUHJvcGVydGllcy50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2ltYWdlLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3L2JhY2tncm91bmRJbWFnZVZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9jb250cm9scy9sYWJlbFByb3BlcnRpZXMudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9jb250cm9scy9sYWJlbC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy9mcm9udFZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXcvaW5zcGllcnR5UGxheWVyVmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL3N0YXJMYXllci50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL2VBbmltYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9jYW52YXNIZWxwZXIudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy9hdWRpby9hdWRpb0dyYXBoTm9kZS50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL2F1ZGlvL2F1ZGlvR3JhcGhOb2RlQW5hbHlzZXIudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy9hdWRpby9hdWRpb0dyYXBoTm9kZURlc3RpbmF0aW9uLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvYXVkaW8vYXVkaW9HcmFwaE5vZGVFbGVtZW50U291cmNlLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvYXVkaW8vYXVkaW9HcmFwaC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXVkaW9NYW5hZ2VyLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvYXNzZXRNYW5hZ2VyLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3L2xvYWRpbmdWaWV3LnRzIiwid2VicGFjazovLy8uL3NyYy9hcHAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9zZXR0aW5ncy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2V0dGluZ3Mvc2V0dGluZ3NNYW5hZ2VyLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkFycmF5IiwiZmlyc3RPckRlZmF1bHQiLCJmdW5jIiwiYXJyYXlJdGVtIiwidGhpcyIsImZpcnN0IiwiY29uc29sZSIsImxvZyIsImdldE5leHQiLCJjdXJyZW50Iiwic2VsZWN0b3IiLCJuZXh0UG9zaXRpb24iLCJuZXh0IiwieCIsInJlbW92ZUl0ZW0iLCJpdGVtIiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwiY29udGFpbnMiLCJyZW1vdmVJdGVtSWZFeGlzdHMiLCJhZGRJdGVtSWZOb3RFeGlzdHMiLCJwdXNoIiwicmVtb3ZlIiwidG9MaXN0IiwiZmlsdGVyIiwiUmVjdGFuZ2xlIiwiW29iamVjdCBPYmplY3RdIiwieSIsIndpZHRoIiwiaGVpZ2h0IiwiY29sbGlkZXNXaXRoIiwicmVjdGFuZ2xlIiwiaGl0eCIsImhpdHkiLCJpc0hpdEJ5Iiwic3RhZ2VfU3RhZ2UiLCJjYW52YXMiLCJpc1RvdWNoTW9kZSIsImNhbnZhc1Jlc2l6ZWQiLCJzaG91bGRVcGRhdGVMYXlvdXQiLCJ0b3VjaE1vZGUiLCJldiIsImRvY3VtZW50IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIm1vdXNlVXAiLCJtb3VzZU1vdmUiLCJtb3VzZURvd24iLCJhZGRFdmVudExpc3RlbmVyIiwibW91c2VNb2RlIiwidmlldyIsImNsaWVudFgiLCJkcHIiLCJjbGllbnRZIiwiYWx0S2V5IiwiY3RybEtleSIsInNoaWZ0S2V5IiwiY2xpY2siLCJyZW5kZXIiLCJjdHgiLCJ1cGRhdGVMYXlvdXQiLCJjbGVhclJlY3QiLCJzZXRWaWV3IiwiYWRkRHJhd0Z1bmN0aW9uIiwicmVzaXplZCIsIkhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uIiwiVmVydGljYWxBbGlnbmVtZW50T3B0aW9uIiwiU2V0dGluZ09wZXJhdGlvbiIsIlNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlIiwiT3JpZW50YXRpb24iLCJJbWFnZVNjYWxpbmdNb2RlIiwiU3BhY2luZyIsInRvcCIsInJpZ2h0IiwiYm90dG9tIiwibGVmdCIsImFsaWduZW1lbnRfQWxpZ25lbWVudCIsImhvcml6b250YWxBbGlnbiIsIkNlbnRlciIsInZlcnRpY2FsQWxpZ25tZW50UmF0aW8iLCJtYXJnaW4iLCJjYWxjdWxhdGVEaW1lbnNpb25zWCIsImJvdW5kcyIsIkxlZnQiLCJSaWdodCIsImNhbGN1bGF0ZURpbWVuc2lvbnNZIiwidmVydGljYWxBbGlnbiIsInYiLCJCb3R0b20iLCJUb3AiLCJNZXRob2RNYW5pcHVsYXRpb24iLCJleGVjdXRlciIsImluaXRpYWxNZXRob2QiLCJzZXRNZXRob2QiLCJtZXRob2RzIiwiYWRkIiwiYnVpbGRNZXRob2QiLCJuZXdNZXRob2QiLCJsZW5ndGgiLCJwb3AiLCJyZXNldCIsImNsZWFyIiwiVUltYXRpb24iLCJkdXJhdGlvblNlY29uZHMiLCJnZXRWYWx1ZSIsIkRhdGUiLCJub3ciLCJzdGFydFRpbWUiLCJlbmRlZCIsInJlbmRlck9iamVjdF9SZW5kZXJPYmplY3QiLCJnZW5lcmF0ZU5ld0lkIiwiaWRDb3VudGVyIiwiZGltZW5zaW9ucyIsImFsaWduZW1lbnQiLCJ0cmlnZ2VyVXBkYXRlTGF5b3V0IiwiaXNBY3RpdmUiLCJhY3RpdmF0ZSIsInJlbmRlck1ldGhvZE1hbmlwdWxhdGlvbiIsInVpbWF0aW9uIiwiY3VycmVudE1ldGhvZCIsInNhdmUiLCJnbG9iYWxBbHBoYSIsInJlc3RvcmUiLCJkZWFjdGl2YXRlZCIsImRlYWN0aXZhdGUiLCJkaXNhYmxlTW91c2VFdmVudHMiLCJpZCIsIl9yZW5kZXJNZXRob2RNYW5pcHVsYXRpb24iLCJsYXlvdXRWaWV3X0xheW91dFZpZXciLCJjaGlsZHJlbiIsInN1cGVyUmVuZGVyIiwiY2hpbGQiLCJzdGFyUmVuZGVyT2JqZWN0X1N0YXJSZW5kZXJPYmplY3QiLCJzdGFyIiwic3VwZXIiLCJlbmQiLCJncmFkIiwiY3JlYXRlUmFkaWFsR3JhZGllbnQiLCJhZGRDb2xvclN0b3AiLCJmaWxsU3R5bGUiLCJhcmMiLCJNYXRoIiwiUEkiLCJmaWxsIiwiYmVnaW5QYXRoIiwiRXJyb3IiLCJzdGFyTGF5ZXJEcmF3ZXJfU3RhckxheWVyRHJhd2VyIiwic3RhckxheWVyIiwic2V0dGluZ3NVcGRhdGVkIiwib3BlcmF0aW9uIiwiQ2hhbmdlTnVtYmVyT2ZTdGFycyIsInVwZGF0ZU51bWJlck9mU3RhcnMiLCJhcHBfQXBwIiwic2V0dGluZ01hbmFnZXIiLCJ1cGRhdGUiLCJzdGFycyIsInNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbF9TZXR0aW5nc092ZXJsYXlWaWV3TW9kZWwiLCJzdGF0ZSIsImhpZGRlbiIsIkVFdmVudCIsImxpc3RlbmVycyIsImxpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lcklmTm90RXhpc3RzIiwiZGlzcGF0Y2hFdmVudCIsImV2ZW50IiwicmVtb3ZlRXZlbnRMaXN0ZW5lcklmRXhpc3RzIiwiRUV2ZW50VCIsImFyZyIsIkVFdmVudFRUIiwiYXJnMSIsImFyZzIiLCJlQ2FudmFzX0VDYW52YXMiLCJkcmF3RnVuY3Rpb25zIiwiZHByU2NhbGluZ0VuYWJsZWQiLCJlbmFibGVEcHJTY2FsaW5nIiwicmVzaXplIiwiZGlzYWJsZURwclNjYWxpbmciLCJ3aW5kb3ciLCJkZXZpY2VQaXhlbFJhdGlvIiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJkcmF3Iiwic2NhbGUiLCJkcmF3RnVuY3Rpb24iLCJyZW1vdmVEcmF3RnVuY3Rpb24iLCJib2R5IiwicGFyZW50RWxlbWVudCIsInN0eWxlIiwib3ZlcmZsb3ciLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJlbkNhbnZhcyIsImdldENvbnRleHQiLCJjdXJzb3JMb2NrIiwiU2V0Q3Vyc29yIiwicG9pbnRlciIsImN1cnNvciIsImNvbnRyb2xfQ29udHJvbCIsImlzTW91c2VPdmVyIiwiaXNFbmFibGVkIiwiY2xpY2tlZCIsIkJ1dHRvblByb3BlcnRpZXMiLCJmb250U2l6ZSIsImZvbnRQcmVmaXgiLCJmb250RmFtaWx5IiwibW91c2VPdmVyRmlsbFN0eWxlIiwiYmFja2dyb3VuZEZpbGxTdHlsZSIsInVuZGVmaW5lZCIsImdldEZvbnQiLCJmb250IiwiYnV0dG9uX0J1dHRvbiIsInByb3BlcnRpZXMiLCJmaWxsUmVjdCIsInRleHRBbGlnbiIsInRleHRCYXNlbGluZSIsImZpbGxUZXh0IiwidGV4dCIsInNpemUiLCJtZWFzdXJlVGV4dCIsImxpc3RWaWV3UHJvcGVydGllc19MaXN0Vmlld1Byb3BlcnRpZXMiLCJpdGVtU3BhY2luZyIsIm9yaWVudGF0aW9uIiwiVmVydGljYWwiLCJsaXN0Vmlld19MaXN0VmlldyIsImFkZEl0ZW0iLCJsYXlvdXRWaWV3IiwibWF4Iiwic2xpZGVyX1NsaWRlciIsInJhZGl1cyIsIm1pblZhbHVlIiwibWF4VmFsdWUiLCJjdXJyZW50VmFsdWUiLCJ2YWx1ZUNoYW5nZWQiLCJzdHJva2VTdHlsZSIsImxpbmVXaWR0aCIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZSIsInJlbFZhbHVlIiwiY2xvc2VQYXRoIiwiaXNEcmFnZ2luZyIsInVwZGF0ZUN1cnJlbnRWYWx1ZSIsInZhbCIsInJhbmdlU2xpZGVyX1JhbmdlU2xpZGVyIiwiY3VycmVudFZhbHVlTG93IiwiY3VycmVudFZhbHVlSGlnaCIsIm1pbkRpZmYiLCJ2YWx1ZXNDaGFuZ2VkIiwic2xpZGVyWSIsInJlbFZhbHVlTG93IiwibG93WCIsInJlbFZhbHVlSGlnaCIsImhpZ2hYIiwiZ2V0Q2xpY2tlZFZhbHVlIiwiZGlmZlRvTG93IiwiYWJzIiwiZGlmZlRvSGlnaCIsImlzRHJhZ2dpbmdMb3ciLCJpc0RyYWdnaW5nSGlnaCIsInVwZGF0ZUN1cnJlbnRWYWx1ZXMiLCJzdGFyTGF5ZXJWaWV3X1N0YXJMYXllclZpZXciLCJudW1iZXJPZlN0YXJzQ2hhbmdlZCIsIm51bWJlck9mU3RhcnMiLCJjaGFuZ2VOdW1iZXJPZlN0YXJzIiwicm91bmQiLCJzcGVlZENoYW5nZWQiLCJzcGVlZCIsImNoYW5nZVNwZWVkIiwic2l6ZXNDaGFuZ2VkIiwibG93Qm9yZGVyIiwiaGlnaEJvcmRlciIsImNoYW5nZVNpemVzIiwic2V0dGluZ3NMaXN0IiwiYnRuRm9yTGF5ZXIiLCJzZW5kZXIiLCJyZW1vdmVTdGFyTGF5ZXIiLCJzbGlkZXIiLCJzbGlkZXJTcGVlZCIsInNsaWRlclNpemUiLCJzaXplcyIsIm1hcCIsIm1pbiIsInNldHRpbmdzT3ZlcmxheVZpZXdfU2V0dGluZ3NPdmVybGF5VmlldyIsInZpZXdNb2RlbCIsImxhc3RNb3ZlZCIsImluYWN0aXZpdHlUaW1lb3V0IiwibGF5ZXJCdXR0b25zIiwic2V0dGluZ3NJY29uVGV4dCIsIkFkZFN0YXJMYXllciIsInNldHRpbmdzIiwic3RhckxheWVycyIsInRhZyIsImFkZExheWVyQnRuIiwidG9nZ2xlU2hvd0hpZGVTdGFyTGF5ZXJWaWV3IiwiUmVtb3ZlU3RhckxheWVyIiwic2V0dGluZ3NMYXllciIsImRldGFpbGVkU3RhckxheWVyVmlldyIsInNob3dIaWRlT3ZlcmxheUNsaWNrZWQiLCJ2aXNpYmxlIiwic2V0U3RhdGUiLCJiZWZvcmVWaXNpYmxlIiwibW91c2VJbmFjdGl2aXR5SGFuZGxlciIsInNldFRpbWVvdXQiLCJzaG93T3ZlckxheWVyQnV0dG9uIiwiYnRuRm9yTmV3TGF5ZXIiLCJhZGRTdGFyTGF5ZXIiLCJzcGFjZSIsInN0YXJMYXllckFuaW1hdG9yX1N0YXJMYXllckFuaW1hdG9yIiwidGltZURpZmYiLCJEaW5qZWN0IiwiaW5zdGFuY2VzIiwiYWRkSW5zdGFuY2UiLCJpbnN0YW5jZSIsImdldEluc3RhbmNlIiwicGxheWVyVmlld19QbGF5ZXJWaWV3IiwicGxheUljb25UZXh0IiwicGF1c2VJY29uVGV4dCIsInN0b3BJY29uVGV4dCIsIm5leHRJY29uVGV4dCIsInByZXZpb3VzSWNvblRleHQiLCJhdWRpb01hbmFnZXIiLCJsaXN0VmlldyIsIkhvcml6b250YWwiLCJwbGF5UGF1c2VCdG4iLCJwbGF5IiwicGF1c2UiLCJzdG9wQnRuIiwic3RvcCIsInByZXZpb3VzQnRuIiwicHJldmlvdXMiLCJuZXh0QnRuIiwiaW1hZ2VQcm9wZXJ0aWVzX0ltYWdlUHJvcGVydGllcyIsImltYWdlU2NhbGluZ01vZGUiLCJGaXRBbmRTcGFjZSIsImltYWdlX0VJbWFnZSIsImltYWdlIiwiZHJhd0ltYWdlIiwiZml0U2NhbGUiLCJpc0ltYWdlV2lkZXIiLCJuYXR1cmFsV2lkdGgiLCJuYXR1cmFsSGVpZ2h0IiwiRml0QW5kT3ZlcmZpbGwiLCJjcmVhdGVGcm9tVXJsIiwiaW1hZ2VVcmwiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIkltYWdlIiwic3JjIiwib25sb2FkIiwiYmFja2dyb3VuZEltYWdlVmlld19CYWNrZ3JvdW5kSW1hZ2VWaWV3IiwiYmFja2dyb3VuZCIsImdldEltYWdlIiwiTGFiZWxQcm9wZXJ0aWVzIiwibGFiZWxfTGFiZWwiLCJmcm9udFZpZXdfRnJvbnRWaWV3IiwiZnJlcXVlbmN5SW5kZXgiLCJsb3dlckJvcmRlciIsInVwcGVyQm9yZGVyIiwiYXNzZXRNYW5hZ2VyIiwiYW5hbHlzZXIiLCJnZXRBbmFseXNlciIsImxvZ28iLCJsb2dvTm92YSIsImxvZ29Ob3ZhRUltYWdlIiwiZGF0YSIsImdldFNwZWN0cnVtIiwicmVsRGF0YVZhbHVlIiwiY2FsY3VsYXRlUmVsRGF0YVZhbHVlIiwibG9nb0Zyb250Iiwic29uZ05hbWUiLCJkYXRhVmFsdWUiLCJpbnNwaWVydHlQbGF5ZXJWaWV3X0luc3BpZXJ0eVBsYXllclZpZXciLCJzdGFyQW5pbWF0b3JzIiwib25Mb3dQZXJmb3JtYW5jZSIsImFwcFNldHRpbmdzVXBkYXRlZCIsImxheWVyIiwiYW5pbWF0b3IiLCJhbmltYXRpb24iLCJhZGRVcGRhdGVGdW5jdGlvbiIsInN0YXJMYXllckRyYXdzIiwicmVtb3ZlVXBkYXRlRnVuY3Rpb24iLCJsb3dQZXJmb3JtYW5jZSIsInRlc3RpdCIsInBsYXllclZpZXciLCJmcm9udCIsInNldHRpbmdzT3ZlcmxheSIsIlN0YXJMYXllciIsInJhbmRvbSIsImVBbmltYXRpb25fRUFuaW1hdGlvbiIsInVwZGF0ZUZ1bmN0aW9ucyIsImlzUnVubmluZyIsInBlcmZvcm1hbmNlV2FybmluZ1RocmVzaG9sZCIsInBlcmZvcm1hbmNlV2FybmluZ0RlbGF5UnVucyIsImN1cnJlbnRQZXJmb3JtYW5jZVdhcm5pbmdEZWxheVJ1biIsInNldEZwcyIsImZwcyIsImZwc0ludGVydmFsIiwiYW5pbWF0aW9uTG9vcCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImVsYXBzZWQiLCJsYXN0RnJhbWVUaW1lIiwidXBkYXRlRnVuY3Rpb24iLCJrZXlDb2RlIiwicGxheVBhdXNlIiwiQ2FudmFzSGVscGVyIiwibG9hZEZvbnRhd2Vzb21lRnJlZSIsImxvYWRGb250IiwibG9hZEZvbnRhd2Vzb21lQnJhbmRzIiwiY291bnRQaXhlbHMiLCJpbWFnZURhdGEiLCJwaXhlbENvdW50IiwiZyIsImIiLCJhIiwiZ2V0SWNvblBpeGVscyIsImljb24iLCJnZXRJbWFnZURhdGEiLCJpY29uMSIsImljb24yIiwicmV0cmllcyIsInRlbXBDYW52YXMiLCJ0ZW1wQ3R4IiwiY2hlY2tMb2FkZWQiLCJpY29uMVBpeGVsQ291bnQiLCJpY29uMlBpeGVsQ291bnQiLCJBdWRpb0dyYXBoTm9kZSIsImF1ZGlvQ3R4IiwiYXVkaW9HcmFwaE5vZGVBbmFseXNlcl9BdWRpb0dyYXBoTm9kZUFuYWx5c2VyIiwiZ2V0QXVkaW9Ob2RlIiwiYW5hbHlzZXJOb2RlIiwiY3JlYXRlQW5hbHlzZXIiLCJmZnRTaXplIiwic21vb3RoaW5nVGltZUNvbnN0YW50IiwiYnVmZmVyTGVuZ3RoIiwiZnJlcXVlbmN5QmluQ291bnQiLCJkYXRhQXJyYXkiLCJVaW50OEFycmF5IiwiZ2V0Qnl0ZUZyZXF1ZW5jeURhdGEiLCJnZXRCeXRlVGltZURvbWFpbkRhdGEiLCJhdWRpb0dyYXBoTm9kZURlc3RpbmF0aW9uX0F1ZGlvR3JhcGhOb2RlRGVzdGluYXRpb24iLCJkZXN0aW5hdGlvbiIsImF1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZV9BdWRpb0dyYXBoTm9kZUVsZW1lbnRTb3VyY2UiLCJ1cmwiLCJhdWRpb0VuZGVkIiwiYXVkaW9FbmRlZEV2ZW50Iiwic291cmNlIiwiYXVkaW8iLCJjdXJyZW50VGltZSIsInNldFVybCIsInBhdXNlZCIsImxvYWQiLCJjb250cm9scyIsImNyZWF0ZU1lZGlhRWxlbWVudFNvdXJjZSIsImF1ZGlvR3JhcGhfQXVkaW9HcmFwaCIsImF1ZGlvTm9kZXMiLCJhZGRNZWRpYUVsZW1lbnRTb3VyY2UiLCJzb3VyY2VOb2RlIiwiYWRkQW5hbHl6ZXIiLCJhbmFseXplck5vZGUiLCJnZXRBdWRpb0dyYXBoTm9kZSIsImF1ZGlvQ29udGV4dFN0YXRlQ2hhbmdlZCIsImRvY3VtZW50Q2xpY2siLCJyZXN1bWUiLCJhdWRpb0NvbnRleHRTdGF0ZUNoYW5nZWRFdmFsdWF0b3IiLCJyZWxvYWQiLCJ0aGVuIiwiYWxsIiwiYXVkaW9Ob2RlIiwiZGlzY29ubmVjdCIsImNvbm5lY3QiLCJkZXN0aW5hdGlvbk5vZGUiLCJBdWRpb0NvbnRleHQiLCJ3ZWJraXRBdWRpb0NvbnRleHQiLCJlcnJvciIsImF1ZGlvTWFuYWdlcl9BdWRpb01hbmFnZXIiLCJzb25ncyIsIlRyYWlsZXJfZmFpbnRDb2xvcl9kZWZhdWx0IiwiVHJhaWxlcl9EZWVwRmllbGRfZGVmYXVsdCIsIlRyYWlsZXJfRHJpZnRpbmdJbnRvVGhlQXRtb3NwaGVyZV9kZWZhdWx0IiwiYXVkaW9HcmFwaCIsIm5leHRTb25nSW5kZXgiLCJwcmV2aW91c1NvbmdJbmRleCIsImVuZGVkTmV4dCIsIkFzc2V0TWFuYWdlciIsImltYWdlQXNzZXRzIiwiYWRkSW1hZ2UiLCJpbWFnZUFzc2V0IiwibG9hZGluZ1ZpZXdfTG9hZGluZ1ZpZXciLCJsb2FkaW5nTGFiZWwiLCJydW4iLCJiYWNrZ3JvdW5kQ29sb3IiLCJjcmVhdGVGdWxsU2NyZWVuIiwic3RhZ2UiLCJpbnNwaWVydHlQbGF5ZXJWaWV3IiwibG9hZGluZ1ZpZXciLCJiYWNrZ3JvdW5kX2RlZmF1bHQiLCJsb2dvX2Zyb250X2RlZmF1bHQiLCJsb2dvX25vdmFfZGVmYXVsdCIsImNhdGNoIiwiYWxlcnQiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJkaWZmIiwiZmxvb3IiLCJDaGFuZ2VTcGVlZCIsIm1pbkZpeCIsIm5hdmlnYXRvciIsInNlcnZpY2VXb3JrZXIiLCJyZWdpc3RlciIsInJlZ2lzdHJhdGlvbiIsInJlZ2lzdHJhdGlvbkVycm9yIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFFBQUEsSUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMs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Y2hHLEVBQWlCc2IscUJDbkVuRDljLFNBQVNLLGlCQUFpQixtQkFFMUIsWUFDYyxJQUFJd0csSUFDVmtWLFFBSjRDLEdBT2hELGtCQUFtQmlCLFdBQ25CMVUsT0FBT2pJLGlCQUFpQixPQUFRLEtBQzVCMmMsVUFBVUMsY0FBY0MsU0FBUyxxQkFDNUIzQyxLQUFLNEMsSUFDRnhmLFFBQVFDLElBQUksa0JBQW1CdWYsS0FDaENYLE1BQU1ZLElBQ0x6ZixRQUFRQyxJQUFJLDJCQUE0QndmIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNyk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI0NTQ4NjE2NzUwYjQ5NTk5ZTI5YWQzMWYyNzA1MmZjNy5tcDNcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI0MmUxYzkxNTczZTAzMjdjZDNmMTdmMjUxZThhZjJhNi5tcDNcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJmMWNlZWE1ZDU1NTk0N2M4MDI4MWYzNjhiZmFmOGZhOC5tcDNcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJiNTU5OWY4N2RkYTU1YzJjYTA0ZWIyNTVhOTc4OGZhNS5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJkZWM0YmJkMjQ2ODM4MjA0NDYwY2VlNzY1ZTg1MjQ2NS5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJiNzgyMjRkMjU0OWJlNmNjZjY0ZGM2MmYzOTczMDg0ZS5wbmdcIjsiLCJpbnRlcmZhY2UgQXJyYXk8VD4ge1xyXG4gICAgcmVtb3ZlSXRlbUlmRXhpc3RzKGl0ZW06IFQpOiB2b2lkO1xyXG4gICAgY29udGFpbnMoaXRlbTogVCk6IGJvb2xlYW47XHJcbiAgICByZW1vdmVJdGVtKGl0ZW06IFQpOiB2b2lkO1xyXG4gICAgcmVtb3ZlKHNlbGVjdG9yOiAoaXRlbTogVCkgPT4gYm9vbGVhbik6IHZvaWQ7XHJcbiAgICBhZGRJdGVtSWZOb3RFeGlzdHMoaXRlbTogVCk6IHZvaWQ7XHJcbiAgICB0b0xpc3QoKTogVFtdO1xyXG4gICAgZ2V0TmV4dChjdXJyZW50OiBULCBzZWxlY3RvcjogKGl0ZW06IFQpID0+IG51bWJlcik6IFQ7XHJcbiAgICBmaXJzdChzZWxlY3RvcjogKGl0ZW06IFQpID0+IGJvb2xlYW4pOiBUO1xyXG4gICAgZmlyc3RPckRlZmF1bHQoc2VsZWN0b3I6IChpdGVtOiBUKSA9PiBib29sZWFuKTogVDtcclxufVxyXG5cclxuQXJyYXkucHJvdG90eXBlLmZpcnN0T3JEZWZhdWx0ID0gZnVuY3Rpb24gKGZ1bmMpIHtcclxuICAgIGZvciAoY29uc3QgYXJyYXlJdGVtIG9mIHRoaXMpIHtcclxuICAgICAgICBpZiAoZnVuYyhhcnJheUl0ZW0pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhcnJheUl0ZW07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cclxuXHJcbkFycmF5LnByb3RvdHlwZS5maXJzdCA9IGZ1bmN0aW9uIChmdW5jKSB7XHJcbiAgICBmb3IgKGNvbnN0IGFycmF5SXRlbSBvZiB0aGlzKSB7XHJcbiAgICAgICAgaWYgKGZ1bmMoYXJyYXlJdGVtKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYXJyYXlJdGVtO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnNvbGUubG9nKFwiaXRlbSBub3QgZm91bmRcIik7XHJcbiAgICBjb25zb2xlLmxvZyh0aGlzKTtcclxuICAgIHRocm93IFwiaXRlbSBub3QgZm91bmRcIjtcclxufVxyXG5cclxuQXJyYXkucHJvdG90eXBlLmdldE5leHQgPSBmdW5jdGlvbiA8VD4oY3VycmVudDogVCwgc2VsZWN0b3I6IChpdGVtOiBUKSA9PiBudW1iZXIpOiBUIHtcclxuICAgIHZhciBuZXh0UG9zaXRpb24gPSBzZWxlY3RvcihjdXJyZW50KSArIDE7XHJcbiAgICB2YXIgbmV4dCA9ICh0aGlzIGFzIFRbXSkuZmlyc3RPckRlZmF1bHQoKHgpID0+IHNlbGVjdG9yKHgpID09IG5leHRQb3NpdGlvbik7XHJcbiAgICBpZiAoIW5leHQpIHtcclxuICAgICAgICBuZXh0ID0gKHRoaXMgYXMgVFtdKS5maXJzdCh4ID0+IHNlbGVjdG9yKHgpID09IDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXh0O1xyXG59XHJcblxyXG5BcnJheS5wcm90b3R5cGUucmVtb3ZlSXRlbSA9IGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4T2YoaXRlbSk7XHJcbiAgICBpZiAoaW5kZXggIT0gLTEpIHtcclxuICAgICAgICB0aGlzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRocm93IFwiaXRlbSBub3QgZm91bmRcIjtcclxuICAgIH1cclxufVxyXG5cclxuQXJyYXkucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gPFQ+KGl0ZW06IFQpIHtcclxuICAgIHJldHVybiB0aGlzLmluZGV4T2YoaXRlbSkgIT09IC0xO1xyXG59XHJcblxyXG5BcnJheS5wcm90b3R5cGUucmVtb3ZlSXRlbUlmRXhpc3RzID0gZnVuY3Rpb24gPFQ+KGl0ZW06IFQpIHtcclxuICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXhPZihpdGVtKTtcclxuICAgIGlmIChpbmRleCAhPSAtMSkge1xyXG4gICAgICAgIHRoaXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgIH1cclxufVxyXG5cclxuQXJyYXkucHJvdG90eXBlLmFkZEl0ZW1JZk5vdEV4aXN0cyA9IGZ1bmN0aW9uIDxUPihpdGVtOiBUKSB7XHJcbiAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4T2YoaXRlbSk7XHJcbiAgICBpZiAoaW5kZXggPT0gLTEpIHtcclxuICAgICAgICAodGhpcyBhcyBUW10pLnB1c2goaXRlbSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbkFycmF5LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiA8VD4oc2VsZWN0b3I6IChpdGVtOiBUKSA9PiBib29sZWFuKSB7XHJcbiAgICAodGhpcyBhcyBUW10pLnJlbW92ZUl0ZW0oKHRoaXMgYXMgVFtdKS5maXJzdChzZWxlY3RvcikpO1xyXG59XHJcblxyXG5BcnJheS5wcm90b3R5cGUudG9MaXN0ID0gZnVuY3Rpb24gPFQ+KCk6IFRbXSB7XHJcbiAgICByZXR1cm4gKHRoaXMgYXMgVFtdKS5maWx0ZXIoeCA9PiB0cnVlKTtcclxufVxyXG4iLCJleHBvcnQgY2xhc3MgUmVjdGFuZ2xlIHtcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyB4OiBudW1iZXIsIHB1YmxpYyB5OiBudW1iZXIsIHB1YmxpYyB3aWR0aDogbnVtYmVyLCBwdWJsaWMgaGVpZ2h0OiBudW1iZXIpIHsgfVxyXG5cclxuICAgIHB1YmxpYyBjb2xsaWRlc1dpdGggPSAocmVjdGFuZ2xlOiBSZWN0YW5nbGUpID0+IHtcclxuICAgICAgICB2YXIgaGl0eCA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBoaXR5ID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHRoaXMueCA8PSByZWN0YW5nbGUueCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy54IDw9IHJlY3RhbmdsZS54ICYmIHRoaXMueCArIHRoaXMud2lkdGggPiByZWN0YW5nbGUueCkge1xyXG4gICAgICAgICAgICAgICAgaGl0eCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAocmVjdGFuZ2xlLnggPD0gdGhpcy54ICYmIHJlY3RhbmdsZS54ICsgcmVjdGFuZ2xlLndpZHRoID4gdGhpcy54KSB7XHJcbiAgICAgICAgICAgICAgICBoaXR4ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGhpdHgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMueSA8PSByZWN0YW5nbGUueSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMueSA8PSByZWN0YW5nbGUueSAmJiB0aGlzLnkgKyB0aGlzLndpZHRoID4gcmVjdGFuZ2xlLnkpIHtcclxuICAgICAgICAgICAgICAgICAgICBoaXR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZWN0YW5nbGUueSA8PSB0aGlzLnkgJiYgcmVjdGFuZ2xlLnkgKyByZWN0YW5nbGUud2lkdGggPiB0aGlzLnkpIHtcclxuICAgICAgICAgICAgICAgICAgICBoaXR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGhpdHggJiYgaGl0eTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNIaXRCeSA9ICh4OiBudW1iZXIsIHk6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIHJldHVybiB4ID4gdGhpcy54ICYmIHggPCB0aGlzLnggKyB0aGlzLndpZHRoXHJcbiAgICAgICAgICAgICYmIHkgPiB0aGlzLnkgJiYgeSA8IHRoaXMueSArIHRoaXMuaGVpZ2h0O1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgRUNhbnZhcyB9IGZyb20gXCIuL2VDYW52YXNcIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBMYXlvdXRWaWV3IH0gZnJvbSBcIi4vbGF5b3V0Q29udHJvbHMvbGF5b3V0Vmlld1wiO1xyXG5pbXBvcnQgeyBFQW5pbWF0aW9uIH0gZnJvbSBcIi4uL2VBbmltYXRpb25cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTdGFnZSB7XHJcbiAgICBwcml2YXRlIHZpZXc6IExheW91dFZpZXc7XHJcbiAgICBwcml2YXRlIHNob3VsZFVwZGF0ZUxheW91dDogYm9vbGVhbjtcclxuICAgIHByaXZhdGUgaXNUb3VjaE1vZGUgPSBmYWxzZTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNhbnZhczogRUNhbnZhcykge1xyXG4gICAgICAgIGNhbnZhcy5hZGREcmF3RnVuY3Rpb24odGhpcy5yZW5kZXIpO1xyXG4gICAgICAgIGNhbnZhcy5yZXNpemVkLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5jYW52YXNSZXNpemVkKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5jbGljayk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgdGhpcy50b3VjaE1vZGUpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5tb3VzZURvd24pO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHRoaXMubW91c2VVcCk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm1vdXNlTW92ZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjYW52YXNSZXNpemVkID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2hvdWxkVXBkYXRlTGF5b3V0ID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHRvdWNoTW9kZSA9IChldjogVG91Y2hFdmVudCkgPT4ge1xyXG4gICAgICAgIGlmICghdGhpcy5pc1RvdWNoTW9kZSkge1xyXG4gICAgICAgICAgICB0aGlzLmlzVG91Y2hNb2RlID0gdHJ1ZTtcclxuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5tb3VzZVVwKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm1vdXNlTW92ZSk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5tb3VzZURvd24pO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMubW91c2VNb2RlKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgdGhpcy50b3VjaE1vZGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgcHJpdmF0ZSBtb3VzZU1vZGUgPSAoZXY6IFRvdWNoRXZlbnQpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5pc1RvdWNoTW9kZSkge1xyXG4gICAgICAgICAgICB0aGlzLmlzVG91Y2hNb2RlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHRoaXMubW91c2VVcCk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5tb3VzZU1vdmUpO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMubW91c2VEb3duKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgdGhpcy50b3VjaE1vZGUpO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMubW91c2VNb2RlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBtb3VzZURvd24gPSAoZXY6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICBpZiAodGhpcy52aWV3KSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiaGlcIik7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnZpZXcubW91c2VEb3duKHtcclxuICAgICAgICAgICAgICAgIGNsaWVudFg6IGV2LmNsaWVudFggLyB0aGlzLmNhbnZhcy5kcHIsXHJcbiAgICAgICAgICAgICAgICBjbGllbnRZOiBldi5jbGllbnRZIC8gdGhpcy5jYW52YXMuZHByLFxyXG4gICAgICAgICAgICAgICAgYWx0S2V5OiBldi5hbHRLZXksXHJcbiAgICAgICAgICAgICAgICBjdHJsS2V5OiBldi5jdHJsS2V5LFxyXG4gICAgICAgICAgICAgICAgc2hpZnRLZXk6IGV2LnNoaWZ0S2V5XHJcbiAgICAgICAgICAgIH0gYXMgTW91c2VFdmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbW91c2VVcCA9IChldjogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnZpZXcpIHtcclxuICAgICAgICAgICAgdGhpcy52aWV3Lm1vdXNlVXAoe1xyXG4gICAgICAgICAgICAgICAgY2xpZW50WDogZXYuY2xpZW50WCAvIHRoaXMuY2FudmFzLmRwcixcclxuICAgICAgICAgICAgICAgIGNsaWVudFk6IGV2LmNsaWVudFkgLyB0aGlzLmNhbnZhcy5kcHIsXHJcbiAgICAgICAgICAgICAgICBhbHRLZXk6IGV2LmFsdEtleSxcclxuICAgICAgICAgICAgICAgIGN0cmxLZXk6IGV2LmN0cmxLZXksXHJcbiAgICAgICAgICAgICAgICBzaGlmdEtleTogZXYuc2hpZnRLZXlcclxuICAgICAgICAgICAgfSBhcyBNb3VzZUV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBtb3VzZU1vdmUgPSAoZXY6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICBpZiAodGhpcy52aWV3KSB7XHJcbiAgICAgICAgICAgIHRoaXMudmlldy5tb3VzZU1vdmUoe1xyXG4gICAgICAgICAgICAgICAgY2xpZW50WDogZXYuY2xpZW50WCAvIHRoaXMuY2FudmFzLmRwcixcclxuICAgICAgICAgICAgICAgIGNsaWVudFk6IGV2LmNsaWVudFkgLyB0aGlzLmNhbnZhcy5kcHIsXHJcbiAgICAgICAgICAgICAgICBhbHRLZXk6IGV2LmFsdEtleSxcclxuICAgICAgICAgICAgICAgIGN0cmxLZXk6IGV2LmN0cmxLZXksXHJcbiAgICAgICAgICAgICAgICBzaGlmdEtleTogZXYuc2hpZnRLZXlcclxuICAgICAgICAgICAgfSBhcyBNb3VzZUV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjbGljayA9IChldjogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnZpZXcpIHtcclxuICAgICAgICAgICAgdGhpcy52aWV3LmNsaWNrKHtcclxuICAgICAgICAgICAgICAgIGNsaWVudFg6IGV2LmNsaWVudFggLyB0aGlzLmNhbnZhcy5kcHIsXHJcbiAgICAgICAgICAgICAgICBjbGllbnRZOiBldi5jbGllbnRZIC8gdGhpcy5jYW52YXMuZHByLFxyXG4gICAgICAgICAgICAgICAgYWx0S2V5OiBldi5hbHRLZXksXHJcbiAgICAgICAgICAgICAgICBjdHJsS2V5OiBldi5jdHJsS2V5LFxyXG4gICAgICAgICAgICAgICAgc2hpZnRLZXk6IGV2LnNoaWZ0S2V5XHJcbiAgICAgICAgICAgIH0gYXMgTW91c2VFdmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVuZGVyID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB3aWR0aD86IG51bWJlciwgaGVpZ2h0PzogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMudmlldykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zaG91bGRVcGRhdGVMYXlvdXQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudmlldy51cGRhdGVMYXlvdXQoY3R4LCBuZXcgUmVjdGFuZ2xlKDAsIDAsIHdpZHRoLCBoZWlnaHQpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvdWxkVXBkYXRlTGF5b3V0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICAgICAgdGhpcy52aWV3LnJlbmRlcihjdHgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0VmlldyA9ICh2aWV3OiBMYXlvdXRWaWV3KSA9PiB7XHJcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcclxuICAgICAgICB0aGlzLnNob3VsZFVwZGF0ZUxheW91dCA9IHRydWU7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZW51bSBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbiB7XHJcbiAgICBMZWZ0LFxyXG4gICAgQ2VudGVyLFxyXG4gICAgUmlnaHQsXHJcbn0iLCJleHBvcnQgZW51bSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24ge1xyXG4gICAgVG9wLFxyXG4gICAgQ2VudGVyLFxyXG4gICAgQm90dG9tLFxyXG59IiwiZXhwb3J0IGVudW0gU2V0dGluZ09wZXJhdGlvbiB7XHJcbiAgICBBZGRTdGFyTGF5ZXIsXHJcbiAgICBSZW1vdmVTdGFyTGF5ZXIsXHJcbiAgICBDaGFuZ2VOdW1iZXJPZlN0YXJzLFxyXG4gICAgQ2hhbmdlU3BlZWQsXHJcbiAgICBDaGFuZ2VTaXplc1xyXG59IiwiZXhwb3J0IGVudW0gU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUge1xyXG4gICAgaGlkZGVuLFxyXG4gICAgYmVmb3JlVmlzaWJsZSxcclxuICAgIHZpc2libGVcclxufSIsImV4cG9ydCBlbnVtIE9yaWVudGF0aW9uIHtcclxuICAgIEhvcml6b250YWwsXHJcbiAgICBWZXJ0aWNhbFxyXG59IiwiZXhwb3J0IGVudW0gSW1hZ2VTY2FsaW5nTW9kZXtcclxuICAgIEZpdEFuZE92ZXJmaWxsLFxyXG4gICAgRml0QW5kU3BhY2VcclxufSIsImV4cG9ydCBjbGFzcyBTcGFjaW5nIHtcclxuICAgIHB1YmxpYyB0b3A6IG51bWJlciA9IDA7XHJcbiAgICBwdWJsaWMgcmlnaHQ6IG51bWJlciA9IDA7XHJcbiAgICBwdWJsaWMgYm90dG9tOiBudW1iZXIgPSAwO1xyXG4gICAgcHVibGljIGxlZnQ6IG51bWJlciA9IDA7XHJcbn0iLCJpbXBvcnQgeyBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbiB9IGZyb20gXCIuL2hvcml6b250YWxBbGlnbmVtZW50T3B0aW9uXCI7XHJcbmltcG9ydCB7IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbiB9IGZyb20gXCIuL3ZlcnRpY2FsQWxpZ25lbWVudE9wdGlvblwiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IFNwYWNpbmcgfSBmcm9tIFwiLi9zcGFjaW5nXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQWxpZ25lbWVudCB7XHJcbiAgICBwdWJsaWMgaG9yaXpvbnRhbEFsaWduID0gSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24uQ2VudGVyO1xyXG5cclxuICAgIHB1YmxpYyBzZXQgdmVydGljYWxBbGlnbih2OiBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24pIHtcclxuICAgICAgICBzd2l0Y2ggKHYpIHtcclxuICAgICAgICAgICAgY2FzZSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24uQm90dG9tOlxyXG4gICAgICAgICAgICAgICAgdGhpcy52ZXJ0aWNhbEFsaWdubWVudFJhdGlvID0gMTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi5DZW50ZXI6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRpY2FsQWxpZ25tZW50UmF0aW8gPSAwLjU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24uVG9wOlxyXG4gICAgICAgICAgICAgICAgdGhpcy52ZXJ0aWNhbEFsaWdubWVudFJhdGlvID0gMDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdmVydGljYWxBbGlnbm1lbnRSYXRpbyA9IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi5DZW50ZXI7XHJcblxyXG4gICAgcHVibGljIG1hcmdpbiA9IG5ldyBTcGFjaW5nKCk7XHJcbiAgICAvLyBwdWJsaWMgcGFkZGluZyA9IG5ldyBTcGFjaW5nKCk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy52ZXJ0aWNhbEFsaWduID0gVmVydGljYWxBbGlnbmVtZW50T3B0aW9uLkNlbnRlcjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2FsY3VsYXRlRGltZW5zaW9uc1ggPSAoYm91bmRzOiBSZWN0YW5nbGUsIHdpZHRoOiBudW1iZXIpID0+IHtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuaG9yaXpvbnRhbEFsaWduKSB7XHJcbiAgICAgICAgICAgIGNhc2UgSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24uTGVmdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBib3VuZHMueCArIHRoaXMubWFyZ2luLmxlZnQ7XHJcbiAgICAgICAgICAgIGNhc2UgSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24uQ2VudGVyOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJvdW5kcy54ICsgYm91bmRzLndpZHRoIC8gMiAtIHdpZHRoIC8gMjtcclxuICAgICAgICAgICAgY2FzZSBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbi5SaWdodDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBib3VuZHMueCArIGJvdW5kcy53aWR0aCAtIHdpZHRoIC0gdGhpcy5tYXJnaW4ucmlnaHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjYWxjdWxhdGVEaW1lbnNpb25zWSA9IChib3VuZHM6IFJlY3RhbmdsZSwgaGVpZ2h0OiBudW1iZXIpID0+IHtcclxuICAgICAgICByZXR1cm4gYm91bmRzLnlcclxuICAgICAgICAgICAgKyBib3VuZHMuaGVpZ2h0ICogdGhpcy52ZXJ0aWNhbEFsaWdubWVudFJhdGlvXHJcbiAgICAgICAgICAgIC0gaGVpZ2h0ICogdGhpcy52ZXJ0aWNhbEFsaWdubWVudFJhdGlvXHJcbiAgICAgICAgICAgICsgKHRoaXMudmVydGljYWxBbGlnbm1lbnRSYXRpbyA+IDAuNSA/IC10aGlzLm1hcmdpbi5ib3R0b20gOiB0aGlzLm1hcmdpbi50b3ApO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIE1ldGhvZE1hbmlwdWxhdGlvbjxUIGV4dGVuZHMgKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnk+IHtcclxuICAgIHByaXZhdGUgbWV0aG9kczogVFtdID0gW107XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBleGVjdXRlcjogYW55LCBpbml0aWFsTWV0aG9kOiBULCBwcml2YXRlIHNldE1ldGhvZDogKG1ldGhvZDogVCkgPT4gdm9pZCkge1xyXG4gICAgICAgIGluaXRpYWxNZXRob2QuYmluZCh0aGlzLmV4ZWN1dGVyKTtcclxuICAgICAgICB0aGlzLm1ldGhvZHMucHVzaChpbml0aWFsTWV0aG9kKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkID0gKGJ1aWxkTWV0aG9kOiAoY3VycmVudE1ldGhvZDogVCkgPT4gVCkgPT4ge1xyXG4gICAgICAgIHZhciBvbGQgPSB0aGlzLm1ldGhvZHNbdGhpcy5tZXRob2RzLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgIHZhciBuZXdNZXRob2QgPSBidWlsZE1ldGhvZChvbGQpO1xyXG4gICAgICAgIHRoaXMubWV0aG9kcy5wdXNoKG5ld01ldGhvZCk7XHJcbiAgICAgICAgdGhpcy5zZXRNZXRob2QobmV3TWV0aG9kKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMubWV0aG9kcy5wb3AoKTtcclxuICAgICAgICB0aGlzLnNldE1ldGhvZCh0aGlzLm1ldGhvZHNbdGhpcy5tZXRob2RzLmxlbmd0aCAtIDFdKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVzZXQgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRNZXRob2QodGhpcy5tZXRob2RzW3RoaXMubWV0aG9kcy5sZW5ndGggLSAxXSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNsZWFyID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0TWV0aG9kKDxUPigoKSA9PiB7IH0pKTtcclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBVSW1hdGlvbiB7XHJcbiAgICBwcml2YXRlIHN0YXJ0VGltZTogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgZHVyYXRpb25TZWNvbmRzOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IERhdGUubm93KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFZhbHVlID0gKCkgPT4ge1xyXG4gICAgICAgIHZhciBjdXJyZW50ID0gRGF0ZS5ub3coKTtcclxuICAgICAgICB2YXIgZGlmZiA9IChjdXJyZW50IC0gdGhpcy5zdGFydFRpbWUpIC8gMTAwMDtcclxuICAgICAgICByZXR1cm4gZGlmZiAvIHRoaXMuZHVyYXRpb25TZWNvbmRzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBlbmRlZCA9ICgpID0+IHtcclxuICAgICAgICB2YXIgY3VycmVudCA9IERhdGUubm93KCk7XHJcbiAgICAgICAgdmFyIGRpZmYgPSAoY3VycmVudCAtIHRoaXMuc3RhcnRUaW1lKSAvIDEwMDA7XHJcbiAgICAgICAgcmV0dXJuIGRpZmYgPiB0aGlzLmR1cmF0aW9uU2Vjb25kcztcclxuICAgIH1cclxufSIsImltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgQWxpZ25lbWVudCB9IGZyb20gXCIuL2FsaWduZW1lbnQvYWxpZ25lbWVudFwiO1xyXG5pbXBvcnQgeyBNZXRob2RNYW5pcHVsYXRpb24gfSBmcm9tIFwiLi4vbWV0aG9kTWFuaXB1bGF0aW9uXCI7XHJcbmltcG9ydCB7IFVJbWF0aW9uIH0gZnJvbSBcIi4vdWltYXRpb24vdWltYXRpb25cIjtcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBSZW5kZXJPYmplY3Qge1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgaWRDb3VudGVyID0gMDtcclxuICAgIHByaXZhdGUgZ2VuZXJhdGVOZXdJZCA9ICgpID0+IHtcclxuICAgICAgICBSZW5kZXJPYmplY3QuaWRDb3VudGVyKys7XHJcbiAgICAgICAgcmV0dXJuIFJlbmRlck9iamVjdC5pZENvdW50ZXI7XHJcbiAgICB9XHJcbiAgICBzdGFydFRpbWU6IG51bWJlcjtcclxuICAgIGR1cmF0aW9uOiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5pZCA9IHRoaXMuZ2VuZXJhdGVOZXdJZCgpO1xyXG4gICAgICAgIHRoaXMubmFtZSA9IFwib2JqZWN0IFwiICsgdGhpcy5pZDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaWQ6IG51bWJlcjtcclxuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgdGFnOiBhbnk7XHJcblxyXG4gICAgcHVibGljIGJvdW5kczogUmVjdGFuZ2xlID0gbmV3IFJlY3RhbmdsZSgwLCAwLCAwLCAwKTtcclxuICAgIHB1YmxpYyBkaW1lbnNpb25zOiBSZWN0YW5nbGUgPSBuZXcgUmVjdGFuZ2xlKDAsIDAsIDAsIDApO1xyXG5cclxuICAgIHB1YmxpYyBhbGlnbmVtZW50ID0gbmV3IEFsaWduZW1lbnQoKTtcclxuXHJcbiAgICBwcml2YXRlIHNob3VsZFVwZGF0ZUxheW91dCA9IGZhbHNlO1xyXG5cclxuICAgIHByaXZhdGUgX3JlbmRlck1ldGhvZE1hbmlwdWxhdGlvbjogTWV0aG9kTWFuaXB1bGF0aW9uPChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4gdm9pZD47XHJcbiAgICBwdWJsaWMgZ2V0IHJlbmRlck1ldGhvZE1hbmlwdWxhdGlvbigpOiBNZXRob2RNYW5pcHVsYXRpb248KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PiB2b2lkPiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9yZW5kZXJNZXRob2RNYW5pcHVsYXRpb24pIHtcclxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyTWV0aG9kTWFuaXB1bGF0aW9uID0gbmV3IE1ldGhvZE1hbmlwdWxhdGlvbih0aGlzLCB0aGlzLnJlbmRlciwgKHJlbmRlcikgPT4gdGhpcy5yZW5kZXIgPSByZW5kZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5fcmVuZGVyTWV0aG9kTWFuaXB1bGF0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW5kZXIgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5zaG91bGRVcGRhdGVMYXlvdXQpIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVMYXlvdXQoY3R4LCB0aGlzLmJvdW5kcyk7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvdWxkVXBkYXRlTGF5b3V0ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSkge1xyXG4gICAgICAgIHRoaXMuYm91bmRzID0gYm91bmRzO1xyXG4gICAgICAgIHRoaXMuc2hvdWxkVXBkYXRlTGF5b3V0ID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRyaWdnZXJVcGRhdGVMYXlvdXQgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zaG91bGRVcGRhdGVMYXlvdXQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaXNBY3RpdmUgPSB0cnVlO1xyXG4gICAgcHVibGljIGFjdGl2YXRlID0gKGR1cmF0aW9uU2Vjb25kczogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJNZXRob2RNYW5pcHVsYXRpb24ucmVzZXQoKTtcclxuICAgICAgICB2YXIgdWltYXRpb24gPSBuZXcgVUltYXRpb24oZHVyYXRpb25TZWNvbmRzKTtcclxuXHJcbiAgICAgICAgdGhpcy5yZW5kZXJNZXRob2RNYW5pcHVsYXRpb24uYWRkKChjdXJyZW50TWV0aG9kKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh1aW1hdGlvbi5lbmRlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE1ldGhvZChjdHgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyTWV0aG9kTWFuaXB1bGF0aW9uLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjdHguc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IHVpbWF0aW9uLmdldFZhbHVlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE1ldGhvZChjdHgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgZGVhY3RpdmF0ZWQgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJNZXRob2RNYW5pcHVsYXRpb24uY2xlYXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVhY3RpdmF0ZSA9IChkdXJhdGlvblNlY29uZHM6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIHZhciB1aW1hdGlvbiA9IG5ldyBVSW1hdGlvbihkdXJhdGlvblNlY29uZHMpO1xyXG5cclxuICAgICAgICB0aGlzLnJlbmRlck1ldGhvZE1hbmlwdWxhdGlvbi5hZGQoKGN1cnJlbnRNZXRob2QpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHVpbWF0aW9uLmVuZGVkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlck1ldGhvZE1hbmlwdWxhdGlvbi5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlck1ldGhvZE1hbmlwdWxhdGlvbi5jbGVhcigpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjdHguc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IDEgLSB1aW1hdGlvbi5nZXRWYWx1ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRNZXRob2QoY3R4KTtcclxuICAgICAgICAgICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRpc2FibGVNb3VzZUV2ZW50cyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLm1vdXNlRG93biA9ICgpID0+IHsgfTtcclxuICAgICAgICB0aGlzLm1vdXNlVXAgPSAoKSA9PiB7IH07XHJcbiAgICAgICAgdGhpcy5tb3VzZU1vdmUgPSAoKSA9PiB7IH07XHJcbiAgICAgICAgdGhpcy5jbGljayA9ICgpID0+IHsgfTtcclxuICAgIH1cclxuXHJcbiAgICBhYnN0cmFjdCBtb3VzZURvd24oZXY6IE1vdXNlRXZlbnQpOiB2b2lkO1xyXG4gICAgYWJzdHJhY3QgbW91c2VVcChldjogTW91c2VFdmVudCk6IHZvaWQ7XHJcbiAgICBhYnN0cmFjdCBtb3VzZU1vdmUoZXY6IE1vdXNlRXZlbnQpOiB2b2lkO1xyXG4gICAgYWJzdHJhY3QgY2xpY2soZXY6IE1vdXNlRXZlbnQpOiB2b2lkO1xyXG59IiwiaW1wb3J0IHsgUmVuZGVyT2JqZWN0IH0gZnJvbSBcIi4uL3JlbmRlck9iamVjdFwiO1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIExheW91dFZpZXcgZXh0ZW5kcyBSZW5kZXJPYmplY3Qge1xyXG4gICAgcHJvdGVjdGVkIGNoaWxkcmVuOiBSZW5kZXJPYmplY3RbXSA9IFtdO1xyXG5cclxuICAgIHByaXZhdGUgc3VwZXJSZW5kZXIgPSB0aGlzLnJlbmRlcjtcclxuICAgIHB1YmxpYyByZW5kZXIgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpID0+IHtcclxuICAgICAgICB0aGlzLnN1cGVyUmVuZGVyKGN0eCk7XHJcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGNoaWxkLnJlbmRlcihjdHgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcHVibGljIG1vdXNlRG93bihldjogTW91c2VFdmVudCkge1xyXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICBjaGlsZC5tb3VzZURvd24oZXYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbW91c2VVcChldjogTW91c2VFdmVudCkge1xyXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICBjaGlsZC5tb3VzZVVwKGV2KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG1vdXNlTW92ZShldjogTW91c2VFdmVudCkge1xyXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICBjaGlsZC5tb3VzZU1vdmUoZXYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2xpY2soZXY6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4udG9MaXN0KCkpIHtcclxuICAgICAgICAgICAgY2hpbGQuY2xpY2soZXYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IFJlbmRlck9iamVjdCB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL3JlbmRlck9iamVjdFwiO1xyXG5pbXBvcnQgeyBTdGFyIH0gZnJvbSBcIi4uL21vZGVscy9zdGFyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU3RhclJlbmRlck9iamVjdCBleHRlbmRzIFJlbmRlck9iamVjdCB7XHJcbiAgICBtb3VzZURvd24oZXY6IE1vdXNlRXZlbnQpOiB2b2lkIHtcclxuICAgIH1cclxuICAgIG1vdXNlVXAoZXY6IE1vdXNlRXZlbnQpOiB2b2lkIHtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHN0YXI6IFN0YXIpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW5kZXIgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkID0+IHtcclxuXHJcbiAgICAgICAgdmFyIGVuZCA9IHRoaXMuc3Rhci5yICogMztcclxuICAgICAgICB2YXIgZ3JhZCA9IGN0eC5jcmVhdGVSYWRpYWxHcmFkaWVudCh0aGlzLnN0YXIueCwgdGhpcy5zdGFyLnksIHRoaXMuc3Rhci5yLCB0aGlzLnN0YXIueCwgdGhpcy5zdGFyLnksIGVuZCk7XHJcbiAgICAgICAgZ3JhZC5hZGRDb2xvclN0b3AoMCwgJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKScpO1xyXG4gICAgICAgIGdyYWQuYWRkQ29sb3JTdG9wKDEsICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDApJyk7XHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGdyYWQ7XHJcbiAgICAgICAgY3R4LmFyYyh0aGlzLnN0YXIueCwgdGhpcy5zdGFyLnksIGVuZCwgMCwgTWF0aC5QSSAqIDIpO1xyXG4gICAgICAgIGN0eC5maWxsKCk7XHJcblxyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBcIndoaXRlXCI7XHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5hcmModGhpcy5zdGFyLngsIHRoaXMuc3Rhci55LCB0aGlzLnN0YXIuciwgMCwgTWF0aC5QSSAqIDIpO1xyXG4gICAgICAgIGN0eC5maWxsKCk7XHJcbiAgICB9XHJcbiAgICBtb3VzZU1vdmUoZXY6IE1vdXNlRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcclxuICAgIH1cclxuICAgIGNsaWNrKGV2OiBNb3VzZUV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBMYXlvdXRWaWV3IH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGF5b3V0Vmlld1wiO1xyXG5pbXBvcnQgeyBTdGFyUmVuZGVyT2JqZWN0IH0gZnJvbSBcIi4vc3RhclJlbmRlck9iamVjdFwiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgU3RhckxheWVyIH0gZnJvbSBcIi4uL21vZGVscy9zdGFyTGF5ZXJcIjtcclxuaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4uL2FwcFwiO1xyXG5pbXBvcnQgeyBTZXR0aW5nT3BlcmF0aW9uIH0gZnJvbSBcIi4uL3NldHRpbmdzL3NldHRpbmdPcGVyYXRpb25cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTdGFyTGF5ZXJEcmF3ZXIgZXh0ZW5kcyBMYXlvdXRWaWV3IHtcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBzdGFyTGF5ZXI6IFN0YXJMYXllcikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgQXBwLnNldHRpbmdNYW5hZ2VyLnVwZGF0ZS5hZGRFdmVudExpc3RlbmVyKHRoaXMuc2V0dGluZ3NVcGRhdGVkKVxyXG4gICAgICAgIHRoaXMuZGlzYWJsZU1vdXNlRXZlbnRzKCk7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyVXBkYXRlTGF5b3V0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXR0aW5nc1VwZGF0ZWQgPSAob3BlcmF0aW9uOiBTZXR0aW5nT3BlcmF0aW9uKSA9PiB7XHJcbiAgICAgICAgc3dpdGNoIChvcGVyYXRpb24pIHtcclxuICAgICAgICAgICAgY2FzZSBTZXR0aW5nT3BlcmF0aW9uLkNoYW5nZU51bWJlck9mU3RhcnM6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZU51bWJlck9mU3RhcnMoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHVwZGF0ZU51bWJlck9mU3RhcnMgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyVXBkYXRlTGF5b3V0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUxheW91dChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107XHJcblxyXG4gICAgICAgIGZvciAoY29uc3Qgc3RhciBvZiB0aGlzLnN0YXJMYXllci5zdGFycykge1xyXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2gobmV3IFN0YXJSZW5kZXJPYmplY3Qoc3RhcikpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIG1vdXNlTW92ZShldjogTW91c2VFdmVudCkge1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjbGljayhldjogTW91c2VFdmVudCkge1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUgfSBmcm9tIFwiLi9zZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbCB7XHJcbiAgICBwdWJsaWMgc3RhdGU6IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlID0gU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUuaGlkZGVuO1xyXG59IiwiZXhwb3J0IGNsYXNzIEVFdmVudCB7XHJcbiAgICBwcml2YXRlIGxpc3RlbmVyczogKCgpID0+IHZvaWQpW10gPSBbXTtcclxuXHJcbiAgICBwdWJsaWMgYWRkRXZlbnRMaXN0ZW5lciA9IChsaXN0ZW5lcjogKCkgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIC8vIHZhbGlkYXRpb25cclxuICAgICAgICBpZiAoIWxpc3RlbmVyIHx8IHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpID49IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJsaXN0ZW5lciBhbHJlYWR5IGFkZGVkXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkRXZlbnRMaXN0ZW5lcklmTm90RXhpc3RzID0gKGxpc3RlbmVyOiAoKSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgLy8gdmFsaWRhdGlvblxyXG4gICAgICAgIGlmICghbGlzdGVuZXIgfHwgdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcikgPj0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGlzcGF0Y2hFdmVudCA9ICgpID0+IHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5saXN0ZW5lcnNbaV07XHJcbiAgICAgICAgICAgIGV2ZW50KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVFdmVudExpc3RlbmVyID0gKGxpc3RlbmVyOiAoKSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgLy8gdmFsaWRhdGlvblxyXG4gICAgICAgIGlmICghbGlzdGVuZXIgfHwgdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcikgPCAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IFwibGlzdGVuZXIgbm90IGZvdW5kXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5zcGxpY2UodGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lciksIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVFdmVudExpc3RlbmVySWZFeGlzdHMgPSAobGlzdGVuZXI6ICgpID0+IHZvaWQpID0+IHtcclxuICAgICAgICAvLyB2YWxpZGF0aW9uXHJcbiAgICAgICAgaWYgKCFsaXN0ZW5lciB8fCB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSA8IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuc3BsaWNlKHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpLCAxKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEVFdmVudFQ8VD4ge1xyXG4gICAgcHJpdmF0ZSBsaXN0ZW5lcnM6ICgoYXJnOiBUKSA9PiB2b2lkKVtdID0gW107XHJcblxyXG4gICAgcHVibGljIGFkZEV2ZW50TGlzdGVuZXIgPSAobGlzdGVuZXI6IChhcmc6IFQpID0+IHZvaWQpID0+IHtcclxuICAgICAgICAvLyB2YWxpZGF0aW9uXHJcbiAgICAgICAgaWYgKCFsaXN0ZW5lciB8fCB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IFwibGlzdGVuZXIgYWxyZWFkeSBhZGRlZFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRpc3BhdGNoRXZlbnQgPSAoYXJnOiBUKSA9PiB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBldmVudCA9IHRoaXMubGlzdGVuZXJzW2ldO1xyXG4gICAgICAgICAgICBldmVudChhcmcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlRXZlbnRMaXN0ZW5lciA9IChsaXN0ZW5lcjogKGFyZzogVCkgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIC8vIHZhbGlkYXRpb25cclxuICAgICAgICBpZiAoIWxpc3RlbmVyIHx8IHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpIDwgMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBcImxpc3RlbmVyIG5vdCBmb3VuZFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuc3BsaWNlKHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpLCAxKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEVFdmVudFRUPFQxLCBUMj4ge1xyXG4gICAgcHJpdmF0ZSBsaXN0ZW5lcnM6ICgoYXJnMTogVDEsIGFyZzI6IFQyKSA9PiB2b2lkKVtdID0gW107XHJcblxyXG4gICAgcHVibGljIGFkZEV2ZW50TGlzdGVuZXIgPSAobGlzdGVuZXI6IChhcmcxOiBUMSwgYXJnMjogVDIpID0+IHZvaWQpID0+IHtcclxuICAgICAgICAvLyB2YWxpZGF0aW9uXHJcbiAgICAgICAgaWYgKCFsaXN0ZW5lciB8fCB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IFwibGlzdGVuZXIgYWxyZWFkeSBhZGRlZFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRpc3BhdGNoRXZlbnQgPSAoYXJnMTogVDEsIGFyZzI6IFQyKSA9PiB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBldmVudCA9IHRoaXMubGlzdGVuZXJzW2ldO1xyXG4gICAgICAgICAgICBldmVudChhcmcxLCBhcmcyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZUV2ZW50TGlzdGVuZXIgPSAobGlzdGVuZXI6IChhcmcxOiBUMSwgYXJnMjogVDIpID0+IHZvaWQpID0+IHtcclxuICAgICAgICAvLyB2YWxpZGF0aW9uXHJcbiAgICAgICAgaWYgKCFsaXN0ZW5lciB8fCB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSA8IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJsaXN0ZW5lciBub3QgZm91bmRcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnNwbGljZSh0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSwgMSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBFQW5pbWF0aW9uIH0gZnJvbSBcIi4uL2VBbmltYXRpb25cIjtcclxuaW1wb3J0IHsgRUV2ZW50IH0gZnJvbSBcIi4uL2VFdmVudFwiO1xyXG5cclxuZXhwb3J0IHR5cGUgRHJhd0Z1bmN0aW9uID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB3aWR0aD86IG51bWJlciwgaGVpZ2h0PzogbnVtYmVyKSA9PiB2b2lkO1xyXG5cclxuZXhwb3J0IGNsYXNzIEVDYW52YXMge1xyXG4gICAgcHJpdmF0ZSBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuXHJcbiAgICBwcml2YXRlIGRyYXdGdW5jdGlvbnM6IERyYXdGdW5jdGlvbltdID0gW107XHJcbiAgICBwdWJsaWMgZHByID0gMTtcclxuXHJcbiAgICBwdWJsaWMgZ2V0IHdpZHRoKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzLmNsaWVudFdpZHRoIC8gdGhpcy5kcHI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBoZWlnaHQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXMuY2xpZW50SGVpZ2h0IC8gdGhpcy5kcHI7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBkcHJTY2FsaW5nRW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgcHVibGljIGVuYWJsZURwclNjYWxpbmcgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5kcHJTY2FsaW5nRW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5yZXNpemUoKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBkaXNhYmxlRHByU2NhbGluZyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmRwclNjYWxpbmdFbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5yZXNpemUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVzaXplZCA9IG5ldyBFRXZlbnQoKVxyXG5cclxuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7IH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZUZ1bGxTY3JlZW4oKTogRUNhbnZhcyB7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5wYXJlbnRFbGVtZW50LnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5tYXJnaW4gPSBcIjBcIjtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcclxuXHJcbiAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY2FudmFzKTtcclxuICAgICAgICBjYW52YXMuc3R5bGUud2lkdGggPSBcIjEwMCVcIlxyXG4gICAgICAgIGNhbnZhcy5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcclxuXHJcbiAgICAgICAgdmFyIGVuQ2FudmFzID0gbmV3IEVDYW52YXMoKTtcclxuICAgICAgICBlbkNhbnZhcy5jYW52YXMgPSBjYW52YXM7XHJcbiAgICAgICAgZW5DYW52YXMuY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgZW5DYW52YXMucmVzaXplKTtcclxuICAgICAgICBlbkNhbnZhcy5yZXNpemUoKTtcclxuICAgICAgICByZXR1cm4gZW5DYW52YXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgY3Vyc29yTG9jazogc3RyaW5nID0gbnVsbDtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIFNldEN1cnNvciA9IChuYW1lOiBzdHJpbmcsIHBvaW50ZXI6IGJvb2xlYW4pID0+IHtcclxuICAgICAgICBpZiAocG9pbnRlcikge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwicG9pbnRlclwiO1xyXG4gICAgICAgICAgICBFQ2FudmFzLmN1cnNvckxvY2sgPSBuYW1lO1xyXG4gICAgICAgIH0gZWxzZSBpZiAobmFtZSA9PSBFQ2FudmFzLmN1cnNvckxvY2spIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSBcImRlZmF1bHRcIjtcclxuICAgICAgICAgICAgRUNhbnZhcy5jdXJzb3JMb2NrID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlc2l6ZSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmRwciA9IHRoaXMuZHByU2NhbGluZ0VuYWJsZWQgPyB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxIDogMTtcclxuXHJcbiAgICAgICAgdGhpcy5jYW52YXMud2lkdGggPSB0aGlzLmNhbnZhcy5jbGllbnRXaWR0aDtcclxuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB0aGlzLmNhbnZhcy5jbGllbnRIZWlnaHQ7XHJcblxyXG4gICAgICAgIHRoaXMucmVzaXplZC5kaXNwYXRjaEV2ZW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRyYXcgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5jdHguc2F2ZSgpO1xyXG4gICAgICAgIHRoaXMuY3R4LnNjYWxlKHRoaXMuZHByLCB0aGlzLmRwcik7XHJcbiAgICAgICAgZm9yIChjb25zdCBkcmF3RnVuY3Rpb24gb2YgdGhpcy5kcmF3RnVuY3Rpb25zKSB7XHJcbiAgICAgICAgICAgIGRyYXdGdW5jdGlvbih0aGlzLmN0eCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZERyYXdGdW5jdGlvbiA9IChmdW5jOiBEcmF3RnVuY3Rpb24pID0+IHtcclxuICAgICAgICB0aGlzLmRyYXdGdW5jdGlvbnMucHVzaChmdW5jKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlRHJhd0Z1bmN0aW9uID0gKGZ1bmM6IERyYXdGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgIHRoaXMuZHJhd0Z1bmN0aW9ucy5zcGxpY2UodGhpcy5kcmF3RnVuY3Rpb25zLmluZGV4T2YoZnVuYyksIDEpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgUmVuZGVyT2JqZWN0IH0gZnJvbSBcIi4uL3JlbmRlck9iamVjdFwiO1xyXG5pbXBvcnQgeyBFQ2FudmFzIH0gZnJvbSBcIi4uL2VDYW52YXNcIjtcclxuaW1wb3J0IHsgRUV2ZW50VCB9IGZyb20gXCIuLi8uLi9lRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBDb250cm9sIGV4dGVuZHMgUmVuZGVyT2JqZWN0IHtcclxuICAgIHByb3RlY3RlZCBpc01vdXNlT3ZlciA9IGZhbHNlO1xyXG4gICAgcHVibGljIGlzRW5hYmxlZCA9IHRydWU7XHJcblxyXG4gICAgcHVibGljIGNsaWNrZWQgPSBuZXcgRUV2ZW50VDxDb250cm9sPigpO1xyXG5cclxuICAgIHB1YmxpYyBtb3VzZU1vdmUoZXY6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICBpZiAodGhpcy5pc0VuYWJsZWQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZGltZW5zaW9ucy5pc0hpdEJ5KGV2LmNsaWVudFgsIGV2LmNsaWVudFkpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzTW91c2VPdmVyID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIEVDYW52YXMuU2V0Q3Vyc29yKHRoaXMubmFtZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzTW91c2VPdmVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBFQ2FudmFzLlNldEN1cnNvcih0aGlzLm5hbWUsIGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2xpY2sgPSAoZXY6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5pc0VuYWJsZWQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZGltZW5zaW9ucy5pc0hpdEJ5KGV2LmNsaWVudFgsIGV2LmNsaWVudFkpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsaWNrZWQuZGlzcGF0Y2hFdmVudCh0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbW91c2VEb3duKGV2OiBNb3VzZUV2ZW50KTogdm9pZCB7IH1cclxuICAgIHB1YmxpYyBtb3VzZVVwKGV2OiBNb3VzZUV2ZW50KTogdm9pZCB7IH1cclxufSIsImV4cG9ydCBjbGFzcyBCdXR0b25Qcm9wZXJ0aWVzIHtcclxuICAgIHB1YmxpYyBmb250U2l6ZSA9IDQwO1xyXG4gICAgcHVibGljIGZvbnRQcmVmaXggPSBcIlwiO1xyXG4gICAgcHVibGljIGZvbnRGYW1pbHkgPSBcImZvbnRhd2Vzb21lXCI7XHJcbiAgICBwdWJsaWMgZmlsbFN0eWxlID0gXCJibHVlXCI7XHJcbiAgICBwdWJsaWMgbW91c2VPdmVyRmlsbFN0eWxlID0gXCJyZWRcIjtcclxuICAgIHB1YmxpYyBiYWNrZ3JvdW5kRmlsbFN0eWxlOiBzdHJpbmcgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgcHVibGljIGdldEZvbnQgPSAoKSA9PiB7XHJcbiAgICAgICAgdmFyIGZvbnQgPSBcIlwiO1xyXG4gICAgICAgIGlmICh0aGlzLmZvbnRQcmVmaXgpIHtcclxuICAgICAgICAgICAgZm9udCArPSB0aGlzLmZvbnRQcmVmaXggKyBcIiBcIlxyXG4gICAgICAgIH1cclxuICAgICAgICBmb250ICs9IHRoaXMuZm9udFNpemUgKyBcInB4XCIgKyBcIiBcIiArIHRoaXMuZm9udEZhbWlseTtcclxuICAgICAgICByZXR1cm4gZm9udDtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgQ29udHJvbCB9IGZyb20gXCIuL2NvbnRyb2xcIjtcclxuaW1wb3J0IHsgQnV0dG9uUHJvcGVydGllcyB9IGZyb20gXCIuL2J1dHRvblByb3BlcnRpZXNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBCdXR0b24gZXh0ZW5kcyBDb250cm9sIHtcclxuXHJcbiAgICBwdWJsaWMgcHJvcGVydGllcyA9IG5ldyBCdXR0b25Qcm9wZXJ0aWVzKCk7XHJcbiAgICBwdWJsaWMgdGV4dDogc3RyaW5nO1xyXG5cclxuICAgIHB1YmxpYyByZW5kZXIgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLmJhY2tncm91bmRGaWxsU3R5bGUpIHtcclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMucHJvcGVydGllcy5iYWNrZ3JvdW5kRmlsbFN0eWxlO1xyXG4gICAgICAgICAgICBjdHguZmlsbFJlY3QodGhpcy5kaW1lbnNpb25zLngsIHRoaXMuZGltZW5zaW9ucy55LCB0aGlzLmRpbWVuc2lvbnMud2lkdGgsIHRoaXMuZGltZW5zaW9ucy5oZWlnaHQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNNb3VzZU92ZXIpIHtcclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMucHJvcGVydGllcy5tb3VzZU92ZXJGaWxsU3R5bGU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMucHJvcGVydGllcy5maWxsU3R5bGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjdHguZm9udCA9IHRoaXMucHJvcGVydGllcy5nZXRGb250KCk7XHJcbiAgICAgICAgY3R4LnRleHRBbGlnbiA9IFwibGVmdFwiO1xyXG4gICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSBcInRvcFwiO1xyXG4gICAgICAgIGN0eC5maWxsVGV4dCh0aGlzLnRleHQsIHRoaXMuZGltZW5zaW9ucy54LCB0aGlzLmRpbWVuc2lvbnMueSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUxheW91dCA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpOiB2b2lkID0+IHtcclxuICAgICAgICBzdXBlci51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG5cclxuICAgICAgICBjdHguZm9udCA9IHRoaXMucHJvcGVydGllcy5nZXRGb250KCk7XHJcbiAgICAgICAgY3R4LnRleHRBbGlnbiA9IFwibGVmdFwiO1xyXG4gICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSBcInRvcFwiO1xyXG4gICAgICAgIHZhciBzaXplID0gY3R4Lm1lYXN1cmVUZXh0KHRoaXMudGV4dCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdmFyIHggPSB0aGlzLmFsaWduZW1lbnQuY2FsY3VsYXRlRGltZW5zaW9uc1goYm91bmRzLCBzaXplLndpZHRoKTtcclxuICAgICAgICB2YXIgeSA9IHRoaXMuYWxpZ25lbWVudC5jYWxjdWxhdGVEaW1lbnNpb25zWShib3VuZHMsIHRoaXMucHJvcGVydGllcy5mb250U2l6ZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zID0gbmV3IFJlY3RhbmdsZSh4LCB5LCBzaXplLndpZHRoLCB0aGlzLnByb3BlcnRpZXMuZm9udFNpemUpXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBPcmllbnRhdGlvbiB9IGZyb20gXCIuLi9hbGlnbmVtZW50L29yaWVudGF0aW9uXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTGlzdFZpZXdQcm9wZXJ0aWVzIHtcclxuICAgIHB1YmxpYyBpdGVtU3BhY2luZyA9IDMwO1xyXG4gICAgcHVibGljIG9yaWVudGF0aW9uID0gT3JpZW50YXRpb24uVmVydGljYWw7XHJcbn0iLCJpbXBvcnQgeyBMYXlvdXRWaWV3IH0gZnJvbSBcIi4vbGF5b3V0Vmlld1wiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IFJlbmRlck9iamVjdCB9IGZyb20gXCIuLi9yZW5kZXJPYmplY3RcIjtcclxuaW1wb3J0IHsgTGlzdFZpZXdQcm9wZXJ0aWVzIH0gZnJvbSBcIi4vbGlzdFZpZXdQcm9wZXJ0aWVzXCI7XHJcbmltcG9ydCB7IEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uIH0gZnJvbSBcIi4uL2FsaWduZW1lbnQvaG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuaW1wb3J0IHsgVmVydGljYWxBbGlnbmVtZW50T3B0aW9uIH0gZnJvbSBcIi4uL2FsaWduZW1lbnQvdmVydGljYWxBbGlnbmVtZW50T3B0aW9uXCI7XHJcbmltcG9ydCB7IE9yaWVudGF0aW9uIH0gZnJvbSBcIi4uL2FsaWduZW1lbnQvb3JpZW50YXRpb25cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBMaXN0VmlldyBleHRlbmRzIExheW91dFZpZXcge1xyXG4gICAgcHVibGljIHByb3BlcnRpZXMgPSBuZXcgTGlzdFZpZXdQcm9wZXJ0aWVzKCk7XHJcblxyXG4gICAgcHVibGljIGFkZEl0ZW0gPSAobGF5b3V0VmlldzogUmVuZGVyT2JqZWN0KSA9PiB7XHJcbiAgICAgICAgbGF5b3V0Vmlldy5hbGlnbmVtZW50Lmhvcml6b250YWxBbGlnbiA9IEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uLkxlZnQ7XHJcbiAgICAgICAgbGF5b3V0Vmlldy5hbGlnbmVtZW50LnZlcnRpY2FsQWxpZ24gPSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24uVG9wO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChsYXlvdXRWaWV3KTtcclxuICAgICAgICB0aGlzLnRyaWdnZXJVcGRhdGVMYXlvdXQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlSXRlbSA9IChsYXlvdXRWaWV3OiBSZW5kZXJPYmplY3QpID0+IHtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnJlbW92ZUl0ZW0obGF5b3V0Vmlldyk7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyVXBkYXRlTGF5b3V0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUxheW91dChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG5cclxuICAgICAgICB2YXIgeCA9IHRoaXMuYWxpZ25lbWVudC5jYWxjdWxhdGVEaW1lbnNpb25zWChib3VuZHMsIHRoaXMuZGltZW5zaW9ucy53aWR0aCk7XHJcbiAgICAgICAgdmFyIHkgPSB0aGlzLmFsaWduZW1lbnQuY2FsY3VsYXRlRGltZW5zaW9uc1koYm91bmRzLCB0aGlzLmRpbWVuc2lvbnMuaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgdmFyIHdpZHRoID0gMDtcclxuICAgICAgICB2YXIgaGVpZ2h0ID0gMDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5vcmllbnRhdGlvbiA9PSBPcmllbnRhdGlvbi5WZXJ0aWNhbCkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcclxuICAgICAgICAgICAgICAgIGlmIChpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHkgKz0gdGhpcy5wcm9wZXJ0aWVzLml0ZW1TcGFjaW5nO1xyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCArPSB0aGlzLnByb3BlcnRpZXMuaXRlbVNwYWNpbmc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjaGlsZC51cGRhdGVMYXlvdXQoY3R4LCBuZXcgUmVjdGFuZ2xlKHgsIHksIDAsIDApKTtcclxuICAgICAgICAgICAgICAgIHkgKz0gY2hpbGQuZGltZW5zaW9ucy5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICBoZWlnaHQgKz0gY2hpbGQuZGltZW5zaW9ucy5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICB3aWR0aCA9IE1hdGgubWF4KHdpZHRoLCBjaGlsZC5kaW1lbnNpb25zLndpZHRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKGkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeCArPSB0aGlzLnByb3BlcnRpZXMuaXRlbVNwYWNpbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggKz0gdGhpcy5wcm9wZXJ0aWVzLml0ZW1TcGFjaW5nO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2hpbGQudXBkYXRlTGF5b3V0KGN0eCwgbmV3IFJlY3RhbmdsZSh4LCB5LCAwLCAwKSk7XHJcbiAgICAgICAgICAgICAgICB4ICs9IGNoaWxkLmRpbWVuc2lvbnMud2lkdGg7XHJcbiAgICAgICAgICAgICAgICB3aWR0aCArPSBjaGlsZC5kaW1lbnNpb25zLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gTWF0aC5tYXgoaGVpZ2h0LCBjaGlsZC5kaW1lbnNpb25zLmhlaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmRpbWVuc2lvbnMueCAhPSB4IHx8IHRoaXMuZGltZW5zaW9ucy55ICE9IHkgfHwgdGhpcy5kaW1lbnNpb25zLndpZHRoICE9IHdpZHRoIHx8IHRoaXMuZGltZW5zaW9ucy5oZWlnaHQgIT0gaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGltZW5zaW9ucy54ID0geDtcclxuICAgICAgICAgICAgdGhpcy5kaW1lbnNpb25zLnkgPSB5O1xyXG4gICAgICAgICAgICB0aGlzLmRpbWVuc2lvbnMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgICAgICB0aGlzLmRpbWVuc2lvbnMud2lkdGggPSB3aWR0aDtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IENvbnRyb2wgfSBmcm9tIFwiLi9jb250cm9sXCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgRUV2ZW50VCB9IGZyb20gXCIuLi8uLi9lRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTbGlkZXIgZXh0ZW5kcyBDb250cm9sIHtcclxuICAgIHB1YmxpYyByYWRpdXM6IG51bWJlciA9IDEwO1xyXG5cclxuICAgIHB1YmxpYyBtaW5WYWx1ZSA9IDA7XHJcbiAgICBwdWJsaWMgbWF4VmFsdWUgPSAxMDA7XHJcbiAgICBwdWJsaWMgY3VycmVudFZhbHVlID0gNTA7XHJcbiAgICBpc0RyYWdnaW5nOiBib29sZWFuO1xyXG5cclxuICAgIHB1YmxpYyB2YWx1ZUNoYW5nZWQgPSBuZXcgRUV2ZW50VDxudW1iZXI+KCk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVuZGVyID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCA9PiB7XHJcbiAgICAgICAgdmFyIHggPSB0aGlzLmRpbWVuc2lvbnMueDtcclxuICAgICAgICB2YXIgeSA9IHRoaXMuZGltZW5zaW9ucy55O1xyXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IFwid2hpdGVcIjtcclxuICAgICAgICBjdHgubGluZVdpZHRoID0gMjtcclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY3R4Lm1vdmVUbyh4ICsgdGhpcy5yYWRpdXMsIHkgKyB0aGlzLmRpbWVuc2lvbnMuaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgY3R4LmxpbmVUbyh4ICsgdGhpcy5kaW1lbnNpb25zLndpZHRoIC0gdGhpcy5yYWRpdXMsIHkgKyB0aGlzLmRpbWVuc2lvbnMuaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG5cclxuICAgICAgICB2YXIgcmVsVmFsdWUgPSAodGhpcy5jdXJyZW50VmFsdWUgLSB0aGlzLm1pblZhbHVlKSAvICh0aGlzLm1heFZhbHVlIC0gdGhpcy5taW5WYWx1ZSk7XHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwiYmx1ZVwiO1xyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdHguYXJjKHggKyB0aGlzLnJhZGl1cyArICh0aGlzLmRpbWVuc2lvbnMud2lkdGggLSB0aGlzLnJhZGl1cyAqIDIpICogcmVsVmFsdWUsIHkgKyB0aGlzLmRpbWVuc2lvbnMuaGVpZ2h0IC8gMiwgdGhpcy5yYWRpdXMsIDAsIE1hdGguUEkgKiAyKTtcclxuICAgICAgICBjdHguY2xvc2VQYXRoKCk7XHJcbiAgICAgICAgY3R4LmZpbGwoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0ID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHN1cGVyLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcblxyXG4gICAgICAgIHRoaXMuZGltZW5zaW9ucyA9IG5ldyBSZWN0YW5nbGUoYm91bmRzLngsIGJvdW5kcy55LCAyMDAsIHRoaXMucmFkaXVzICogMik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG1vdXNlRG93biA9IChldjogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmRpbWVuc2lvbnMuaXNIaXRCeShldi5jbGllbnRYLCBldi5jbGllbnRZKSkge1xyXG4gICAgICAgICAgICB0aGlzLmlzRHJhZ2dpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUN1cnJlbnRWYWx1ZShldik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHVibGljIG1vdXNlVXAgPSAoZXY6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICB0aGlzLmlzRHJhZ2dpbmcgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbW91c2VNb3ZlKGV2OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgc3VwZXIubW91c2VNb3ZlKGV2KTtcclxuICAgICAgICBpZiAodGhpcy5pc0RyYWdnaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ3VycmVudFZhbHVlKGV2KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVDdXJyZW50VmFsdWUoZXY6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICB2YXIgdmFsID0gZXYuY2xpZW50WCAtIHRoaXMuZGltZW5zaW9ucy54IC0gdGhpcy5yYWRpdXM7XHJcbiAgICAgICAgdmFsID0gdmFsIC8gKHRoaXMuZGltZW5zaW9ucy53aWR0aCAtIHRoaXMucmFkaXVzICogMikgKiAodGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWUpICsgdGhpcy5taW5WYWx1ZTtcclxuICAgICAgICBpZiAodmFsID4gdGhpcy5tYXhWYWx1ZSkge1xyXG4gICAgICAgICAgICB2YWwgPSB0aGlzLm1heFZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodmFsIDwgdGhpcy5taW5WYWx1ZSkge1xyXG4gICAgICAgICAgICB2YWwgPSB0aGlzLm1pblZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IHZhbDtcclxuICAgICAgICB0aGlzLnZhbHVlQ2hhbmdlZC5kaXNwYXRjaEV2ZW50KHRoaXMuY3VycmVudFZhbHVlKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IENvbnRyb2wgfSBmcm9tIFwiLi9jb250cm9sXCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgRUV2ZW50VFQgfSBmcm9tIFwiLi4vLi4vZUV2ZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUmFuZ2VTbGlkZXIgZXh0ZW5kcyBDb250cm9sIHtcclxuICAgIHB1YmxpYyByYWRpdXM6IG51bWJlciA9IDEwO1xyXG5cclxuICAgIHB1YmxpYyBtaW5WYWx1ZSA9IDA7XHJcbiAgICBwdWJsaWMgbWF4VmFsdWUgPSAxMDA7XHJcbiAgICBwdWJsaWMgY3VycmVudFZhbHVlTG93ID0gMjU7XHJcbiAgICBwdWJsaWMgY3VycmVudFZhbHVlSGlnaCA9IDc1O1xyXG4gICAgcHVibGljIG1pbkRpZmYgPSAwLjE7XHJcblxyXG4gICAgcHJpdmF0ZSBpc0RyYWdnaW5nTG93OiBib29sZWFuO1xyXG4gICAgcHJpdmF0ZSBpc0RyYWdnaW5nSGlnaDogYm9vbGVhbjtcclxuXHJcbiAgICBwdWJsaWMgdmFsdWVzQ2hhbmdlZCA9IG5ldyBFRXZlbnRUVDxudW1iZXIsIG51bWJlcj4oKTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgcmVuZGVyID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCA9PiB7XHJcbiAgICAgICAgdmFyIHggPSB0aGlzLmRpbWVuc2lvbnMueDtcclxuICAgICAgICB2YXIgeSA9IHRoaXMuZGltZW5zaW9ucy55O1xyXG5cclxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBcIndoaXRlXCI7XHJcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDI7XHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5tb3ZlVG8oeCArIHRoaXMucmFkaXVzLCB5ICsgdGhpcy5kaW1lbnNpb25zLmhlaWdodCAvIDIpO1xyXG4gICAgICAgIGN0eC5saW5lVG8oeCArIHRoaXMuZGltZW5zaW9ucy53aWR0aCAtIHRoaXMucmFkaXVzLCB5ICsgdGhpcy5kaW1lbnNpb25zLmhlaWdodCAvIDIpO1xyXG4gICAgICAgIGN0eC5zdHJva2UoKTtcclxuXHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwiYmx1ZVwiO1xyXG4gICAgICAgIHZhciBzbGlkZXJZID0geSArIHRoaXMuZGltZW5zaW9ucy5oZWlnaHQgLyAyO1xyXG5cclxuICAgICAgICB2YXIgcmVsVmFsdWVMb3cgPSAodGhpcy5jdXJyZW50VmFsdWVMb3cgLSB0aGlzLm1pblZhbHVlKSAvICh0aGlzLm1heFZhbHVlIC0gdGhpcy5taW5WYWx1ZSk7XHJcbiAgICAgICAgdmFyIGxvd1ggPSB4ICsgdGhpcy5yYWRpdXMgKyAodGhpcy5kaW1lbnNpb25zLndpZHRoIC0gdGhpcy5yYWRpdXMgKiAyKSAqIHJlbFZhbHVlTG93O1xyXG5cclxuICAgICAgICB2YXIgcmVsVmFsdWVIaWdoID0gKHRoaXMuY3VycmVudFZhbHVlSGlnaCAtIHRoaXMubWluVmFsdWUpIC8gKHRoaXMubWF4VmFsdWUgLSB0aGlzLm1pblZhbHVlKTtcclxuICAgICAgICB2YXIgaGlnaFggPSB4ICsgdGhpcy5yYWRpdXMgKyAodGhpcy5kaW1lbnNpb25zLndpZHRoIC0gdGhpcy5yYWRpdXMgKiAyKSAqIHJlbFZhbHVlSGlnaDtcclxuXHJcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gXCJibHVlXCI7XHJcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDI7XHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5tb3ZlVG8obG93WCwgc2xpZGVyWSk7XHJcbiAgICAgICAgY3R4LmxpbmVUbyhoaWdoWCwgc2xpZGVyWSk7XHJcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG5cclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY3R4LmFyYyhsb3dYLCBzbGlkZXJZLCB0aGlzLnJhZGl1cywgMCwgTWF0aC5QSSAqIDIpO1xyXG4gICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcclxuICAgICAgICBjdHguZmlsbCgpO1xyXG5cclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY3R4LmFyYyhoaWdoWCwgc2xpZGVyWSwgdGhpcy5yYWRpdXMsIDAsIE1hdGguUEkgKiAyKTtcclxuICAgICAgICBjdHguY2xvc2VQYXRoKCk7XHJcbiAgICAgICAgY3R4LmZpbGwoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0ID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHN1cGVyLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcblxyXG4gICAgICAgIHRoaXMuZGltZW5zaW9ucyA9IG5ldyBSZWN0YW5nbGUoYm91bmRzLngsIGJvdW5kcy55LCAyMDAsIHRoaXMucmFkaXVzICogMik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG1vdXNlRG93biA9IChldjogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmRpbWVuc2lvbnMuaXNIaXRCeShldi5jbGllbnRYLCBldi5jbGllbnRZKSkge1xyXG4gICAgICAgICAgICB2YXIgdmFsID0gdGhpcy5nZXRDbGlja2VkVmFsdWUoZXYpO1xyXG4gICAgICAgICAgICB2YXIgZGlmZlRvTG93ID0gTWF0aC5hYnModGhpcy5jdXJyZW50VmFsdWVMb3cgLSB2YWwpO1xyXG4gICAgICAgICAgICB2YXIgZGlmZlRvSGlnaCA9IE1hdGguYWJzKHRoaXMuY3VycmVudFZhbHVlSGlnaCAtIHZhbCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZGlmZlRvTG93ID09IGRpZmZUb0hpZ2gpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWwgPCB0aGlzLmN1cnJlbnRWYWx1ZUxvdykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNEcmFnZ2luZ0xvdyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNEcmFnZ2luZ0hpZ2ggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGRpZmZUb0xvdyA+IGRpZmZUb0hpZ2gpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNEcmFnZ2luZ0hpZ2ggPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0RyYWdnaW5nTG93ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy51cGRhdGVDdXJyZW50VmFsdWVzKGV2KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgbW91c2VVcCA9IChldjogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIHRoaXMuaXNEcmFnZ2luZ0hpZ2ggPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmlzRHJhZ2dpbmdMb3cgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbW91c2VNb3ZlKGV2OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgc3VwZXIubW91c2VNb3ZlKGV2KTtcclxuICAgICAgICBpZiAodGhpcy5pc0RyYWdnaW5nSGlnaCB8fCB0aGlzLmlzRHJhZ2dpbmdMb3cpIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVDdXJyZW50VmFsdWVzKGV2KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVDdXJyZW50VmFsdWVzKGV2OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgdmFyIHZhbCA9IHRoaXMuZ2V0Q2xpY2tlZFZhbHVlKGV2KTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNEcmFnZ2luZ0xvdykge1xyXG4gICAgICAgICAgICBpZiAodmFsID4gKHRoaXMuY3VycmVudFZhbHVlSGlnaCAtIHRoaXMubWluRGlmZikpIHtcclxuICAgICAgICAgICAgICAgIHZhbCA9IHRoaXMuY3VycmVudFZhbHVlSGlnaCAtIHRoaXMubWluRGlmZjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHZhbCA8IHRoaXMuY3VycmVudFZhbHVlTG93ICsgdGhpcy5taW5EaWZmKSB7XHJcbiAgICAgICAgICAgICAgICB2YWwgPSB0aGlzLmN1cnJlbnRWYWx1ZUxvdyArIHRoaXMubWluRGlmZjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNEcmFnZ2luZ0xvdykge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZUxvdyA9IHZhbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFZhbHVlSGlnaCA9IHZhbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy52YWx1ZXNDaGFuZ2VkLmRpc3BhdGNoRXZlbnQodGhpcy5jdXJyZW50VmFsdWVMb3csIHRoaXMuY3VycmVudFZhbHVlSGlnaCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRDbGlja2VkVmFsdWUoZXY6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICB2YXIgdmFsID0gZXYuY2xpZW50WCAtIHRoaXMuZGltZW5zaW9ucy54IC0gdGhpcy5yYWRpdXM7XHJcbiAgICAgICAgdmFsID0gdmFsIC8gKHRoaXMuZGltZW5zaW9ucy53aWR0aCAtIHRoaXMucmFkaXVzICogMikgKiAodGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWUpICsgdGhpcy5taW5WYWx1ZTtcclxuICAgICAgICBpZiAodmFsID4gdGhpcy5tYXhWYWx1ZSkge1xyXG4gICAgICAgICAgICB2YWwgPSB0aGlzLm1heFZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodmFsIDwgdGhpcy5taW5WYWx1ZSkge1xyXG4gICAgICAgICAgICB2YWwgPSB0aGlzLm1pblZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdmFsO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgTGF5b3V0VmlldyB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xheW91dFZpZXdcIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IFN0YXJMYXllciB9IGZyb20gXCIuLi8uLi9tb2RlbHMvc3RhckxheWVyXCI7XHJcbmltcG9ydCB7IExpc3RWaWV3IH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGlzdFZpZXdcIjtcclxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvY29udHJvbHMvYnV0dG9uXCI7XHJcbmltcG9ydCB7IENvbnRyb2wgfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9jb250cm9scy9jb250cm9sXCI7XHJcbmltcG9ydCB7IEFwcCB9IGZyb20gXCIuLi8uLi9hcHBcIjtcclxuaW1wb3J0IHsgSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24gfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9hbGlnbmVtZW50L2hvcml6b250YWxBbGlnbmVtZW50T3B0aW9uXCI7XHJcbmltcG9ydCB7IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbiB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvdmVydGljYWxBbGlnbmVtZW50T3B0aW9uXCI7XHJcbmltcG9ydCB7IFNsaWRlciB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2NvbnRyb2xzL3NsaWRlclwiO1xyXG5pbXBvcnQgeyBSYW5nZVNsaWRlciB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2NvbnRyb2xzL3JhbmdlU2xpZGVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU3RhckxheWVyVmlldyBleHRlbmRzIExheW91dFZpZXcge1xyXG4gICAgcHJpdmF0ZSBzZXR0aW5nc0xpc3Q6IExpc3RWaWV3O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBzdGFyTGF5ZXI6IFN0YXJMYXllcikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QgPSBuZXcgTGlzdFZpZXcoKTtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5hbGlnbmVtZW50Lmhvcml6b250YWxBbGlnbiA9IEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uLkxlZnQ7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QuYWxpZ25lbWVudC52ZXJ0aWNhbEFsaWduID0gVmVydGljYWxBbGlnbmVtZW50T3B0aW9uLlRvcDtcclxuICAgICAgICB2YXIgYnRuRm9yTGF5ZXIgPSBuZXcgQnV0dG9uKCk7XHJcbiAgICAgICAgYnRuRm9yTGF5ZXIudGV4dCA9IFwiUmVtb3ZlIExheWVyXCI7XHJcbiAgICAgICAgYnRuRm9yTGF5ZXIucHJvcGVydGllcy5maWxsU3R5bGUgPSBcIndoaXRlXCI7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QuYWRkSXRlbShidG5Gb3JMYXllcik7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGJ0bkZvckxheWVyKTtcclxuICAgICAgICBidG5Gb3JMYXllci5jbGlja2VkLmFkZEV2ZW50TGlzdGVuZXIoKHNlbmRlcjogQ29udHJvbCkgPT4ge1xyXG4gICAgICAgICAgICBBcHAuc2V0dGluZ01hbmFnZXIucmVtb3ZlU3RhckxheWVyKHRoaXMuc3RhckxheWVyKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIHNsaWRlciA9IG5ldyBTbGlkZXIoKTtcclxuICAgICAgICBzbGlkZXIubWluVmFsdWUgPSAxMDtcclxuICAgICAgICBzbGlkZXIubWF4VmFsdWUgPSAxMDAwO1xyXG4gICAgICAgIHNsaWRlci5jdXJyZW50VmFsdWUgPSBzdGFyTGF5ZXIuc3RhcnMubGVuZ3RoO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChzbGlkZXIpO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LmFkZEl0ZW0oc2xpZGVyKTtcclxuICAgICAgICBzbGlkZXIudmFsdWVDaGFuZ2VkLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5udW1iZXJPZlN0YXJzQ2hhbmdlZCk7XHJcblxyXG4gICAgICAgIHZhciBzbGlkZXJTcGVlZCA9IG5ldyBTbGlkZXIoKTtcclxuICAgICAgICBzbGlkZXJTcGVlZC5taW5WYWx1ZSA9IDA7XHJcbiAgICAgICAgc2xpZGVyU3BlZWQubWF4VmFsdWUgPSAyMDtcclxuICAgICAgICBzbGlkZXJTcGVlZC5jdXJyZW50VmFsdWUgPSBzdGFyTGF5ZXIuc3BlZWQ7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHNsaWRlclNwZWVkKTtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5hZGRJdGVtKHNsaWRlclNwZWVkKTtcclxuICAgICAgICBzbGlkZXJTcGVlZC52YWx1ZUNoYW5nZWQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLnNwZWVkQ2hhbmdlZCk7XHJcblxyXG4gICAgICAgIHZhciBzbGlkZXJTaXplID0gbmV3IFJhbmdlU2xpZGVyKCk7XHJcbiAgICAgICAgdmFyIHNpemVzID0gdGhpcy5zdGFyTGF5ZXIuc3RhcnMubWFwKHggPT4geC5yKTtcclxuICAgICAgICBzbGlkZXJTaXplLm1pblZhbHVlID0gMC4wMDE7XHJcbiAgICAgICAgc2xpZGVyU2l6ZS5tYXhWYWx1ZSA9IDI7XHJcbiAgICAgICAgc2xpZGVyU2l6ZS5jdXJyZW50VmFsdWVMb3cgPSBNYXRoLm1pbiguLi5zaXplcyk7XHJcbiAgICAgICAgc2xpZGVyU2l6ZS5jdXJyZW50VmFsdWVIaWdoID0gTWF0aC5tYXgoLi4uc2l6ZXMpO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChzbGlkZXJTaXplKTtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5hZGRJdGVtKHNsaWRlclNpemUpO1xyXG4gICAgICAgIHNsaWRlclNpemUudmFsdWVzQ2hhbmdlZC5hZGRFdmVudExpc3RlbmVyKHRoaXMuc2l6ZXNDaGFuZ2VkKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbnVtYmVyT2ZTdGFyc0NoYW5nZWQgPSAobnVtYmVyT2ZTdGFyczogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgQXBwLnNldHRpbmdNYW5hZ2VyLmNoYW5nZU51bWJlck9mU3RhcnModGhpcy5zdGFyTGF5ZXIsIE1hdGgucm91bmQobnVtYmVyT2ZTdGFycykpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzcGVlZENoYW5nZWQgPSAoc3BlZWQ6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIEFwcC5zZXR0aW5nTWFuYWdlci5jaGFuZ2VTcGVlZCh0aGlzLnN0YXJMYXllciwgc3BlZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzaXplc0NoYW5nZWQgPSAobG93Qm9yZGVyOiBudW1iZXIsIGhpZ2hCb3JkZXI6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIEFwcC5zZXR0aW5nTWFuYWdlci5jaGFuZ2VTaXplcyh0aGlzLnN0YXJMYXllciwgbG93Qm9yZGVyLCBoaWdoQm9yZGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LnVwZGF0ZUxheW91dChjdHgsIG5ldyBSZWN0YW5nbGUoYm91bmRzLngsIGJvdW5kcy55LCAwLCAwKSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBMYXlvdXRWaWV3IH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGF5b3V0Vmlld1wiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsIH0gZnJvbSBcIi4vc2V0dGluZ3NPdmVybGF5Vmlld01vZGVsXCI7XHJcbmltcG9ydCB7IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlIH0gZnJvbSBcIi4vc2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGVcIjtcclxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvY29udHJvbHMvYnV0dG9uXCI7XHJcbmltcG9ydCB7IENvbnRyb2wgfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9jb250cm9scy9jb250cm9sXCI7XHJcbmltcG9ydCB7IExpc3RWaWV3IH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGlzdFZpZXdcIjtcclxuaW1wb3J0IHsgU3RhckxheWVyIH0gZnJvbSBcIi4uLy4uL21vZGVscy9zdGFyTGF5ZXJcIjtcclxuaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4uLy4uL2FwcFwiO1xyXG5pbXBvcnQgeyBTZXR0aW5nT3BlcmF0aW9uIH0gZnJvbSBcIi4uLy4uL3NldHRpbmdzL3NldHRpbmdPcGVyYXRpb25cIjtcclxuaW1wb3J0IHsgVmVydGljYWxBbGlnbmVtZW50T3B0aW9uIH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvYWxpZ25lbWVudC92ZXJ0aWNhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuaW1wb3J0IHsgSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24gfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9hbGlnbmVtZW50L2hvcml6b250YWxBbGlnbmVtZW50T3B0aW9uXCI7XHJcbmltcG9ydCB7IFN0YXJMYXllclZpZXcgfSBmcm9tIFwiLi9zdGFyTGF5ZXJWaWV3XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU2V0dGluZ3NPdmVybGF5VmlldyBleHRlbmRzIExheW91dFZpZXcge1xyXG4gICAgcHJpdmF0ZSB2aWV3TW9kZWw6IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbCA9IG5ldyBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWwoKTtcclxuICAgIHByaXZhdGUgbGFzdE1vdmVkID0gRGF0ZS5ub3coKTtcclxuICAgIHByaXZhdGUgaW5hY3Rpdml0eVRpbWVvdXQgPSAyMDAwO1xyXG4gICAgcHJpdmF0ZSBzaG93T3ZlckxheWVyQnV0dG9uOiBCdXR0b247XHJcbiAgICBwcml2YXRlIHNldHRpbmdzTGlzdDogTGlzdFZpZXc7XHJcblxyXG4gICAgcHJpdmF0ZSBsYXllckJ1dHRvbnM6IEJ1dHRvbltdID0gW107XHJcbiAgICBwcml2YXRlIGFkZExheWVyQnRuOiBCdXR0b247XHJcbiAgICBwcml2YXRlIGRldGFpbGVkU3RhckxheWVyVmlldzogU3RhckxheWVyVmlldztcclxuICAgIHByaXZhdGUgc2V0dGluZ3NJY29uVGV4dCA9IFwiXFx1ZjAxM1wiXHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLnNob3dPdmVyTGF5ZXJCdXR0b24gPSBuZXcgQnV0dG9uKCk7XHJcbiAgICAgICAgdGhpcy5zaG93T3ZlckxheWVyQnV0dG9uLnByb3BlcnRpZXMuZm9udFByZWZpeCA9IFwiOTAwXCJcclxuICAgICAgICB0aGlzLnNob3dPdmVyTGF5ZXJCdXR0b24ucHJvcGVydGllcy5mb250RmFtaWx5ID0gXCInRm9udCBBd2Vzb21lIDUgRnJlZSdcIlxyXG4gICAgICAgIHRoaXMuc2hvd092ZXJMYXllckJ1dHRvbi50ZXh0ID0gdGhpcy5zZXR0aW5nc0ljb25UZXh0O1xyXG4gICAgICAgIHRoaXMuc2hvd092ZXJMYXllckJ1dHRvbi5hbGlnbmVtZW50LnZlcnRpY2FsQWxpZ24gPSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24uVG9wO1xyXG4gICAgICAgIHRoaXMuc2hvd092ZXJMYXllckJ1dHRvbi5hbGlnbmVtZW50Lmhvcml6b250YWxBbGlnbiA9IEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uLkxlZnQ7XHJcbiAgICAgICAgdGhpcy5zaG93T3ZlckxheWVyQnV0dG9uLmNsaWNrZWQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLnNob3dIaWRlT3ZlcmxheUNsaWNrZWQpO1xyXG4gICAgICAgIHRoaXMuc2hvd092ZXJMYXllckJ1dHRvbi5wcm9wZXJ0aWVzLmJhY2tncm91bmRGaWxsU3R5bGUgPSBcInJnYmEoMCwgMCwgMCwgMC41KVwiO1xyXG5cclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2godGhpcy5zaG93T3ZlckxheWVyQnV0dG9uKTtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdCA9IG5ldyBMaXN0VmlldygpO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LmFsaWduZW1lbnQuaG9yaXpvbnRhbEFsaWduID0gSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24uTGVmdDtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5hbGlnbmVtZW50LnZlcnRpY2FsQWxpZ24gPSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24uVG9wO1xyXG5cclxuICAgICAgICB2YXIgYnRuRm9yTmV3TGF5ZXIgPSBuZXcgQnV0dG9uKCk7XHJcbiAgICAgICAgYnRuRm9yTmV3TGF5ZXIudGV4dCA9IFwiQWRkIExheWVyXCI7XHJcbiAgICAgICAgYnRuRm9yTmV3TGF5ZXIucHJvcGVydGllcy5maWxsU3R5bGUgPSBcIndoaXRlXCI7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QuYWRkSXRlbShidG5Gb3JOZXdMYXllcik7XHJcbiAgICAgICAgYnRuRm9yTmV3TGF5ZXIuY2xpY2tlZC5hZGRFdmVudExpc3RlbmVyKChzZW5kZXI6IENvbnRyb2wpID0+IHtcclxuICAgICAgICAgICAgQXBwLnNldHRpbmdNYW5hZ2VyLmFkZFN0YXJMYXllcigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYWRkTGF5ZXJCdG4gPSBidG5Gb3JOZXdMYXllcjtcclxuXHJcblxyXG4gICAgICAgIEFwcC5zZXR0aW5nTWFuYWdlci51cGRhdGUuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLnNldHRpbmdzVXBkYXRlZCk7XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldHRpbmdzVXBkYXRlZCA9IChvcGVyYXRpb246IFNldHRpbmdPcGVyYXRpb24pID0+IHtcclxuICAgICAgICBzd2l0Y2ggKG9wZXJhdGlvbikge1xyXG4gICAgICAgICAgICBjYXNlIFNldHRpbmdPcGVyYXRpb24uQWRkU3RhckxheWVyOlxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBzdGFyTGF5ZXIgb2YgQXBwLnNldHRpbmdzLnN0YXJMYXllcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMubGF5ZXJCdXR0b25zLm1hcCh4ID0+IHgudGFnKS5jb250YWlucyhzdGFyTGF5ZXIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LnJlbW92ZUl0ZW0odGhpcy5hZGRMYXllckJ0bik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBidG5Gb3JMYXllciA9IG5ldyBCdXR0b24oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnRuRm9yTGF5ZXIudGV4dCA9IFwiRWRpdCBMYXllclwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidG5Gb3JMYXllci50YWcgPSBzdGFyTGF5ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ0bkZvckxheWVyLnByb3BlcnRpZXMuZmlsbFN0eWxlID0gXCJ3aGl0ZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5hZGRJdGVtKGJ0bkZvckxheWVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXllckJ1dHRvbnMucHVzaChidG5Gb3JMYXllcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ0bkZvckxheWVyLmNsaWNrZWQuYWRkRXZlbnRMaXN0ZW5lcigoc2VuZGVyOiBDb250cm9sKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZVNob3dIaWRlU3RhckxheWVyVmlldyhzdGFyTGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QuYWRkSXRlbSh0aGlzLmFkZExheWVyQnRuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgU2V0dGluZ09wZXJhdGlvbi5SZW1vdmVTdGFyTGF5ZXI6XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNldHRpbmdzTGF5ZXIgb2YgdGhpcy5sYXllckJ1dHRvbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIUFwcC5zZXR0aW5ncy5zdGFyTGF5ZXJzLmNvbnRhaW5zKHNldHRpbmdzTGF5ZXIudGFnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5yZW1vdmVJdGVtKHNldHRpbmdzTGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxheWVyQnV0dG9ucy5yZW1vdmVJdGVtKHNldHRpbmdzTGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnJlbW92ZUl0ZW0odGhpcy5kZXRhaWxlZFN0YXJMYXllclZpZXcpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZXRhaWxlZFN0YXJMYXllclZpZXcgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIHRvZ2dsZVNob3dIaWRlU3RhckxheWVyVmlldyA9IChzdGFyTGF5ZXI6IFN0YXJMYXllcikgPT4ge1xyXG4gICAgICAgIGlmICghdGhpcy5kZXRhaWxlZFN0YXJMYXllclZpZXcpIHtcclxuICAgICAgICAgICAgdmFyIHZpZXcgPSBuZXcgU3RhckxheWVyVmlldyhzdGFyTGF5ZXIpO1xyXG4gICAgICAgICAgICB0aGlzLmRldGFpbGVkU3RhckxheWVyVmlldyA9IHZpZXc7XHJcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaCh0aGlzLmRldGFpbGVkU3RhckxheWVyVmlldyk7XHJcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlclVwZGF0ZUxheW91dCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLmRldGFpbGVkU3RhckxheWVyVmlldy5zdGFyTGF5ZXIgIT0gc3RhckxheWVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucmVtb3ZlSXRlbSh0aGlzLmRldGFpbGVkU3RhckxheWVyVmlldyk7XHJcbiAgICAgICAgICAgIHRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB2YXIgdmlldyA9IG5ldyBTdGFyTGF5ZXJWaWV3KHN0YXJMYXllcik7XHJcbiAgICAgICAgICAgIHRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3ID0gdmlldztcclxuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3KTtcclxuICAgICAgICAgICAgdGhpcy50cmlnZ2VyVXBkYXRlTGF5b3V0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnJlbW92ZUl0ZW0odGhpcy5kZXRhaWxlZFN0YXJMYXllclZpZXcpO1xyXG4gICAgICAgICAgICB0aGlzLmRldGFpbGVkU3RhckxheWVyVmlldyA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzaG93SGlkZU92ZXJsYXlDbGlja2VkID0gKHNlbmRlcjogQ29udHJvbCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnZpZXdNb2RlbC5zdGF0ZSA9PSBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS52aXNpYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUuYmVmb3JlVmlzaWJsZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS52aXNpYmxlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUxheW91dChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG4gICAgICAgIHRoaXMuc2hvd092ZXJMYXllckJ1dHRvbi51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG4gICAgICAgIHZhciBzcGFjZSA9IHRoaXMuc2hvd092ZXJMYXllckJ1dHRvbi5kaW1lbnNpb25zLmhlaWdodCAqIDI7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QudXBkYXRlTGF5b3V0KGN0eCwgbmV3IFJlY3RhbmdsZShib3VuZHMueCwgYm91bmRzLnkgKyBzcGFjZSwgYm91bmRzLndpZHRoLCBib3VuZHMuaGVpZ2h0IC0gc3BhY2UpKTtcclxuICAgICAgICBpZiAodGhpcy5kZXRhaWxlZFN0YXJMYXllclZpZXcpIHtcclxuICAgICAgICAgICAgdGhpcy5kZXRhaWxlZFN0YXJMYXllclZpZXcudXBkYXRlTGF5b3V0KGN0eCwgbmV3IFJlY3RhbmdsZShib3VuZHMueCArIHRoaXMuc2V0dGluZ3NMaXN0LmRpbWVuc2lvbnMud2lkdGgsIGJvdW5kcy55ICsgc3BhY2UsIGJvdW5kcy53aWR0aCwgYm91bmRzLmhlaWdodCAtIHNwYWNlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtb3VzZU1vdmUgPSAoZXY6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICBpZiAodGhpcy52aWV3TW9kZWwuc3RhdGUgPT0gU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUuaGlkZGVuIHx8IHRoaXMudmlld01vZGVsLnN0YXRlID09IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLmJlZm9yZVZpc2libGUpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS5iZWZvcmVWaXNpYmxlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3VwZXIubW91c2VNb3ZlKGV2KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2xpY2sgPSAoZXY6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICBpZiAodGhpcy52aWV3TW9kZWwuc3RhdGUgPT0gU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUuaGlkZGVuIHx8IHRoaXMudmlld01vZGVsLnN0YXRlID09IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLmJlZm9yZVZpc2libGUpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS5iZWZvcmVWaXNpYmxlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3VwZXIuY2xpY2soZXYpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtb3VzZUluYWN0aXZpdHlIYW5kbGVyID0gKCkgPT4ge1xyXG4gICAgICAgIGlmIChEYXRlLm5vdygpIC0gdGhpcy5sYXN0TW92ZWQgPj0gdGhpcy5pbmFjdGl2aXR5VGltZW91dCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy52aWV3TW9kZWwuc3RhdGUgPT0gU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUuYmVmb3JlVmlzaWJsZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS5oaWRkZW4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dCh0aGlzLm1vdXNlSW5hY3Rpdml0eUhhbmRsZXIsIHRoaXMuaW5hY3Rpdml0eVRpbWVvdXQgLSAoRGF0ZS5ub3coKSAtIHRoaXMubGFzdE1vdmVkKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0U3RhdGUgPSAoc3RhdGU6IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlKSA9PiB7XHJcbiAgICAgICAgc3dpdGNoIChzdGF0ZSkge1xyXG4gICAgICAgICAgICBjYXNlIFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLmhpZGRlbjpcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucmVtb3ZlSXRlbSh0aGlzLnNob3dPdmVyTGF5ZXJCdXR0b24pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3TW9kZWwuc3RhdGUgPSBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS5oaWRkZW47XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS5iZWZvcmVWaXNpYmxlOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0TW92ZWQgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudmlld01vZGVsLnN0YXRlID09IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLmhpZGRlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQodGhpcy5tb3VzZUluYWN0aXZpdHlIYW5kbGVyLCB0aGlzLmluYWN0aXZpdHlUaW1lb3V0KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuLmFkZEl0ZW1JZk5vdEV4aXN0cyh0aGlzLnNob3dPdmVyTGF5ZXJCdXR0b24pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudmlld01vZGVsLnN0YXRlID09IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLnZpc2libGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMubW91c2VJbmFjdGl2aXR5SGFuZGxlciwgdGhpcy5pbmFjdGl2aXR5VGltZW91dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5yZW1vdmVJdGVtSWZFeGlzdHModGhpcy5zZXR0aW5nc0xpc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucmVtb3ZlSXRlbUlmRXhpc3RzKHRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRldGFpbGVkU3RhckxheWVyVmlldyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMudmlld01vZGVsLnN0YXRlID0gU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUuYmVmb3JlVmlzaWJsZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLnZpc2libGU6XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy52aWV3TW9kZWwuc3RhdGUgPT0gU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUuYmVmb3JlVmlzaWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaCh0aGlzLnNldHRpbmdzTGlzdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdNb2RlbC5zdGF0ZSA9IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLnZpc2libGU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi4vYXBwXCI7XHJcbmltcG9ydCB7IFN0YXJMYXllciB9IGZyb20gXCIuLi9tb2RlbHMvc3RhckxheWVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU3RhckxheWVyQW5pbWF0b3Ige1xyXG4gICAgY29uc3RydWN0b3IocHVibGljIHN0YXJMYXllcjogU3RhckxheWVyKSB7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZSA9ICh0aW1lRGlmZjogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgZm9yIChjb25zdCBzdGFyIG9mIHRoaXMuc3RhckxheWVyLnN0YXJzKSB7XHJcbiAgICAgICAgICAgIHN0YXIueCArPSB0aGlzLnN0YXJMYXllci5zcGVlZCAqIHRpbWVEaWZmO1xyXG4gICAgICAgICAgICBzdGFyLnkgKz0gdGhpcy5zdGFyTGF5ZXIuc3BlZWQgKiB0aW1lRGlmZjtcclxuICAgICAgICAgICAgaWYgKHN0YXIueCA+IEFwcC5zZXR0aW5ncy53aWR0aCkge1xyXG4gICAgICAgICAgICAgICAgc3Rhci54IC09IEFwcC5zZXR0aW5ncy53aWR0aDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc3Rhci55ID4gQXBwLnNldHRpbmdzLmhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgc3Rhci55IC09IEFwcC5zZXR0aW5ncy5oZWlnaHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgRGluamVjdCB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZXM6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPSB7fVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgYWRkSW5zdGFuY2UgPSAobmFtZTogc3RyaW5nLCBpbnN0YW5jZTogYW55KSA9PiB7XHJcbiAgICAgICAgRGluamVjdC5pbnN0YW5jZXNbbmFtZV0gPSBpbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlID0gPFQ+KG5hbWU6IHN0cmluZyk6IFQgPT4ge1xyXG4gICAgICAgIHJldHVybiA8VD5EaW5qZWN0Lmluc3RhbmNlc1tuYW1lXTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IExheW91dFZpZXcgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9sYXlvdXRDb250cm9scy9sYXlvdXRWaWV3XCI7XHJcblxyXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9jb250cm9scy9idXR0b25cIjtcclxuaW1wb3J0IHsgVmVydGljYWxBbGlnbmVtZW50T3B0aW9uIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvYWxpZ25lbWVudC92ZXJ0aWNhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IExpc3RWaWV3IH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGlzdFZpZXdcIjtcclxuaW1wb3J0IHsgT3JpZW50YXRpb24gfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9hbGlnbmVtZW50L29yaWVudGF0aW9uXCI7XHJcbmltcG9ydCB7IERpbmplY3QgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9kaW5qZWN0XCI7XHJcbmltcG9ydCB7IEF1ZGlvTWFuYWdlciB9IGZyb20gXCIuLi9hdWRpb01hbmFnZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQbGF5ZXJWaWV3IGV4dGVuZHMgTGF5b3V0VmlldyB7XHJcblxyXG4gICAgcHJpdmF0ZSBwbGF5SWNvblRleHQgPSBcIlxcdWYwNGJcIlxyXG4gICAgcHJpdmF0ZSBwYXVzZUljb25UZXh0ID0gXCJcXHVmMDRjXCJcclxuICAgIHByaXZhdGUgc3RvcEljb25UZXh0ID0gXCJcXHVmMDRkXCJcclxuICAgIHByaXZhdGUgbmV4dEljb25UZXh0ID0gXCJcXHVmMDUxXCJcclxuICAgIHByaXZhdGUgcHJldmlvdXNJY29uVGV4dCA9IFwiXFx1ZjA0OFwiXHJcblxyXG4gICAgLy8gcHJpdmF0ZSBwbGF5SWNvblRleHQgPSBcInBsYXlcIlxyXG4gICAgLy8gcHJpdmF0ZSBwYXVzZUljb25UZXh0ID0gXCJwYXVzZVwiXHJcbiAgICAvLyBwcml2YXRlIHN0b3BJY29uVGV4dCA9IFwic3RvcFwiXHJcbiAgICAvLyBwcml2YXRlIG5leHRJY29uVGV4dCA9IFwibmV4dFwiXHJcbiAgICAvLyBwcml2YXRlIHByZXZpb3VzSWNvblRleHQgPSBcInByZXZpb3VzXCJcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG5cclxuICAgICAgICB2YXIgYXVkaW9NYW5hZ2VyOiBBdWRpb01hbmFnZXIgPSBEaW5qZWN0LmdldEluc3RhbmNlKFwiYXVkaW9cIik7XHJcblxyXG4gICAgICAgIHZhciBsaXN0VmlldyA9IG5ldyBMaXN0VmlldygpO1xyXG4gICAgICAgIGxpc3RWaWV3LmFsaWduZW1lbnQudmVydGljYWxBbGlnbiA9IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi5Cb3R0b207XHJcbiAgICAgICAgbGlzdFZpZXcuYWxpZ25lbWVudC5tYXJnaW4uYm90dG9tID0gMjA7XHJcbiAgICAgICAgbGlzdFZpZXcucHJvcGVydGllcy5vcmllbnRhdGlvbiA9IE9yaWVudGF0aW9uLkhvcml6b250YWw7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGxpc3RWaWV3KTtcclxuXHJcbiAgICAgICAgdmFyIHBsYXlQYXVzZUJ0biA9IG5ldyBCdXR0b24oKTtcclxuICAgICAgICBwbGF5UGF1c2VCdG4ucHJvcGVydGllcy5mb250UHJlZml4ID0gXCI5MDBcIlxyXG4gICAgICAgIHBsYXlQYXVzZUJ0bi5wcm9wZXJ0aWVzLmZvbnRGYW1pbHkgPSBcIidGb250IEF3ZXNvbWUgNSBGcmVlJ1wiXHJcbiAgICAgICAgcGxheVBhdXNlQnRuLnRleHQgPSB0aGlzLnBsYXlJY29uVGV4dDtcclxuICAgICAgICBwbGF5UGF1c2VCdG4uY2xpY2tlZC5hZGRFdmVudExpc3RlbmVyKCgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHBsYXlQYXVzZUJ0bi50ZXh0ID09IHRoaXMucGxheUljb25UZXh0KSB7XHJcbiAgICAgICAgICAgICAgICBhdWRpb01hbmFnZXIucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgcGxheVBhdXNlQnRuLnRleHQgPSB0aGlzLnBhdXNlSWNvblRleHQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhdWRpb01hbmFnZXIucGF1c2UoKTtcclxuICAgICAgICAgICAgICAgIHBsYXlQYXVzZUJ0bi50ZXh0ID0gdGhpcy5wbGF5SWNvblRleHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy50cmlnZ2VyVXBkYXRlTGF5b3V0KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbGlzdFZpZXcuYWRkSXRlbShwbGF5UGF1c2VCdG4pO1xyXG5cclxuICAgICAgICB2YXIgc3RvcEJ0biA9IG5ldyBCdXR0b24oKTtcclxuICAgICAgICBzdG9wQnRuLnByb3BlcnRpZXMuZm9udFByZWZpeCA9IFwiOTAwXCJcclxuICAgICAgICBzdG9wQnRuLnByb3BlcnRpZXMuZm9udEZhbWlseSA9IFwiJ0ZvbnQgQXdlc29tZSA1IEZyZWUnXCJcclxuICAgICAgICBzdG9wQnRuLnRleHQgPSB0aGlzLnN0b3BJY29uVGV4dDtcclxuICAgICAgICBzdG9wQnRuLmNsaWNrZWQuYWRkRXZlbnRMaXN0ZW5lcigoKSA9PiB7XHJcbiAgICAgICAgICAgIGF1ZGlvTWFuYWdlci5zdG9wKCk7XHJcbiAgICAgICAgICAgIGlmIChwbGF5UGF1c2VCdG4udGV4dCA9PSB0aGlzLnBhdXNlSWNvblRleHQpIHtcclxuICAgICAgICAgICAgICAgIHBsYXlQYXVzZUJ0bi50ZXh0ID0gdGhpcy5wbGF5SWNvblRleHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy50cmlnZ2VyVXBkYXRlTGF5b3V0KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbGlzdFZpZXcuYWRkSXRlbShzdG9wQnRuKTtcclxuXHJcbiAgICAgICAgdmFyIHByZXZpb3VzQnRuID0gbmV3IEJ1dHRvbigpO1xyXG4gICAgICAgIHByZXZpb3VzQnRuLnByb3BlcnRpZXMuZm9udFByZWZpeCA9IFwiOTAwXCJcclxuICAgICAgICBwcmV2aW91c0J0bi5wcm9wZXJ0aWVzLmZvbnRGYW1pbHkgPSBcIidGb250IEF3ZXNvbWUgNSBGcmVlJ1wiXHJcbiAgICAgICAgcHJldmlvdXNCdG4udGV4dCA9IHRoaXMucHJldmlvdXNJY29uVGV4dDtcclxuICAgICAgICBwcmV2aW91c0J0bi5jbGlja2VkLmFkZEV2ZW50TGlzdGVuZXIoKCkgPT4ge1xyXG4gICAgICAgICAgICBhdWRpb01hbmFnZXIucHJldmlvdXMoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBsaXN0Vmlldy5hZGRJdGVtKHByZXZpb3VzQnRuKTtcclxuXHJcbiAgICAgICAgdmFyIG5leHRCdG4gPSBuZXcgQnV0dG9uKCk7XHJcbiAgICAgICAgbmV4dEJ0bi5wcm9wZXJ0aWVzLmZvbnRQcmVmaXggPSBcIjkwMFwiXHJcbiAgICAgICAgbmV4dEJ0bi5wcm9wZXJ0aWVzLmZvbnRGYW1pbHkgPSBcIidGb250IEF3ZXNvbWUgNSBGcmVlJ1wiXHJcbiAgICAgICAgbmV4dEJ0bi50ZXh0ID0gdGhpcy5uZXh0SWNvblRleHQ7XHJcbiAgICAgICAgbmV4dEJ0bi5jbGlja2VkLmFkZEV2ZW50TGlzdGVuZXIoKCkgPT4ge1xyXG4gICAgICAgICAgICBhdWRpb01hbmFnZXIubmV4dCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGxpc3RWaWV3LmFkZEl0ZW0obmV4dEJ0bik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUxheW91dChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpIHtcclxuICAgICAgICBzdXBlci51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICBjaGlsZC51cGRhdGVMYXlvdXQoY3R4LCB0aGlzLmJvdW5kcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgSW1hZ2VTY2FsaW5nTW9kZSB9IGZyb20gXCIuL2ltYWdlU2NhbGluZ01vZGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBJbWFnZVByb3BlcnRpZXMge1xyXG4gICAgcHVibGljIGltYWdlU2NhbGluZ01vZGUgPSBJbWFnZVNjYWxpbmdNb2RlLkZpdEFuZFNwYWNlO1xyXG4gICAgcHVibGljIHNjYWxlID0gMTtcclxufSIsImltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgQ29udHJvbCB9IGZyb20gXCIuL2NvbnRyb2xcIjtcclxuaW1wb3J0IHsgSW1hZ2VQcm9wZXJ0aWVzIH0gZnJvbSBcIi4vaW1hZ2VQcm9wZXJ0aWVzXCI7XHJcbmltcG9ydCB7IEltYWdlU2NhbGluZ01vZGUgfSBmcm9tIFwiLi9pbWFnZVNjYWxpbmdNb2RlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRUltYWdlIGV4dGVuZHMgQ29udHJvbCB7XHJcbiAgICBwcml2YXRlIGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50O1xyXG4gICAgcHVibGljIHByb3BlcnRpZXMgPSBuZXcgSW1hZ2VQcm9wZXJ0aWVzKCk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBpbWFnZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZUZyb21VcmwgPSAoaW1hZ2VVcmw6IHN0cmluZyk6IFByb21pc2U8RUltYWdlPiA9PiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgICAgIGltYWdlLnNyYyA9IGltYWdlVXJsO1xyXG4gICAgICAgICAgICBpbWFnZS5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKG5ldyBFSW1hZ2UoaW1hZ2UpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3VwZXJSZW5kZXIgPSB0aGlzLnJlbmRlcjtcclxuICAgIHB1YmxpYyByZW5kZXIgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpID0+IHtcclxuICAgICAgICB0aGlzLnN1cGVyUmVuZGVyKGN0eCk7XHJcblxyXG4gICAgICAgIGN0eC5kcmF3SW1hZ2UodGhpcy5pbWFnZSwgdGhpcy5kaW1lbnNpb25zLngsIHRoaXMuZGltZW5zaW9ucy55LCB0aGlzLmRpbWVuc2lvbnMud2lkdGgsIHRoaXMuZGltZW5zaW9ucy5oZWlnaHQpO1xyXG4gICAgICAgIGlmICh0aGlzLmlzTW91c2VPdmVyICYmIHRoaXMuaXNFbmFibGVkKSB7XHJcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBcInJnYmEoMjU1LDI1NSwyNTUsMC41KVwiO1xyXG4gICAgICAgICAgICBjdHguZmlsbFJlY3QodGhpcy5kaW1lbnNpb25zLngsIHRoaXMuZGltZW5zaW9ucy55LCB0aGlzLmRpbWVuc2lvbnMud2lkdGgsIHRoaXMuZGltZW5zaW9ucy5oZWlnaHQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcblxyXG4gICAgICAgIHZhciBmaXRTY2FsZSA9IDE7XHJcblxyXG4gICAgICAgIHZhciBpbWFnZVNpemluZyA9IHRoaXMuaW1hZ2UubmF0dXJhbFdpZHRoIC8gdGhpcy5pbWFnZS5uYXR1cmFsSGVpZ2h0O1xyXG4gICAgICAgIHZhciBzdGFnZVNpemluZyA9IGJvdW5kcy53aWR0aCAvIGJvdW5kcy5oZWlnaHQ7XHJcblxyXG4gICAgICAgIHZhciBpc0ltYWdlV2lkZXIgPSBpbWFnZVNpemluZyA+IHN0YWdlU2l6aW5nO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKHRoaXMucHJvcGVydGllcy5pbWFnZVNjYWxpbmdNb2RlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgSW1hZ2VTY2FsaW5nTW9kZS5GaXRBbmRPdmVyZmlsbDpcclxuICAgICAgICAgICAgICAgIGlmIChpc0ltYWdlV2lkZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBmaXRTY2FsZSA9IGJvdW5kcy5oZWlnaHQgLyB0aGlzLmltYWdlLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZml0U2NhbGUgPSBib3VuZHMud2lkdGggLyB0aGlzLmltYWdlLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgSW1hZ2VTY2FsaW5nTW9kZS5GaXRBbmRTcGFjZTpcclxuICAgICAgICAgICAgICAgIGlmIChpc0ltYWdlV2lkZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBmaXRTY2FsZSA9IGJvdW5kcy53aWR0aCAvIHRoaXMuaW1hZ2Uud2lkdGg7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpdFNjYWxlID0gYm91bmRzLmhlaWdodCAvIHRoaXMuaW1hZ2UuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmltYWdlLm5hdHVyYWxXaWR0aCAqIGZpdFNjYWxlO1xyXG4gICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmltYWdlLm5hdHVyYWxIZWlnaHQgKiBmaXRTY2FsZTtcclxuXHJcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zLnggPSB0aGlzLmFsaWduZW1lbnQuY2FsY3VsYXRlRGltZW5zaW9uc1goYm91bmRzLCB3aWR0aCk7XHJcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zLnkgPSB0aGlzLmFsaWduZW1lbnQuY2FsY3VsYXRlRGltZW5zaW9uc1koYm91bmRzLCB3aWR0aCk7XHJcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zLmhlaWdodCA9IGhlaWdodDtcclxuICAgIH1cclxufSIsImltcG9ydCB7IExheW91dFZpZXcgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9sYXlvdXRDb250cm9scy9sYXlvdXRWaWV3XCI7XHJcbmltcG9ydCB7IERpbmplY3QgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9kaW5qZWN0XCI7XHJcbmltcG9ydCB7IEFzc2V0TWFuYWdlciB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL2Fzc2V0TWFuYWdlclwiO1xyXG5pbXBvcnQgeyBFSW1hZ2UgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9jb250cm9scy9pbWFnZVwiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgSW1hZ2VTY2FsaW5nTW9kZSB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2ltYWdlU2NhbGluZ01vZGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBCYWNrZ3JvdW5kSW1hZ2VWaWV3IGV4dGVuZHMgTGF5b3V0VmlldyB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHZhciBhc3NldE1hbmFnZXIgPSBEaW5qZWN0LmdldEluc3RhbmNlKFwiYXNzZXRzXCIpIGFzIEFzc2V0TWFuYWdlcjtcclxuICAgICAgICB2YXIgYmFja2dyb3VuZCA9IGFzc2V0TWFuYWdlci5nZXRJbWFnZShcImJhY2tncm91bmRcIik7XHJcblxyXG4gICAgICAgIHZhciBpbWFnZSA9IG5ldyBFSW1hZ2UoYmFja2dyb3VuZClcclxuICAgICAgICBpbWFnZS5kaXNhYmxlTW91c2VFdmVudHMoKTtcclxuICAgICAgICBpbWFnZS5wcm9wZXJ0aWVzLmltYWdlU2NhbGluZ01vZGUgPSBJbWFnZVNjYWxpbmdNb2RlLkZpdEFuZE92ZXJmaWxsO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChpbWFnZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUxheW91dChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICBjaGlsZC51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBMYWJlbFByb3BlcnRpZXMge1xyXG4gICAgcHVibGljIGZvbnRTaXplID0gNDA7XHJcbiAgICBwdWJsaWMgZm9udFByZWZpeCA9IFwiXCI7XHJcbiAgICBwdWJsaWMgZm9udEZhbWlseSA9IFwiZm9udGF3ZXNvbWVcIjtcclxuICAgIHB1YmxpYyBmaWxsU3R5bGUgPSBcImJsdWVcIjtcclxuICAgIHB1YmxpYyBiYWNrZ3JvdW5kRmlsbFN0eWxlOiBzdHJpbmcgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgcHVibGljIGdldEZvbnQgPSAoKSA9PiB7XHJcbiAgICAgICAgdmFyIGZvbnQgPSBcIlwiO1xyXG4gICAgICAgIGlmICh0aGlzLmZvbnRQcmVmaXgpIHtcclxuICAgICAgICAgICAgZm9udCArPSB0aGlzLmZvbnRQcmVmaXggKyBcIiBcIlxyXG4gICAgICAgIH1cclxuICAgICAgICBmb250ICs9IHRoaXMuZm9udFNpemUgKyBcInB4XCIgKyBcIiBcIiArIHRoaXMuZm9udEZhbWlseTtcclxuICAgICAgICByZXR1cm4gZm9udDtcclxuICAgIH1cclxufSIsImltcG9ydCB7IENvbnRyb2wgfSBmcm9tIFwiLi9jb250cm9sXCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgTGFiZWxQcm9wZXJ0aWVzIH0gZnJvbSBcIi4vbGFiZWxQcm9wZXJ0aWVzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTGFiZWwgZXh0ZW5kcyBDb250cm9sIHtcclxuICAgIHB1YmxpYyBwcm9wZXJ0aWVzID0gbmV3IExhYmVsUHJvcGVydGllcygpO1xyXG5cclxuICAgIHB1YmxpYyB0ZXh0OiBzdHJpbmc7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmRpc2FibGVNb3VzZUV2ZW50cygpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW5kZXIgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpID0+IHtcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5wcm9wZXJ0aWVzLmZpbGxTdHlsZTtcclxuICAgICAgICBjdHguZm9udCA9IHRoaXMucHJvcGVydGllcy5nZXRGb250KCk7XHJcbiAgICAgICAgY3R4LnRleHRBbGlnbiA9IFwibGVmdFwiO1xyXG4gICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSBcInRvcFwiO1xyXG4gICAgICAgIGN0eC5maWxsVGV4dCh0aGlzLnRleHQsIHRoaXMuZGltZW5zaW9ucy54LCB0aGlzLmRpbWVuc2lvbnMueSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUxheW91dCA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpOiB2b2lkID0+IHtcclxuICAgICAgICBzdXBlci51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG5cclxuICAgICAgICBjdHguZm9udCA9IHRoaXMucHJvcGVydGllcy5nZXRGb250KCk7XHJcbiAgICAgICAgY3R4LnRleHRBbGlnbiA9IFwibGVmdFwiO1xyXG4gICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSBcInRvcFwiO1xyXG4gICAgICAgIHZhciBzaXplID0gY3R4Lm1lYXN1cmVUZXh0KHRoaXMudGV4dCk7XHJcblxyXG4gICAgICAgIHZhciB4ID0gdGhpcy5hbGlnbmVtZW50LmNhbGN1bGF0ZURpbWVuc2lvbnNYKGJvdW5kcywgc2l6ZS53aWR0aCk7XHJcbiAgICAgICAgdmFyIHkgPSB0aGlzLmFsaWduZW1lbnQuY2FsY3VsYXRlRGltZW5zaW9uc1koYm91bmRzLCB0aGlzLnByb3BlcnRpZXMuZm9udFNpemUpO1xyXG5cclxuICAgICAgICB0aGlzLmRpbWVuc2lvbnMgPSBuZXcgUmVjdGFuZ2xlKHgsIHksIHNpemUud2lkdGgsIHRoaXMucHJvcGVydGllcy5mb250U2l6ZSlcclxuICAgIH1cclxufSIsImltcG9ydCB7IExheW91dFZpZXcgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9sYXlvdXRDb250cm9scy9sYXlvdXRWaWV3XCI7XHJcbmltcG9ydCB7IERpbmplY3QgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9kaW5qZWN0XCI7XHJcbmltcG9ydCB7IEFzc2V0TWFuYWdlciB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL2Fzc2V0TWFuYWdlclwiO1xyXG5pbXBvcnQgeyBFSW1hZ2UgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9jb250cm9scy9pbWFnZVwiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgSW1hZ2VTY2FsaW5nTW9kZSB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2ltYWdlU2NhbGluZ01vZGVcIjtcclxuaW1wb3J0IHsgRUFuaW1hdGlvbiB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL2VBbmltYXRpb25cIjtcclxuaW1wb3J0IHsgQXVkaW9NYW5hZ2VyIH0gZnJvbSBcIi4uL2F1ZGlvTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBBdWRpb0dyYXBoTm9kZUFuYWx5c2VyIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvYXVkaW8vYXVkaW9HcmFwaE5vZGVBbmFseXNlclwiO1xyXG5pbXBvcnQgeyBMYWJlbCB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2xhYmVsXCI7XHJcbmltcG9ydCB7IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbiB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvdmVydGljYWxBbGlnbmVtZW50T3B0aW9uXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRnJvbnRWaWV3IGV4dGVuZHMgTGF5b3V0VmlldyB7XHJcbiAgICBhbmFseXNlcjogQXVkaW9HcmFwaE5vZGVBbmFseXNlcjtcclxuXHJcbiAgICBwcml2YXRlIGZyZXF1ZW5jeUluZGV4ID0gNztcclxuICAgIHByaXZhdGUgbG93ZXJCb3JkZXIgPSAwLjQ7XHJcbiAgICBwcml2YXRlIHVwcGVyQm9yZGVyID0gMC45O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdmFyIGFzc2V0TWFuYWdlciA9IERpbmplY3QuZ2V0SW5zdGFuY2UoXCJhc3NldHNcIikgYXMgQXNzZXRNYW5hZ2VyO1xyXG5cclxuICAgICAgICB2YXIgYXVkaW9NYW5hZ2VyID0gRGluamVjdC5nZXRJbnN0YW5jZShcImF1ZGlvXCIpIGFzIEF1ZGlvTWFuYWdlcjtcclxuICAgICAgICB0aGlzLmFuYWx5c2VyID0gYXVkaW9NYW5hZ2VyLmdldEFuYWx5c2VyKCk7XHJcblxyXG4gICAgICAgIHZhciBsb2dvID0gYXNzZXRNYW5hZ2VyLmdldEltYWdlKFwibG9nb1wiKTtcclxuICAgICAgICB2YXIgbG9nb05vdmEgPSBhc3NldE1hbmFnZXIuZ2V0SW1hZ2UoXCJsb2dvLW5vdmFcIik7XHJcblxyXG4gICAgICAgIHRoaXMuZGlzYWJsZU1vdXNlRXZlbnRzKCk7XHJcblxyXG4gICAgICAgIHZhciBsb2dvTm92YUVJbWFnZSA9IG5ldyBFSW1hZ2UobG9nb05vdmEpO1xyXG4gICAgICAgIGxvZ29Ob3ZhRUltYWdlLnByb3BlcnRpZXMuaW1hZ2VTY2FsaW5nTW9kZSA9IEltYWdlU2NhbGluZ01vZGUuRml0QW5kU3BhY2U7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGxvZ29Ob3ZhRUltYWdlKTtcclxuXHJcbiAgICAgICAgdmFyIGZ1bmMgPSBsb2dvTm92YUVJbWFnZS5yZW5kZXJcclxuXHJcbiAgICAgICAgbG9nb05vdmFFSW1hZ2UucmVuZGVyID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PiB7XHJcbiAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5hbmFseXNlci5nZXRTcGVjdHJ1bSgpO1xyXG4gICAgICAgICAgICB2YXIgcmVsRGF0YVZhbHVlID0gdGhpcy5jYWxjdWxhdGVSZWxEYXRhVmFsdWUoZGF0YVt0aGlzLmZyZXF1ZW5jeUluZGV4XSk7XHJcblxyXG4gICAgICAgICAgICBjdHguc2F2ZSgpO1xyXG4gICAgICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSByZWxEYXRhVmFsdWU7XHJcbiAgICAgICAgICAgIGZ1bmMoY3R4KTtcclxuICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBsb2dvRnJvbnQgPSBuZXcgRUltYWdlKGxvZ28pO1xyXG4gICAgICAgIGxvZ29Gcm9udC5wcm9wZXJ0aWVzLmltYWdlU2NhbGluZ01vZGUgPSBJbWFnZVNjYWxpbmdNb2RlLkZpdEFuZFNwYWNlO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChsb2dvRnJvbnQpO1xyXG5cclxuXHJcbiAgICAgICAgdmFyIHNvbmdOYW1lID0gbmV3IExhYmVsKCk7XHJcbiAgICAgICAgc29uZ05hbWUudGV4dCA9IFwiTmFtZSBvZiB0aGUgc29uZ1wiO1xyXG4gICAgICAgIHNvbmdOYW1lLnByb3BlcnRpZXMuZmlsbFN0eWxlID0gXCJibHVlXCJcclxuICAgICAgICBzb25nTmFtZS5wcm9wZXJ0aWVzLmZvbnRGYW1pbHkgPSBcIk9wZXJldHRhXCI7XHJcbiAgICAgICAgc29uZ05hbWUuYWxpZ25lbWVudC52ZXJ0aWNhbEFsaWdubWVudFJhdGlvID0gMC42O1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChzb25nTmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjYWxjdWxhdGVSZWxEYXRhVmFsdWUoZGF0YVZhbHVlOiBudW1iZXIpIHtcclxuICAgICAgICB2YXIgcmVsRGF0YVZhbHVlID0gZGF0YVZhbHVlIC8gMjU1O1xyXG4gICAgICAgIGlmIChyZWxEYXRhVmFsdWUgPCB0aGlzLmxvd2VyQm9yZGVyKSB7XHJcbiAgICAgICAgICAgIHJlbERhdGFWYWx1ZSA9IHRoaXMubG93ZXJCb3JkZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChyZWxEYXRhVmFsdWUgPiB0aGlzLnVwcGVyQm9yZGVyKSB7XHJcbiAgICAgICAgICAgIHJlbERhdGFWYWx1ZSA9IHRoaXMudXBwZXJCb3JkZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBmaW5hbFJlbERhdGFWYWx1ZSA9IChyZWxEYXRhVmFsdWUgLSB0aGlzLmxvd2VyQm9yZGVyKSAvICh0aGlzLnVwcGVyQm9yZGVyIC0gdGhpcy5sb3dlckJvcmRlcik7XHJcbiAgICAgICAgcmV0dXJuIGZpbmFsUmVsRGF0YVZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVMYXlvdXQoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGJvdW5kczogUmVjdGFuZ2xlKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIudXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgY2hpbGQudXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBMYXlvdXRWaWV3IH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGF5b3V0Vmlld1wiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgU3RhckxheWVyRHJhd2VyIH0gZnJvbSBcIi4vc3RhckxheWVyRHJhd2VyXCI7XHJcbmltcG9ydCB7IFNldHRpbmdzT3ZlcmxheVZpZXcgfSBmcm9tIFwiLi9vdmVybGF5L3NldHRpbmdzT3ZlcmxheVZpZXdcIjtcclxuaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4uL2FwcFwiO1xyXG5pbXBvcnQgeyBTdGFyTGF5ZXJBbmltYXRvciB9IGZyb20gXCIuL3N0YXJMYXllckFuaW1hdG9yXCI7XHJcbmltcG9ydCB7IEVBbmltYXRpb24gfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9lQW5pbWF0aW9uXCI7XHJcbmltcG9ydCB7IFNldHRpbmdPcGVyYXRpb24gfSBmcm9tIFwiLi4vc2V0dGluZ3Mvc2V0dGluZ09wZXJhdGlvblwiO1xyXG5pbXBvcnQgeyBEaW5qZWN0IH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvZGluamVjdFwiO1xyXG5pbXBvcnQgeyBQbGF5ZXJWaWV3IH0gZnJvbSBcIi4vcGxheWVyVmlld1wiO1xyXG5pbXBvcnQgeyBCYWNrZ3JvdW5kSW1hZ2VWaWV3IH0gZnJvbSBcIi4vYmFja2dyb3VuZEltYWdlVmlld1wiO1xyXG5pbXBvcnQgeyBGcm9udFZpZXcgfSBmcm9tIFwiLi9mcm9udFZpZXdcIjtcclxuaW1wb3J0IHsgTG9hZGluZ1ZpZXcgfSBmcm9tIFwiLi9sb2FkaW5nVmlld1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEluc3BpZXJ0eVBsYXllclZpZXcgZXh0ZW5kcyBMYXlvdXRWaWV3IHtcclxuICAgIHByaXZhdGUgc3RhckxheWVyczogU3RhckxheWVyRHJhd2VyW10gPSBbXTtcclxuICAgIHByaXZhdGUgc3RhckFuaW1hdG9yczogU3RhckxheWVyQW5pbWF0b3JbXSA9IFtdO1xyXG5cclxuICAgIHByaXZhdGUgYW5pbWF0aW9uOiBFQW5pbWF0aW9uO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uID0gRGluamVjdC5nZXRJbnN0YW5jZShcImFuaW1hdGlvblwiKTtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbi5sb3dQZXJmb3JtYW5jZS5hZGRFdmVudExpc3RlbmVyKHRoaXMub25Mb3dQZXJmb3JtYW5jZSk7XHJcblxyXG4gICAgICAgIEFwcC5zZXR0aW5nTWFuYWdlci51cGRhdGUuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmFwcFNldHRpbmdzVXBkYXRlZCk7XHJcbiAgICAgICAgdmFyIGJhY2tncm91bmQgPSBuZXcgQmFja2dyb3VuZEltYWdlVmlldygpO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChiYWNrZ3JvdW5kKTtcclxuICAgICAgICAoZG9jdW1lbnQgYXMgYW55KS50ZXN0aXQgPSBiYWNrZ3JvdW5kO1xyXG5cclxuICAgICAgICB2YXIgcGxheWVyVmlldyA9IG5ldyBQbGF5ZXJWaWV3KCk7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHBsYXllclZpZXcpO1xyXG5cclxuICAgICAgICB2YXIgZnJvbnQgPSBuZXcgRnJvbnRWaWV3KCk7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGZyb250KTtcclxuXHJcbiAgICAgICAgdmFyIHNldHRpbmdzT3ZlcmxheSA9IG5ldyBTZXR0aW5nc092ZXJsYXlWaWV3KCk7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHNldHRpbmdzT3ZlcmxheSk7XHJcblxyXG4gICAgICAgIHRoaXMudHJpZ2dlclVwZGF0ZUxheW91dCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgb25Mb3dQZXJmb3JtYW5jZSA9ICgpID0+IHtcclxuICAgICAgICBmb3IgKGNvbnN0IHN0YXJMYXllciBvZiB0aGlzLnN0YXJMYXllcnMpIHtcclxuICAgICAgICAgICAgQXBwLnNldHRpbmdNYW5hZ2VyLmNoYW5nZU51bWJlck9mU3RhcnMoc3RhckxheWVyLnN0YXJMYXllciwgTWF0aC5yb3VuZChzdGFyTGF5ZXIuc3RhckxheWVyLnN0YXJzLmxlbmd0aCAqIDAuOSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFwcFNldHRpbmdzVXBkYXRlZCA9IChvcGVyYXRpb246IFNldHRpbmdPcGVyYXRpb24pID0+IHtcclxuICAgICAgICBzd2l0Y2ggKG9wZXJhdGlvbikge1xyXG4gICAgICAgICAgICBjYXNlIFNldHRpbmdPcGVyYXRpb24uQWRkU3RhckxheWVyOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRTdGFyTGF5ZXIoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFNldHRpbmdPcGVyYXRpb24uUmVtb3ZlU3RhckxheWVyOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVTdGFyTGF5ZXIoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkU3RhckxheWVyID0gKCkgPT4ge1xyXG4gICAgICAgIGZvciAoY29uc3Qgc3RhckxheWVyIG9mIEFwcC5zZXR0aW5ncy5zdGFyTGF5ZXJzKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXJMYXllcnMuZmlyc3RPckRlZmF1bHQoeCA9PiB4LnN0YXJMYXllciA9PSBzdGFyTGF5ZXIpID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHZhciBsYXllciA9IG5ldyBTdGFyTGF5ZXJEcmF3ZXIoc3RhckxheWVyKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhckxheWVycy5wdXNoKGxheWVyKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKDEsIDAsIGxheWVyKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlclVwZGF0ZUxheW91dCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBhbmltYXRvciA9IG5ldyBTdGFyTGF5ZXJBbmltYXRvcihzdGFyTGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb24uYWRkVXBkYXRlRnVuY3Rpb24oYW5pbWF0b3IudXBkYXRlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhckFuaW1hdG9ycy5wdXNoKGFuaW1hdG9yKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVTdGFyTGF5ZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgZm9yIChjb25zdCBzdGFyTGF5ZXJEcmF3cyBvZiB0aGlzLnN0YXJMYXllcnMpIHtcclxuICAgICAgICAgICAgaWYgKEFwcC5zZXR0aW5ncy5zdGFyTGF5ZXJzLmZpcnN0T3JEZWZhdWx0KHggPT4geCA9PSBzdGFyTGF5ZXJEcmF3cy5zdGFyTGF5ZXIpID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhbmltYXRvciA9IHRoaXMuc3RhckFuaW1hdG9ycy5maXJzdCh4ID0+IHguc3RhckxheWVyID09IHN0YXJMYXllckRyYXdzLnN0YXJMYXllcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvbi5yZW1vdmVVcGRhdGVGdW5jdGlvbihhbmltYXRvci51cGRhdGUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFyQW5pbWF0b3JzLnJlbW92ZUl0ZW0oYW5pbWF0b3IpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucmVtb3ZlKHggPT4geCA9PSBzdGFyTGF5ZXJEcmF3cyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJMYXllcnMucmVtb3ZlKHggPT4geCA9PSBzdGFyTGF5ZXJEcmF3cyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXJVcGRhdGVMYXlvdXQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGNoaWxkLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgU3RhciB9IGZyb20gXCIuL3N0YXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTdGFyTGF5ZXIge1xyXG4gICAgcHVibGljIHN0YXJzOiBTdGFyW10gPSBbXTtcclxuICAgIHB1YmxpYyBzcGVlZCA9IE1hdGgucmFuZG9tKCkgKiAxICsgMC4xO1xyXG59IiwiaW1wb3J0IHsgRUV2ZW50IH0gZnJvbSBcIi4vZUV2ZW50XCI7XHJcblxyXG5leHBvcnQgdHlwZSBVcGRhdGVGdW5jdGlvbiA9ICh0aW1lRGlmZjogbnVtYmVyKSA9PiB2b2lkO1xyXG5cclxuZXhwb3J0IGNsYXNzIEVBbmltYXRpb24ge1xyXG4gICAgcHJpdmF0ZSB1cGRhdGVGdW5jdGlvbnM6IFVwZGF0ZUZ1bmN0aW9uW10gPSBbXTtcclxuICAgIHByaXZhdGUgaXNSdW5uaW5nID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIGxhc3RGcmFtZVRpbWU6IG51bWJlcjtcclxuICAgIHByaXZhdGUgZnBzOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGZwc0ludGVydmFsOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHBlcmZvcm1hbmNlV2FybmluZ1RocmVzaG9sZCA9IDEuMjtcclxuICAgIHByaXZhdGUgcGVyZm9ybWFuY2VXYXJuaW5nRGVsYXlSdW5zID0gODtcclxuICAgIHByaXZhdGUgY3VycmVudFBlcmZvcm1hbmNlV2FybmluZ0RlbGF5UnVuID0gMDtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRGcHMoMzApO1xyXG4gICAgICAgIHRoaXMucGxheSgpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IDgwKSB7IC8vIHBcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheVBhdXNlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbG93UGVyZm9ybWFuY2U6IEVFdmVudCA9IG5ldyBFRXZlbnQoKTtcclxuXHJcbiAgICBwdWJsaWMgcGxheSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNSdW5uaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNSdW5uaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5sYXN0RnJhbWVUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25Mb29wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwYXVzZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc1J1bm5pbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5pc1J1bm5pbmcgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBsYXlQYXVzZSgpIHtcclxuICAgICAgICB0aGlzLmlzUnVubmluZyA/IHRoaXMucGF1c2UoKSA6IHRoaXMucGxheSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRVcGRhdGVGdW5jdGlvbiA9IChmdW5jOiBVcGRhdGVGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlRnVuY3Rpb25zLnB1c2goZnVuYyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZVVwZGF0ZUZ1bmN0aW9uID0gKGZ1bmM6IFVwZGF0ZUZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVGdW5jdGlvbnMuc3BsaWNlKHRoaXMudXBkYXRlRnVuY3Rpb25zLmluZGV4T2YoZnVuYyksIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRGcHMgPSAoZnBzOiBudW1iZXIpID0+IHtcclxuICAgICAgICB0aGlzLmZwcyA9IGZwcztcclxuICAgICAgICB0aGlzLmZwc0ludGVydmFsID0gMTAwMCAvIHRoaXMuZnBzO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYW5pbWF0aW9uTG9vcCA9ICgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5pc1J1bm5pbmcpIHtcclxuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0aW9uTG9vcCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTtcclxuICAgICAgICB2YXIgZWxhcHNlZCA9IG5vdyAtIHRoaXMubGFzdEZyYW1lVGltZTtcclxuXHJcbiAgICAgICAgaWYgKGVsYXBzZWQgPiB0aGlzLmZwc0ludGVydmFsKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdEZyYW1lVGltZSA9IG5vdztcclxuICAgICAgICAgICAgdmFyIHRpbWVEaWZmID0gZWxhcHNlZCAvIDEwMDA7XHJcblxyXG4gICAgICAgICAgICBpZiAoKGVsYXBzZWQgLyB0aGlzLmZwc0ludGVydmFsKSAtIDEgPiB0aGlzLnBlcmZvcm1hbmNlV2FybmluZ1RocmVzaG9sZCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJXYXJuaW5nOiBsb3cgcGVyZm9ybWFuY2VcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQZXJmb3JtYW5jZVdhcm5pbmdEZWxheVJ1bisrO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFBlcmZvcm1hbmNlV2FybmluZ0RlbGF5UnVuID4gdGhpcy5wZXJmb3JtYW5jZVdhcm5pbmdEZWxheVJ1bnMpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvd1BlcmZvcm1hbmNlLmRpc3BhdGNoRXZlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQZXJmb3JtYW5jZVdhcm5pbmdEZWxheVJ1biA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jdXJyZW50UGVyZm9ybWFuY2VXYXJuaW5nRGVsYXlSdW4gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQZXJmb3JtYW5jZVdhcm5pbmdEZWxheVJ1biA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgdXBkYXRlRnVuY3Rpb24gb2YgdGhpcy51cGRhdGVGdW5jdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZUZ1bmN0aW9uKHRpbWVEaWZmKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBDYW52YXNIZWxwZXIge1xyXG4gICAgcHVibGljIGxvYWRGb250YXdlc29tZUZyZWUgPSAoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZEZvbnQoXCJcXHVmMjQ0XCIsIFwiXFx1ZjI0MFwiLCBcIjkwMCAyMHB4ICdGb250IEF3ZXNvbWUgNSBGcmVlJ1wiKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbG9hZEZvbnRhd2Vzb21lQnJhbmRzID0gKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRGb250KFwiXFx1ZjNkM1wiLCBcIlxcdWYzYjhcIiwgXCI0MDAgMjBweCAnRm9udCBBd2Vzb21lIDUgQnJhbmRzJ1wiKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNvdW50UGl4ZWxzID0gKGltYWdlRGF0YTogSW1hZ2VEYXRhKSA9PiB7XHJcbiAgICAgICAgdmFyIHBpeGVsQ291bnQgPSAwO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW1hZ2VEYXRhLmRhdGEubGVuZ3RoOyBpID0gaSArIDQpIHtcclxuICAgICAgICAgICAgdmFyIHIgPSBpbWFnZURhdGEuZGF0YVtpXTtcclxuICAgICAgICAgICAgdmFyIGcgPSBpbWFnZURhdGEuZGF0YVtpICsgMV07XHJcbiAgICAgICAgICAgIHZhciBiID0gaW1hZ2VEYXRhLmRhdGFbaSArIDJdO1xyXG4gICAgICAgICAgICB2YXIgYSA9IGltYWdlRGF0YS5kYXRhW2kgKyAzXTtcclxuXHJcbiAgICAgICAgICAgIGlmIChyIDwgNTAgJiYgZyA8IDUwICYmIGIgPCA1MCAmJiBhID4gMC45KSB7XHJcbiAgICAgICAgICAgICAgICBwaXhlbENvdW50Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBpeGVsQ291bnRcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldEljb25QaXhlbHMgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQsIGljb246IHN0cmluZykgPT4ge1xyXG4gICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcclxuICAgICAgICBjdHguZmlsbFRleHQoaWNvbiwgMCwgMCk7XHJcbiAgICAgICAgdmFyIGltYWdlRGF0YSA9IGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcclxuICAgICAgICB2YXIgaWNvbjFQaXhlbENvdW50ID0gdGhpcy5jb3VudFBpeGVscyhpbWFnZURhdGEpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiaWNvbiAxIHBpeGVsIGNvdW50OiBcIiArIGljb24xUGl4ZWxDb3VudCk7XHJcbiAgICAgICAgcmV0dXJuIGljb24xUGl4ZWxDb3VudDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGxvYWRGb250ID0gKGljb24xOiBzdHJpbmcsIGljb24yOiBzdHJpbmcsIGZvbnQ6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIHZhciByZXRyeURlbGF5TXMgPSA1MDA7XHJcbiAgICAgICAgdmFyIHJldHJpZXMgPSAxMFxyXG5cclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImxvYWRpbmcgZm9udCBcXFwiXCIgKyBmb250ICsgXCJcXFwiXCIpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHRlbXBDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICAgICAgdGVtcENhbnZhcy53aWR0aCA9IDIwO1xyXG4gICAgICAgICAgICB0ZW1wQ2FudmFzLmhlaWdodCA9IDIwO1xyXG4gICAgICAgICAgICB2YXIgdGVtcEN0eCA9IHRlbXBDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICAgICAgdGVtcEN0eC5mb250ID0gZm9udDtcclxuICAgICAgICAgICAgdGVtcEN0eC5maWxsU3R5bGUgPSBcImJsYWNrXCI7XHJcbiAgICAgICAgICAgIHRlbXBDdHgudGV4dEFsaWduID0gXCJsZWZ0XCI7XHJcbiAgICAgICAgICAgIHRlbXBDdHgudGV4dEJhc2VsaW5lID0gXCJ0b3BcIjtcclxuXHJcbiAgICAgICAgICAgIHZhciBjaGVja0xvYWRlZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBpY29uMVBpeGVsQ291bnQgPSB0aGlzLmdldEljb25QaXhlbHModGVtcEN0eCwgdGVtcENhbnZhcywgaWNvbjEpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGljb24yUGl4ZWxDb3VudCA9IHRoaXMuZ2V0SWNvblBpeGVscyh0ZW1wQ3R4LCB0ZW1wQ2FudmFzLCBpY29uMik7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGRpZmZQaXhlbHMgPSBNYXRoLmFicyhpY29uMlBpeGVsQ291bnQgLSBpY29uMVBpeGVsQ291bnQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChkaWZmUGl4ZWxzID4gNSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwibG9hZGVkIGZvbnQgXFxcIlwiICsgZm9udCArIFwiXFxcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHJpZXMtLTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmV0cmllcyA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic3RvcCBsb2FkaW5nIGZvbnQgYWZ0ZXIgXCIgKyByZXRyaWVzICsgXCIgcmV0cmllcyB3aXRoIFwiICsgcmV0cnlEZWxheU1zICsgXCJtcyBkZWxheVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwid2FpdGluZyBhIHdoaWxlIChcIiArIHJldHJ5RGVsYXlNcyArIFwibXMpXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrTG9hZGVkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJldHJ5RGVsYXlNcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNoZWNrTG9hZGVkKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgYWJzdHJhY3QgY2xhc3MgQXVkaW9HcmFwaE5vZGUge1xyXG4gICAgY29uc3RydWN0b3IocHVibGljIG5hbWU6IHN0cmluZywgcHJvdGVjdGVkIGF1ZGlvQ3R4OiBBdWRpb0NvbnRleHQpIHsgfVxyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBnZXRBdWRpb05vZGUoKTogQXVkaW9Ob2RlO1xyXG4gICAgcHVibGljIGFic3RyYWN0IHJlbG9hZCgpOiBQcm9taXNlPHZvaWQ+O1xyXG59IiwiaW1wb3J0IHsgQXVkaW9HcmFwaE5vZGUgfSBmcm9tIFwiLi9hdWRpb0dyYXBoTm9kZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEF1ZGlvR3JhcGhOb2RlQW5hbHlzZXIgZXh0ZW5kcyBBdWRpb0dyYXBoTm9kZSB7XHJcbiAgICBhbmFseXNlck5vZGU6IEFuYWx5c2VyTm9kZTtcclxuICAgIGJ1ZmZlckxlbmd0aDogbnVtYmVyO1xyXG4gICAgZGF0YUFycmF5OiBVaW50OEFycmF5O1xyXG5cclxuICAgIHB1YmxpYyBnZXRBdWRpb05vZGUgPSAoKTogQXVkaW9Ob2RlID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hbmFseXNlck5vZGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbG9hZCgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuYW5hbHlzZXJOb2RlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFuYWx5c2VyTm9kZSA9IHRoaXMuYXVkaW9DdHguY3JlYXRlQW5hbHlzZXIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmFuYWx5c2VyTm9kZS5mZnRTaXplID0gMzI7XHJcbiAgICAgICAgICAgIHRoaXMuYW5hbHlzZXJOb2RlLnNtb290aGluZ1RpbWVDb25zdGFudCA9IDAuOTtcclxuICAgICAgICAgICAgdGhpcy5idWZmZXJMZW5ndGggPSB0aGlzLmFuYWx5c2VyTm9kZS5mcmVxdWVuY3lCaW5Db3VudDtcclxuICAgICAgICAgICAgdGhpcy5kYXRhQXJyYXkgPSBuZXcgVWludDhBcnJheSh0aGlzLmJ1ZmZlckxlbmd0aCk7XHJcbiAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0U3BlY3RydW0oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYW5hbHlzZXJOb2RlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYW5hbHlzZXJOb2RlLmdldEJ5dGVGcmVxdWVuY3lEYXRhKHRoaXMuZGF0YUFycmF5KTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YUFycmF5O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoMCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFdhdmUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYW5hbHlzZXJOb2RlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYW5hbHlzZXJOb2RlLmdldEJ5dGVUaW1lRG9tYWluRGF0YSh0aGlzLmRhdGFBcnJheSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGFBcnJheTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KDApO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQXVkaW9HcmFwaE5vZGUgfSBmcm9tIFwiLi9hdWRpb0dyYXBoTm9kZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEF1ZGlvR3JhcGhOb2RlRGVzdGluYXRpb24gZXh0ZW5kcyBBdWRpb0dyYXBoTm9kZSB7XHJcbiAgICBwdWJsaWMgZ2V0QXVkaW9Ob2RlID0gKCk6IEF1ZGlvTm9kZSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYXVkaW9DdHguZGVzdGluYXRpb247XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbG9hZCgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBBdWRpb0dyYXBoTm9kZSB9IGZyb20gXCIuL2F1ZGlvR3JhcGhOb2RlXCI7XHJcbmltcG9ydCB7IEVFdmVudCB9IGZyb20gXCIuLi9lRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBdWRpb0dyYXBoTm9kZUVsZW1lbnRTb3VyY2UgZXh0ZW5kcyBBdWRpb0dyYXBoTm9kZSB7XHJcbiAgICBwdWJsaWMgdXJsOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgYXVkaW9FbmRlZCA9IG5ldyBFRXZlbnQoKTtcclxuXHJcbiAgICBwcml2YXRlIHNvdXJjZTogTWVkaWFFbGVtZW50QXVkaW9Tb3VyY2VOb2RlO1xyXG4gICAgcHJpdmF0ZSBhdWRpbzogSFRNTEF1ZGlvRWxlbWVudDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIGF1ZGlvQ3R4OiBBdWRpb0NvbnRleHQsIHVybDogc3RyaW5nKSB7XHJcbiAgICAgICAgc3VwZXIobmFtZSwgYXVkaW9DdHgpO1xyXG4gICAgICAgIHRoaXMudXJsID0gdXJsO1xyXG5cclxuICAgICAgICB0aGlzLmF1ZGlvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXVkaW8nKTtcclxuICAgICAgICB0aGlzLmF1ZGlvLmNvbnRyb2xzID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmF1ZGlvLnNyYyA9IHRoaXMudXJsO1xyXG4gICAgICAgIHRoaXMuYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsIHRoaXMuYXVkaW9FbmRlZEV2ZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGF1ZGlvRW5kZWRFdmVudCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmF1ZGlvRW5kZWQuZGlzcGF0Y2hFdmVudCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRBdWRpb05vZGUgPSAoKTogQXVkaW9Ob2RlID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zb3VyY2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbG9hZCgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuc291cmNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdXJjZSA9IHRoaXMuYXVkaW9DdHguY3JlYXRlTWVkaWFFbGVtZW50U291cmNlKHRoaXMuYXVkaW8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGxheSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmF1ZGlvLnBsYXkoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGF1c2UgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5hdWRpby5wYXVzZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdG9wID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuYXVkaW8ucGF1c2UoKTtcclxuICAgICAgICB0aGlzLmF1ZGlvLmN1cnJlbnRUaW1lID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0VXJsID0gKHVybDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgdmFyIHBsYXkgPSAhdGhpcy5hdWRpby5wYXVzZWQ7XHJcbiAgICAgICAgdGhpcy51cmwgPSB1cmw7XHJcbiAgICAgICAgdGhpcy5hdWRpby5zcmMgPSB1cmw7XHJcbiAgICAgICAgdGhpcy5hdWRpby5sb2FkKCk7XHJcbiAgICAgICAgaWYgKHBsYXkpIHtcclxuICAgICAgICAgICAgdGhpcy5hdWRpby5wbGF5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQXVkaW9HcmFwaE5vZGUgfSBmcm9tIFwiLi9hdWRpb0dyYXBoTm9kZVwiO1xyXG5pbXBvcnQgeyBBdWRpb0dyYXBoTm9kZUFuYWx5c2VyIH0gZnJvbSBcIi4vYXVkaW9HcmFwaE5vZGVBbmFseXNlclwiO1xyXG5pbXBvcnQgeyBBdWRpb0dyYXBoTm9kZURlc3RpbmF0aW9uIH0gZnJvbSBcIi4vYXVkaW9HcmFwaE5vZGVEZXN0aW5hdGlvblwiO1xyXG5pbXBvcnQgeyBBdWRpb0dyYXBoTm9kZUVsZW1lbnRTb3VyY2UgfSBmcm9tIFwiLi9hdWRpb0dyYXBoTm9kZUVsZW1lbnRTb3VyY2VcIjtcclxuaW1wb3J0IHsgQXVkaW9HcmFwaE5vZGVTdHJlYW1Tb3VyY2UgfSBmcm9tIFwiLi9hdWRpb0dyYXBoTm9kZVN0cmVhbVNvdXJjZVwiO1xyXG5pbXBvcnQgeyBFRXZlbnRUIH0gZnJvbSBcIi4uL2VFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEF1ZGlvR3JhcGgge1xyXG4gICAgcHVibGljIGF1ZGlvQ3R4OiBBdWRpb0NvbnRleHQ7XHJcblxyXG4gICAgLy8gcHJpdmF0ZSBzb3VyY2VOb2RlOiBBdWRpb0dyYXBoTm9kZTxBdWRpb05vZGU+O1xyXG4gICAgLy8gcHJpdmF0ZSBhbmFseXplck5vZGU6IEF1ZGlvR3JhcGhOb2RlQW5hbHlzZXI7XHJcblxyXG4gICAgLy8gcmVtb3ZlIGdlbmVyaWMgVD9cclxuICAgIHByaXZhdGUgYXVkaW9Ob2RlczogQXVkaW9HcmFwaE5vZGVbXSA9IFtdO1xyXG5cclxuICAgIHB1YmxpYyBkZXN0aW5hdGlvbk5vZGU6IEF1ZGlvR3JhcGhOb2RlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMuYXVkaW9DdHggPSBuZXcgKCh3aW5kb3cgYXMgYW55KS5BdWRpb0NvbnRleHQgfHwgKHdpbmRvdyBhcyBhbnkpLndlYmtpdEF1ZGlvQ29udGV4dCkoKTtcclxuICAgICAgICAgICAgdGhpcy5hdWRpb0N0eC5hZGRFdmVudExpc3RlbmVyKFwic3RhdGVjaGFuZ2VcIiwgdGhpcy5hdWRpb0NvbnRleHRTdGF0ZUNoYW5nZWRFdmFsdWF0b3IpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5hdWRpb0N0eC5zdGF0ZSA9PT0gXCJzdXNwZW5kZWRcIikge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuZG9jdW1lbnRDbGljayk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkF1ZGlvIGNvbnRleHQgaXMgc3VzcGVuZGVkLiBDbGljayB0aGUgZG9tIHRvIG1ha2UgaXQgcnVubmluZy5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbk5vZGUgPSBuZXcgQXVkaW9HcmFwaE5vZGVEZXN0aW5hdGlvbihcImRlc3RpbmF0aW9uXCIsIHRoaXMuYXVkaW9DdHgpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHRocm93IFwiSXQgbG9va3MgbGlrZSB5b3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCB3ZWIgYXVkaW8gQVBJIDooXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRNZWRpYUVsZW1lbnRTb3VyY2UgPSAobmFtZTogc3RyaW5nLCB1cmw6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIHZhciBzb3VyY2VOb2RlID0gbmV3IEF1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZShuYW1lLCB0aGlzLmF1ZGlvQ3R4LCB1cmwpO1xyXG4gICAgICAgIHRoaXMuYXVkaW9Ob2Rlcy5wdXNoKHNvdXJjZU5vZGUpO1xyXG4gICAgICAgIHJldHVybiBzb3VyY2VOb2RlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRBbmFseXplciA9IChuYW1lOiBzdHJpbmcpID0+IHtcclxuICAgICAgICB2YXIgYW5hbHl6ZXJOb2RlID0gbmV3IEF1ZGlvR3JhcGhOb2RlQW5hbHlzZXIobmFtZSwgdGhpcy5hdWRpb0N0eCk7XHJcbiAgICAgICAgdGhpcy5hdWRpb05vZGVzLnB1c2goYW5hbHl6ZXJOb2RlKTtcclxuICAgICAgICByZXR1cm4gYW5hbHl6ZXJOb2RlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRBdWRpb0dyYXBoTm9kZSA9IChuYW1lOiBzdHJpbmcpID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hdWRpb05vZGVzLmZpcnN0KHggPT4geC5uYW1lID09IG5hbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHB1YmxpYyBwbGF5VXJsID0gKHVybDogc3RyaW5nKSA9PiB7XHJcbiAgICAvLyAgICAgdGhpcy5zb3VyY2VOb2RlID0gbmV3IEF1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZSh0aGlzLmF1ZGlvQ3R4LCB1cmwpO1xyXG4gICAgLy8gICAgIGlmICh0aGlzLmF1ZGlvQ3R4LnN0YXRlID09PSBcInJ1bm5pbmdcIikge1xyXG4gICAgLy8gICAgICAgICB0aGlzLmJ1aWxkR3JhcGgoKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gcHVibGljIHBsYXlTdHJlYW0gPSAoKSA9PiB7XHJcbiAgICAvLyAgICAgdGhpcy5zb3VyY2VOb2RlID0gbmV3IEF1ZGlvR3JhcGhOb2RlU3RyZWFtU291cmNlKHRoaXMuYXVkaW9DdHgpO1xyXG4gICAgLy8gICAgIGlmICh0aGlzLmF1ZGlvQ3R4LnN0YXRlID09PSBcInJ1bm5pbmdcIikge1xyXG4gICAgLy8gICAgICAgICB0aGlzLmJ1aWxkR3JhcGgoKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9XHJcblxyXG4gICAgcHVibGljIGF1ZGlvQ29udGV4dFN0YXRlQ2hhbmdlZCA9IG5ldyBFRXZlbnRUPHN0cmluZz4oKTtcclxuXHJcbiAgICBwcml2YXRlIGRvY3VtZW50Q2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuYXVkaW9DdHguc3RhdGUgPT09IFwic3VzcGVuZGVkXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5hdWRpb0N0eC5yZXN1bWUoKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuZG9jdW1lbnRDbGljayk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXVkaW9Db250ZXh0U3RhdGVDaGFuZ2VkRXZhbHVhdG9yID0gKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmF1ZGlvQ3R4LnN0YXRlID09PSBcInJ1bm5pbmdcIikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImF1ZGlvIGNvbnRleHQgc3RhdGUgY2hhbmdlZFwiKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYXVkaW9DdHgucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInN0YXRlY2hhbmdlXCIsIHRoaXMuYXVkaW9Db250ZXh0U3RhdGVDaGFuZ2VkRXZhbHVhdG9yKTtcclxuICAgICAgICAgICAgdGhpcy5yZWxvYWQoKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXVkaW9Db250ZXh0U3RhdGVDaGFuZ2VkLmRpc3BhdGNoRXZlbnQodGhpcy5hdWRpb0N0eC5zdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbG9hZCA9ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInJlYWxvYWRpbmcgYXVkaW8gZ3JhcGhcIik7XHJcbiAgICAgICAgICAgIFByb21pc2UuYWxsKHRoaXMuYXVkaW9Ob2Rlcy5tYXAoeCA9PiB4LnJlbG9hZCgpKSlcclxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInJlbG9hZGVkIGF1ZGlvIGdyYXBoXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5hdWRpb05vZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGF1ZGlvTm9kZSA9IHRoaXMuYXVkaW9Ob2Rlc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW9Ob2RlLmdldEF1ZGlvTm9kZSgpLmRpc2Nvbm5lY3QoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpIDwgdGhpcy5hdWRpb05vZGVzLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1ZGlvTm9kZS5nZXRBdWRpb05vZGUoKS5jb25uZWN0KHRoaXMuYXVkaW9Ob2Rlc1tpICsgMV0uZ2V0QXVkaW9Ob2RlKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW9Ob2RlLmdldEF1ZGlvTm9kZSgpLmNvbm5lY3QodGhpcy5kZXN0aW5hdGlvbk5vZGUuZ2V0QXVkaW9Ob2RlKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHByaXZhdGUgYnVpbGRHcmFwaCgpIHtcclxuICAgIC8vICAgICBjb25zb2xlLmxvZyhcIkJ1aWxkaW5nIGF1ZGlvIGdyYXBoLlwiKTtcclxuXHJcbiAgICAvLyAgICAgaWYgKHRoaXMuc291cmNlTm9kZS5nZXRBdWRpb05vZGUoKSkge1xyXG4gICAgLy8gICAgICAgICB0aGlzLnNvdXJjZU5vZGUuZ2V0QXVkaW9Ob2RlKCkuZGlzY29ubmVjdCgpO1xyXG4gICAgLy8gICAgICAgICB0aGlzLmFuYWx5emVyTm9kZS5nZXRBdWRpb05vZGUoKS5kaXNjb25uZWN0KCk7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuZGVzdGluYXRpb25Ob2RlLmdldEF1ZGlvTm9kZSgpLmRpc2Nvbm5lY3QoKTtcclxuICAgIC8vICAgICAgICAgdGhpcy5zb3VyY2VOb2RlLmdldEF1ZGlvTm9kZSgpLmNvbm5lY3QodGhpcy5hbmFseXplck5vZGUuZ2V0QXVkaW9Ob2RlKCkpO1xyXG4gICAgLy8gICAgICAgICB0aGlzLmFuYWx5emVyTm9kZS5nZXRBdWRpb05vZGUoKS5jb25uZWN0KHRoaXMuZGVzdGluYXRpb25Ob2RlLmdldEF1ZGlvTm9kZSgpKTtcclxuICAgIC8vICAgICB9IGVsc2Uge1xyXG4gICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhcIkF1ZGlvIHNvdXJjZSBub3QgYXZhaWxhYmxlLiBXYWl0aW5nIHNvbWUgdGltZS5cIik7XHJcbiAgICAvLyAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgLy8gICAgICAgICAgICAgdGhpcy5idWlsZEdyYXBoKCk7XHJcbiAgICAvLyAgICAgICAgIH0sIDEwMDApO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBwdWJsaWMgZ2V0U3BlY3RydW0oKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuIHRoaXMuYW5hbHl6ZXJOb2RlLmdldFNwZWN0cnVtKCk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gcHVibGljIGdldFdhdmUoKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuIHRoaXMuYW5hbHl6ZXJOb2RlLmdldFdhdmUoKTtcclxuICAgIC8vIH1cclxufSIsImltcG9ydCB7IEF1ZGlvR3JhcGggfSBmcm9tIFwiLi4vZW5jL3NyYy9hdWRpby9hdWRpb0dyYXBoXCI7XHJcbmltcG9ydCB7IEF1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZSB9IGZyb20gXCIuLi9lbmMvc3JjL2F1ZGlvL2F1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZVwiO1xyXG5pbXBvcnQgeyBBdWRpb0dyYXBoTm9kZUFuYWx5c2VyIH0gZnJvbSBcIi4uL2VuYy9zcmMvYXVkaW8vYXVkaW9HcmFwaE5vZGVBbmFseXNlclwiO1xyXG5cclxuLy8gaW1wb3J0IEZhaW50QXNzZXRNUDMgZnJvbSBcIi4vYXNzZXRzL21wMy1kZW1vL2RlbW9fMV9mYWludF9jb2xvci5tcDNcIlxyXG4vLyBpbXBvcnQgUHJpc21Bc3NldE1QMyBmcm9tIFwiLi9hc3NldHMvbXAzLWRlbW8vZGVtb18yX3ByaXNtLm1wM1wiXHJcbi8vIGltcG9ydCBIb3BlZnVsQXNzZXRNUDMgZnJvbSBcIi4vYXNzZXRzL21wMy1kZW1vL2RlbW9fM19ob3BlZnVsLm1wM1wiXHJcbi8vIGltcG9ydCBEZWVwQXNzZXRNUDMgZnJvbSBcIi4vYXNzZXRzL21wMy1kZW1vL2RlbW9fNF9kZWVwX2ZpZWxkLm1wM1wiXHJcbi8vIGltcG9ydCBHcmF2aXR5QXNzZXRNUDMgZnJvbSBcIi4vYXNzZXRzL21wMy1kZW1vL2RlbW9fNV9ncmF2aXR5Lm1wM1wiXHJcbi8vIGltcG9ydCBKb3VybmV5QXNzZXRNUDMgZnJvbSBcIi4vYXNzZXRzL21wMy1kZW1vL2RlbW9fNl9qb3VybmV5X3RvX3RoZV9wbGFuZXRzLm1wM1wiXHJcbi8vIGltcG9ydCBEcmlmdGluZ0Fzc2V0TVAzIGZyb20gXCIuL2Fzc2V0cy9tcDMtZGVtby9kZW1vXzdfZHJpZnRpbmdfaW50b190aGVfYXRtb3NwaGVyZS5tcDNcIlxyXG5cclxuaW1wb3J0IEZhaW50QXNzZXRNUDMgZnJvbSBcIi4vYXNzZXRzL2RlbW8vVHJhaWxlcl9mYWludENvbG9yLm1wM1wiXHJcbmltcG9ydCBEZWVwQXNzZXRNUDMgZnJvbSBcIi4vYXNzZXRzL2RlbW8vVHJhaWxlcl9EZWVwRmllbGQubXAzXCJcclxuaW1wb3J0IERyaWZ0aW5nQXNzZXRNUDMgZnJvbSBcIi4vYXNzZXRzL2RlbW8vVHJhaWxlcl9EcmlmdGluZ0ludG9UaGVBdG1vc3BoZXJlLm1wM1wiXHJcblxyXG5leHBvcnQgY2xhc3MgQXVkaW9NYW5hZ2VyIHtcclxuICAgIHByaXZhdGUgYXVkaW9HcmFwaDogQXVkaW9HcmFwaDtcclxuICAgIHByaXZhdGUgc291cmNlOiBBdWRpb0dyYXBoTm9kZUVsZW1lbnRTb3VyY2U7XHJcbiAgICBwcml2YXRlIGFuYWx5c2VyOiBBdWRpb0dyYXBoTm9kZUFuYWx5c2VyO1xyXG5cclxuICAgIHByaXZhdGUgc29uZ3MgPSBbXHJcbiAgICAgICAgRmFpbnRBc3NldE1QMyxcclxuICAgICAgICAvLyBQcmlzbUFzc2V0TVAzLFxyXG4gICAgICAgIC8vIEhvcGVmdWxBc3NldE1QMyxcclxuICAgICAgICBEZWVwQXNzZXRNUDMsXHJcbiAgICAgICAgLy8gR3Jhdml0eUFzc2V0TVAzLFxyXG4gICAgICAgIC8vIEpvdXJuZXlBc3NldE1QMyxcclxuICAgICAgICBEcmlmdGluZ0Fzc2V0TVAzXHJcbiAgICBdXHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5hdWRpb0dyYXBoID0gbmV3IEF1ZGlvR3JhcGgoKTtcclxuICAgICAgICB0aGlzLnNvdXJjZSA9IHRoaXMuYXVkaW9HcmFwaC5hZGRNZWRpYUVsZW1lbnRTb3VyY2UoXCJzb3VyY2VcIiwgdGhpcy5zb25nc1swXSk7XHJcbiAgICAgICAgdGhpcy5zb3VyY2UuYXVkaW9FbmRlZC5hZGRFdmVudExpc3RlbmVyKHRoaXMuZW5kZWROZXh0KCkpO1xyXG4gICAgICAgIHRoaXMuYW5hbHlzZXIgPSB0aGlzLmF1ZGlvR3JhcGguYWRkQW5hbHl6ZXIoXCJhbmFseXNlclwiKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVsb2FkID0gKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmF1ZGlvR3JhcGgucmVsb2FkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBsYXkgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zb3VyY2UucGxheSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwYXVzZSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNvdXJjZS5wYXVzZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBuZXh0ID0gKCkgPT4ge1xyXG4gICAgICAgIHZhciBjdXJyZW50U29uZ0luZGV4ID0gdGhpcy5zb25ncy5pbmRleE9mKHRoaXMuc291cmNlLnVybCk7XHJcbiAgICAgICAgdmFyIG5leHRTb25nSW5kZXggPSBjdXJyZW50U29uZ0luZGV4ICsgMTtcclxuICAgICAgICBpZiAobmV4dFNvbmdJbmRleCA9PSB0aGlzLnNvbmdzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBuZXh0U29uZ0luZGV4ID0gMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc291cmNlLnNldFVybCh0aGlzLnNvbmdzW25leHRTb25nSW5kZXhdKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcHJldmlvdXMgPSAoKSA9PiB7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRTb25nSW5kZXggPSB0aGlzLnNvbmdzLmluZGV4T2YodGhpcy5zb3VyY2UudXJsKTtcclxuICAgICAgICB2YXIgcHJldmlvdXNTb25nSW5kZXggPSBjdXJyZW50U29uZ0luZGV4IC0gMTtcclxuICAgICAgICBpZiAocHJldmlvdXNTb25nSW5kZXggPT0gLTEpIHtcclxuICAgICAgICAgICAgcHJldmlvdXNTb25nSW5kZXggPSB0aGlzLnNvbmdzLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNvdXJjZS5zZXRVcmwodGhpcy5zb25nc1twcmV2aW91c1NvbmdJbmRleF0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRBbmFseXNlciA9ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hbmFseXNlcjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RvcCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNvdXJjZS5zdG9wKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBlbmRlZE5leHQoKTogKCkgPT4gdm9pZCB7XHJcbiAgICAgICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5uZXh0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuc291cmNlLnBsYXkoKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIEFzc2V0TWFuYWdlciB7XHJcbiAgICBwcml2YXRlIGltYWdlQXNzZXRzOiB7IG5hbWU6IHN0cmluZywgdXJsOiBzdHJpbmcsIGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50IH1bXSA9IFtdO1xyXG5cclxuICAgIHB1YmxpYyBhZGRJbWFnZSA9IChuYW1lOiBzdHJpbmcsIHVybDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgdGhpcy5pbWFnZUFzc2V0cy5wdXNoKHtcclxuICAgICAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICAgICAgdXJsOiB1cmwsXHJcbiAgICAgICAgICAgIGltYWdlOiB1bmRlZmluZWRcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0SW1hZ2UgPSAobmFtZTogc3RyaW5nKTogSFRNTEltYWdlRWxlbWVudCA9PiB7XHJcbiAgICAgICAgdmFyIGltYWdlQXNzZXQgPSB0aGlzLmltYWdlQXNzZXRzLmZpcnN0T3JEZWZhdWx0KHggPT4geC5uYW1lID09IG5hbWUpO1xyXG4gICAgICAgIGlmIChpbWFnZUFzc2V0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpbWFnZUFzc2V0LmltYWdlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBsb2FkID0gKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbCh0aGlzLmltYWdlQXNzZXRzLm1hcCh4ID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICgheC5pbWFnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGltYWdlLnNyYyA9IHgudXJsO1xyXG4gICAgICAgICAgICAgICAgICAgIGltYWdlLm9ubG9hZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeC5pbWFnZSA9IGltYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IExheW91dFZpZXcgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9sYXlvdXRDb250cm9scy9sYXlvdXRWaWV3XCI7XHJcbmltcG9ydCB7IExhYmVsIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvY29udHJvbHMvbGFiZWxcIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTG9hZGluZ1ZpZXcgZXh0ZW5kcyBMYXlvdXRWaWV3IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdmFyIGxvYWRpbmdMYWJlbCA9IG5ldyBMYWJlbCgpO1xyXG4gICAgICAgIGxvYWRpbmdMYWJlbC50ZXh0ID0gXCJMb2FkaW5nLi4uXCI7XHJcbiAgICAgICAgbG9hZGluZ0xhYmVsLnByb3BlcnRpZXMuZmlsbFN0eWxlID0gXCJ3aGl0ZVwiXHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGxvYWRpbmdMYWJlbCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUxheW91dChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpIHtcclxuICAgICAgICBzdXBlci51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICBjaGlsZC51cGRhdGVMYXlvdXQoY3R4LCB0aGlzLmJvdW5kcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgU3RhZ2UgfSBmcm9tIFwiLi4vZW5jL3NyYy91aS9zdGFnZVwiO1xyXG5pbXBvcnQgeyBJbnNwaWVydHlQbGF5ZXJWaWV3IH0gZnJvbSBcIi4vdmlldy9pbnNwaWVydHlQbGF5ZXJWaWV3XCI7XHJcbmltcG9ydCB7IFNldHRpbmdzIH0gZnJvbSBcIi4vbW9kZWxzL3NldHRpbmdzXCI7XHJcbmltcG9ydCB7IFNldHRpbmdzTWFuYWdlciB9IGZyb20gXCIuL3NldHRpbmdzL3NldHRpbmdzTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBEaW5qZWN0IH0gZnJvbSBcIi4uL2VuYy9zcmMvZGluamVjdFwiO1xyXG5pbXBvcnQgeyBFQW5pbWF0aW9uIH0gZnJvbSBcIi4uL2VuYy9zcmMvZUFuaW1hdGlvblwiO1xyXG5pbXBvcnQgeyBFQ2FudmFzIH0gZnJvbSBcIi4uL2VuYy9zcmMvdWkvZUNhbnZhc1wiO1xyXG5pbXBvcnQgeyBDYW52YXNIZWxwZXIgfSBmcm9tIFwiLi4vZW5jL3NyYy91aS9jYW52YXNIZWxwZXJcIjtcclxuaW1wb3J0IHsgQXVkaW9NYW5hZ2VyIH0gZnJvbSBcIi4vYXVkaW9NYW5hZ2VyXCI7XHJcbmltcG9ydCB7IEFzc2V0TWFuYWdlciB9IGZyb20gXCIuLi9lbmMvc3JjL2Fzc2V0TWFuYWdlclwiO1xyXG5cclxuaW1wb3J0IGJhY2tncm91bmRQbmcgZnJvbSBcIi4vYXNzZXRzL2JhY2tncm91bmQucG5nXCJcclxuaW1wb3J0IGxvZ29Gcm9udFBuZyBmcm9tIFwiLi9hc3NldHMvbG9nby1mcm9udC5wbmdcIlxyXG5pbXBvcnQgbG9nb05vdmFQbmcgZnJvbSBcIi4vYXNzZXRzL2xvZ28tbm92YS5wbmdcIlxyXG5pbXBvcnQgeyBMb2FkaW5nVmlldyB9IGZyb20gXCIuL3ZpZXcvbG9hZGluZ1ZpZXdcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBcHAge1xyXG4gICAgcHVibGljIHN0YXRpYyBzZXR0aW5ncyA9IG5ldyBTZXR0aW5ncyh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcclxuICAgIHB1YmxpYyBzdGF0aWMgc2V0dGluZ01hbmFnZXIgPSBuZXcgU2V0dGluZ3NNYW5hZ2VyKCk7XHJcblxyXG4gICAgcHVibGljIHJ1biA9ICgpID0+IHtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiYmxhY2tcIjtcclxuXHJcbiAgICAgICAgdmFyIGNhbnZhcyA9IEVDYW52YXMuY3JlYXRlRnVsbFNjcmVlbigpO1xyXG4gICAgICAgIHZhciBzdGFnZSA9IG5ldyBTdGFnZShjYW52YXMpO1xyXG4gICAgICAgIHZhciBhbmltYXRpb24gPSBuZXcgRUFuaW1hdGlvbigpO1xyXG4gICAgICAgIGFuaW1hdGlvbi5hZGRVcGRhdGVGdW5jdGlvbihjYW52YXMuZHJhdyk7XHJcblxyXG4gICAgICAgIERpbmplY3QuYWRkSW5zdGFuY2UoXCJjYW52YXNcIiwgY2FudmFzKTtcclxuICAgICAgICBEaW5qZWN0LmFkZEluc3RhbmNlKFwic3RhZ2VcIiwgc3RhZ2UpO1xyXG4gICAgICAgIERpbmplY3QuYWRkSW5zdGFuY2UoXCJhbmltYXRpb25cIiwgYW5pbWF0aW9uKTtcclxuXHJcbiAgICAgICAgdmFyIGxvYWRpbmdWaWV3ID0gbmV3IExvYWRpbmdWaWV3KCk7XHJcbiAgICAgICAgbG9hZGluZ1ZpZXcuZGVhY3RpdmF0ZWQoKTtcclxuICAgICAgICBzdGFnZS5zZXRWaWV3KGxvYWRpbmdWaWV3KTtcclxuICAgICAgICBsb2FkaW5nVmlldy5hY3RpdmF0ZSgwLjcpO1xyXG5cclxuICAgICAgICB2YXIgaW5zcGllcnR5UGxheWVyVmlldzogSW5zcGllcnR5UGxheWVyVmlldztcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJsb2FkaW5nIGFwcFwiKTtcclxuICAgICAgICBQcm9taXNlLmFsbChbXHJcbiAgICAgICAgICAgIG5ldyBDYW52YXNIZWxwZXIoKS5sb2FkRm9udGF3ZXNvbWVGcmVlKCksXHJcbiAgICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBhdWRpb01hbmFnZXIgPSBuZXcgQXVkaW9NYW5hZ2VyKCk7XHJcbiAgICAgICAgICAgICAgICBhdWRpb01hbmFnZXIucmVsb2FkKClcclxuICAgICAgICAgICAgICAgIERpbmplY3QuYWRkSW5zdGFuY2UoXCJhdWRpb1wiLCBhdWRpb01hbmFnZXIpO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSwgMjAwMCk7XHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXNzZXRNYW5hZ2VyID0gbmV3IEFzc2V0TWFuYWdlcigpO1xyXG4gICAgICAgICAgICAgICAgRGluamVjdC5hZGRJbnN0YW5jZShcImFzc2V0c1wiLCBhc3NldE1hbmFnZXIpO1xyXG4gICAgICAgICAgICAgICAgYXNzZXRNYW5hZ2VyLmFkZEltYWdlKFwiYmFja2dyb3VuZFwiLCBiYWNrZ3JvdW5kUG5nKTtcclxuICAgICAgICAgICAgICAgIGFzc2V0TWFuYWdlci5hZGRJbWFnZShcImxvZ29cIiwgbG9nb0Zyb250UG5nKTtcclxuICAgICAgICAgICAgICAgIGFzc2V0TWFuYWdlci5hZGRJbWFnZShcImxvZ28tbm92YVwiLCBsb2dvTm92YVBuZyk7XHJcbiAgICAgICAgICAgICAgICBhc3NldE1hbmFnZXIubG9hZCgpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zcGllcnR5UGxheWVyVmlldyA9IG5ldyBJbnNwaWVydHlQbGF5ZXJWaWV3KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3BpZXJ0eVBsYXllclZpZXcuZGVhY3RpdmF0ZWQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEFwcC5zZXR0aW5nTWFuYWdlci5hZGRTdGFyTGF5ZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgQXBwLnNldHRpbmdNYW5hZ2VyLmFkZFN0YXJMYXllcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBBcHAuc2V0dGluZ01hbmFnZXIuYWRkU3RhckxheWVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIEFwcC5zZXR0aW5nTWFuYWdlci5hZGRTdGFyTGF5ZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgXSkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIGxvYWRpbmdWaWV3LmRlYWN0aXZhdGUoMC43KTtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzdGFnZS5zZXRWaWV3KGluc3BpZXJ0eVBsYXllclZpZXcpO1xyXG4gICAgICAgICAgICAgICAgaW5zcGllcnR5UGxheWVyVmlldy5hY3RpdmF0ZSgwLjcpO1xyXG4gICAgICAgICAgICB9LCA4MDApO1xyXG4gICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIGFsZXJ0KGVycm9yKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFN0YXJMYXllciB9IGZyb20gXCIuL3N0YXJMYXllclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNldHRpbmdzIHtcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyB3aWR0aDogbnVtYmVyLCBwdWJsaWMgaGVpZ2h0OiBudW1iZXIpIHsgfVxyXG5cclxuICAgIHB1YmxpYyBzdGFyTGF5ZXJzOiBTdGFyTGF5ZXJbXSA9IFtdO1xyXG59XHJcbiIsImltcG9ydCB7IFNldHRpbmdPcGVyYXRpb24gfSBmcm9tIFwiLi9zZXR0aW5nT3BlcmF0aW9uXCI7XHJcbmltcG9ydCB7IEVFdmVudFQgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9lRXZlbnRcIjtcclxuaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4uL2FwcFwiO1xyXG5pbXBvcnQgeyBTdGFyTGF5ZXIgfSBmcm9tIFwiLi4vbW9kZWxzL3N0YXJMYXllclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNldHRpbmdzTWFuYWdlciB7XHJcbiAgICBwdWJsaWMgdXBkYXRlID0gbmV3IEVFdmVudFQ8U2V0dGluZ09wZXJhdGlvbj4oKTtcclxuXHJcbiAgICBwdWJsaWMgYWRkU3RhckxheWVyID0gKCkgPT4ge1xyXG4gICAgICAgIHZhciBsYXllciA9IG5ldyBTdGFyTGF5ZXIoKTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzMDA7IGkrKykge1xyXG4gICAgICAgICAgICBsYXllci5zdGFycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHg6IE1hdGgucmFuZG9tKCkgKiBBcHAuc2V0dGluZ3Mud2lkdGgsXHJcbiAgICAgICAgICAgICAgICB5OiBNYXRoLnJhbmRvbSgpICogQXBwLnNldHRpbmdzLmhlaWdodCxcclxuICAgICAgICAgICAgICAgIHI6IE1hdGgucmFuZG9tKCkgKiAwLjUgKyAwLjA1XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBBcHAuc2V0dGluZ3Muc3RhckxheWVycy5wdXNoKGxheWVyKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZS5kaXNwYXRjaEV2ZW50KFNldHRpbmdPcGVyYXRpb24uQWRkU3RhckxheWVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlU3RhckxheWVyID0gKHN0YXJMYXllcjogU3RhckxheWVyKSA9PiB7XHJcbiAgICAgICAgQXBwLnNldHRpbmdzLnN0YXJMYXllcnMucmVtb3ZlSXRlbShzdGFyTGF5ZXIpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlLmRpc3BhdGNoRXZlbnQoU2V0dGluZ09wZXJhdGlvbi5SZW1vdmVTdGFyTGF5ZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjaGFuZ2VOdW1iZXJPZlN0YXJzID0gKHN0YXJMYXllcjogU3RhckxheWVyLCBudW1iZXJPZlN0YXJzOiBudW1iZXIpID0+IHtcclxuICAgICAgICBpZiAobnVtYmVyT2ZTdGFycyA+IDApIHtcclxuICAgICAgICAgICAgdmFyIGRpZmYgPSBudW1iZXJPZlN0YXJzIC0gc3RhckxheWVyLnN0YXJzLmxlbmd0aDtcclxuICAgICAgICAgICAgaWYgKGRpZmYgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRpZmY7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzaXplcyA9IHN0YXJMYXllci5zdGFycy5tYXAoeCA9PiB4LnIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50VmFsdWVMb3cgPSBNYXRoLm1pbiguLi5zaXplcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRWYWx1ZUhpZ2ggPSBNYXRoLm1heCguLi5zaXplcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJMYXllci5zdGFycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeDogTWF0aC5yYW5kb20oKSAqIEFwcC5zZXR0aW5ncy53aWR0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeTogTWF0aC5yYW5kb20oKSAqIEFwcC5zZXR0aW5ncy5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHI6IE1hdGgucmFuZG9tKCkgKiAoY3VycmVudFZhbHVlSGlnaCAtIGN1cnJlbnRWYWx1ZUxvdykgKyBjdXJyZW50VmFsdWVMb3dcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGRpZmYgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IC1kaWZmOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFyTGF5ZXIuc3RhcnMuc3BsaWNlKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHN0YXJMYXllci5zdGFycy5sZW5ndGgpLCAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZS5kaXNwYXRjaEV2ZW50KFNldHRpbmdPcGVyYXRpb24uQ2hhbmdlTnVtYmVyT2ZTdGFycyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjaGFuZ2VTcGVlZCA9IChzdGFyTGF5ZXI6IFN0YXJMYXllciwgc3BlZWQ6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIHN0YXJMYXllci5zcGVlZCA9IHNwZWVkO1xyXG4gICAgICAgIHRoaXMudXBkYXRlLmRpc3BhdGNoRXZlbnQoU2V0dGluZ09wZXJhdGlvbi5DaGFuZ2VTcGVlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNoYW5nZVNpemVzID0gKHN0YXJMYXllcjogU3RhckxheWVyLCBsb3dCb3JkZXI6IG51bWJlciwgaGlnaEJvcmRlcjogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgdmFyIHNpemVzID0gc3RhckxheWVyLnN0YXJzLm1hcCh4ID0+IHgucik7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRWYWx1ZUxvdyA9IE1hdGgubWluKC4uLnNpemVzKTtcclxuICAgICAgICB2YXIgY3VycmVudFZhbHVlSGlnaCA9IE1hdGgubWF4KC4uLnNpemVzKTtcclxuXHJcbiAgICAgICAgdmFyIG1pbkZpeCA9IChjdXJyZW50VmFsdWVIaWdoIC0gY3VycmVudFZhbHVlTG93KTtcclxuICAgICAgICBpZiAobWluRml4IDw9IDApIHtcclxuICAgICAgICAgICAgbWluRml4ID0gMC4wMDAxXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAoY29uc3Qgc3RhciBvZiBzdGFyTGF5ZXIuc3RhcnMpIHtcclxuICAgICAgICAgICAgc3Rhci5yID0gKChzdGFyLnIgLSBjdXJyZW50VmFsdWVMb3cpIC8gbWluRml4ICogKGhpZ2hCb3JkZXIgLSBsb3dCb3JkZXIpKSArIGxvd0JvcmRlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy51cGRhdGUuZGlzcGF0Y2hFdmVudChTZXR0aW5nT3BlcmF0aW9uLkNoYW5nZVNwZWVkKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEFwcCB9IGZyb20gXCIuL2FwcFwiO1xyXG5pbXBvcnQgXCIuLi9lbmMvc3JjL2V4dGVuc2lvbnNcIjtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBtYWluLCBmYWxzZSk7XHJcblxyXG5mdW5jdGlvbiBtYWluKCkge1xyXG4gICAgdmFyIGFwcCA9IG5ldyBBcHAoKTtcclxuICAgIGFwcC5ydW4oKTtcclxufVxyXG5cclxuaWYgKCdzZXJ2aWNlV29ya2VyJyBpbiBuYXZpZ2F0b3IpIHtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xyXG4gICAgICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyKCdzZXJ2aWNlLXdvcmtlci5qcycpXHJcbiAgICAgICAgICAgIC50aGVuKHJlZ2lzdHJhdGlvbiA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU1cgcmVnaXN0ZXJlZDogJywgcmVnaXN0cmF0aW9uKTtcclxuICAgICAgICAgICAgfSkuY2F0Y2gocmVnaXN0cmF0aW9uRXJyb3IgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1NXIHJlZ2lzdHJhdGlvbiBmYWlsZWQ6ICcsIHJlZ2lzdHJhdGlvbkVycm9yKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9