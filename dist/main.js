!function(t){var e={};function s(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(i,r,function(e){return t[e]}.bind(null,r));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=1)}([function(t,e){Array.prototype.firstOrDefault=function(t){for(const e of this)if(t(e))return e;return null},Array.prototype.first=function(t){for(const e of this)if(t(e))return e;throw console.log("item not found"),console.log(this),"item not found"},Array.prototype.getNext=function(t,e){var s=e(t)+1,i=this.firstOrDefault(t=>e(t)==s);return i||(i=this.first(t=>1==e(t))),i},Array.prototype.removeItem=function(t){var e=this.indexOf(t);if(-1==e)throw"item not found";this.splice(e,1)},Array.prototype.contains=function(t){return-1!==this.indexOf(t)},Array.prototype.removeItemIfExists=function(t){var e=this.indexOf(t);-1!=e&&this.splice(e,1)},Array.prototype.addItemIfNotExists=function(t){-1==this.indexOf(t)&&this.push(t)},Array.prototype.remove=function(t){this.removeItem(this.first(t))},Array.prototype.toList=function(){return this.filter(t=>!0)}},function(t,e,s){"use strict";s.r(e);class i{constructor(){this.drawFunctions=[],this.resize=(()=>{console.log("canvas.resize()"),this.canvas.width=this.canvas.clientWidth,this.canvas.height=this.canvas.clientHeight}),this.draw=(()=>{for(const t of this.drawFunctions)t(this.ctx,this.width,this.height)}),this.addDrawFunction=(t=>{this.drawFunctions.push(t)}),this.removeDrawFunction=(t=>{this.drawFunctions.splice(this.drawFunctions.indexOf(t),1)})}get width(){return this.canvas.width}get height(){return this.canvas.height}static createFullScreen(){document.body.parentElement.style.height="100%",document.body.style.height="100%",document.body.style.margin="0",document.body.style.overflow="hidden";var t=document.createElement("canvas");document.body.appendChild(t),t.style.width="100%",t.style.height="100%";var e=new i;return e.canvas=t,e.ctx=t.getContext("2d"),window.addEventListener("resize",e.resize),e.resize(),e}}i.cursorLock=null,i.SetCursor=((t,e)=>{e?(document.body.style.cursor="pointer",i.cursorLock=t):t==i.cursorLock&&(document.body.style.cursor="default",i.cursorLock=null)});class r{constructor(t,e,s,i){this.x=t,this.y=e,this.width=s,this.height=i,this.collidesWith=(t=>{var e=!1,s=!1;return this.x<=t.x?this.x<=t.x&&this.x+this.width>t.x&&(e=!0):t.x<=this.x&&t.x+t.width>this.x&&(e=!0),e&&(this.y<=t.y?this.y<=t.y&&this.y+this.width>t.y&&(s=!0):t.y<=this.y&&t.y+t.width>this.y&&(s=!0)),e&&s}),this.isHitBy=((t,e)=>t>this.x&&t<this.x+this.width&&e>this.y&&e<this.y+this.height)}}class n{constructor(){this.updateFunctions=[],this.isRunning=!1,this.addUpdateFunction=(t=>{this.updateFunctions.push(t)}),this.removeUpdateFunction=(t=>{this.updateFunctions.splice(this.updateFunctions.indexOf(t),1)}),this.setFps=(t=>{this.fps=t,this.fpsInterval=1e3/this.fps}),this.animationLoop=(()=>{this.isRunning&&requestAnimationFrame(this.animationLoop);var t=Date.now(),e=t-this.lastFrameTime;if(e>this.fpsInterval){this.lastFrameTime=t;var s=e/1e3;for(const t of this.updateFunctions)t(s)}}),this.setFps(30),this.play(),document.addEventListener("keyup",t=>{80==t.keyCode&&this.playPause()})}play(){this.isRunning||(console.log("play"),this.isRunning=!0,this.lastFrameTime=Date.now(),this.animationLoop())}pause(){this.isRunning&&(console.log("pause"),this.isRunning=!1)}playPause(){this.isRunning?this.pause():this.play()}}class a{constructor(t){this.canvas=t,this.mousedown=(t=>{this.view&&this.view.mouseDown(t)}),this.mouseup=(t=>{this.view&&this.view.mouseUp(t)}),this.mouseMove=(t=>{this.view&&this.view.mouseMove(t)}),this.click=(t=>{this.view&&this.view.click(t)}),this.render=((t,e,s)=>{this.view&&(this.shouldUpdateLayout&&(this.view.updateLayout(t,new r(0,0,e,s)),this.shouldUpdateLayout=!1),t.clearRect(0,0,e,s),this.view.render(t))}),this.setView=(t=>{this.view=t,this.shouldUpdateLayout=!0}),t.addDrawFunction(this.render),document.addEventListener("mousedown",this.mousedown),document.addEventListener("mouseup",this.mouseup),document.addEventListener("mousemove",this.mouseMove),document.addEventListener("click",this.click)}static create(){var t=i.createFullScreen(),e=new a(t);return(new n).addUpdateFunction(t.draw),e}}class h{constructor(){this.generateNewId=(()=>(h.idCounter++,h.idCounter)),this.bounds=new r(0,0,0,0),this.id=this.generateNewId(),this.name="object "+this.id}}var o,d,u,l;h.idCounter=0,function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right"}(o||(o={})),function(t){t[t.Top=0]="Top",t[t.Center=1]="Center",t[t.Bottom=2]="Bottom"}(d||(d={}));class c{constructor(){this.horizontalAlign=o.Center,this.verticalAlign=d.Center}}class y extends h{constructor(){super(...arguments),this.children=[],this.shouldUpdateLayout=!1,this.alignement=new c,this.triggerUpdateLayout=(()=>{this.shouldUpdateLayout=!0})}render(t){this.shouldUpdateLayout&&(this.updateLayout(t,this.bounds),this.shouldUpdateLayout=!1);for(const e of this.children)e.render(t)}mouseDown(t){for(const e of this.children)e.mouseDown(t)}mouseUp(t){for(const e of this.children)e.mouseUp(t)}mouseMove(t){for(const e of this.children)e.mouseMove(t)}click(t){for(const e of this.children.toList())e.click(t)}}class p extends h{constructor(t){super(),this.star=t}mouseDown(t){}mouseUp(t){}render(t){t.fillStyle="white",t.beginPath(),t.arc(this.star.x,this.star.y,this.star.r,0,2*Math.PI),t.fill()}mouseMove(t){throw new Error("Method not implemented.")}click(t){throw new Error("Method not implemented.")}}!function(t){t[t.AddStarLayer=0]="AddStarLayer",t[t.RemoveStarLayer=1]="RemoveStarLayer",t[t.ChangeNumberOfStars=2]="ChangeNumberOfStars",t[t.ChangeSpeed=3]="ChangeSpeed"}(u||(u={}));class g extends y{constructor(t){super(),this.starLayer=t,this.settingsUpdated=(t=>{switch(t){case u.ChangeNumberOfStars:this.updateNumberOfStars()}}),this.updateNumberOfStars=(()=>{this.triggerUpdateLayout()}),A.settingManager.update.addEventListener(this.settingsUpdated),this.triggerUpdateLayout()}updateLayout(t,e){this.children=[];for(const t of this.starLayer.stars)this.children.push(new p(t))}mouseMove(t){}click(t){}}!function(t){t[t.hidden=0]="hidden",t[t.beforeVisible=1]="beforeVisible",t[t.visible=2]="visible"}(l||(l={}));class m{constructor(){this.state=l.hidden}}class v{constructor(){this.listeners=[],this.addEventListener=(t=>{if(!t||this.listeners.indexOf(t)>=0)throw"listener already added";this.listeners.push(t)}),this.dispatchEvent=(t=>{for(let e=0;e<this.listeners.length;e++){(0,this.listeners[e])(t)}}),this.removeEventListener=(t=>{if(!t||this.listeners.indexOf(t)<0)throw"listener not found";this.listeners.splice(this.listeners.indexOf(t),1)})}}class w extends h{constructor(){super(...arguments),this.isMouseOver=!1,this.isEnabled=!0,this.clicked=new v,this.alignement=new c,this.click=(t=>{this.isEnabled&&this.bounds.isHitBy(t.clientX,t.clientY)&&this.clicked.dispatchEvent(this)})}mouseMove(t){this.isEnabled&&(this.bounds.isHitBy(t.clientX,t.clientY)?(this.isMouseOver=!0,i.SetCursor(this.name,!0)):(this.isMouseOver=!1,i.SetCursor(this.name,!1)))}}class f{constructor(){this.fontSize=40,this.fillStyle="black",this.mouseOverFillStyle="red",this.backgroundFillStyle=void 0}}class L extends w{constructor(){super(...arguments),this.properties=new f,this.isVisible=!0,this.render=(t=>{this.isVisible&&(this.properties.backgroundFillStyle&&(t.fillStyle=this.properties.backgroundFillStyle,t.fillRect(this.bounds.x,this.bounds.y,this.bounds.width,this.bounds.height)),this.isMouseOver?t.fillStyle=this.properties.mouseOverFillStyle:t.fillStyle=this.properties.fillStyle,t.font=this.properties.fontSize+"px Arial",t.textAlign="left",t.textBaseline="top",t.fillText(this.text,this.bounds.x,this.bounds.y))}),this.align=((t,e)=>{t.font=this.properties.fontSize+"px Arial",t.textAlign="left",t.textBaseline="top";var s=t.measureText(this.text),i=new r(0,0,s.width,this.properties.fontSize);switch(this.alignement.horizontalAlign){case o.Left:i.x=e.x;break;case o.Center:i.x=e.x-s.width/2;break;case o.Right:i.x=e.x-s.width}switch(this.alignement.verticalAlign){case d.Top:i.y=e.y;break;case d.Center:i.y=e.y-this.properties.fontSize/2;break;case d.Bottom:i.y=e.y-this.properties.fontSize}this.bounds=i})}mouseDown(t){}mouseUp(t){}}class b{constructor(t,e){this.x=t,this.y=e}}class x{constructor(t,e){this.x=t,this.y=e}}class S extends y{constructor(){super(...arguments),this.spacing=30,this.controls=[],this.layoutViews=[],this.addControl=(t=>{t.alignement=this.alignement,this.controls.push(t),this.children.push(t),this.triggerUpdateLayout()}),this.removeControl=(t=>{this.controls.removeItem(t),this.children.removeItem(t),this.triggerUpdateLayout()}),this.addLayoutView=(t=>{t.alignement=this.alignement,this.layoutViews.push(t),this.children.push(t),this.triggerUpdateLayout()}),this.removeLayoutView=(t=>{this.layoutViews.removeItem(t),this.children.removeItem(t),this.triggerUpdateLayout()})}updateLayout(t,e){var s=0;switch(this.alignement.horizontalAlign){case o.Left:s=e.x;break;case o.Center:s=e.x-e.width/2;break;case o.Right:s=e.x-e.width}this.bounds.x=s;var i=0;switch(this.alignement.verticalAlign){case d.Top:i=e.y;break;case d.Center:i=e.y-e.height/2;break;case d.Bottom:i=e.y-e.height}this.bounds.y=i;var n=0,a=0;for(const e of this.children)if(this.children.indexOf(e)>0&&(i+=this.spacing,a+=this.spacing),this.controls.contains(e)){var h=e;h.align(t,new x(s,i)),i+=h.bounds.height,a+=h.bounds.height,n=Math.max(n,h.bounds.width)}else{if(!this.layoutViews.contains(e))throw new Error("Error: 280420191625");var u=e;u.updateLayout(t,new r(s,i,0,0)),i+=u.bounds.height,a+=h.bounds.height,n=Math.max(n,u.bounds.width)}a==this.bounds.height&&n==this.bounds.width||(this.bounds.height=a,this.bounds.width=n,this.updateLayout(t,new r(e.x,e.y,this.bounds.width,this.bounds.height)))}}class V extends w{constructor(){super(),this.radius=10,this.minValue=0,this.maxValue=100,this.currentValue=50,this.valueChanged=new v,this.mouseDown=(t=>{this.bounds.isHitBy(t.clientX,t.clientY)&&(this.isDragging=!0,this.updateCurrentValue(t))}),this.mouseUp=(t=>{this.isDragging=!1})}align(t,e){this.bounds=new r(e.x,e.y,200,2*this.radius)}render(t){var e=this.bounds.x,s=this.bounds.y;t.strokeStyle="white",t.lineWidth=2,t.beginPath(),t.moveTo(e+this.radius,s+this.bounds.height/2),t.lineTo(e+this.bounds.width-this.radius,s+this.bounds.height/2),t.stroke();var i=(this.currentValue-this.minValue)/(this.maxValue-this.minValue);t.fillStyle="blue",t.beginPath(),t.arc(e+this.radius+(this.bounds.width-2*this.radius)*i,s+this.bounds.height/2,this.radius,0,2*Math.PI),t.closePath(),t.fill()}mouseMove(t){super.mouseMove(t),this.isDragging&&this.updateCurrentValue(t)}updateCurrentValue(t){var e=t.clientX-this.bounds.x-this.radius;(e=e/(this.bounds.width-2*this.radius)*(this.maxValue-this.minValue)+this.minValue)>this.maxValue&&(e=this.maxValue),e<this.minValue&&(e=this.minValue),this.currentValue=e,this.valueChanged.dispatchEvent(this.currentValue)}}class M extends y{constructor(t){super(),this.starLayer=t,this.numberOfStarsChanged=(t=>{A.settingManager.changeNumberOfStars(this.starLayer,Math.round(t))}),this.speedChanged=(t=>{A.settingManager.changeSpeed(this.starLayer,t)}),this.settingsList=new S,this.settingsList.alignement.horizontalAlign=o.Left,this.settingsList.alignement.verticalAlign=d.Top;var e=new L;e.text="Remove Layer",e.properties.fillStyle="white",this.settingsList.addControl(e),this.children.push(e),e.clicked.addEventListener(t=>{A.settingManager.removeStarLayer(this.starLayer)});var s=new V;s.minValue=10,s.maxValue=1e3,s.currentValue=t.stars.length,this.children.push(s),this.settingsList.addControl(s),s.valueChanged.addEventListener(this.numberOfStarsChanged);var i=new V;i.minValue=0,i.maxValue=30,i.currentValue=t.speed,this.children.push(i),this.settingsList.addControl(i),i.valueChanged.addEventListener(this.speedChanged)}updateLayout(t,e){this.settingsList.updateLayout(t,new r(e.x,e.y,0,0))}}class O extends y{constructor(){super(),this.viewModel=new m,this.lastMoved=Date.now(),this.inactivityTimeout=2e3,this.layerButtons=[],this.settingsUpdated=(t=>{switch(t){case u.AddStarLayer:for(const t of A.settings.starLayers)if(!this.layerButtons.map(t=>t.tag).contains(t)){this.settingsList.removeControl(this.addLayerBtn);var e=new L;e.text="Edit Layer",e.tag=t,e.properties.fillStyle="white",this.settingsList.addControl(e),this.layerButtons.push(e),e.clicked.addEventListener(e=>{this.toggleShowHideStarLayerView(t)}),this.settingsList.addControl(this.addLayerBtn);break}break;case u.RemoveStarLayer:for(const t of this.layerButtons)if(!A.settings.starLayers.contains(t.tag)){this.settingsList.removeControl(t),this.layerButtons.removeItem(t);break}this.children.removeItem(this.detailedStarLayerView),this.detailedStarLayerView=void 0}}),this.toggleShowHideStarLayerView=(t=>{if(this.detailedStarLayerView)if(this.detailedStarLayerView.starLayer!=t){this.children.removeItem(this.detailedStarLayerView),this.detailedStarLayerView=void 0;e=new M(t);this.detailedStarLayerView=e,this.children.push(this.detailedStarLayerView),this.triggerUpdateLayout()}else this.children.removeItem(this.detailedStarLayerView),this.detailedStarLayerView=void 0;else{var e=new M(t);this.detailedStarLayerView=e,this.children.push(this.detailedStarLayerView),this.triggerUpdateLayout()}}),this.showHideOverlayClicked=(t=>{this.viewModel.state==l.visible?this.setState(l.beforeVisible):this.setState(l.visible)}),this.mouseMove=(t=>{this.viewModel.state!=l.hidden&&this.viewModel.state!=l.beforeVisible||this.setState(l.beforeVisible),super.mouseMove(t)}),this.mouseInactivityHandler=(()=>{Date.now()-this.lastMoved>=this.inactivityTimeout?this.viewModel.state==l.beforeVisible&&this.setState(l.hidden):setTimeout(this.mouseInactivityHandler,this.inactivityTimeout-(Date.now()-this.lastMoved))}),this.setState=(t=>{switch(t){case l.hidden:this.showOverLayerButton.isVisible=!1,this.viewModel.state=l.hidden;break;case l.beforeVisible:this.lastMoved=Date.now(),this.viewModel.state==l.hidden&&(setTimeout(this.mouseInactivityHandler,this.inactivityTimeout),this.showOverLayerButton.isVisible=!0),this.viewModel.state==l.visible&&(setTimeout(this.mouseInactivityHandler,this.inactivityTimeout),this.children.removeItemIfExists(this.settingsList),this.children.removeItemIfExists(this.detailedStarLayerView),this.detailedStarLayerView=void 0),this.viewModel.state=l.beforeVisible;break;case l.visible:this.viewModel.state==l.beforeVisible&&this.children.push(this.settingsList),this.viewModel.state=l.visible}}),this.showOverLayerButton=new L,this.showOverLayerButton.text="Show/Hide Settings",this.showOverLayerButton.properties.fillStyle="green",this.showOverLayerButton.alignement.verticalAlign=d.Top,this.showOverLayerButton.alignement.horizontalAlign=o.Left,this.showOverLayerButton.clicked.addEventListener(this.showHideOverlayClicked),this.showOverLayerButton.properties.backgroundFillStyle="rgba(0, 0, 0, 0.5)",this.children.push(this.showOverLayerButton),this.settingsList=new S,this.settingsList.alignement.horizontalAlign=o.Left,this.settingsList.alignement.verticalAlign=d.Top;var t=new L;t.text="Add Layer",t.properties.fillStyle="white",this.settingsList.addControl(t),t.clicked.addEventListener(t=>{A.settingManager.addStarLayer()}),this.addLayerBtn=t,A.settingManager.update.addEventListener(this.settingsUpdated)}updateLayout(t,e){this.showOverLayerButton.align(t,new b(e.x,e.y)),this.settingsList.updateLayout(t,new r(0,2*this.showOverLayerButton.bounds.height,0,0)),this.detailedStarLayerView&&this.detailedStarLayerView.updateLayout(t,new r(this.settingsList.bounds.x+this.settingsList.bounds.width,2*this.showOverLayerButton.bounds.height,0,0))}}class C{constructor(t){this.starLayer=t,this.update=(t=>{for(const e of this.starLayer.stars)e.x+=this.starLayer.speed*t,e.x>A.settings.width&&(e.x-=A.settings.width)})}}class k extends y{constructor(){super(),this.starLayers=[],this.starAnimators=[],this.appSettingsUpdated=(t=>{switch(t){case u.AddStarLayer:this.addStarLayer();break;case u.RemoveStarLayer:this.removeStarLayer()}}),this.addStarLayer=(()=>{for(const s of A.settings.starLayers)if(null==this.starLayers.firstOrDefault(t=>t.starLayer==s)){var t=new g(s);this.starLayers.push(t),this.children.splice(0,0,t),this.triggerUpdateLayout();var e=new C(s);this.anim.addUpdateFunction(e.update),this.starAnimators.push(e);break}}),this.removeStarLayer=(()=>{for(const e of this.starLayers)if(null==A.settings.starLayers.firstOrDefault(t=>t==e.starLayer)){var t=this.starAnimators.first(t=>t.starLayer==e.starLayer);this.anim.removeUpdateFunction(t.update),this.starAnimators.removeItem(t),this.children.remove(t=>t==e),this.starLayers.remove(t=>t==e),this.triggerUpdateLayout()}}),this.settingsOverlay=new O,this.children.push(this.settingsOverlay),this.anim=new n,A.settingManager.update.addEventListener(this.appSettingsUpdated)}updateLayout(t,e){for(const s of this.starLayers)s.updateLayout(t,e);this.settingsOverlay.updateLayout(t,e)}}class E{constructor(){this.stars=[],this.speed=20*Math.random()+5}}class A{constructor(){this.run=(()=>{console.log("hi"),document.body.style.backgroundColor="black";var t=a.create(),e=new k;t.setView(e)})}}A.settings=new class{constructor(t,e){this.width=t,this.height=e,this.starLayers=[]}}(window.innerWidth,window.innerHeight),A.settingManager=new class{constructor(){this.update=new v,this.addStarLayer=(()=>{var t=new E;for(let e=0;e<100;e++)t.stars.push({x:Math.random()*A.settings.width,y:Math.random()*A.settings.height,r:2*Math.random()+.05});A.settings.starLayers.push(t),this.update.dispatchEvent(u.AddStarLayer)}),this.removeStarLayer=(t=>{A.settings.starLayers.removeItem(t),this.update.dispatchEvent(u.RemoveStarLayer)}),this.changeNumberOfStars=((t,e)=>{if(e>0){var s=e-t.stars.length;if(s>0)for(let e=0;e<s;e++)t.stars.push({x:Math.random()*A.settings.width,y:Math.random()*A.settings.height,r:2*Math.random()+.05});else if(s<0)for(let e=0;e<-s;e++)t.stars.splice(Math.floor(Math.random()*t.stars.length),1);this.update.dispatchEvent(u.ChangeNumberOfStars)}}),this.changeSpeed=((t,e)=>{t.speed=e,this.update.dispatchEvent(u.ChangeSpeed)})}};s(0);document.addEventListener("DOMContentLoaded",function(){(new A).run()},!1)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy9leHRlbnNpb25zLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvZUNhbnZhcy50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL2dlb21ldHJ5L3JlY3RhbmdsZS50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL2VBbmltYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9zdGFnZS50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL3JlbmRlck9iamVjdC50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvaG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9hbGlnbmVtZW50L3ZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2V0dGluZ3Mvc2V0dGluZ09wZXJhdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvb3ZlcmxheS9zZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvYWxpZ25lbWVudC50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xheW91dFZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0YXJSZW5kZXJPYmplY3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0YXJMYXllckRyYXdlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvb3ZlcmxheS9zZXR0aW5nc092ZXJsYXlWaWV3TW9kZWwudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy9lRXZlbnQudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9jb250cm9scy9jb250cm9sLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvY29udHJvbHMvcHJpbWl0aXZlcy9idXR0b25Qcm9wZXJ0aWVzLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvY29udHJvbHMvYnV0dG9uLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvZ2VvbWV0cnkvcG9pbnQudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy9nZW9tZXRyeS9Qb2ludC50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xpc3RWaWV3LnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvY29udHJvbHMvc2xpZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy9vdmVybGF5L3N0YXJMYXllclZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL292ZXJsYXkvc2V0dGluZ3NPdmVybGF5Vmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc3RhckxheWVyQW5pbWF0b3IudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luc3BpZXJ0eVBsYXllclZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9zdGFyTGF5ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL3NldHRpbmdzLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXR0aW5ncy9zZXR0aW5nc01hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiQXJyYXkiLCJmaXJzdE9yRGVmYXVsdCIsImZ1bmMiLCJhcnJheUl0ZW0iLCJ0aGlzIiwiZmlyc3QiLCJjb25zb2xlIiwibG9nIiwiZ2V0TmV4dCIsImN1cnJlbnQiLCJzZWxlY3RvciIsIm5leHRQb3NpdGlvbiIsIm5leHQiLCJ4IiwicmVtb3ZlSXRlbSIsIml0ZW0iLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJjb250YWlucyIsInJlbW92ZUl0ZW1JZkV4aXN0cyIsImFkZEl0ZW1JZk5vdEV4aXN0cyIsInB1c2giLCJyZW1vdmUiLCJ0b0xpc3QiLCJmaWx0ZXIiLCJFQ2FudmFzIiwiW29iamVjdCBPYmplY3RdIiwiZHJhd0Z1bmN0aW9ucyIsInJlc2l6ZSIsImNhbnZhcyIsIndpZHRoIiwiY2xpZW50V2lkdGgiLCJoZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJkcmF3IiwiZHJhd0Z1bmN0aW9uIiwiY3R4IiwiYWRkRHJhd0Z1bmN0aW9uIiwicmVtb3ZlRHJhd0Z1bmN0aW9uIiwiZG9jdW1lbnQiLCJib2R5IiwicGFyZW50RWxlbWVudCIsInN0eWxlIiwibWFyZ2luIiwib3ZlcmZsb3ciLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJlbkNhbnZhcyIsImdldENvbnRleHQiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiY3Vyc29yTG9jayIsIlNldEN1cnNvciIsInBvaW50ZXIiLCJjdXJzb3IiLCJSZWN0YW5nbGUiLCJ5IiwiY29sbGlkZXNXaXRoIiwicmVjdGFuZ2xlIiwiaGl0eCIsImhpdHkiLCJpc0hpdEJ5IiwiRUFuaW1hdGlvbiIsInVwZGF0ZUZ1bmN0aW9ucyIsImlzUnVubmluZyIsImFkZFVwZGF0ZUZ1bmN0aW9uIiwicmVtb3ZlVXBkYXRlRnVuY3Rpb24iLCJzZXRGcHMiLCJmcHMiLCJmcHNJbnRlcnZhbCIsImFuaW1hdGlvbkxvb3AiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJub3ciLCJEYXRlIiwiZWxhcHNlZCIsImxhc3RGcmFtZVRpbWUiLCJ0aW1lRGlmZiIsInVwZGF0ZUZ1bmN0aW9uIiwicGxheSIsImV2ZW50Iiwia2V5Q29kZSIsInBsYXlQYXVzZSIsInBhdXNlIiwic3RhZ2VfU3RhZ2UiLCJtb3VzZWRvd24iLCJldiIsInZpZXciLCJtb3VzZURvd24iLCJtb3VzZXVwIiwibW91c2VVcCIsIm1vdXNlTW92ZSIsImNsaWNrIiwicmVuZGVyIiwic2hvdWxkVXBkYXRlTGF5b3V0IiwidXBkYXRlTGF5b3V0IiwiY2xlYXJSZWN0Iiwic2V0VmlldyIsImNyZWF0ZUZ1bGxTY3JlZW4iLCJzdGFnZSIsInJlbmRlck9iamVjdF9SZW5kZXJPYmplY3QiLCJnZW5lcmF0ZU5ld0lkIiwiaWRDb3VudGVyIiwiYm91bmRzIiwiaWQiLCJIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbiIsIlZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbiIsIlNldHRpbmdPcGVyYXRpb24iLCJTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZSIsImFsaWduZW1lbnRfQWxpZ25lbWVudCIsImhvcml6b250YWxBbGlnbiIsIkNlbnRlciIsInZlcnRpY2FsQWxpZ24iLCJsYXlvdXRWaWV3X0xheW91dFZpZXciLCJjaGlsZHJlbiIsImFsaWduZW1lbnQiLCJ0cmlnZ2VyVXBkYXRlTGF5b3V0IiwiY2hpbGQiLCJzdGFyUmVuZGVyT2JqZWN0X1N0YXJSZW5kZXJPYmplY3QiLCJzdGFyIiwic3VwZXIiLCJmaWxsU3R5bGUiLCJiZWdpblBhdGgiLCJhcmMiLCJNYXRoIiwiUEkiLCJmaWxsIiwiRXJyb3IiLCJzdGFyTGF5ZXJEcmF3ZXJfU3RhckxheWVyRHJhd2VyIiwic3RhckxheWVyIiwic2V0dGluZ3NVcGRhdGVkIiwib3BlcmF0aW9uIiwiQ2hhbmdlTnVtYmVyT2ZTdGFycyIsInVwZGF0ZU51bWJlck9mU3RhcnMiLCJhcHBfQXBwIiwic2V0dGluZ01hbmFnZXIiLCJ1cGRhdGUiLCJzdGFycyIsInNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbF9TZXR0aW5nc092ZXJsYXlWaWV3TW9kZWwiLCJzdGF0ZSIsImhpZGRlbiIsIkVFdmVudFQiLCJsaXN0ZW5lcnMiLCJsaXN0ZW5lciIsImRpc3BhdGNoRXZlbnQiLCJhcmciLCJsZW5ndGgiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiY29udHJvbF9Db250cm9sIiwiaXNNb3VzZU92ZXIiLCJpc0VuYWJsZWQiLCJjbGlja2VkIiwiY2xpZW50WCIsImNsaWVudFkiLCJCdXR0b25Qcm9wZXJ0aWVzIiwiZm9udFNpemUiLCJtb3VzZU92ZXJGaWxsU3R5bGUiLCJiYWNrZ3JvdW5kRmlsbFN0eWxlIiwidW5kZWZpbmVkIiwiYnV0dG9uX0J1dHRvbiIsInByb3BlcnRpZXMiLCJpc1Zpc2libGUiLCJmaWxsUmVjdCIsImZvbnQiLCJ0ZXh0QWxpZ24iLCJ0ZXh0QmFzZWxpbmUiLCJmaWxsVGV4dCIsInRleHQiLCJhbGlnbiIsInBvc2l0aW9uIiwic2l6ZSIsIm1lYXN1cmVUZXh0IiwiTGVmdCIsIlJpZ2h0IiwiVG9wIiwiQm90dG9tIiwiUG9pbnQiLCJQb2ludF9Qb2ludCIsImxpc3RWaWV3X0xpc3RWaWV3Iiwic3BhY2luZyIsImNvbnRyb2xzIiwibGF5b3V0Vmlld3MiLCJhZGRDb250cm9sIiwiY29udHJvbCIsInJlbW92ZUNvbnRyb2wiLCJhZGRMYXlvdXRWaWV3IiwibGF5b3V0VmlldyIsInJlbW92ZUxheW91dFZpZXciLCJtYXgiLCJzbGlkZXJfU2xpZGVyIiwicmFkaXVzIiwibWluVmFsdWUiLCJtYXhWYWx1ZSIsImN1cnJlbnRWYWx1ZSIsInZhbHVlQ2hhbmdlZCIsImlzRHJhZ2dpbmciLCJ1cGRhdGVDdXJyZW50VmFsdWUiLCJzdHJva2VTdHlsZSIsImxpbmVXaWR0aCIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZSIsInJlbFZhbHVlIiwiY2xvc2VQYXRoIiwidmFsIiwic3RhckxheWVyVmlld19TdGFyTGF5ZXJWaWV3IiwibnVtYmVyT2ZTdGFyc0NoYW5nZWQiLCJudW1iZXJPZlN0YXJzIiwiY2hhbmdlTnVtYmVyT2ZTdGFycyIsInJvdW5kIiwic3BlZWRDaGFuZ2VkIiwic3BlZWQiLCJjaGFuZ2VTcGVlZCIsInNldHRpbmdzTGlzdCIsImJ0bkZvckxheWVyIiwic2VuZGVyIiwicmVtb3ZlU3RhckxheWVyIiwic2xpZGVyIiwic2xpZGVyU3BlZWQiLCJzZXR0aW5nc092ZXJsYXlWaWV3X1NldHRpbmdzT3ZlcmxheVZpZXciLCJ2aWV3TW9kZWwiLCJsYXN0TW92ZWQiLCJpbmFjdGl2aXR5VGltZW91dCIsImxheWVyQnV0dG9ucyIsIkFkZFN0YXJMYXllciIsInNldHRpbmdzIiwic3RhckxheWVycyIsIm1hcCIsInRhZyIsImFkZExheWVyQnRuIiwidG9nZ2xlU2hvd0hpZGVTdGFyTGF5ZXJWaWV3IiwiUmVtb3ZlU3RhckxheWVyIiwic2V0dGluZ3NMYXllciIsImRldGFpbGVkU3RhckxheWVyVmlldyIsInNob3dIaWRlT3ZlcmxheUNsaWNrZWQiLCJ2aXNpYmxlIiwic2V0U3RhdGUiLCJiZWZvcmVWaXNpYmxlIiwibW91c2VJbmFjdGl2aXR5SGFuZGxlciIsInNldFRpbWVvdXQiLCJzaG93T3ZlckxheWVyQnV0dG9uIiwiYnRuRm9yTmV3TGF5ZXIiLCJhZGRTdGFyTGF5ZXIiLCJzdGFyTGF5ZXJBbmltYXRvcl9TdGFyTGF5ZXJBbmltYXRvciIsImluc3BpZXJ0eVBsYXllclZpZXdfSW5zcGllcnR5UGxheWVyVmlldyIsInN0YXJBbmltYXRvcnMiLCJhcHBTZXR0aW5nc1VwZGF0ZWQiLCJsYXllciIsImFuaW1hdG9yIiwiYW5pbSIsInN0YXJMYXllckRyYXdzIiwic2V0dGluZ3NPdmVybGF5IiwiU3RhckxheWVyIiwicmFuZG9tIiwicnVuIiwiYmFja2dyb3VuZENvbG9yIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiZGlmZiIsImZsb29yIiwiQ2hhbmdlU3BlZWQiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsUUFBQSxJQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxFQUFBLENBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxZQUFBLENBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBYixFQUFBLGNBQWlEbUIsT0FBQSxLQVFqRHJCLEVBQUFzQixFQUFBLFNBQUFELEVBQUFFLEdBRUEsR0FEQSxFQUFBQSxJQUFBRixFQUFBckIsRUFBQXFCLElBQ0EsRUFBQUUsRUFBQSxPQUFBRixFQUNBLEtBQUFFLEdBQUEsaUJBQUFGLFFBQUFHLFdBQUEsT0FBQUgsRUFDQSxJQUFBSSxFQUFBWCxPQUFBWSxPQUFBLE1BR0EsR0FGQTFCLEVBQUFrQixFQUFBTyxHQUNBWCxPQUFBQyxlQUFBVSxFQUFBLFdBQXlDVCxZQUFBLEVBQUFLLFVBQ3pDLEVBQUFFLEdBQUEsaUJBQUFGLEVBQUEsUUFBQU0sS0FBQU4sRUFBQXJCLEVBQUFVLEVBQUFlLEVBQUFFLEVBQUEsU0FBQUEsR0FBZ0gsT0FBQU4sRUFBQU0sSUFBcUJDLEtBQUEsS0FBQUQsSUFDckksT0FBQUYsR0FJQXpCLEVBQUE2QixFQUFBLFNBQUExQixHQUNBLElBQUFTLEVBQUFULEtBQUFxQixXQUNBLFdBQTJCLE9BQUFyQixFQUFBLFNBQzNCLFdBQWlDLE9BQUFBLEdBRWpDLE9BREFILEVBQUFVLEVBQUFFLEVBQUEsSUFBQUEsR0FDQUEsR0FJQVosRUFBQWEsRUFBQSxTQUFBaUIsRUFBQUMsR0FBc0QsT0FBQWpCLE9BQUFrQixVQUFBQyxlQUFBMUIsS0FBQXVCLEVBQUFDLElBR3REL0IsRUFBQWtDLEVBQUEsR0FJQWxDLElBQUFtQyxFQUFBLG1CQ3RFQUMsTUFBTUosVUFBVUssZUFBaUIsU0FBVUMsR0FDdkMsSUFBSyxNQUFNQyxLQUFhQyxLQUNwQixHQUFJRixFQUFLQyxHQUNMLE9BQU9BLEVBR2YsT0FBTyxNQUdYSCxNQUFNSixVQUFVUyxNQUFRLFNBQVVILEdBQzlCLElBQUssTUFBTUMsS0FBYUMsS0FDcEIsR0FBSUYsRUFBS0MsR0FDTCxPQUFPQSxFQUtmLE1BRkFHLFFBQVFDLElBQUksa0JBQ1pELFFBQVFDLElBQUlILE1BQ04sa0JBR1ZKLE1BQU1KLFVBQVVZLFFBQVUsU0FBYUMsRUFBWUMsR0FDL0MsSUFBSUMsRUFBZUQsRUFBU0QsR0FBVyxFQUNuQ0csRUFBUVIsS0FBYUgsZUFBZ0JZLEdBQU1ILEVBQVNHLElBQU1GLEdBSzlELE9BSktDLElBQ0RBLEVBQVFSLEtBQWFDLE1BQU1RLEdBQW9CLEdBQWZILEVBQVNHLEtBR3RDRCxHQUdYWixNQUFNSixVQUFVa0IsV0FBYSxTQUFVQyxHQUNuQyxJQUFJQyxFQUFRWixLQUFLYSxRQUFRRixHQUN6QixJQUFjLEdBQVZDLEVBR0EsS0FBTSxpQkFGTlosS0FBS2MsT0FBT0YsRUFBTyxJQU0zQmhCLE1BQU1KLFVBQVV1QixTQUFXLFNBQWFKLEdBQ3BDLE9BQStCLElBQXhCWCxLQUFLYSxRQUFRRixJQUd4QmYsTUFBTUosVUFBVXdCLG1CQUFxQixTQUFhTCxHQUM5QyxJQUFJQyxFQUFRWixLQUFLYSxRQUFRRixJQUNYLEdBQVZDLEdBQ0FaLEtBQUtjLE9BQU9GLEVBQU8sSUFJM0JoQixNQUFNSixVQUFVeUIsbUJBQXFCLFNBQWFOLElBRWhDLEdBREZYLEtBQUthLFFBQVFGLElBRXBCWCxLQUFha0IsS0FBS1AsSUFJM0JmLE1BQU1KLFVBQVUyQixPQUFTLFNBQWFiLEdBQ2pDTixLQUFhVSxXQUFZVixLQUFhQyxNQUFNSyxLQUdqRFYsTUFBTUosVUFBVTRCLE9BQVMsV0FDckIsT0FBUXBCLEtBQWFxQixPQUFPWixJQUFLLHlDQ3RFOUIsTUFBTWEsRUFjVEMsY0FWUXZCLEtBQUF3QixjQUFnQyxHQTJDakN4QixLQUFBeUIsT0FBUyxNQUNadkIsUUFBUUMsSUFBSSxtQkFDWkgsS0FBSzBCLE9BQU9DLE1BQVEzQixLQUFLMEIsT0FBT0UsWUFDaEM1QixLQUFLMEIsT0FBT0csT0FBUzdCLEtBQUswQixPQUFPSSxlQUc5QjlCLEtBQUErQixLQUFPLE1BQ1YsSUFBSyxNQUFNQyxLQUFnQmhDLEtBQUt3QixjQUM1QlEsRUFBYWhDLEtBQUtpQyxJQUFLakMsS0FBSzJCLE1BQU8zQixLQUFLNkIsVUFJekM3QixLQUFBa0MsZ0JBQWtCLENBQUNwQyxJQUN0QkUsS0FBS3dCLGNBQWNOLEtBQUtwQixLQUdyQkUsS0FBQW1DLG1CQUFxQixDQUFDckMsSUFDekJFLEtBQUt3QixjQUFjVixPQUFPZCxLQUFLd0IsY0FBY1gsUUFBUWYsR0FBTyxLQTFEaEU2QixZQUNJLE9BQU8zQixLQUFLMEIsT0FBT0MsTUFHdkJFLGFBQ0ksT0FBTzdCLEtBQUswQixPQUFPRyxPQUtoQk4sMEJBQ0hhLFNBQVNDLEtBQUtDLGNBQWNDLE1BQU1WLE9BQVMsT0FDM0NPLFNBQVNDLEtBQUtFLE1BQU1WLE9BQVMsT0FDN0JPLFNBQVNDLEtBQUtFLE1BQU1DLE9BQVMsSUFDN0JKLFNBQVNDLEtBQUtFLE1BQU1FLFNBQVcsU0FFL0IsSUFBSWYsRUFBU1UsU0FBU00sY0FBYyxVQUNwQ04sU0FBU0MsS0FBS00sWUFBWWpCLEdBQzFCQSxFQUFPYSxNQUFNWixNQUFRLE9BQ3JCRCxFQUFPYSxNQUFNVixPQUFTLE9BRXRCLElBQUllLEVBQVcsSUFBSXRCLEVBS25CLE9BSkFzQixFQUFTbEIsT0FBU0EsRUFDbEJrQixFQUFTWCxJQUFNUCxFQUFPbUIsV0FBVyxNQUNqQ0MsT0FBT0MsaUJBQWlCLFNBQVVILEVBQVNuQixRQUMzQ21CLEVBQVNuQixTQUNGbUIsR0FHSXRCLEVBQUEwQixXQUFxQixLQUV0QjFCLEVBQUEyQixVQUFZLEVBQUM5RSxFQUFjK0UsS0FDakNBLEdBQ0FkLFNBQVNDLEtBQUtFLE1BQU1ZLE9BQVMsVUFDN0I3QixFQUFRMEIsV0FBYTdFLEdBQ2RBLEdBQVFtRCxFQUFRMEIsYUFDdkJaLFNBQVNDLEtBQUtFLE1BQU1ZLE9BQVMsVUFDN0I3QixFQUFRMEIsV0FBYSxRQy9DMUIsTUFBTUksRUFDVDdCLFlBQW1CZCxFQUFrQjRDLEVBQWtCMUIsRUFBc0JFLEdBQTFEN0IsS0FBQVMsSUFBa0JULEtBQUFxRCxJQUFrQnJELEtBQUEyQixRQUFzQjNCLEtBQUE2QixTQUV0RTdCLEtBQUFzRCxhQUFlLENBQUNDLElBQ25CLElBQUlDLEdBQU8sRUFDUEMsR0FBTyxFQXVCWCxPQXRCSXpELEtBQUtTLEdBQUs4QyxFQUFVOUMsRUFDaEJULEtBQUtTLEdBQUs4QyxFQUFVOUMsR0FBS1QsS0FBS1MsRUFBSVQsS0FBSzJCLE1BQVE0QixFQUFVOUMsSUFDekQrQyxHQUFPLEdBR1BELEVBQVU5QyxHQUFLVCxLQUFLUyxHQUFLOEMsRUFBVTlDLEVBQUk4QyxFQUFVNUIsTUFBUTNCLEtBQUtTLElBQzlEK0MsR0FBTyxHQUlYQSxJQUNJeEQsS0FBS3FELEdBQUtFLEVBQVVGLEVBQ2hCckQsS0FBS3FELEdBQUtFLEVBQVVGLEdBQUtyRCxLQUFLcUQsRUFBSXJELEtBQUsyQixNQUFRNEIsRUFBVUYsSUFDekRJLEdBQU8sR0FHUEYsRUFBVUYsR0FBS3JELEtBQUtxRCxHQUFLRSxFQUFVRixFQUFJRSxFQUFVNUIsTUFBUTNCLEtBQUtxRCxJQUM5REksR0FBTyxJQUtaRCxHQUFRQyxJQUdaekQsS0FBQTBELFFBQVUsRUFBQ2pELEVBQVc0QyxJQUNsQjVDLEVBQUlULEtBQUtTLEdBQUtBLEVBQUlULEtBQUtTLEVBQUlULEtBQUsyQixPQUNoQzBCLEVBQUlyRCxLQUFLcUQsR0FBS0EsRUFBSXJELEtBQUtxRCxFQUFJckQsS0FBSzZCLFNDL0J4QyxNQUFNOEIsRUFPVHBDLGNBTlF2QixLQUFBNEQsZ0JBQW9DLEdBQ3BDNUQsS0FBQTZELFdBQVksRUFtQ2I3RCxLQUFBOEQsa0JBQW9CLENBQUNoRSxJQUN4QkUsS0FBSzRELGdCQUFnQjFDLEtBQUtwQixLQUd2QkUsS0FBQStELHFCQUF1QixDQUFDakUsSUFDM0JFLEtBQUs0RCxnQkFBZ0I5QyxPQUFPZCxLQUFLNEQsZ0JBQWdCL0MsUUFBUWYsR0FBTyxLQUc3REUsS0FBQWdFLE9BQVMsQ0FBQ0MsSUFDYmpFLEtBQUtpRSxJQUFNQSxFQUNYakUsS0FBS2tFLFlBQWMsSUFBT2xFLEtBQUtpRSxNQUczQmpFLEtBQUFtRSxjQUFnQixNQUNoQm5FLEtBQUs2RCxXQUNMTyxzQkFBc0JwRSxLQUFLbUUsZUFHL0IsSUFBSUUsRUFBTUMsS0FBS0QsTUFDWEUsRUFBVUYsRUFBTXJFLEtBQUt3RSxjQUV6QixHQUFJRCxFQUFVdkUsS0FBS2tFLFlBQWEsQ0FDNUJsRSxLQUFLd0UsY0FBZ0JILEVBQ3JCLElBQUlJLEVBQVdGLEVBQVUsSUFFekIsSUFBSyxNQUFNRyxLQUFrQjFFLEtBQUs0RCxnQkFDOUJjLEVBQWVELE1BdkR2QnpFLEtBQUtnRSxPQUFPLElBQ1poRSxLQUFLMkUsT0FDTHZDLFNBQVNXLGlCQUFpQixRQUFVNkIsSUFDWCxJQUFqQkEsRUFBTUMsU0FDTjdFLEtBQUs4RSxjQUtWdkQsT0FDRXZCLEtBQUs2RCxZQUNOM0QsUUFBUUMsSUFBSSxRQUNaSCxLQUFLNkQsV0FBWSxFQUNqQjdELEtBQUt3RSxjQUFnQkYsS0FBS0QsTUFDMUJyRSxLQUFLbUUsaUJBSU41QyxRQUNDdkIsS0FBSzZELFlBQ0wzRCxRQUFRQyxJQUFJLFNBQ1pILEtBQUs2RCxXQUFZLEdBSWxCdEMsWUFDSHZCLEtBQUs2RCxVQUFZN0QsS0FBSytFLFFBQVUvRSxLQUFLMkUsUUMvQnRDLE1BQU1LLEVBSVR6RCxZQUFvQkcsR0FBQTFCLEtBQUEwQixTQWdCWjFCLEtBQUFpRixVQUFZLENBQUNDLElBQ2JsRixLQUFLbUYsTUFDTG5GLEtBQUttRixLQUFLQyxVQUFVRixLQUlwQmxGLEtBQUFxRixRQUFVLENBQUNILElBQ1hsRixLQUFLbUYsTUFDTG5GLEtBQUttRixLQUFLRyxRQUFRSixLQUlsQmxGLEtBQUF1RixVQUFZLENBQUNMLElBQ2JsRixLQUFLbUYsTUFDTG5GLEtBQUttRixLQUFLSSxVQUFVTCxLQUlwQmxGLEtBQUF3RixNQUFRLENBQUNOLElBQ1RsRixLQUFLbUYsTUFDTG5GLEtBQUttRixLQUFLSyxNQUFNTixLQUloQmxGLEtBQUF5RixPQUFTLEVBQUN4RCxFQUErQk4sRUFBZ0JFLEtBQ3pEN0IsS0FBS21GLE9BQ0RuRixLQUFLMEYscUJBQ0wxRixLQUFLbUYsS0FBS1EsYUFBYTFELEVBQUssSUFBSW1CLEVBQVUsRUFBRyxFQUFHekIsRUFBT0UsSUFDdkQ3QixLQUFLMEYsb0JBQXFCLEdBRTlCekQsRUFBSTJELFVBQVUsRUFBRyxFQUFHakUsRUFBT0UsR0FDM0I3QixLQUFLbUYsS0FBS00sT0FBT3hELE1BSWxCakMsS0FBQTZGLFFBQVUsQ0FBQ1YsSUFDZG5GLEtBQUttRixLQUFPQSxFQUNabkYsS0FBSzBGLG9CQUFxQixJQXBEMUJoRSxFQUFPUSxnQkFBZ0JsQyxLQUFLeUYsUUFDNUJyRCxTQUFTVyxpQkFBaUIsWUFBYS9DLEtBQUtpRixXQUM1QzdDLFNBQVNXLGlCQUFpQixVQUFXL0MsS0FBS3FGLFNBQzFDakQsU0FBU1csaUJBQWlCLFlBQWEvQyxLQUFLdUYsV0FDNUNuRCxTQUFTVyxpQkFBaUIsUUFBUy9DLEtBQUt3RixPQUdyQ2pFLGdCQUNILElBQUlHLEVBQVNKLEVBQVF3RSxtQkFDakJDLEVBQVEsSUFBSWYsRUFBTXRELEdBR3RCLE9BRmdCLElBQUlpQyxHQUNWRyxrQkFBa0JwQyxFQUFPSyxNQUM1QmdFLEdDcEJSLE1BQWVDLEVBT2xCekUsY0FMUXZCLEtBQUFpRyxjQUFnQixNQUNwQkQsRUFBYUUsWUFDTkYsRUFBYUUsWUFZakJsRyxLQUFBbUcsT0FBb0IsSUFBSS9DLEVBQVUsRUFBRyxFQUFHLEVBQUcsR0FSOUNwRCxLQUFLb0csR0FBS3BHLEtBQUtpRyxnQkFDZmpHLEtBQUs3QixLQUFPLFVBQVk2QixLQUFLb0csSUNYckMsSUFBWUMsRUNBQUMsRUNBQUMsRUNBQUMsRUpHT1IsRUFBQUUsVUFBWSxFQ0gvQixTQUFZRyxHQUNSQSxJQUFBLGVBQ0FBLElBQUEsbUJBQ0FBLElBQUEsaUJBSEosQ0FBWUEsTUFBMEIsS0NBdEMsU0FBWUMsR0FDUkEsSUFBQSxhQUNBQSxJQUFBLG1CQUNBQSxJQUFBLG1CQUhKLENBQVlBLE1BQXdCLEtHRzdCLE1BQU1HLEVBQWJsRixjQUNXdkIsS0FBQTBHLGdCQUFrQkwsRUFBMkJNLE9BQzdDM0csS0FBQTRHLGNBQWdCTixFQUF5QkssUUNEN0MsTUFBZUUsVUFBbUJiLEVBQXpDekUsa0NBQ2N2QixLQUFBOEcsU0FBMkIsR0FDN0I5RyxLQUFBMEYsb0JBQXFCLEVBRXRCMUYsS0FBQStHLFdBQWEsSUFBSU4sRUFjakJ6RyxLQUFBZ0gsb0JBQXNCLE1BQ3pCaEgsS0FBSzBGLG9CQUFxQixJQWJ2Qm5FLE9BQU9VLEdBQ05qQyxLQUFLMEYscUJBQ0wxRixLQUFLMkYsYUFBYTFELEVBQUtqQyxLQUFLbUcsUUFDNUJuRyxLQUFLMEYsb0JBQXFCLEdBRTlCLElBQUssTUFBTXVCLEtBQVNqSCxLQUFLOEcsU0FDckJHLEVBQU14QixPQUFPeEQsR0FVZFYsVUFBVTJELEdBQ2IsSUFBSyxNQUFNK0IsS0FBU2pILEtBQUs4RyxTQUNyQkcsRUFBTTdCLFVBQVVGLEdBSWpCM0QsUUFBUTJELEdBQ1gsSUFBSyxNQUFNK0IsS0FBU2pILEtBQUs4RyxTQUNyQkcsRUFBTTNCLFFBQVFKLEdBSWYzRCxVQUFVMkQsR0FDYixJQUFLLE1BQU0rQixLQUFTakgsS0FBSzhHLFNBQ3JCRyxFQUFNMUIsVUFBVUwsR0FJakIzRCxNQUFNMkQsR0FDVCxJQUFLLE1BQU0rQixLQUFTakgsS0FBSzhHLFNBQVMxRixTQUM5QjZGLEVBQU16QixNQUFNTixJQzNDakIsTUFBTWdDLFVBQXlCbEIsRUFNbEN6RSxZQUFvQjRGLEdBQ2hCQyxRQURnQnBILEtBQUFtSCxPQUxwQjVGLFVBQVUyRCxJQUVWM0QsUUFBUTJELElBT0QzRCxPQUFPVSxHQUdWQSxFQUFJb0YsVUFBWSxRQUNoQnBGLEVBQUlxRixZQUNKckYsRUFBSXNGLElBQUl2SCxLQUFLbUgsS0FBSzFHLEVBQUdULEtBQUttSCxLQUFLOUQsRUFBR3JELEtBQUttSCxLQUFLekksRUFBRyxFQUFhLEVBQVY4SSxLQUFLQyxJQUN2RHhGLEVBQUl5RixPQUVSbkcsVUFBVTJELEdBQ04sTUFBTSxJQUFJeUMsTUFBTSwyQkFFcEJwRyxNQUFNMkQsR0FDRixNQUFNLElBQUl5QyxNQUFNLDZCSnpCeEIsU0FBWXBCLEdBQ1JBLElBQUEsK0JBQ0FBLElBQUEscUNBQ0FBLElBQUEsNkNBQ0FBLElBQUEsNkJBSkosQ0FBWUEsTUFBZ0IsS0tRckIsTUFBTXFCLFVBQXdCZixFQUNqQ3RGLFlBQW1Cc0csR0FDZlQsUUFEZXBILEtBQUE2SCxZQU1YN0gsS0FBQThILGdCQUFrQixDQUFDQyxJQUN2QixPQUFRQSxHQUNKLEtBQUt4QixFQUFpQnlCLG9CQUNsQmhJLEtBQUtpSSx5QkFLVGpJLEtBQUFpSSxvQkFBc0IsTUFDMUJqSSxLQUFLZ0gsd0JBYkxrQixFQUFJQyxlQUFlQyxPQUFPckYsaUJBQWlCL0MsS0FBSzhILGlCQUNoRDlILEtBQUtnSCxzQkFlRnpGLGFBQWFVLEVBQStCa0UsR0FDL0NuRyxLQUFLOEcsU0FBVyxHQUVoQixJQUFLLE1BQU1LLEtBQVFuSCxLQUFLNkgsVUFBVVEsTUFDOUJySSxLQUFLOEcsU0FBUzVGLEtBQUssSUFBSWdHLEVBQWlCQyxJQUt6QzVGLFVBQVUyRCxJQUdWM0QsTUFBTTJELE1KdkNqQixTQUFZc0IsR0FDUkEsSUFBQSxtQkFDQUEsSUFBQSxpQ0FDQUEsSUFBQSxxQkFISixDQUFZQSxNQUE2QixLS0VsQyxNQUFNOEIsRUFBYi9HLGNBQ1d2QixLQUFBdUksTUFBdUMvQixFQUE4QmdDLFFDNEN6RSxNQUFNQyxFQUFibEgsY0FDWXZCLEtBQUEwSSxVQUFrQyxHQUVuQzFJLEtBQUErQyxpQkFBbUIsQ0FBQzRGLElBRXZCLElBQUtBLEdBQVkzSSxLQUFLMEksVUFBVTdILFFBQVE4SCxJQUFhLEVBQ2pELEtBQU0seUJBR1YzSSxLQUFLMEksVUFBVXhILEtBQUt5SCxLQUdqQjNJLEtBQUE0SSxjQUFnQixDQUFDQyxJQUNwQixJQUFLLElBQUlqTCxFQUFJLEVBQUdBLEVBQUlvQyxLQUFLMEksVUFBVUksT0FBUWxMLElBQUssRUFFNUNnSCxFQURjNUUsS0FBSzBJLFVBQVU5SyxJQUN2QmlMLE1BSVA3SSxLQUFBK0ksb0JBQXNCLENBQUNKLElBRTFCLElBQUtBLEdBQVkzSSxLQUFLMEksVUFBVTdILFFBQVE4SCxHQUFZLEVBQ2hELEtBQU0scUJBR1YzSSxLQUFLMEksVUFBVTVILE9BQU9kLEtBQUswSSxVQUFVN0gsUUFBUThILEdBQVcsTUNsRXpELE1BQWVLLFVBQWdCaEQsRUFBdEN6RSxrQ0FDY3ZCLEtBQUFpSixhQUFjLEVBQ2pCakosS0FBQWtKLFdBQVksRUFDWmxKLEtBQUFtSixRQUFVLElBQUlWLEVBRWR6SSxLQUFBK0csV0FBYSxJQUFJTixFQWdCakJ6RyxLQUFBd0YsTUFBUSxDQUFDTixJQUNSbEYsS0FBS2tKLFdBQ0RsSixLQUFLbUcsT0FBT3pDLFFBQVF3QixFQUFHa0UsUUFBU2xFLEVBQUdtRSxVQUNuQ3JKLEtBQUttSixRQUFRUCxjQUFjNUksUUFmaEN1QixVQUFVMkQsR0FDVGxGLEtBQUtrSixZQUNEbEosS0FBS21HLE9BQU96QyxRQUFRd0IsRUFBR2tFLFFBQVNsRSxFQUFHbUUsVUFDbkNySixLQUFLaUosYUFBYyxFQUNuQjNILEVBQVEyQixVQUFVakQsS0FBSzdCLE1BQU0sS0FFN0I2QixLQUFLaUosYUFBYyxFQUNuQjNILEVBQVEyQixVQUFVakQsS0FBSzdCLE1BQU0sTUN0QnRDLE1BQU1tTCxFQUFiL0gsY0FDV3ZCLEtBQUF1SixTQUFXLEdBQ1h2SixLQUFBcUgsVUFBWSxRQUNackgsS0FBQXdKLG1CQUFxQixNQUNyQnhKLEtBQUF5Six5QkFBOEJDLEdDR2xDLE1BQU1DLFVBQWVYLEVBQTVCekgsa0NBS1d2QixLQUFBNEosV0FBYSxJQUFJTixFQUVqQnRKLEtBQUE2SixXQUFZLEVBRVo3SixLQUFBeUYsT0FBUyxDQUFDeEQsSUFDVGpDLEtBQUs2SixZQUNEN0osS0FBSzRKLFdBQVdILHNCQUNoQnhILEVBQUlvRixVQUFZckgsS0FBSzRKLFdBQVdILG9CQUNoQ3hILEVBQUk2SCxTQUFTOUosS0FBS21HLE9BQU8xRixFQUFHVCxLQUFLbUcsT0FBTzlDLEVBQUdyRCxLQUFLbUcsT0FBT3hFLE1BQU8zQixLQUFLbUcsT0FBT3RFLFNBRzFFN0IsS0FBS2lKLFlBQ0xoSCxFQUFJb0YsVUFBWXJILEtBQUs0SixXQUFXSixtQkFFaEN2SCxFQUFJb0YsVUFBWXJILEtBQUs0SixXQUFXdkMsVUFHcENwRixFQUFJOEgsS0FBTy9KLEtBQUs0SixXQUFXTCxTQUFXLFdBQ3RDdEgsRUFBSStILFVBQVksT0FDaEIvSCxFQUFJZ0ksYUFBZSxNQUNuQmhJLEVBQUlpSSxTQUFTbEssS0FBS21LLEtBQU1uSyxLQUFLbUcsT0FBTzFGLEVBQUdULEtBQUttRyxPQUFPOUMsTUFJcERyRCxLQUFBb0ssTUFBUSxFQUFDbkksRUFBK0JvSSxLQUMzQ3BJLEVBQUk4SCxLQUFPL0osS0FBSzRKLFdBQVdMLFNBQVcsV0FDdEN0SCxFQUFJK0gsVUFBWSxPQUNoQi9ILEVBQUlnSSxhQUFlLE1BQ25CLElBQUlLLEVBQU9ySSxFQUFJc0ksWUFBWXZLLEtBQUttSyxNQUU1QmhFLEVBQVMsSUFBSS9DLEVBQVUsRUFBRyxFQUFHa0gsRUFBSzNJLE1BQU8zQixLQUFLNEosV0FBV0wsVUFFN0QsT0FBUXZKLEtBQUsrRyxXQUFXTCxpQkFDcEIsS0FBS0wsRUFBMkJtRSxLQUM1QnJFLEVBQU8xRixFQUFJNEosRUFBUzVKLEVBQ3BCLE1BQ0osS0FBSzRGLEVBQTJCTSxPQUM1QlIsRUFBTzFGLEVBQUk0SixFQUFTNUosRUFBSTZKLEVBQUszSSxNQUFRLEVBQ3JDLE1BQ0osS0FBSzBFLEVBQTJCb0UsTUFDNUJ0RSxFQUFPMUYsRUFBSTRKLEVBQVM1SixFQUFJNkosRUFBSzNJLE1BR3JDLE9BQVEzQixLQUFLK0csV0FBV0gsZUFDcEIsS0FBS04sRUFBeUJvRSxJQUMxQnZFLEVBQU85QyxFQUFJZ0gsRUFBU2hILEVBQ3BCLE1BQ0osS0FBS2lELEVBQXlCSyxPQUMxQlIsRUFBTzlDLEVBQUlnSCxFQUFTaEgsRUFBSXJELEtBQUs0SixXQUFXTCxTQUFXLEVBQ25ELE1BQ0osS0FBS2pELEVBQXlCcUUsT0FDMUJ4RSxFQUFPOUMsRUFBSWdILEVBQVNoSCxFQUFJckQsS0FBSzRKLFdBQVdMLFNBR2hEdkosS0FBS21HLE9BQVNBLElBMURsQjVFLFVBQVUyRCxJQUVWM0QsUUFBUTJELEtDVkwsTUFBTTBGLEVBQ1RySixZQUFtQmQsRUFBa0I0QyxHQUFsQnJELEtBQUFTLElBQWtCVCxLQUFBcUQsS0NEbEMsTUFBTXdILEVBQ1R0SixZQUFtQmQsRUFBa0I0QyxHQUFsQnJELEtBQUFTLElBQWtCVCxLQUFBcUQsS0NNbEMsTUFBTXlILFVBQWlCakUsRUFBOUJ0RixrQ0FDV3ZCLEtBQUErSyxRQUFVLEdBRVQvSyxLQUFBZ0wsU0FBc0IsR0FDdEJoTCxLQUFBaUwsWUFBNEIsR0FFN0JqTCxLQUFBa0wsV0FBYSxDQUFDQyxJQUNqQkEsRUFBUXBFLFdBQWEvRyxLQUFLK0csV0FDMUIvRyxLQUFLZ0wsU0FBUzlKLEtBQUtpSyxHQUNuQm5MLEtBQUs4RyxTQUFTNUYsS0FBS2lLLEdBQ25CbkwsS0FBS2dILHdCQUdGaEgsS0FBQW9MLGNBQWdCLENBQUNELElBQ3BCbkwsS0FBS2dMLFNBQVN0SyxXQUFXeUssR0FDekJuTCxLQUFLOEcsU0FBU3BHLFdBQVd5SyxHQUN6Qm5MLEtBQUtnSCx3QkFHRmhILEtBQUFxTCxjQUFnQixDQUFDQyxJQUNwQkEsRUFBV3ZFLFdBQWEvRyxLQUFLK0csV0FDN0IvRyxLQUFLaUwsWUFBWS9KLEtBQUtvSyxHQUN0QnRMLEtBQUs4RyxTQUFTNUYsS0FBS29LLEdBQ25CdEwsS0FBS2dILHdCQUdGaEgsS0FBQXVMLGlCQUFtQixDQUFDRCxJQUN2QnRMLEtBQUtpTCxZQUFZdkssV0FBVzRLLEdBQzVCdEwsS0FBSzhHLFNBQVNwRyxXQUFXNEssR0FDekJ0TCxLQUFLZ0gsd0JBR0Z6RixhQUFhVSxFQUErQmtFLEdBQy9DLElBQUkxRixFQUFJLEVBQ1IsT0FBUVQsS0FBSytHLFdBQVdMLGlCQUNwQixLQUFLTCxFQUEyQm1FLEtBQzVCL0osRUFBSTBGLEVBQU8xRixFQUNYLE1BQ0osS0FBSzRGLEVBQTJCTSxPQUM1QmxHLEVBQUkwRixFQUFPMUYsRUFBSTBGLEVBQU94RSxNQUFRLEVBQzlCLE1BQ0osS0FBSzBFLEVBQTJCb0UsTUFDNUJoSyxFQUFJMEYsRUFBTzFGLEVBQUkwRixFQUFPeEUsTUFHOUIzQixLQUFLbUcsT0FBTzFGLEVBQUlBLEVBRWhCLElBQUk0QyxFQUFJLEVBQ1IsT0FBUXJELEtBQUsrRyxXQUFXSCxlQUNwQixLQUFLTixFQUF5Qm9FLElBQzFCckgsRUFBSThDLEVBQU85QyxFQUNYLE1BQ0osS0FBS2lELEVBQXlCSyxPQUMxQnRELEVBQUk4QyxFQUFPOUMsRUFBSThDLEVBQU90RSxPQUFTLEVBQy9CLE1BQ0osS0FBS3lFLEVBQXlCcUUsT0FDMUJ0SCxFQUFJOEMsRUFBTzlDLEVBQUk4QyxFQUFPdEUsT0FHOUI3QixLQUFLbUcsT0FBTzlDLEVBQUlBLEVBRWhCLElBQUkxQixFQUFRLEVBQ1JFLEVBQVMsRUFFYixJQUFLLE1BQU1vRixLQUFTakgsS0FBSzhHLFNBS3JCLEdBSkk5RyxLQUFLOEcsU0FBU2pHLFFBQVFvRyxHQUFTLElBQy9CNUQsR0FBS3JELEtBQUsrSyxRQUNWbEosR0FBVTdCLEtBQUsrSyxTQUVmL0ssS0FBS2dMLFNBQVNqSyxTQUFTa0csR0FBbUIsQ0FDMUMsSUFBSWtFLEVBQVVsRSxFQUNka0UsRUFBUWYsTUFBTW5JLEVBQUssSUFBSTRJLEVBQU1wSyxFQUFHNEMsSUFDaENBLEdBQUs4SCxFQUFRaEYsT0FBT3RFLE9BQ3BCQSxHQUFVc0osRUFBUWhGLE9BQU90RSxPQUN6QkYsRUFBUTZGLEtBQUtnRSxJQUFJN0osRUFBT3dKLEVBQVFoRixPQUFPeEUsV0FFdEMsS0FBSTNCLEtBQUtpTCxZQUFZbEssU0FBU2tHLEdBUS9CLE1BQU0sSUFBSVUsTUFBTSx1QkFQaEIsSUFBSTJELEVBQWFyRSxFQUNqQnFFLEVBQVczRixhQUFhMUQsRUFBSyxJQUFJbUIsRUFBVTNDLEVBQUc0QyxFQUFHLEVBQUcsSUFDcERBLEdBQUtpSSxFQUFXbkYsT0FBT3RFLE9BQ3ZCQSxHQUFVc0osRUFBUWhGLE9BQU90RSxPQUN6QkYsRUFBUTZGLEtBQUtnRSxJQUFJN0osRUFBTzJKLEVBQVduRixPQUFPeEUsT0FPOUNFLEdBQVU3QixLQUFLbUcsT0FBT3RFLFFBQVVGLEdBQVMzQixLQUFLbUcsT0FBT3hFLFFBQ3JEM0IsS0FBS21HLE9BQU90RSxPQUFTQSxFQUNyQjdCLEtBQUttRyxPQUFPeEUsTUFBUUEsRUFDcEIzQixLQUFLMkYsYUFBYTFELEVBQUssSUFBSW1CLEVBQVUrQyxFQUFPMUYsRUFBRzBGLEVBQU85QyxFQUFHckQsS0FBS21HLE9BQU94RSxNQUFPM0IsS0FBS21HLE9BQU90RSxXQzdGN0YsTUFBTTRKLFVBQWV6QyxFQVd4QnpILGNBQ0k2RixRQVhHcEgsS0FBQTBMLE9BQWlCLEdBRWpCMUwsS0FBQTJMLFNBQVcsRUFDWDNMLEtBQUE0TCxTQUFXLElBQ1g1TCxLQUFBNkwsYUFBZSxHQUlmN0wsS0FBQThMLGFBQWUsSUFBSXJELEVBNEJuQnpJLEtBQUFvRixVQUFZLENBQUNGLElBQ1psRixLQUFLbUcsT0FBT3pDLFFBQVF3QixFQUFHa0UsUUFBU2xFLEVBQUdtRSxXQUNuQ3JKLEtBQUsrTCxZQUFhLEVBQ2xCL0wsS0FBS2dNLG1CQUFtQjlHLE1BR3pCbEYsS0FBQXNGLFFBQVUsQ0FBQ0osSUFDZGxGLEtBQUsrTCxZQUFhLElBN0JmeEssTUFBTVUsRUFBK0JvSSxHQUN4Q3JLLEtBQUttRyxPQUFTLElBQUkvQyxFQUFVaUgsRUFBUzVKLEVBQUc0SixFQUFTaEgsRUFBRyxJQUFtQixFQUFkckQsS0FBSzBMLFFBRzNEbkssT0FBT1UsR0FDVixJQUFJeEIsRUFBSVQsS0FBS21HLE9BQU8xRixFQUNoQjRDLEVBQUlyRCxLQUFLbUcsT0FBTzlDLEVBQ3BCcEIsRUFBSWdLLFlBQWMsUUFDbEJoSyxFQUFJaUssVUFBWSxFQUNoQmpLLEVBQUlxRixZQUNKckYsRUFBSWtLLE9BQU8xTCxFQUFJVCxLQUFLMEwsT0FBUXJJLEVBQUlyRCxLQUFLbUcsT0FBT3RFLE9BQVMsR0FDckRJLEVBQUltSyxPQUFPM0wsRUFBSVQsS0FBS21HLE9BQU94RSxNQUFRM0IsS0FBSzBMLE9BQVFySSxFQUFJckQsS0FBS21HLE9BQU90RSxPQUFTLEdBQ3pFSSxFQUFJb0ssU0FFSixJQUFJQyxHQUFZdE0sS0FBSzZMLGFBQWU3TCxLQUFLMkwsV0FBYTNMLEtBQUs0TCxTQUFXNUwsS0FBSzJMLFVBQzNFMUosRUFBSW9GLFVBQVksT0FDaEJwRixFQUFJcUYsWUFDSnJGLEVBQUlzRixJQUFJOUcsRUFBSVQsS0FBSzBMLFFBQVUxTCxLQUFLbUcsT0FBT3hFLE1BQXNCLEVBQWQzQixLQUFLMEwsUUFBY1ksRUFBVWpKLEVBQUlyRCxLQUFLbUcsT0FBT3RFLE9BQVMsRUFBRzdCLEtBQUswTCxPQUFRLEVBQWEsRUFBVmxFLEtBQUtDLElBQzdIeEYsRUFBSXNLLFlBQ0p0SyxFQUFJeUYsT0FhRG5HLFVBQVUyRCxHQUNia0MsTUFBTTdCLFVBQVVMLEdBQ1psRixLQUFLK0wsWUFDTC9MLEtBQUtnTSxtQkFBbUI5RyxHQUl4QjNELG1CQUFtQjJELEdBQ3ZCLElBQUlzSCxFQUFNdEgsRUFBR2tFLFFBQVVwSixLQUFLbUcsT0FBTzFGLEVBQUlULEtBQUswTCxRQUM1Q2MsRUFBTUEsR0FBT3hNLEtBQUttRyxPQUFPeEUsTUFBc0IsRUFBZDNCLEtBQUswTCxTQUFlMUwsS0FBSzRMLFNBQVc1TCxLQUFLMkwsVUFBWTNMLEtBQUsyTCxVQUNqRjNMLEtBQUs0TCxXQUNYWSxFQUFNeE0sS0FBSzRMLFVBRVhZLEVBQU14TSxLQUFLMkwsV0FDWGEsRUFBTXhNLEtBQUsyTCxVQUVmM0wsS0FBSzZMLGFBQWVXLEVBQ3BCeE0sS0FBSzhMLGFBQWFsRCxjQUFjNUksS0FBSzZMLGVDMUR0QyxNQUFNWSxVQUFzQjVGLEVBRy9CdEYsWUFBbUJzRyxHQUNmVCxRQURlcEgsS0FBQTZILFlBK0JaN0gsS0FBQTBNLHFCQUF1QixDQUFDQyxJQUMzQnpFLEVBQUlDLGVBQWV5RSxvQkFBb0I1TSxLQUFLNkgsVUFBV0wsS0FBS3FGLE1BQU1GLE1BRy9EM00sS0FBQThNLGFBQWUsQ0FBQ0MsSUFDbkI3RSxFQUFJQyxlQUFlNkUsWUFBWWhOLEtBQUs2SCxVQUFXa0YsS0FsQy9DL00sS0FBS2lOLGFBQWUsSUFBSW5DLEVBQ3hCOUssS0FBS2lOLGFBQWFsRyxXQUFXTCxnQkFBa0JMLEVBQTJCbUUsS0FDMUV4SyxLQUFLaU4sYUFBYWxHLFdBQVdILGNBQWdCTixFQUF5Qm9FLElBQ3RFLElBQUl3QyxFQUFjLElBQUl2RCxFQUN0QnVELEVBQVkvQyxLQUFPLGVBQ25CK0MsRUFBWXRELFdBQVd2QyxVQUFZLFFBQ25DckgsS0FBS2lOLGFBQWEvQixXQUFXZ0MsR0FDN0JsTixLQUFLOEcsU0FBUzVGLEtBQUtnTSxHQUNuQkEsRUFBWS9ELFFBQVFwRyxpQkFBa0JvSyxJQUNsQ2pGLEVBQUlDLGVBQWVpRixnQkFBZ0JwTixLQUFLNkgsYUFHNUMsSUFBSXdGLEVBQVMsSUFBSTVCLEVBQ2pCNEIsRUFBTzFCLFNBQVcsR0FDbEIwQixFQUFPekIsU0FBVyxJQUNsQnlCLEVBQU94QixhQUFlaEUsRUFBVVEsTUFBTVMsT0FDdEM5SSxLQUFLOEcsU0FBUzVGLEtBQUttTSxHQUNuQnJOLEtBQUtpTixhQUFhL0IsV0FBV21DLEdBQzdCQSxFQUFPdkIsYUFBYS9JLGlCQUFpQi9DLEtBQUswTSxzQkFFMUMsSUFBSVksRUFBYyxJQUFJN0IsRUFDdEI2QixFQUFZM0IsU0FBVyxFQUN2QjJCLEVBQVkxQixTQUFXLEdBQ3ZCMEIsRUFBWXpCLGFBQWVoRSxFQUFVa0YsTUFDckMvTSxLQUFLOEcsU0FBUzVGLEtBQUtvTSxHQUNuQnROLEtBQUtpTixhQUFhL0IsV0FBV29DLEdBQzdCQSxFQUFZeEIsYUFBYS9JLGlCQUFpQi9DLEtBQUs4TSxjQVc1Q3ZMLGFBQWFVLEVBQStCa0UsR0FDL0NuRyxLQUFLaU4sYUFBYXRILGFBQWExRCxFQUFLLElBQUltQixFQUFVK0MsRUFBTzFGLEVBQUcwRixFQUFPOUMsRUFBRyxFQUFHLEtDdkMxRSxNQUFNa0ssVUFBNEIxRyxFQVdyQ3RGLGNBQ0k2RixRQVhJcEgsS0FBQXdOLFVBQXNDLElBQUlsRixFQUMxQ3RJLEtBQUF5TixVQUFZbkosS0FBS0QsTUFDakJyRSxLQUFBME4sa0JBQW9CLElBSXBCMU4sS0FBQTJOLGFBQXlCLEdBaUN6QjNOLEtBQUE4SCxnQkFBa0IsQ0FBQ0MsSUFDdkIsT0FBUUEsR0FDSixLQUFLeEIsRUFBaUJxSCxhQUNsQixJQUFLLE1BQU0vRixLQUFhSyxFQUFJMkYsU0FBU0MsV0FDakMsSUFBSzlOLEtBQUsyTixhQUFhSSxJQUFJdE4sR0FBS0EsRUFBRXVOLEtBQUtqTixTQUFTOEcsR0FBWSxDQUN4RDdILEtBQUtpTixhQUFhN0IsY0FBY3BMLEtBQUtpTyxhQUNyQyxJQUFJZixFQUFjLElBQUl2RCxFQUN0QnVELEVBQVkvQyxLQUFPLGFBQ25CK0MsRUFBWWMsSUFBTW5HLEVBQ2xCcUYsRUFBWXRELFdBQVd2QyxVQUFZLFFBQ25DckgsS0FBS2lOLGFBQWEvQixXQUFXZ0MsR0FDN0JsTixLQUFLMk4sYUFBYXpNLEtBQUtnTSxHQUN2QkEsRUFBWS9ELFFBQVFwRyxpQkFBa0JvSyxJQUNsQ25OLEtBQUtrTyw0QkFBNEJyRyxLQUVyQzdILEtBQUtpTixhQUFhL0IsV0FBV2xMLEtBQUtpTyxhQUNsQyxNQUdSLE1BQ0osS0FBSzFILEVBQWlCNEgsZ0JBQ2xCLElBQUssTUFBTUMsS0FBaUJwTyxLQUFLMk4sYUFDN0IsSUFBS3pGLEVBQUkyRixTQUFTQyxXQUFXL00sU0FBU3FOLEVBQWNKLEtBQU0sQ0FDdERoTyxLQUFLaU4sYUFBYTdCLGNBQWNnRCxHQUNoQ3BPLEtBQUsyTixhQUFhak4sV0FBVzBOLEdBQzdCLE1BR1JwTyxLQUFLOEcsU0FBU3BHLFdBQVdWLEtBQUtxTyx1QkFDOUJyTyxLQUFLcU8sMkJBQXdCM0UsS0FJakMxSixLQUFBa08sNEJBQThCLENBQUNyRyxJQUNuQyxHQUFLN0gsS0FBS3FPLHNCQU1MLEdBQUlyTyxLQUFLcU8sc0JBQXNCeEcsV0FBYUEsRUFBVyxDQUN4RDdILEtBQUs4RyxTQUFTcEcsV0FBV1YsS0FBS3FPLHVCQUM5QnJPLEtBQUtxTywyQkFBd0IzRSxFQUN6QnZFLEVBQU8sSUFBSXNILEVBQWM1RSxHQUM3QjdILEtBQUtxTyxzQkFBd0JsSixFQUM3Qm5GLEtBQUs4RyxTQUFTNUYsS0FBS2xCLEtBQUtxTyx1QkFDeEJyTyxLQUFLZ0gsMkJBR0xoSCxLQUFLOEcsU0FBU3BHLFdBQVdWLEtBQUtxTyx1QkFDOUJyTyxLQUFLcU8sMkJBQXdCM0UsTUFoQkEsQ0FDN0IsSUFBSXZFLEVBQU8sSUFBSXNILEVBQWM1RSxHQUM3QjdILEtBQUtxTyxzQkFBd0JsSixFQUM3Qm5GLEtBQUs4RyxTQUFTNUYsS0FBS2xCLEtBQUtxTyx1QkFDeEJyTyxLQUFLZ0gseUJBZ0JMaEgsS0FBQXNPLHVCQUF5QixDQUFDbkIsSUFDMUJuTixLQUFLd04sVUFBVWpGLE9BQVMvQixFQUE4QitILFFBQ3REdk8sS0FBS3dPLFNBQVNoSSxFQUE4QmlJLGVBRTVDek8sS0FBS3dPLFNBQVNoSSxFQUE4QitILFdBWTdDdk8sS0FBQXVGLFVBQVksQ0FBQ0wsSUFDWmxGLEtBQUt3TixVQUFVakYsT0FBUy9CLEVBQThCZ0MsUUFBVXhJLEtBQUt3TixVQUFVakYsT0FBUy9CLEVBQThCaUksZUFDdEh6TyxLQUFLd08sU0FBU2hJLEVBQThCaUksZUFFaERySCxNQUFNN0IsVUFBVUwsS0FHYmxGLEtBQUEwTyx1QkFBeUIsTUFDeEJwSyxLQUFLRCxNQUFRckUsS0FBS3lOLFdBQWF6TixLQUFLME4sa0JBQ2hDMU4sS0FBS3dOLFVBQVVqRixPQUFTL0IsRUFBOEJpSSxlQUN0RHpPLEtBQUt3TyxTQUFTaEksRUFBOEJnQyxRQUdoRG1HLFdBQVczTyxLQUFLME8sdUJBQXdCMU8sS0FBSzBOLG1CQUFxQnBKLEtBQUtELE1BQVFyRSxLQUFLeU4sY0FJcEZ6TixLQUFBd08sU0FBVyxDQUFDakcsSUFDaEIsT0FBUUEsR0FDSixLQUFLL0IsRUFBOEJnQyxPQUMvQnhJLEtBQUs0TyxvQkFBb0IvRSxXQUFZLEVBQ3JDN0osS0FBS3dOLFVBQVVqRixNQUFRL0IsRUFBOEJnQyxPQUNyRCxNQUNKLEtBQUtoQyxFQUE4QmlJLGNBQy9Cek8sS0FBS3lOLFVBQVluSixLQUFLRCxNQUNsQnJFLEtBQUt3TixVQUFVakYsT0FBUy9CLEVBQThCZ0MsU0FDdERtRyxXQUFXM08sS0FBSzBPLHVCQUF3QjFPLEtBQUswTixtQkFDN0MxTixLQUFLNE8sb0JBQW9CL0UsV0FBWSxHQUVyQzdKLEtBQUt3TixVQUFVakYsT0FBUy9CLEVBQThCK0gsVUFDdERJLFdBQVczTyxLQUFLME8sdUJBQXdCMU8sS0FBSzBOLG1CQUM3QzFOLEtBQUs4RyxTQUFTOUYsbUJBQW1CaEIsS0FBS2lOLGNBQ3RDak4sS0FBSzhHLFNBQVM5RixtQkFBbUJoQixLQUFLcU8sdUJBQ3RDck8sS0FBS3FPLDJCQUF3QjNFLEdBRWpDMUosS0FBS3dOLFVBQVVqRixNQUFRL0IsRUFBOEJpSSxjQUNyRCxNQUNKLEtBQUtqSSxFQUE4QitILFFBQzNCdk8sS0FBS3dOLFVBQVVqRixPQUFTL0IsRUFBOEJpSSxlQUN0RHpPLEtBQUs4RyxTQUFTNUYsS0FBS2xCLEtBQUtpTixjQUU1QmpOLEtBQUt3TixVQUFVakYsTUFBUS9CLEVBQThCK0gsV0ExSTdEdk8sS0FBSzRPLG9CQUFzQixJQUFJakYsRUFDL0IzSixLQUFLNE8sb0JBQW9CekUsS0FBTyxxQkFDaENuSyxLQUFLNE8sb0JBQW9CaEYsV0FBV3ZDLFVBQVksUUFDaERySCxLQUFLNE8sb0JBQW9CN0gsV0FBV0gsY0FBZ0JOLEVBQXlCb0UsSUFDN0UxSyxLQUFLNE8sb0JBQW9CN0gsV0FBV0wsZ0JBQWtCTCxFQUEyQm1FLEtBQ2pGeEssS0FBSzRPLG9CQUFvQnpGLFFBQVFwRyxpQkFBaUIvQyxLQUFLc08sd0JBQ3ZEdE8sS0FBSzRPLG9CQUFvQmhGLFdBQVdILG9CQUFzQixxQkFDMUR6SixLQUFLOEcsU0FBUzVGLEtBQUtsQixLQUFLNE8scUJBQ3hCNU8sS0FBS2lOLGFBQWUsSUFBSW5DLEVBQ3hCOUssS0FBS2lOLGFBQWFsRyxXQUFXTCxnQkFBa0JMLEVBQTJCbUUsS0FDMUV4SyxLQUFLaU4sYUFBYWxHLFdBQVdILGNBQWdCTixFQUF5Qm9FLElBRXRFLElBQUltRSxFQUFpQixJQUFJbEYsRUFDekJrRixFQUFlMUUsS0FBTyxZQUN0QjBFLEVBQWVqRixXQUFXdkMsVUFBWSxRQUN0Q3JILEtBQUtpTixhQUFhL0IsV0FBVzJELEdBQzdCQSxFQUFlMUYsUUFBUXBHLGlCQUFrQm9LLElBQ3JDakYsRUFBSUMsZUFBZTJHLGlCQUV2QjlPLEtBQUtpTyxZQUFjWSxFQUduQjNHLEVBQUlDLGVBQWVDLE9BQU9yRixpQkFBaUIvQyxLQUFLOEgsaUJBbUU3Q3ZHLGFBQWFVLEVBQStCa0UsR0FDL0NuRyxLQUFLNE8sb0JBQW9CeEUsTUFBTW5JLEVBQUssSUFBSTJJLEVBQU16RSxFQUFPMUYsRUFBRzBGLEVBQU85QyxJQUMvRHJELEtBQUtpTixhQUFhdEgsYUFBYTFELEVBQUssSUFBSW1CLEVBQVUsRUFBNEMsRUFBekNwRCxLQUFLNE8sb0JBQW9CekksT0FBT3RFLE9BQVksRUFBRyxJQUNoRzdCLEtBQUtxTyx1QkFDTHJPLEtBQUtxTyxzQkFBc0IxSSxhQUFhMUQsRUFBSyxJQUFJbUIsRUFBVXBELEtBQUtpTixhQUFhOUcsT0FBTzFGLEVBQUlULEtBQUtpTixhQUFhOUcsT0FBT3hFLE1BQWdELEVBQXpDM0IsS0FBSzRPLG9CQUFvQnpJLE9BQU90RSxPQUFZLEVBQUcsS0NySDVLLE1BQU1rTixFQUNUeE4sWUFBbUJzRyxHQUFBN0gsS0FBQTZILFlBR1o3SCxLQUFBb0ksT0FBUyxDQUFDM0QsSUFDYixJQUFLLE1BQU0wQyxLQUFRbkgsS0FBSzZILFVBQVVRLE1BQzlCbEIsRUFBSzFHLEdBQUtULEtBQUs2SCxVQUFVa0YsTUFBUXRJLEVBQzdCMEMsRUFBSzFHLEVBQUl5SCxFQUFJMkYsU0FBU2xNLFFBQ3RCd0YsRUFBSzFHLEdBQUt5SCxFQUFJMkYsU0FBU2xNLFVDRGhDLE1BQU1xTixVQUE0Qm5JLEVBTXJDdEYsY0FDSTZGLFFBTklwSCxLQUFBOE4sV0FBZ0MsR0FDaEM5TixLQUFBaVAsY0FBcUMsR0FhckNqUCxLQUFBa1AsbUJBQXFCLENBQUNuSCxJQUMxQixPQUFRQSxHQUNKLEtBQUt4QixFQUFpQnFILGFBQ2xCNU4sS0FBSzhPLGVBQ0wsTUFDSixLQUFLdkksRUFBaUI0SCxnQkFDbEJuTyxLQUFLb04scUJBS1ZwTixLQUFBOE8sYUFBZSxNQUNsQixJQUFLLE1BQU1qSCxLQUFhSyxFQUFJMkYsU0FBU0MsV0FDakMsR0FBcUUsTUFBakU5TixLQUFLOE4sV0FBV2pPLGVBQWVZLEdBQUtBLEVBQUVvSCxXQUFhQSxHQUFvQixDQUN2RSxJQUFJc0gsRUFBUSxJQUFJdkgsRUFBZ0JDLEdBQ2hDN0gsS0FBSzhOLFdBQVc1TSxLQUFLaU8sR0FDckJuUCxLQUFLOEcsU0FBU2hHLE9BQU8sRUFBRyxFQUFHcU8sR0FDM0JuUCxLQUFLZ0gsc0JBRUwsSUFBSW9JLEVBQVcsSUFBSUwsRUFBa0JsSCxHQUNyQzdILEtBQUtxUCxLQUFLdkwsa0JBQWtCc0wsRUFBU2hILFFBQ3JDcEksS0FBS2lQLGNBQWMvTixLQUFLa08sR0FDeEIsU0FLTHBQLEtBQUFvTixnQkFBa0IsTUFDckIsSUFBSyxNQUFNa0MsS0FBa0J0UCxLQUFLOE4sV0FDOUIsR0FBa0YsTUFBOUU1RixFQUFJMkYsU0FBU0MsV0FBV2pPLGVBQWVZLEdBQUtBLEdBQUs2TyxFQUFlekgsV0FBb0IsQ0FDcEYsSUFBSXVILEVBQVdwUCxLQUFLaVAsY0FBY2hQLE1BQU1RLEdBQUtBLEVBQUVvSCxXQUFheUgsRUFBZXpILFdBQzNFN0gsS0FBS3FQLEtBQUt0TCxxQkFBcUJxTCxFQUFTaEgsUUFDeENwSSxLQUFLaVAsY0FBY3ZPLFdBQVcwTyxHQUU5QnBQLEtBQUs4RyxTQUFTM0YsT0FBT1YsR0FBS0EsR0FBSzZPLEdBQy9CdFAsS0FBSzhOLFdBQVczTSxPQUFPVixHQUFLQSxHQUFLNk8sR0FDakN0UCxLQUFLZ0gseUJBMUNiaEgsS0FBS3VQLGdCQUFrQixJQUFJaEMsRUFDM0J2TixLQUFLOEcsU0FBUzVGLEtBQUtsQixLQUFLdVAsaUJBQ3hCdlAsS0FBS3FQLEtBQU8sSUFBSTFMLEVBQ2hCdUUsRUFBSUMsZUFBZUMsT0FBT3JGLGlCQUFpQi9DLEtBQUtrUCxvQkE0QzdDM04sYUFBYVUsRUFBK0JrRSxHQUMvQyxJQUFLLE1BQU1nSixLQUFTblAsS0FBSzhOLFdBQ3JCcUIsRUFBTXhKLGFBQWExRCxFQUFLa0UsR0FFNUJuRyxLQUFLdVAsZ0JBQWdCNUosYUFBYTFELEVBQUtrRSxJQ3JFeEMsTUFBTXFKLEVBQWJqTyxjQUNXdkIsS0FBQXFJLE1BQWdCLEdBQ2hCckksS0FBQStNLE1BQXdCLEdBQWhCdkYsS0FBS2lJLFNBQWdCLEdDQ2pDLE1BQU12SCxFQUFiM0csY0FJV3ZCLEtBQUEwUCxJQUFNLE1BQ1R4UCxRQUFRQyxJQUFJLE1BRVppQyxTQUFTQyxLQUFLRSxNQUFNb04sZ0JBQWtCLFFBQ3RDLElBQUk1SixFQUFRZixFQUFNOUYsU0FFZGlHLEVBQU8sSUFBSTZKLEVBQ2ZqSixFQUFNRixRQUFRVixNQVZKK0MsRUFBQTJGLFNBQVcsSUNKdEIsTUFDSHRNLFlBQW1CSSxFQUFzQkUsR0FBdEI3QixLQUFBMkIsUUFBc0IzQixLQUFBNkIsU0FFbEM3QixLQUFBOE4sV0FBMEIsS0RDS2hMLE9BQU84TSxXQUFZOU0sT0FBTytNLGFBQ2xEM0gsRUFBQUMsZUFBaUIsSUVGNUIsTUFBUDVHLGNBQ1d2QixLQUFBb0ksT0FBUyxJQUFJSyxFQUViekksS0FBQThPLGFBQWUsTUFDbEIsSUFBSUssRUFBUSxJQUFJSyxFQUVoQixJQUFLLElBQUk1UixFQUFJLEVBQUdBLEVBQUksSUFBS0EsSUFDckJ1UixFQUFNOUcsTUFBTW5ILEtBQUssQ0FDYlQsRUFBRytHLEtBQUtpSSxTQUFXdkgsRUFBSTJGLFNBQVNsTSxNQUNoQzBCLEVBQUdtRSxLQUFLaUksU0FBV3ZILEVBQUkyRixTQUFTaE0sT0FDaENuRCxFQUFtQixFQUFoQjhJLEtBQUtpSSxTQUFlLE1BSS9CdkgsRUFBSTJGLFNBQVNDLFdBQVc1TSxLQUFLaU8sR0FDN0JuUCxLQUFLb0ksT0FBT1EsY0FBY3JDLEVBQWlCcUgsZ0JBR3hDNU4sS0FBQW9OLGdCQUFrQixDQUFDdkYsSUFDdEJLLEVBQUkyRixTQUFTQyxXQUFXcE4sV0FBV21ILEdBQ25DN0gsS0FBS29JLE9BQU9RLGNBQWNyQyxFQUFpQjRILG1CQUd4Q25PLEtBQUE0TSxvQkFBc0IsRUFBQy9FLEVBQXNCOEUsS0FDaEQsR0FBSUEsRUFBZ0IsRUFBRyxDQUNuQixJQUFJbUQsRUFBT25ELEVBQWdCOUUsRUFBVVEsTUFBTVMsT0FDM0MsR0FBSWdILEVBQU8sRUFDUCxJQUFLLElBQUlsUyxFQUFJLEVBQUdBLEVBQUlrUyxFQUFNbFMsSUFDdEJpSyxFQUFVUSxNQUFNbkgsS0FBSyxDQUNqQlQsRUFBRytHLEtBQUtpSSxTQUFXdkgsRUFBSTJGLFNBQVNsTSxNQUNoQzBCLEVBQUdtRSxLQUFLaUksU0FBV3ZILEVBQUkyRixTQUFTaE0sT0FDaENuRCxFQUFtQixFQUFoQjhJLEtBQUtpSSxTQUFlLFdBSTlCLEdBQUlLLEVBQU8sRUFDWixJQUFLLElBQUlsUyxFQUFJLEVBQUdBLEdBQUtrUyxFQUFNbFMsSUFDdkJpSyxFQUFVUSxNQUFNdkgsT0FBTzBHLEtBQUt1SSxNQUFNdkksS0FBS2lJLFNBQVc1SCxFQUFVUSxNQUFNUyxRQUFTLEdBR25GOUksS0FBS29JLE9BQU9RLGNBQWNyQyxFQUFpQnlCLHdCQUk1Q2hJLEtBQUFnTixZQUFjLEVBQUNuRixFQUFzQmtGLEtBQ3hDbEYsRUFBVWtGLE1BQVFBLEVBQ2xCL00sS0FBS29JLE9BQU9RLGNBQWNyQyxFQUFpQnlKLHNCQ2hEbkQ1TixTQUFTVyxpQkFBaUIsbUJBRTFCLFlBQ2MsSUFBSW1GLEdBQ1Z3SCxRQUo0QyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEpO1xuIiwiaW50ZXJmYWNlIEFycmF5PFQ+IHtcclxuICAgIHJlbW92ZUl0ZW1JZkV4aXN0cyhpdGVtOiBUKTogdm9pZDtcclxuICAgIGNvbnRhaW5zKGl0ZW06IFQpOiBib29sZWFuO1xyXG4gICAgcmVtb3ZlSXRlbShpdGVtOiBUKTogdm9pZDtcclxuICAgIHJlbW92ZShzZWxlY3RvcjogKGl0ZW06IFQpID0+IGJvb2xlYW4pOiB2b2lkO1xyXG4gICAgYWRkSXRlbUlmTm90RXhpc3RzKGl0ZW06IFQpOiB2b2lkO1xyXG4gICAgdG9MaXN0KCk6IFRbXTtcclxuICAgIGdldE5leHQoY3VycmVudDogVCwgc2VsZWN0b3I6IChpdGVtOiBUKSA9PiBudW1iZXIpOiBUO1xyXG4gICAgZmlyc3Qoc2VsZWN0b3I6IChpdGVtOiBUKSA9PiBib29sZWFuKTogVDtcclxuICAgIGZpcnN0T3JEZWZhdWx0KHNlbGVjdG9yOiAoaXRlbTogVCkgPT4gYm9vbGVhbik6IFQ7XHJcbn1cclxuXHJcbkFycmF5LnByb3RvdHlwZS5maXJzdE9yRGVmYXVsdCA9IGZ1bmN0aW9uIChmdW5jKSB7XHJcbiAgICBmb3IgKGNvbnN0IGFycmF5SXRlbSBvZiB0aGlzKSB7XHJcbiAgICAgICAgaWYgKGZ1bmMoYXJyYXlJdGVtKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYXJyYXlJdGVtO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcblxyXG5BcnJheS5wcm90b3R5cGUuZmlyc3QgPSBmdW5jdGlvbiAoZnVuYykge1xyXG4gICAgZm9yIChjb25zdCBhcnJheUl0ZW0gb2YgdGhpcykge1xyXG4gICAgICAgIGlmIChmdW5jKGFycmF5SXRlbSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFycmF5SXRlbTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZyhcIml0ZW0gbm90IGZvdW5kXCIpO1xyXG4gICAgY29uc29sZS5sb2codGhpcyk7XHJcbiAgICB0aHJvdyBcIml0ZW0gbm90IGZvdW5kXCI7XHJcbn1cclxuXHJcbkFycmF5LnByb3RvdHlwZS5nZXROZXh0ID0gZnVuY3Rpb24gPFQ+KGN1cnJlbnQ6IFQsIHNlbGVjdG9yOiAoaXRlbTogVCkgPT4gbnVtYmVyKTogVCB7XHJcbiAgICB2YXIgbmV4dFBvc2l0aW9uID0gc2VsZWN0b3IoY3VycmVudCkgKyAxO1xyXG4gICAgdmFyIG5leHQgPSAodGhpcyBhcyBUW10pLmZpcnN0T3JEZWZhdWx0KCh4KSA9PiBzZWxlY3Rvcih4KSA9PSBuZXh0UG9zaXRpb24pO1xyXG4gICAgaWYgKCFuZXh0KSB7XHJcbiAgICAgICAgbmV4dCA9ICh0aGlzIGFzIFRbXSkuZmlyc3QoeCA9PiBzZWxlY3Rvcih4KSA9PSAxKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbmV4dDtcclxufVxyXG5cclxuQXJyYXkucHJvdG90eXBlLnJlbW92ZUl0ZW0gPSBmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleE9mKGl0ZW0pO1xyXG4gICAgaWYgKGluZGV4ICE9IC0xKSB7XHJcbiAgICAgICAgdGhpcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB0aHJvdyBcIml0ZW0gbm90IGZvdW5kXCI7XHJcbiAgICB9XHJcbn1cclxuXHJcbkFycmF5LnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uIDxUPihpdGVtOiBUKSB7XHJcbiAgICByZXR1cm4gdGhpcy5pbmRleE9mKGl0ZW0pICE9PSAtMTtcclxufVxyXG5cclxuQXJyYXkucHJvdG90eXBlLnJlbW92ZUl0ZW1JZkV4aXN0cyA9IGZ1bmN0aW9uIDxUPihpdGVtOiBUKSB7XHJcbiAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4T2YoaXRlbSk7XHJcbiAgICBpZiAoaW5kZXggIT0gLTEpIHtcclxuICAgICAgICB0aGlzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbkFycmF5LnByb3RvdHlwZS5hZGRJdGVtSWZOb3RFeGlzdHMgPSBmdW5jdGlvbiA8VD4oaXRlbTogVCkge1xyXG4gICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleE9mKGl0ZW0pO1xyXG4gICAgaWYgKGluZGV4ID09IC0xKSB7XHJcbiAgICAgICAgKHRoaXMgYXMgVFtdKS5wdXNoKGl0ZW0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5BcnJheS5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gPFQ+KHNlbGVjdG9yOiAoaXRlbTogVCkgPT4gYm9vbGVhbikge1xyXG4gICAgKHRoaXMgYXMgVFtdKS5yZW1vdmVJdGVtKCh0aGlzIGFzIFRbXSkuZmlyc3Qoc2VsZWN0b3IpKTtcclxufVxyXG5cclxuQXJyYXkucHJvdG90eXBlLnRvTGlzdCA9IGZ1bmN0aW9uIDxUPigpOiBUW10ge1xyXG4gICAgcmV0dXJuICh0aGlzIGFzIFRbXSkuZmlsdGVyKHggPT4gdHJ1ZSk7XHJcbn1cclxuIiwiaW1wb3J0IHsgRUFuaW1hdGlvbiB9IGZyb20gXCIuLi9lQW5pbWF0aW9uXCI7XHJcblxyXG5leHBvcnQgdHlwZSBEcmF3RnVuY3Rpb24gPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHdpZHRoPzogbnVtYmVyLCBoZWlnaHQ/OiBudW1iZXIpID0+IHZvaWQ7XHJcblxyXG5leHBvcnQgY2xhc3MgRUNhbnZhcyB7XHJcbiAgICBwcml2YXRlIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XHJcbiAgICBwcml2YXRlIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xyXG5cclxuICAgIHByaXZhdGUgZHJhd0Z1bmN0aW9uczogRHJhd0Z1bmN0aW9uW10gPSBbXTtcclxuXHJcbiAgICBwdWJsaWMgZ2V0IHdpZHRoKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzLndpZHRoO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgaGVpZ2h0KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzLmhlaWdodDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkgeyB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGVGdWxsU2NyZWVuKCk6IEVDYW52YXMge1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkucGFyZW50RWxlbWVudC5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUubWFyZ2luID0gXCIwXCI7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XHJcblxyXG4gICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNhbnZhcyk7XHJcbiAgICAgICAgY2FudmFzLnN0eWxlLndpZHRoID0gXCIxMDAlXCJcclxuICAgICAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XHJcblxyXG4gICAgICAgIHZhciBlbkNhbnZhcyA9IG5ldyBFQ2FudmFzKCk7XHJcbiAgICAgICAgZW5DYW52YXMuY2FudmFzID0gY2FudmFzO1xyXG4gICAgICAgIGVuQ2FudmFzLmN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGVuQ2FudmFzLnJlc2l6ZSk7XHJcbiAgICAgICAgZW5DYW52YXMucmVzaXplKCk7XHJcbiAgICAgICAgcmV0dXJuIGVuQ2FudmFzO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIGN1cnNvckxvY2s6IHN0cmluZyA9IG51bGw7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBTZXRDdXJzb3IgPSAobmFtZTogc3RyaW5nLCBwb2ludGVyOiBib29sZWFuKSA9PiB7XHJcbiAgICAgICAgaWYgKHBvaW50ZXIpIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSBcInBvaW50ZXJcIjtcclxuICAgICAgICAgICAgRUNhbnZhcy5jdXJzb3JMb2NrID0gbmFtZTtcclxuICAgICAgICB9IGVsc2UgaWYgKG5hbWUgPT0gRUNhbnZhcy5jdXJzb3JMb2NrKSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gXCJkZWZhdWx0XCI7XHJcbiAgICAgICAgICAgIEVDYW52YXMuY3Vyc29yTG9jayA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZXNpemUgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJjYW52YXMucmVzaXplKClcIik7XHJcbiAgICAgICAgdGhpcy5jYW52YXMud2lkdGggPSB0aGlzLmNhbnZhcy5jbGllbnRXaWR0aDtcclxuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB0aGlzLmNhbnZhcy5jbGllbnRIZWlnaHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRyYXcgPSAoKSA9PiB7XHJcbiAgICAgICAgZm9yIChjb25zdCBkcmF3RnVuY3Rpb24gb2YgdGhpcy5kcmF3RnVuY3Rpb25zKSB7XHJcbiAgICAgICAgICAgIGRyYXdGdW5jdGlvbih0aGlzLmN0eCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkRHJhd0Z1bmN0aW9uID0gKGZ1bmM6IERyYXdGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgIHRoaXMuZHJhd0Z1bmN0aW9ucy5wdXNoKGZ1bmMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVEcmF3RnVuY3Rpb24gPSAoZnVuYzogRHJhd0Z1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgdGhpcy5kcmF3RnVuY3Rpb25zLnNwbGljZSh0aGlzLmRyYXdGdW5jdGlvbnMuaW5kZXhPZihmdW5jKSwgMSk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgUmVjdGFuZ2xlIHtcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyB4OiBudW1iZXIsIHB1YmxpYyB5OiBudW1iZXIsIHB1YmxpYyB3aWR0aDogbnVtYmVyLCBwdWJsaWMgaGVpZ2h0OiBudW1iZXIpIHsgfVxyXG5cclxuICAgIHB1YmxpYyBjb2xsaWRlc1dpdGggPSAocmVjdGFuZ2xlOiBSZWN0YW5nbGUpID0+IHtcclxuICAgICAgICB2YXIgaGl0eCA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBoaXR5ID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHRoaXMueCA8PSByZWN0YW5nbGUueCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy54IDw9IHJlY3RhbmdsZS54ICYmIHRoaXMueCArIHRoaXMud2lkdGggPiByZWN0YW5nbGUueCkge1xyXG4gICAgICAgICAgICAgICAgaGl0eCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAocmVjdGFuZ2xlLnggPD0gdGhpcy54ICYmIHJlY3RhbmdsZS54ICsgcmVjdGFuZ2xlLndpZHRoID4gdGhpcy54KSB7XHJcbiAgICAgICAgICAgICAgICBoaXR4ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGhpdHgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMueSA8PSByZWN0YW5nbGUueSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMueSA8PSByZWN0YW5nbGUueSAmJiB0aGlzLnkgKyB0aGlzLndpZHRoID4gcmVjdGFuZ2xlLnkpIHtcclxuICAgICAgICAgICAgICAgICAgICBoaXR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZWN0YW5nbGUueSA8PSB0aGlzLnkgJiYgcmVjdGFuZ2xlLnkgKyByZWN0YW5nbGUud2lkdGggPiB0aGlzLnkpIHtcclxuICAgICAgICAgICAgICAgICAgICBoaXR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGhpdHggJiYgaGl0eTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNIaXRCeSA9ICh4OiBudW1iZXIsIHk6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIHJldHVybiB4ID4gdGhpcy54ICYmIHggPCB0aGlzLnggKyB0aGlzLndpZHRoXHJcbiAgICAgICAgICAgICYmIHkgPiB0aGlzLnkgJiYgeSA8IHRoaXMueSArIHRoaXMuaGVpZ2h0O1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IHR5cGUgVXBkYXRlRnVuY3Rpb24gPSAodGltZURpZmY6IG51bWJlcikgPT4gdm9pZDtcclxuXHJcbmV4cG9ydCBjbGFzcyBFQW5pbWF0aW9uIHtcclxuICAgIHByaXZhdGUgdXBkYXRlRnVuY3Rpb25zOiBVcGRhdGVGdW5jdGlvbltdID0gW107XHJcbiAgICBwcml2YXRlIGlzUnVubmluZyA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBsYXN0RnJhbWVUaW1lOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGZwczogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBmcHNJbnRlcnZhbDogbnVtYmVyO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnNldEZwcygzMCk7XHJcbiAgICAgICAgdGhpcy5wbGF5KCk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gODApIHsgLy8gcFxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5UGF1c2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwbGF5KCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc1J1bm5pbmcpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJwbGF5XCIpO1xyXG4gICAgICAgICAgICB0aGlzLmlzUnVubmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdEZyYW1lVGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uTG9vcCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGF1c2UoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNSdW5uaW5nKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicGF1c2VcIik7XHJcbiAgICAgICAgICAgIHRoaXMuaXNSdW5uaW5nID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwbGF5UGF1c2UoKSB7XHJcbiAgICAgICAgdGhpcy5pc1J1bm5pbmcgPyB0aGlzLnBhdXNlKCkgOiB0aGlzLnBsYXkoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkVXBkYXRlRnVuY3Rpb24gPSAoZnVuYzogVXBkYXRlRnVuY3Rpb24pID0+IHtcclxuICAgICAgICB0aGlzLnVwZGF0ZUZ1bmN0aW9ucy5wdXNoKGZ1bmMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVVcGRhdGVGdW5jdGlvbiA9IChmdW5jOiBVcGRhdGVGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlRnVuY3Rpb25zLnNwbGljZSh0aGlzLnVwZGF0ZUZ1bmN0aW9ucy5pbmRleE9mKGZ1bmMpLCAxKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0RnBzID0gKGZwczogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgdGhpcy5mcHMgPSBmcHM7XHJcbiAgICAgICAgdGhpcy5mcHNJbnRlcnZhbCA9IDEwMDAgLyB0aGlzLmZwcztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFuaW1hdGlvbkxvb3AgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNSdW5uaW5nKSB7XHJcbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmFuaW1hdGlvbkxvb3ApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIG5vdyA9IERhdGUubm93KCk7XHJcbiAgICAgICAgdmFyIGVsYXBzZWQgPSBub3cgLSB0aGlzLmxhc3RGcmFtZVRpbWU7XHJcblxyXG4gICAgICAgIGlmIChlbGFwc2VkID4gdGhpcy5mcHNJbnRlcnZhbCkge1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RGcmFtZVRpbWUgPSBub3c7XHJcbiAgICAgICAgICAgIHZhciB0aW1lRGlmZiA9IGVsYXBzZWQgLyAxMDAwO1xyXG5cclxuICAgICAgICAgICAgZm9yIChjb25zdCB1cGRhdGVGdW5jdGlvbiBvZiB0aGlzLnVwZGF0ZUZ1bmN0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlRnVuY3Rpb24odGltZURpZmYpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgRUNhbnZhcyB9IGZyb20gXCIuL2VDYW52YXNcIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBMYXlvdXRWaWV3IH0gZnJvbSBcIi4vbGF5b3V0Q29udHJvbHMvbGF5b3V0Vmlld1wiO1xyXG5pbXBvcnQgeyBFQW5pbWF0aW9uIH0gZnJvbSBcIi4uL2VBbmltYXRpb25cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTdGFnZSB7XHJcbiAgICBwcml2YXRlIHZpZXc6IExheW91dFZpZXc7XHJcbiAgICBwcml2YXRlIHNob3VsZFVwZGF0ZUxheW91dDogYm9vbGVhbjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNhbnZhczogRUNhbnZhcykge1xyXG4gICAgICAgIGNhbnZhcy5hZGREcmF3RnVuY3Rpb24odGhpcy5yZW5kZXIpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5tb3VzZWRvd24pO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHRoaXMubW91c2V1cCk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm1vdXNlTW92ZSk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuY2xpY2spO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlKCk6IFN0YWdlIHtcclxuICAgICAgICB2YXIgY2FudmFzID0gRUNhbnZhcy5jcmVhdGVGdWxsU2NyZWVuKCk7XHJcbiAgICAgICAgdmFyIHN0YWdlID0gbmV3IFN0YWdlKGNhbnZhcyk7XHJcbiAgICAgICAgdmFyIGFuaW1hdGlvbiA9IG5ldyBFQW5pbWF0aW9uKCk7XHJcbiAgICAgICAgYW5pbWF0aW9uLmFkZFVwZGF0ZUZ1bmN0aW9uKGNhbnZhcy5kcmF3KTtcclxuICAgICAgICByZXR1cm4gc3RhZ2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBtb3VzZWRvd24gPSAoZXY6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICBpZiAodGhpcy52aWV3KSB7XHJcbiAgICAgICAgICAgIHRoaXMudmlldy5tb3VzZURvd24oZXYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG1vdXNldXAgPSAoZXY6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICBpZiAodGhpcy52aWV3KSB7XHJcbiAgICAgICAgICAgIHRoaXMudmlldy5tb3VzZVVwKGV2KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBtb3VzZU1vdmUgPSAoZXY6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICBpZiAodGhpcy52aWV3KSB7XHJcbiAgICAgICAgICAgIHRoaXMudmlldy5tb3VzZU1vdmUoZXYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNsaWNrID0gKGV2OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMudmlldykge1xyXG4gICAgICAgICAgICB0aGlzLnZpZXcuY2xpY2soZXYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlbmRlciA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgd2lkdGg/OiBudW1iZXIsIGhlaWdodD86IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnZpZXcpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2hvdWxkVXBkYXRlTGF5b3V0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcudXBkYXRlTGF5b3V0KGN0eCwgbmV3IFJlY3RhbmdsZSgwLCAwLCB3aWR0aCwgaGVpZ2h0KSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3VsZFVwZGF0ZUxheW91dCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgIHRoaXMudmlldy5yZW5kZXIoY3R4KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFZpZXcgPSAodmlldzogTGF5b3V0VmlldykgPT4ge1xyXG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XHJcbiAgICAgICAgdGhpcy5zaG91bGRVcGRhdGVMYXlvdXQgPSB0cnVlO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFJlbmRlck9iamVjdCB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBpZENvdW50ZXIgPSAwO1xyXG4gICAgcHJpdmF0ZSBnZW5lcmF0ZU5ld0lkID0gKCkgPT4ge1xyXG4gICAgICAgIFJlbmRlck9iamVjdC5pZENvdW50ZXIrKztcclxuICAgICAgICByZXR1cm4gUmVuZGVyT2JqZWN0LmlkQ291bnRlcjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmlkID0gdGhpcy5nZW5lcmF0ZU5ld0lkKCk7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gXCJvYmplY3QgXCIgKyB0aGlzLmlkO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpZDogbnVtYmVyO1xyXG4gICAgcHVibGljIG5hbWU6IHN0cmluZztcclxuICAgIHB1YmxpYyB0YWc6IGFueTtcclxuXHJcbiAgICBwdWJsaWMgYm91bmRzOiBSZWN0YW5nbGUgPSBuZXcgUmVjdGFuZ2xlKDAsIDAsIDAsIDApO1xyXG4gICAgcHVibGljIGFic3RyYWN0IHJlbmRlcihjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQ7XHJcblxyXG4gICAgYWJzdHJhY3QgbW91c2VEb3duKGV2OiBNb3VzZUV2ZW50KTogdm9pZDtcclxuICAgIGFic3RyYWN0IG1vdXNlVXAoZXY6IE1vdXNlRXZlbnQpOiB2b2lkO1xyXG4gICAgYWJzdHJhY3QgbW91c2VNb3ZlKGV2OiBNb3VzZUV2ZW50KTogdm9pZDtcclxuICAgIGFic3RyYWN0IGNsaWNrKGV2OiBNb3VzZUV2ZW50KTogdm9pZDtcclxufSIsImV4cG9ydCBlbnVtIEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uIHtcclxuICAgIExlZnQsXHJcbiAgICBDZW50ZXIsXHJcbiAgICBSaWdodCxcclxufSIsImV4cG9ydCBlbnVtIFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbiB7XHJcbiAgICBUb3AsXHJcbiAgICBDZW50ZXIsXHJcbiAgICBCb3R0b20sXHJcbn0iLCJleHBvcnQgZW51bSBTZXR0aW5nT3BlcmF0aW9uIHtcclxuICAgIEFkZFN0YXJMYXllcixcclxuICAgIFJlbW92ZVN0YXJMYXllcixcclxuICAgIENoYW5nZU51bWJlck9mU3RhcnMsXHJcbiAgICBDaGFuZ2VTcGVlZFxyXG59IiwiZXhwb3J0IGVudW0gU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUge1xyXG4gICAgaGlkZGVuLFxyXG4gICAgYmVmb3JlVmlzaWJsZSxcclxuICAgIHZpc2libGVcclxufSIsImltcG9ydCB7IEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uIH0gZnJvbSBcIi4vaG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuaW1wb3J0IHsgVmVydGljYWxBbGlnbmVtZW50T3B0aW9uIH0gZnJvbSBcIi4vdmVydGljYWxBbGlnbmVtZW50T3B0aW9uXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQWxpZ25lbWVudCB7XHJcbiAgICBwdWJsaWMgaG9yaXpvbnRhbEFsaWduID0gSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24uQ2VudGVyO1xyXG4gICAgcHVibGljIHZlcnRpY2FsQWxpZ24gPSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24uQ2VudGVyO1xyXG59IiwiaW1wb3J0IHsgUmVuZGVyT2JqZWN0IH0gZnJvbSBcIi4uL3JlbmRlck9iamVjdFwiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IEFsaWduZW1lbnQgfSBmcm9tIFwiLi4vYWxpZ25lbWVudC9hbGlnbmVtZW50XCI7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgTGF5b3V0VmlldyBleHRlbmRzIFJlbmRlck9iamVjdCB7XHJcbiAgICBwcm90ZWN0ZWQgY2hpbGRyZW46IFJlbmRlck9iamVjdFtdID0gW107XHJcbiAgICBwcml2YXRlIHNob3VsZFVwZGF0ZUxheW91dCA9IGZhbHNlO1xyXG4gICAgXHJcbiAgICBwdWJsaWMgYWxpZ25lbWVudCA9IG5ldyBBbGlnbmVtZW50KCk7XHJcblxyXG4gICAgcHVibGljIHJlbmRlcihjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNob3VsZFVwZGF0ZUxheW91dCkge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUxheW91dChjdHgsIHRoaXMuYm91bmRzKTtcclxuICAgICAgICAgICAgdGhpcy5zaG91bGRVcGRhdGVMYXlvdXQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGNoaWxkLnJlbmRlcihjdHgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IHVwZGF0ZUxheW91dChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpOiB2b2lkO1xyXG5cclxuICAgIHB1YmxpYyB0cmlnZ2VyVXBkYXRlTGF5b3V0ID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2hvdWxkVXBkYXRlTGF5b3V0ID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbW91c2VEb3duKGV2OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGNoaWxkLm1vdXNlRG93bihldik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtb3VzZVVwKGV2OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGNoaWxkLm1vdXNlVXAoZXYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbW91c2VNb3ZlKGV2OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGNoaWxkLm1vdXNlTW92ZShldik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjbGljayhldjogTW91c2VFdmVudCkge1xyXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbi50b0xpc3QoKSkge1xyXG4gICAgICAgICAgICBjaGlsZC5jbGljayhldik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgUmVuZGVyT2JqZWN0IH0gZnJvbSBcIi4uL2VuYy9zcmMvdWkvcmVuZGVyT2JqZWN0XCI7XHJcbmltcG9ydCB7IFN0YXIgfSBmcm9tIFwiLi9tb2RlbHMvc3RhclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFN0YXJSZW5kZXJPYmplY3QgZXh0ZW5kcyBSZW5kZXJPYmplY3Qge1xyXG4gICAgbW91c2VEb3duKGV2OiBNb3VzZUV2ZW50KTogdm9pZCB7XHJcbiAgICB9XHJcbiAgICBtb3VzZVVwKGV2OiBNb3VzZUV2ZW50KTogdm9pZCB7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBzdGFyOiBTdGFyKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVuZGVyKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJkcmF3aW5nXCIpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBcIndoaXRlXCI7XHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5hcmModGhpcy5zdGFyLngsIHRoaXMuc3Rhci55LCB0aGlzLnN0YXIuciwgMCwgTWF0aC5QSSAqIDIpO1xyXG4gICAgICAgIGN0eC5maWxsKCk7XHJcbiAgICB9XHJcbiAgICBtb3VzZU1vdmUoZXY6IE1vdXNlRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcclxuICAgIH1cclxuICAgIGNsaWNrKGV2OiBNb3VzZUV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBSZW5kZXJPYmplY3QgfSBmcm9tIFwiLi4vZW5jL3NyYy91aS9yZW5kZXJPYmplY3RcIjtcclxuaW1wb3J0IHsgTGF5b3V0VmlldyB9IGZyb20gXCIuLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xheW91dFZpZXdcIjtcclxuaW1wb3J0IHsgU3RhclJlbmRlck9iamVjdCB9IGZyb20gXCIuL3N0YXJSZW5kZXJPYmplY3RcIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uL2VuYy9zcmMvZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IFN0YXJMYXllciB9IGZyb20gXCIuL21vZGVscy9zdGFyTGF5ZXJcIjtcclxuaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4vYXBwXCI7XHJcbmltcG9ydCB7IFNldHRpbmdPcGVyYXRpb24gfSBmcm9tIFwiLi9zZXR0aW5ncy9zZXR0aW5nT3BlcmF0aW9uXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU3RhckxheWVyRHJhd2VyIGV4dGVuZHMgTGF5b3V0VmlldyB7XHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgc3RhckxheWVyOiBTdGFyTGF5ZXIpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIEFwcC5zZXR0aW5nTWFuYWdlci51cGRhdGUuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLnNldHRpbmdzVXBkYXRlZClcclxuICAgICAgICB0aGlzLnRyaWdnZXJVcGRhdGVMYXlvdXQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldHRpbmdzVXBkYXRlZCA9IChvcGVyYXRpb246IFNldHRpbmdPcGVyYXRpb24pID0+IHtcclxuICAgICAgICBzd2l0Y2ggKG9wZXJhdGlvbikge1xyXG4gICAgICAgICAgICBjYXNlIFNldHRpbmdPcGVyYXRpb24uQ2hhbmdlTnVtYmVyT2ZTdGFyczpcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlTnVtYmVyT2ZTdGFycygpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdXBkYXRlTnVtYmVyT2ZTdGFycyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnRyaWdnZXJVcGRhdGVMYXlvdXQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBbXTtcclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBzdGFyIG9mIHRoaXMuc3RhckxheWVyLnN0YXJzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChuZXcgU3RhclJlbmRlck9iamVjdChzdGFyKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgbW91c2VNb3ZlKGV2OiBNb3VzZUV2ZW50KSB7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNsaWNrKGV2OiBNb3VzZUV2ZW50KSB7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZSB9IGZyb20gXCIuL3NldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsIHtcclxuICAgIHB1YmxpYyBzdGF0ZTogU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUgPSBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS5oaWRkZW47XHJcbn0iLCJleHBvcnQgY2xhc3MgRUV2ZW50IHtcclxuICAgIHByaXZhdGUgbGlzdGVuZXJzOiAoKCkgPT4gdm9pZClbXSA9IFtdO1xyXG5cclxuICAgIHB1YmxpYyBhZGRFdmVudExpc3RlbmVyID0gKGxpc3RlbmVyOiAoKSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgLy8gdmFsaWRhdGlvblxyXG4gICAgICAgIGlmICghbGlzdGVuZXIgfHwgdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcikgPj0gMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBcImxpc3RlbmVyIGFscmVhZHkgYWRkZWRcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRFdmVudExpc3RlbmVySWZOb3RFeGlzdHMgPSAobGlzdGVuZXI6ICgpID0+IHZvaWQpID0+IHtcclxuICAgICAgICAvLyB2YWxpZGF0aW9uXHJcbiAgICAgICAgaWYgKCFsaXN0ZW5lciB8fCB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkaXNwYXRjaEV2ZW50ID0gKCkgPT4ge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5saXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSB0aGlzLmxpc3RlbmVyc1tpXTtcclxuICAgICAgICAgICAgZXZlbnQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZUV2ZW50TGlzdGVuZXIgPSAobGlzdGVuZXI6ICgpID0+IHZvaWQpID0+IHtcclxuICAgICAgICAvLyB2YWxpZGF0aW9uXHJcbiAgICAgICAgaWYgKCFsaXN0ZW5lciB8fCB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSA8IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJsaXN0ZW5lciBub3QgZm91bmRcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnNwbGljZSh0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSwgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZUV2ZW50TGlzdGVuZXJJZkV4aXN0cyA9IChsaXN0ZW5lcjogKCkgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIC8vIHZhbGlkYXRpb25cclxuICAgICAgICBpZiAoIWxpc3RlbmVyIHx8IHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpIDwgMCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5zcGxpY2UodGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lciksIDEpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRUV2ZW50VDxUPiB7XHJcbiAgICBwcml2YXRlIGxpc3RlbmVyczogKChhcmc6IFQpID0+IHZvaWQpW10gPSBbXTtcclxuXHJcbiAgICBwdWJsaWMgYWRkRXZlbnRMaXN0ZW5lciA9IChsaXN0ZW5lcjogKGFyZzogVCkgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIC8vIHZhbGlkYXRpb25cclxuICAgICAgICBpZiAoIWxpc3RlbmVyIHx8IHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpID49IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJsaXN0ZW5lciBhbHJlYWR5IGFkZGVkXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGlzcGF0Y2hFdmVudCA9IChhcmc6IFQpID0+IHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5saXN0ZW5lcnNbaV07XHJcbiAgICAgICAgICAgIGV2ZW50KGFyZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVFdmVudExpc3RlbmVyID0gKGxpc3RlbmVyOiAoYXJnOiBUKSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgLy8gdmFsaWRhdGlvblxyXG4gICAgICAgIGlmICghbGlzdGVuZXIgfHwgdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcikgPCAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IFwibGlzdGVuZXIgbm90IGZvdW5kXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5zcGxpY2UodGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lciksIDEpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRUV2ZW50VFQ8VDEsIFQyPiB7XHJcbiAgICBwcml2YXRlIGxpc3RlbmVyczogKChhcmcxOiBUMSwgYXJnMjogVDIpID0+IHZvaWQpW10gPSBbXTtcclxuXHJcbiAgICBwdWJsaWMgYWRkRXZlbnRMaXN0ZW5lciA9IChsaXN0ZW5lcjogKGFyZzE6IFQxLCBhcmcyOiBUMikgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIC8vIHZhbGlkYXRpb25cclxuICAgICAgICBpZiAoIWxpc3RlbmVyIHx8IHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpID49IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJsaXN0ZW5lciBhbHJlYWR5IGFkZGVkXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGlzcGF0Y2hFdmVudCA9IChhcmcxOiBUMSwgYXJnMjogVDIpID0+IHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5saXN0ZW5lcnNbaV07XHJcbiAgICAgICAgICAgIGV2ZW50KGFyZzEsIGFyZzIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlRXZlbnRMaXN0ZW5lciA9IChsaXN0ZW5lcjogKGFyZzE6IFQxLCBhcmcyOiBUMikgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIC8vIHZhbGlkYXRpb25cclxuICAgICAgICBpZiAoIWxpc3RlbmVyIHx8IHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpIDwgMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBcImxpc3RlbmVyIG5vdCBmb3VuZFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuc3BsaWNlKHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpLCAxKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFJlbmRlck9iamVjdCB9IGZyb20gXCIuLi9yZW5kZXJPYmplY3RcIjtcclxuaW1wb3J0IHsgUG9pbnQgfSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvUG9pbnRcIjtcclxuaW1wb3J0IHsgRUNhbnZhcyB9IGZyb20gXCIuLi9lQ2FudmFzXCI7XHJcbmltcG9ydCB7IEVFdmVudFQgfSBmcm9tIFwiLi4vLi4vZUV2ZW50XCI7XHJcbmltcG9ydCB7IEFsaWduZW1lbnQgfSBmcm9tIFwiLi4vYWxpZ25lbWVudC9hbGlnbmVtZW50XCI7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQ29udHJvbCBleHRlbmRzIFJlbmRlck9iamVjdCB7XHJcbiAgICBwcm90ZWN0ZWQgaXNNb3VzZU92ZXIgPSBmYWxzZTtcclxuICAgIHB1YmxpYyBpc0VuYWJsZWQgPSB0cnVlO1xyXG4gICAgcHVibGljIGNsaWNrZWQgPSBuZXcgRUV2ZW50VDxDb250cm9sPigpO1xyXG5cclxuICAgIHB1YmxpYyBhbGlnbmVtZW50ID0gbmV3IEFsaWduZW1lbnQoKTtcclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgYWxpZ24oY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHBvc2l0aW9uOiBQb2ludCk6IHZvaWQ7XHJcblxyXG4gICAgcHVibGljIG1vdXNlTW92ZShldjogTW91c2VFdmVudCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzRW5hYmxlZCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5ib3VuZHMuaXNIaXRCeShldi5jbGllbnRYLCBldi5jbGllbnRZKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc01vdXNlT3ZlciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBFQ2FudmFzLlNldEN1cnNvcih0aGlzLm5hbWUsIHRydWUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc01vdXNlT3ZlciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgRUNhbnZhcy5TZXRDdXJzb3IodGhpcy5uYW1lLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNsaWNrID0gKGV2OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNFbmFibGVkKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmJvdW5kcy5pc0hpdEJ5KGV2LmNsaWVudFgsIGV2LmNsaWVudFkpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsaWNrZWQuZGlzcGF0Y2hFdmVudCh0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBCdXR0b25Qcm9wZXJ0aWVzIHtcclxuICAgIHB1YmxpYyBmb250U2l6ZSA9IDQwO1xyXG4gICAgcHVibGljIGZpbGxTdHlsZSA9IFwiYmxhY2tcIjtcclxuICAgIHB1YmxpYyBtb3VzZU92ZXJGaWxsU3R5bGUgPSBcInJlZFwiO1xyXG4gICAgcHVibGljIGJhY2tncm91bmRGaWxsU3R5bGU6IHN0cmluZyA9IHVuZGVmaW5lZDtcclxufSIsImltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgQ29udHJvbCB9IGZyb20gXCIuL2NvbnRyb2xcIjtcclxuaW1wb3J0IHsgUG9pbnQgfSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvUG9pbnRcIjtcclxuaW1wb3J0IHsgQnV0dG9uUHJvcGVydGllcyB9IGZyb20gXCIuL3ByaW1pdGl2ZXMvYnV0dG9uUHJvcGVydGllc1wiO1xyXG5pbXBvcnQgeyBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbiB9IGZyb20gXCIuLi9hbGlnbmVtZW50L2hvcml6b250YWxBbGlnbmVtZW50T3B0aW9uXCI7XHJcbmltcG9ydCB7IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbiB9IGZyb20gXCIuLi9hbGlnbmVtZW50L3ZlcnRpY2FsQWxpZ25lbWVudE9wdGlvblwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJ1dHRvbiBleHRlbmRzIENvbnRyb2wge1xyXG4gICAgbW91c2VEb3duKGV2OiBNb3VzZUV2ZW50KTogdm9pZCB7XHJcbiAgICB9XHJcbiAgICBtb3VzZVVwKGV2OiBNb3VzZUV2ZW50KTogdm9pZCB7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgcHJvcGVydGllcyA9IG5ldyBCdXR0b25Qcm9wZXJ0aWVzKCk7XHJcbiAgICBwdWJsaWMgdGV4dDogc3RyaW5nO1xyXG4gICAgcHVibGljIGlzVmlzaWJsZSA9IHRydWU7XHJcblxyXG4gICAgcHVibGljIHJlbmRlciA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmlzVmlzaWJsZSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLmJhY2tncm91bmRGaWxsU3R5bGUpIHtcclxuICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLnByb3BlcnRpZXMuYmFja2dyb3VuZEZpbGxTdHlsZTtcclxuICAgICAgICAgICAgICAgIGN0eC5maWxsUmVjdCh0aGlzLmJvdW5kcy54LCB0aGlzLmJvdW5kcy55LCB0aGlzLmJvdW5kcy53aWR0aCwgdGhpcy5ib3VuZHMuaGVpZ2h0KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHRoaXMuaXNNb3VzZU92ZXIpIHtcclxuICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLnByb3BlcnRpZXMubW91c2VPdmVyRmlsbFN0eWxlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMucHJvcGVydGllcy5maWxsU3R5bGU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGN0eC5mb250ID0gdGhpcy5wcm9wZXJ0aWVzLmZvbnRTaXplICsgXCJweCBBcmlhbFwiO1xyXG4gICAgICAgICAgICBjdHgudGV4dEFsaWduID0gXCJsZWZ0XCI7XHJcbiAgICAgICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSBcInRvcFwiO1xyXG4gICAgICAgICAgICBjdHguZmlsbFRleHQodGhpcy50ZXh0LCB0aGlzLmJvdW5kcy54LCB0aGlzLmJvdW5kcy55KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFsaWduID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBwb3NpdGlvbjogUG9pbnQpID0+IHtcclxuICAgICAgICBjdHguZm9udCA9IHRoaXMucHJvcGVydGllcy5mb250U2l6ZSArIFwicHggQXJpYWxcIjtcclxuICAgICAgICBjdHgudGV4dEFsaWduID0gXCJsZWZ0XCI7XHJcbiAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9IFwidG9wXCI7XHJcbiAgICAgICAgdmFyIHNpemUgPSBjdHgubWVhc3VyZVRleHQodGhpcy50ZXh0KTtcclxuXHJcbiAgICAgICAgdmFyIGJvdW5kcyA9IG5ldyBSZWN0YW5nbGUoMCwgMCwgc2l6ZS53aWR0aCwgdGhpcy5wcm9wZXJ0aWVzLmZvbnRTaXplKTtcclxuICAgICAgICBcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuYWxpZ25lbWVudC5ob3Jpem9udGFsQWxpZ24pIHtcclxuICAgICAgICAgICAgY2FzZSBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbi5MZWZ0OlxyXG4gICAgICAgICAgICAgICAgYm91bmRzLnggPSBwb3NpdGlvbi54O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24uQ2VudGVyOlxyXG4gICAgICAgICAgICAgICAgYm91bmRzLnggPSBwb3NpdGlvbi54IC0gc2l6ZS53aWR0aCAvIDI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbi5SaWdodDpcclxuICAgICAgICAgICAgICAgIGJvdW5kcy54ID0gcG9zaXRpb24ueCAtIHNpemUud2lkdGg7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLmFsaWduZW1lbnQudmVydGljYWxBbGlnbikge1xyXG4gICAgICAgICAgICBjYXNlIFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi5Ub3A6XHJcbiAgICAgICAgICAgICAgICBib3VuZHMueSA9IHBvc2l0aW9uLnk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24uQ2VudGVyOlxyXG4gICAgICAgICAgICAgICAgYm91bmRzLnkgPSBwb3NpdGlvbi55IC0gdGhpcy5wcm9wZXJ0aWVzLmZvbnRTaXplIC8gMjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi5Cb3R0b206XHJcbiAgICAgICAgICAgICAgICBib3VuZHMueSA9IHBvc2l0aW9uLnkgLSB0aGlzLnByb3BlcnRpZXMuZm9udFNpemU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5ib3VuZHMgPSBib3VuZHM7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgUG9pbnQge1xyXG4gICAgY29uc3RydWN0b3IocHVibGljIHg6IG51bWJlciwgcHVibGljIHk6IG51bWJlcikgeyB9XHJcbn0iLCJleHBvcnQgY2xhc3MgUG9pbnQge1xyXG4gICAgY29uc3RydWN0b3IocHVibGljIHg6IG51bWJlciwgcHVibGljIHk6IG51bWJlcikgeyB9XHJcbn0iLCJpbXBvcnQgeyBMYXlvdXRWaWV3IH0gZnJvbSBcIi4vbGF5b3V0Vmlld1wiO1xyXG5pbXBvcnQgeyBDb250cm9sIH0gZnJvbSBcIi4uL2NvbnRyb2xzL2NvbnRyb2xcIjtcclxuaW1wb3J0IHsgUG9pbnQgfSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvUG9pbnRcIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbiB9IGZyb20gXCIuLi9hbGlnbmVtZW50L2hvcml6b250YWxBbGlnbmVtZW50T3B0aW9uXCI7XHJcbmltcG9ydCB7IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbiB9IGZyb20gXCIuLi9hbGlnbmVtZW50L3ZlcnRpY2FsQWxpZ25lbWVudE9wdGlvblwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIExpc3RWaWV3IGV4dGVuZHMgTGF5b3V0VmlldyB7XHJcbiAgICBwdWJsaWMgc3BhY2luZyA9IDMwO1xyXG5cclxuICAgIHByaXZhdGUgY29udHJvbHM6IENvbnRyb2xbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBsYXlvdXRWaWV3czogTGF5b3V0Vmlld1tdID0gW107XHJcblxyXG4gICAgcHVibGljIGFkZENvbnRyb2wgPSAoY29udHJvbDogQ29udHJvbCkgPT4ge1xyXG4gICAgICAgIGNvbnRyb2wuYWxpZ25lbWVudCA9IHRoaXMuYWxpZ25lbWVudDtcclxuICAgICAgICB0aGlzLmNvbnRyb2xzLnB1c2goY29udHJvbCk7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGNvbnRyb2wpO1xyXG4gICAgICAgIHRoaXMudHJpZ2dlclVwZGF0ZUxheW91dCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVDb250cm9sID0gKGNvbnRyb2w6IENvbnRyb2wpID0+IHtcclxuICAgICAgICB0aGlzLmNvbnRyb2xzLnJlbW92ZUl0ZW0oY29udHJvbCk7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5yZW1vdmVJdGVtKGNvbnRyb2wpO1xyXG4gICAgICAgIHRoaXMudHJpZ2dlclVwZGF0ZUxheW91dCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRMYXlvdXRWaWV3ID0gKGxheW91dFZpZXc6IExheW91dFZpZXcpID0+IHtcclxuICAgICAgICBsYXlvdXRWaWV3LmFsaWduZW1lbnQgPSB0aGlzLmFsaWduZW1lbnQ7XHJcbiAgICAgICAgdGhpcy5sYXlvdXRWaWV3cy5wdXNoKGxheW91dFZpZXcpO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChsYXlvdXRWaWV3KTtcclxuICAgICAgICB0aGlzLnRyaWdnZXJVcGRhdGVMYXlvdXQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlTGF5b3V0VmlldyA9IChsYXlvdXRWaWV3OiBMYXlvdXRWaWV3KSA9PiB7XHJcbiAgICAgICAgdGhpcy5sYXlvdXRWaWV3cy5yZW1vdmVJdGVtKGxheW91dFZpZXcpO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucmVtb3ZlSXRlbShsYXlvdXRWaWV3KTtcclxuICAgICAgICB0aGlzLnRyaWdnZXJVcGRhdGVMYXlvdXQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSk6IHZvaWQge1xyXG4gICAgICAgIHZhciB4ID0gMDtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuYWxpZ25lbWVudC5ob3Jpem9udGFsQWxpZ24pIHtcclxuICAgICAgICAgICAgY2FzZSBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbi5MZWZ0OlxyXG4gICAgICAgICAgICAgICAgeCA9IGJvdW5kcy54O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24uQ2VudGVyOlxyXG4gICAgICAgICAgICAgICAgeCA9IGJvdW5kcy54IC0gYm91bmRzLndpZHRoIC8gMjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uLlJpZ2h0OlxyXG4gICAgICAgICAgICAgICAgeCA9IGJvdW5kcy54IC0gYm91bmRzLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYm91bmRzLnggPSB4O1xyXG5cclxuICAgICAgICB2YXIgeSA9IDA7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLmFsaWduZW1lbnQudmVydGljYWxBbGlnbikge1xyXG4gICAgICAgICAgICBjYXNlIFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi5Ub3A6XHJcbiAgICAgICAgICAgICAgICB5ID0gYm91bmRzLnk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24uQ2VudGVyOlxyXG4gICAgICAgICAgICAgICAgeSA9IGJvdW5kcy55IC0gYm91bmRzLmhlaWdodCAvIDI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24uQm90dG9tOlxyXG4gICAgICAgICAgICAgICAgeSA9IGJvdW5kcy55IC0gYm91bmRzLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmJvdW5kcy55ID0geTtcclxuXHJcbiAgICAgICAgdmFyIHdpZHRoID0gMDtcclxuICAgICAgICB2YXIgaGVpZ2h0ID0gMDtcclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNoaWxkcmVuLmluZGV4T2YoY2hpbGQpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgeSArPSB0aGlzLnNwYWNpbmc7XHJcbiAgICAgICAgICAgICAgICBoZWlnaHQgKz0gdGhpcy5zcGFjaW5nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRyb2xzLmNvbnRhaW5zKGNoaWxkIGFzIENvbnRyb2wpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29udHJvbCA9IGNoaWxkIGFzIENvbnRyb2w7XHJcbiAgICAgICAgICAgICAgICBjb250cm9sLmFsaWduKGN0eCwgbmV3IFBvaW50KHgsIHkpKVxyXG4gICAgICAgICAgICAgICAgeSArPSBjb250cm9sLmJvdW5kcy5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICBoZWlnaHQgKz0gY29udHJvbC5ib3VuZHMuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgd2lkdGggPSBNYXRoLm1heCh3aWR0aCwgY29udHJvbC5ib3VuZHMud2lkdGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMubGF5b3V0Vmlld3MuY29udGFpbnMoY2hpbGQgYXMgTGF5b3V0VmlldykpIHtcclxuICAgICAgICAgICAgICAgIHZhciBsYXlvdXRWaWV3ID0gY2hpbGQgYXMgTGF5b3V0VmlldztcclxuICAgICAgICAgICAgICAgIGxheW91dFZpZXcudXBkYXRlTGF5b3V0KGN0eCwgbmV3IFJlY3RhbmdsZSh4LCB5LCAwLCAwKSk7XHJcbiAgICAgICAgICAgICAgICB5ICs9IGxheW91dFZpZXcuYm91bmRzLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIGhlaWdodCArPSBjb250cm9sLmJvdW5kcy5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICB3aWR0aCA9IE1hdGgubWF4KHdpZHRoLCBsYXlvdXRWaWV3LmJvdW5kcy53aWR0aCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJFcnJvcjogMjgwNDIwMTkxNjI1XCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaGVpZ2h0ICE9IHRoaXMuYm91bmRzLmhlaWdodCB8fCB3aWR0aCAhPSB0aGlzLmJvdW5kcy53aWR0aCkge1xyXG4gICAgICAgICAgICB0aGlzLmJvdW5kcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgICAgIHRoaXMuYm91bmRzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTGF5b3V0KGN0eCwgbmV3IFJlY3RhbmdsZShib3VuZHMueCwgYm91bmRzLnksIHRoaXMuYm91bmRzLndpZHRoLCB0aGlzLmJvdW5kcy5oZWlnaHQpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBDb250cm9sIH0gZnJvbSBcIi4vY29udHJvbFwiO1xyXG5pbXBvcnQgeyBQb2ludCB9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9wb2ludFwiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IEVFdmVudFQgfSBmcm9tIFwiLi4vLi4vZUV2ZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU2xpZGVyIGV4dGVuZHMgQ29udHJvbCB7XHJcbiAgICBwdWJsaWMgcmFkaXVzOiBudW1iZXIgPSAxMDtcclxuXHJcbiAgICBwdWJsaWMgbWluVmFsdWUgPSAwO1xyXG4gICAgcHVibGljIG1heFZhbHVlID0gMTAwO1xyXG4gICAgcHVibGljIGN1cnJlbnRWYWx1ZSA9IDUwO1xyXG4gICAgaXNEcmFnZ2luZzogYm9vbGVhbjtcclxuICAgIG9sZFBvc2l0aW9uOiB7IHg6IG51bWJlcjsgeTogbnVtYmVyOyB9O1xyXG5cclxuICAgIHB1YmxpYyB2YWx1ZUNoYW5nZWQgPSBuZXcgRUV2ZW50VDxudW1iZXI+KCk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWxpZ24oY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHBvc2l0aW9uOiBQb2ludCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuYm91bmRzID0gbmV3IFJlY3RhbmdsZShwb3NpdGlvbi54LCBwb3NpdGlvbi55LCAyMDAsIHRoaXMucmFkaXVzICogMik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbmRlcihjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge1xyXG4gICAgICAgIHZhciB4ID0gdGhpcy5ib3VuZHMueDtcclxuICAgICAgICB2YXIgeSA9IHRoaXMuYm91bmRzLnk7XHJcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gXCJ3aGl0ZVwiO1xyXG4gICAgICAgIGN0eC5saW5lV2lkdGggPSAyO1xyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdHgubW92ZVRvKHggKyB0aGlzLnJhZGl1cywgeSArIHRoaXMuYm91bmRzLmhlaWdodCAvIDIpO1xyXG4gICAgICAgIGN0eC5saW5lVG8oeCArIHRoaXMuYm91bmRzLndpZHRoIC0gdGhpcy5yYWRpdXMsIHkgKyB0aGlzLmJvdW5kcy5oZWlnaHQgLyAyKTtcclxuICAgICAgICBjdHguc3Ryb2tlKCk7XHJcblxyXG4gICAgICAgIHZhciByZWxWYWx1ZSA9ICh0aGlzLmN1cnJlbnRWYWx1ZSAtIHRoaXMubWluVmFsdWUpIC8gKHRoaXMubWF4VmFsdWUgLSB0aGlzLm1pblZhbHVlKTtcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gXCJibHVlXCI7XHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5hcmMoeCArIHRoaXMucmFkaXVzICsgKHRoaXMuYm91bmRzLndpZHRoIC0gdGhpcy5yYWRpdXMgKiAyKSAqIHJlbFZhbHVlLCB5ICsgdGhpcy5ib3VuZHMuaGVpZ2h0IC8gMiwgdGhpcy5yYWRpdXMsIDAsIE1hdGguUEkgKiAyKTtcclxuICAgICAgICBjdHguY2xvc2VQYXRoKCk7XHJcbiAgICAgICAgY3R4LmZpbGwoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbW91c2VEb3duID0gKGV2OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuYm91bmRzLmlzSGl0QnkoZXYuY2xpZW50WCwgZXYuY2xpZW50WSkpIHtcclxuICAgICAgICAgICAgdGhpcy5pc0RyYWdnaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVDdXJyZW50VmFsdWUoZXYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHB1YmxpYyBtb3VzZVVwID0gKGV2OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG1vdXNlTW92ZShldjogTW91c2VFdmVudCkge1xyXG4gICAgICAgIHN1cGVyLm1vdXNlTW92ZShldik7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEcmFnZ2luZykge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUN1cnJlbnRWYWx1ZShldik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdXBkYXRlQ3VycmVudFZhbHVlKGV2OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgdmFyIHZhbCA9IGV2LmNsaWVudFggLSB0aGlzLmJvdW5kcy54IC0gdGhpcy5yYWRpdXM7XHJcbiAgICAgICAgdmFsID0gdmFsIC8gKHRoaXMuYm91bmRzLndpZHRoIC0gdGhpcy5yYWRpdXMgKiAyKSAqICh0aGlzLm1heFZhbHVlIC0gdGhpcy5taW5WYWx1ZSkgKyB0aGlzLm1pblZhbHVlO1xyXG4gICAgICAgIGlmICh2YWwgPiB0aGlzLm1heFZhbHVlKSB7XHJcbiAgICAgICAgICAgIHZhbCA9IHRoaXMubWF4VmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh2YWwgPCB0aGlzLm1pblZhbHVlKSB7XHJcbiAgICAgICAgICAgIHZhbCA9IHRoaXMubWluVmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gdmFsO1xyXG4gICAgICAgIHRoaXMudmFsdWVDaGFuZ2VkLmRpc3BhdGNoRXZlbnQodGhpcy5jdXJyZW50VmFsdWUpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgTGF5b3V0VmlldyB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xheW91dFZpZXdcIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IFN0YXJMYXllciB9IGZyb20gXCIuLi9tb2RlbHMvc3RhckxheWVyXCI7XHJcbmltcG9ydCB7IExpc3RWaWV3IH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGlzdFZpZXdcIjtcclxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvY29udHJvbHMvYnV0dG9uXCI7XHJcbmltcG9ydCB7IENvbnRyb2wgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9jb250cm9scy9jb250cm9sXCI7XHJcbmltcG9ydCB7IEFwcCB9IGZyb20gXCIuLi9hcHBcIjtcclxuaW1wb3J0IHsgSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24gfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9hbGlnbmVtZW50L2hvcml6b250YWxBbGlnbmVtZW50T3B0aW9uXCI7XHJcbmltcG9ydCB7IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbiB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvdmVydGljYWxBbGlnbmVtZW50T3B0aW9uXCI7XHJcbmltcG9ydCB7IFNsaWRlciB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2NvbnRyb2xzL3NsaWRlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFN0YXJMYXllclZpZXcgZXh0ZW5kcyBMYXlvdXRWaWV3IHtcclxuICAgIHByaXZhdGUgc2V0dGluZ3NMaXN0OiBMaXN0VmlldztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgc3RhckxheWVyOiBTdGFyTGF5ZXIpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0ID0gbmV3IExpc3RWaWV3KCk7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QuYWxpZ25lbWVudC5ob3Jpem9udGFsQWxpZ24gPSBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbi5MZWZ0O1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LmFsaWduZW1lbnQudmVydGljYWxBbGlnbiA9IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi5Ub3A7XHJcbiAgICAgICAgdmFyIGJ0bkZvckxheWVyID0gbmV3IEJ1dHRvbigpO1xyXG4gICAgICAgIGJ0bkZvckxheWVyLnRleHQgPSBcIlJlbW92ZSBMYXllclwiO1xyXG4gICAgICAgIGJ0bkZvckxheWVyLnByb3BlcnRpZXMuZmlsbFN0eWxlID0gXCJ3aGl0ZVwiO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LmFkZENvbnRyb2woYnRuRm9yTGF5ZXIpO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChidG5Gb3JMYXllcik7XHJcbiAgICAgICAgYnRuRm9yTGF5ZXIuY2xpY2tlZC5hZGRFdmVudExpc3RlbmVyKChzZW5kZXI6IENvbnRyb2wpID0+IHtcclxuICAgICAgICAgICAgQXBwLnNldHRpbmdNYW5hZ2VyLnJlbW92ZVN0YXJMYXllcih0aGlzLnN0YXJMYXllcik7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHZhciBzbGlkZXIgPSBuZXcgU2xpZGVyKCk7XHJcbiAgICAgICAgc2xpZGVyLm1pblZhbHVlID0gMTA7XHJcbiAgICAgICAgc2xpZGVyLm1heFZhbHVlID0gMTAwMDtcclxuICAgICAgICBzbGlkZXIuY3VycmVudFZhbHVlID0gc3RhckxheWVyLnN0YXJzLmxlbmd0aDtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goc2xpZGVyKTtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5hZGRDb250cm9sKHNsaWRlcik7XHJcbiAgICAgICAgc2xpZGVyLnZhbHVlQ2hhbmdlZC5hZGRFdmVudExpc3RlbmVyKHRoaXMubnVtYmVyT2ZTdGFyc0NoYW5nZWQpO1xyXG5cclxuICAgICAgICB2YXIgc2xpZGVyU3BlZWQgPSBuZXcgU2xpZGVyKCk7XHJcbiAgICAgICAgc2xpZGVyU3BlZWQubWluVmFsdWUgPSAwO1xyXG4gICAgICAgIHNsaWRlclNwZWVkLm1heFZhbHVlID0gMzA7XHJcbiAgICAgICAgc2xpZGVyU3BlZWQuY3VycmVudFZhbHVlID0gc3RhckxheWVyLnNwZWVkO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChzbGlkZXJTcGVlZCk7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QuYWRkQ29udHJvbChzbGlkZXJTcGVlZCk7XHJcbiAgICAgICAgc2xpZGVyU3BlZWQudmFsdWVDaGFuZ2VkLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5zcGVlZENoYW5nZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBudW1iZXJPZlN0YXJzQ2hhbmdlZCA9IChudW1iZXJPZlN0YXJzOiBudW1iZXIpID0+IHtcclxuICAgICAgICBBcHAuc2V0dGluZ01hbmFnZXIuY2hhbmdlTnVtYmVyT2ZTdGFycyh0aGlzLnN0YXJMYXllciwgTWF0aC5yb3VuZChudW1iZXJPZlN0YXJzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNwZWVkQ2hhbmdlZCA9IChzcGVlZDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgQXBwLnNldHRpbmdNYW5hZ2VyLmNoYW5nZVNwZWVkKHRoaXMuc3RhckxheWVyLCBzcGVlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUxheW91dChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC51cGRhdGVMYXlvdXQoY3R4LCBuZXcgUmVjdGFuZ2xlKGJvdW5kcy54LCBib3VuZHMueSwgMCwgMCkpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgTGF5b3V0VmlldyB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xheW91dFZpZXdcIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbCB9IGZyb20gXCIuL3NldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFwiO1xyXG5pbXBvcnQgeyBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZSB9IGZyb20gXCIuL3NldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlXCI7XHJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2J1dHRvblwiO1xyXG5pbXBvcnQgeyBQb2ludCB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL2dlb21ldHJ5L3BvaW50XCI7XHJcbmltcG9ydCB7IENvbnRyb2wgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9jb250cm9scy9jb250cm9sXCI7XHJcbmltcG9ydCB7IExpc3RWaWV3IH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGlzdFZpZXdcIjtcclxuaW1wb3J0IHsgU3RhckxheWVyIH0gZnJvbSBcIi4uL21vZGVscy9zdGFyTGF5ZXJcIjtcclxuaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4uL2FwcFwiO1xyXG5pbXBvcnQgeyBTZXR0aW5nT3BlcmF0aW9uIH0gZnJvbSBcIi4uL3NldHRpbmdzL3NldHRpbmdPcGVyYXRpb25cIjtcclxuaW1wb3J0IHsgVmVydGljYWxBbGlnbmVtZW50T3B0aW9uIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvYWxpZ25lbWVudC92ZXJ0aWNhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuaW1wb3J0IHsgSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24gfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9hbGlnbmVtZW50L2hvcml6b250YWxBbGlnbmVtZW50T3B0aW9uXCI7XHJcbmltcG9ydCB7IFN0YXJMYXllclZpZXcgfSBmcm9tIFwiLi9zdGFyTGF5ZXJWaWV3XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU2V0dGluZ3NPdmVybGF5VmlldyBleHRlbmRzIExheW91dFZpZXcge1xyXG4gICAgcHJpdmF0ZSB2aWV3TW9kZWw6IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbCA9IG5ldyBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWwoKTtcclxuICAgIHByaXZhdGUgbGFzdE1vdmVkID0gRGF0ZS5ub3coKTtcclxuICAgIHByaXZhdGUgaW5hY3Rpdml0eVRpbWVvdXQgPSAyMDAwO1xyXG4gICAgcHJpdmF0ZSBzaG93T3ZlckxheWVyQnV0dG9uOiBCdXR0b247XHJcbiAgICBwcml2YXRlIHNldHRpbmdzTGlzdDogTGlzdFZpZXc7XHJcblxyXG4gICAgcHJpdmF0ZSBsYXllckJ1dHRvbnM6IEJ1dHRvbltdID0gW107XHJcbiAgICBwcml2YXRlIGFkZExheWVyQnRuOiBCdXR0b247XHJcbiAgICBwcml2YXRlIGRldGFpbGVkU3RhckxheWVyVmlldzogU3RhckxheWVyVmlldztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuc2hvd092ZXJMYXllckJ1dHRvbiA9IG5ldyBCdXR0b24oKTtcclxuICAgICAgICB0aGlzLnNob3dPdmVyTGF5ZXJCdXR0b24udGV4dCA9IFwiU2hvdy9IaWRlIFNldHRpbmdzXCI7XHJcbiAgICAgICAgdGhpcy5zaG93T3ZlckxheWVyQnV0dG9uLnByb3BlcnRpZXMuZmlsbFN0eWxlID0gXCJncmVlblwiO1xyXG4gICAgICAgIHRoaXMuc2hvd092ZXJMYXllckJ1dHRvbi5hbGlnbmVtZW50LnZlcnRpY2FsQWxpZ24gPSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24uVG9wO1xyXG4gICAgICAgIHRoaXMuc2hvd092ZXJMYXllckJ1dHRvbi5hbGlnbmVtZW50Lmhvcml6b250YWxBbGlnbiA9IEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uLkxlZnQ7XHJcbiAgICAgICAgdGhpcy5zaG93T3ZlckxheWVyQnV0dG9uLmNsaWNrZWQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLnNob3dIaWRlT3ZlcmxheUNsaWNrZWQpO1xyXG4gICAgICAgIHRoaXMuc2hvd092ZXJMYXllckJ1dHRvbi5wcm9wZXJ0aWVzLmJhY2tncm91bmRGaWxsU3R5bGUgPSBcInJnYmEoMCwgMCwgMCwgMC41KVwiO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaCh0aGlzLnNob3dPdmVyTGF5ZXJCdXR0b24pO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0ID0gbmV3IExpc3RWaWV3KCk7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QuYWxpZ25lbWVudC5ob3Jpem9udGFsQWxpZ24gPSBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbi5MZWZ0O1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LmFsaWduZW1lbnQudmVydGljYWxBbGlnbiA9IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi5Ub3A7XHJcblxyXG4gICAgICAgIHZhciBidG5Gb3JOZXdMYXllciA9IG5ldyBCdXR0b24oKTtcclxuICAgICAgICBidG5Gb3JOZXdMYXllci50ZXh0ID0gXCJBZGQgTGF5ZXJcIjtcclxuICAgICAgICBidG5Gb3JOZXdMYXllci5wcm9wZXJ0aWVzLmZpbGxTdHlsZSA9IFwid2hpdGVcIjtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5hZGRDb250cm9sKGJ0bkZvck5ld0xheWVyKTtcclxuICAgICAgICBidG5Gb3JOZXdMYXllci5jbGlja2VkLmFkZEV2ZW50TGlzdGVuZXIoKHNlbmRlcjogQ29udHJvbCkgPT4ge1xyXG4gICAgICAgICAgICBBcHAuc2V0dGluZ01hbmFnZXIuYWRkU3RhckxheWVyKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hZGRMYXllckJ0biA9IGJ0bkZvck5ld0xheWVyO1xyXG5cclxuXHJcbiAgICAgICAgQXBwLnNldHRpbmdNYW5hZ2VyLnVwZGF0ZS5hZGRFdmVudExpc3RlbmVyKHRoaXMuc2V0dGluZ3NVcGRhdGVkKTtcclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0dGluZ3NVcGRhdGVkID0gKG9wZXJhdGlvbjogU2V0dGluZ09wZXJhdGlvbikgPT4ge1xyXG4gICAgICAgIHN3aXRjaCAob3BlcmF0aW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgU2V0dGluZ09wZXJhdGlvbi5BZGRTdGFyTGF5ZXI6XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHN0YXJMYXllciBvZiBBcHAuc2V0dGluZ3Muc3RhckxheWVycykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5sYXllckJ1dHRvbnMubWFwKHggPT4geC50YWcpLmNvbnRhaW5zKHN0YXJMYXllcikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QucmVtb3ZlQ29udHJvbCh0aGlzLmFkZExheWVyQnRuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJ0bkZvckxheWVyID0gbmV3IEJ1dHRvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidG5Gb3JMYXllci50ZXh0ID0gXCJFZGl0IExheWVyXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ0bkZvckxheWVyLnRhZyA9IHN0YXJMYXllcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnRuRm9yTGF5ZXIucHJvcGVydGllcy5maWxsU3R5bGUgPSBcIndoaXRlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LmFkZENvbnRyb2woYnRuRm9yTGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxheWVyQnV0dG9ucy5wdXNoKGJ0bkZvckxheWVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnRuRm9yTGF5ZXIuY2xpY2tlZC5hZGRFdmVudExpc3RlbmVyKChzZW5kZXI6IENvbnRyb2wpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlU2hvd0hpZGVTdGFyTGF5ZXJWaWV3KHN0YXJMYXllcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5hZGRDb250cm9sKHRoaXMuYWRkTGF5ZXJCdG4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBTZXR0aW5nT3BlcmF0aW9uLlJlbW92ZVN0YXJMYXllcjpcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc2V0dGluZ3NMYXllciBvZiB0aGlzLmxheWVyQnV0dG9ucykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghQXBwLnNldHRpbmdzLnN0YXJMYXllcnMuY29udGFpbnMoc2V0dGluZ3NMYXllci50YWcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LnJlbW92ZUNvbnRyb2woc2V0dGluZ3NMYXllcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGF5ZXJCdXR0b25zLnJlbW92ZUl0ZW0oc2V0dGluZ3NMYXllcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucmVtb3ZlSXRlbSh0aGlzLmRldGFpbGVkU3RhckxheWVyVmlldyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRldGFpbGVkU3RhckxheWVyVmlldyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgdG9nZ2xlU2hvd0hpZGVTdGFyTGF5ZXJWaWV3ID0gKHN0YXJMYXllcjogU3RhckxheWVyKSA9PiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmRldGFpbGVkU3RhckxheWVyVmlldykge1xyXG4gICAgICAgICAgICB2YXIgdmlldyA9IG5ldyBTdGFyTGF5ZXJWaWV3KHN0YXJMYXllcik7XHJcbiAgICAgICAgICAgIHRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3ID0gdmlldztcclxuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3KTtcclxuICAgICAgICAgICAgdGhpcy50cmlnZ2VyVXBkYXRlTGF5b3V0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3LnN0YXJMYXllciAhPSBzdGFyTGF5ZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5yZW1vdmVJdGVtKHRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3KTtcclxuICAgICAgICAgICAgdGhpcy5kZXRhaWxlZFN0YXJMYXllclZpZXcgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIHZhciB2aWV3ID0gbmV3IFN0YXJMYXllclZpZXcoc3RhckxheWVyKTtcclxuICAgICAgICAgICAgdGhpcy5kZXRhaWxlZFN0YXJMYXllclZpZXcgPSB2aWV3O1xyXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2godGhpcy5kZXRhaWxlZFN0YXJMYXllclZpZXcpO1xyXG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJVcGRhdGVMYXlvdXQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucmVtb3ZlSXRlbSh0aGlzLmRldGFpbGVkU3RhckxheWVyVmlldyk7XHJcbiAgICAgICAgICAgIHRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNob3dIaWRlT3ZlcmxheUNsaWNrZWQgPSAoc2VuZGVyOiBDb250cm9sKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMudmlld01vZGVsLnN0YXRlID09IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLnZpc2libGUpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS5iZWZvcmVWaXNpYmxlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLnZpc2libGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc2hvd092ZXJMYXllckJ1dHRvbi5hbGlnbihjdHgsIG5ldyBQb2ludChib3VuZHMueCwgYm91bmRzLnkpKTtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC51cGRhdGVMYXlvdXQoY3R4LCBuZXcgUmVjdGFuZ2xlKDAsIHRoaXMuc2hvd092ZXJMYXllckJ1dHRvbi5ib3VuZHMuaGVpZ2h0ICogMiwgMCwgMCkpO1xyXG4gICAgICAgIGlmICh0aGlzLmRldGFpbGVkU3RhckxheWVyVmlldykge1xyXG4gICAgICAgICAgICB0aGlzLmRldGFpbGVkU3RhckxheWVyVmlldy51cGRhdGVMYXlvdXQoY3R4LCBuZXcgUmVjdGFuZ2xlKHRoaXMuc2V0dGluZ3NMaXN0LmJvdW5kcy54ICsgdGhpcy5zZXR0aW5nc0xpc3QuYm91bmRzLndpZHRoLCB0aGlzLnNob3dPdmVyTGF5ZXJCdXR0b24uYm91bmRzLmhlaWdodCAqIDIsIDAsIDApKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG1vdXNlTW92ZSA9IChldjogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnZpZXdNb2RlbC5zdGF0ZSA9PSBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS5oaWRkZW4gfHwgdGhpcy52aWV3TW9kZWwuc3RhdGUgPT0gU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUuYmVmb3JlVmlzaWJsZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLmJlZm9yZVZpc2libGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzdXBlci5tb3VzZU1vdmUoZXYpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtb3VzZUluYWN0aXZpdHlIYW5kbGVyID0gKCkgPT4ge1xyXG4gICAgICAgIGlmIChEYXRlLm5vdygpIC0gdGhpcy5sYXN0TW92ZWQgPj0gdGhpcy5pbmFjdGl2aXR5VGltZW91dCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy52aWV3TW9kZWwuc3RhdGUgPT0gU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUuYmVmb3JlVmlzaWJsZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS5oaWRkZW4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dCh0aGlzLm1vdXNlSW5hY3Rpdml0eUhhbmRsZXIsIHRoaXMuaW5hY3Rpdml0eVRpbWVvdXQgLSAoRGF0ZS5ub3coKSAtIHRoaXMubGFzdE1vdmVkKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0U3RhdGUgPSAoc3RhdGU6IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlKSA9PiB7XHJcbiAgICAgICAgc3dpdGNoIChzdGF0ZSkge1xyXG4gICAgICAgICAgICBjYXNlIFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLmhpZGRlbjpcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd092ZXJMYXllckJ1dHRvbi5pc1Zpc2libGUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIHRoaXMudmlld01vZGVsLnN0YXRlID0gU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUuaGlkZGVuO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUuYmVmb3JlVmlzaWJsZTpcclxuICAgICAgICAgICAgICAgIHRoaXMubGFzdE1vdmVkID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnZpZXdNb2RlbC5zdGF0ZSA9PSBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS5oaWRkZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMubW91c2VJbmFjdGl2aXR5SGFuZGxlciwgdGhpcy5pbmFjdGl2aXR5VGltZW91dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaG93T3ZlckxheWVyQnV0dG9uLmlzVmlzaWJsZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy52aWV3TW9kZWwuc3RhdGUgPT0gU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUudmlzaWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQodGhpcy5tb3VzZUluYWN0aXZpdHlIYW5kbGVyLCB0aGlzLmluYWN0aXZpdHlUaW1lb3V0KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnJlbW92ZUl0ZW1JZkV4aXN0cyh0aGlzLnNldHRpbmdzTGlzdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5yZW1vdmVJdGVtSWZFeGlzdHModGhpcy5kZXRhaWxlZFN0YXJMYXllclZpZXcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3TW9kZWwuc3RhdGUgPSBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS5iZWZvcmVWaXNpYmxlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUudmlzaWJsZTpcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnZpZXdNb2RlbC5zdGF0ZSA9PSBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS5iZWZvcmVWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHRoaXMuc2V0dGluZ3NMaXN0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMudmlld01vZGVsLnN0YXRlID0gU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUudmlzaWJsZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IEFwcCB9IGZyb20gXCIuL2FwcFwiO1xyXG5pbXBvcnQgeyBTdGFyTGF5ZXIgfSBmcm9tIFwiLi9tb2RlbHMvc3RhckxheWVyXCI7XHJcbmltcG9ydCB7IEVBbmltYXRpb24gfSBmcm9tIFwiLi4vZW5jL3NyYy9lQW5pbWF0aW9uXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU3RhckxheWVyQW5pbWF0b3Ige1xyXG4gICAgY29uc3RydWN0b3IocHVibGljIHN0YXJMYXllcjogU3RhckxheWVyKSB7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZSA9ICh0aW1lRGlmZjogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgZm9yIChjb25zdCBzdGFyIG9mIHRoaXMuc3RhckxheWVyLnN0YXJzKSB7XHJcbiAgICAgICAgICAgIHN0YXIueCArPSB0aGlzLnN0YXJMYXllci5zcGVlZCAqIHRpbWVEaWZmO1xyXG4gICAgICAgICAgICBpZiAoc3Rhci54ID4gQXBwLnNldHRpbmdzLndpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICBzdGFyLnggLT0gQXBwLnNldHRpbmdzLndpZHRoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgTGF5b3V0VmlldyB9IGZyb20gXCIuLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xheW91dFZpZXdcIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uL2VuYy9zcmMvZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IFF1aWNrRHJhd1ZpZXcgfSBmcm9tIFwiLi4vZW5jL3NyYy91aS9xdWlja0RyYXdWaWV3XCI7XHJcbmltcG9ydCB7IFN0YXJMYXllckRyYXdlciB9IGZyb20gXCIuL3N0YXJMYXllckRyYXdlclwiO1xyXG5pbXBvcnQgeyBTZXR0aW5nc092ZXJsYXlWaWV3IH0gZnJvbSBcIi4vb3ZlcmxheS9zZXR0aW5nc092ZXJsYXlWaWV3XCI7XHJcbmltcG9ydCB7IFN0YXJMYXllciB9IGZyb20gXCIuL21vZGVscy9zdGFyTGF5ZXJcIjtcclxuaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4vYXBwXCI7XHJcbmltcG9ydCB7IFN0YXJMYXllckFuaW1hdG9yIH0gZnJvbSBcIi4vc3RhckxheWVyQW5pbWF0b3JcIjtcclxuaW1wb3J0IHsgRUFuaW1hdGlvbiB9IGZyb20gXCIuLi9lbmMvc3JjL2VBbmltYXRpb25cIjtcclxuaW1wb3J0IHsgU2V0dGluZ09wZXJhdGlvbiB9IGZyb20gXCIuL3NldHRpbmdzL3NldHRpbmdPcGVyYXRpb25cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBJbnNwaWVydHlQbGF5ZXJWaWV3IGV4dGVuZHMgTGF5b3V0VmlldyB7XHJcbiAgICBwcml2YXRlIHN0YXJMYXllcnM6IFN0YXJMYXllckRyYXdlcltdID0gW107XHJcbiAgICBwcml2YXRlIHN0YXJBbmltYXRvcnM6IFN0YXJMYXllckFuaW1hdG9yW10gPSBbXTtcclxuICAgIHByaXZhdGUgc2V0dGluZ3NPdmVybGF5OiBTZXR0aW5nc092ZXJsYXlWaWV3O1xyXG4gICAgYW5pbTogRUFuaW1hdGlvbjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG5cclxuICAgICAgICB0aGlzLnNldHRpbmdzT3ZlcmxheSA9IG5ldyBTZXR0aW5nc092ZXJsYXlWaWV3KCk7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHRoaXMuc2V0dGluZ3NPdmVybGF5KTtcclxuICAgICAgICB0aGlzLmFuaW0gPSBuZXcgRUFuaW1hdGlvbigpO1xyXG4gICAgICAgIEFwcC5zZXR0aW5nTWFuYWdlci51cGRhdGUuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmFwcFNldHRpbmdzVXBkYXRlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhcHBTZXR0aW5nc1VwZGF0ZWQgPSAob3BlcmF0aW9uOiBTZXR0aW5nT3BlcmF0aW9uKSA9PiB7XHJcbiAgICAgICAgc3dpdGNoIChvcGVyYXRpb24pIHtcclxuICAgICAgICAgICAgY2FzZSBTZXR0aW5nT3BlcmF0aW9uLkFkZFN0YXJMYXllcjpcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkU3RhckxheWVyKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBTZXR0aW5nT3BlcmF0aW9uLlJlbW92ZVN0YXJMYXllcjpcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlU3RhckxheWVyKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZFN0YXJMYXllciA9ICgpID0+IHtcclxuICAgICAgICBmb3IgKGNvbnN0IHN0YXJMYXllciBvZiBBcHAuc2V0dGluZ3Muc3RhckxheWVycykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zdGFyTGF5ZXJzLmZpcnN0T3JEZWZhdWx0KHggPT4geC5zdGFyTGF5ZXIgPT0gc3RhckxheWVyKSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGF5ZXIgPSBuZXcgU3RhckxheWVyRHJhd2VyKHN0YXJMYXllcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJMYXllcnMucHVzaChsYXllcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnNwbGljZSgwLCAwLCBsYXllcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXJVcGRhdGVMYXlvdXQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgYW5pbWF0b3IgPSBuZXcgU3RhckxheWVyQW5pbWF0b3Ioc3RhckxheWVyKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYW5pbS5hZGRVcGRhdGVGdW5jdGlvbihhbmltYXRvci51cGRhdGUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFyQW5pbWF0b3JzLnB1c2goYW5pbWF0b3IpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZVN0YXJMYXllciA9ICgpID0+IHtcclxuICAgICAgICBmb3IgKGNvbnN0IHN0YXJMYXllckRyYXdzIG9mIHRoaXMuc3RhckxheWVycykge1xyXG4gICAgICAgICAgICBpZiAoQXBwLnNldHRpbmdzLnN0YXJMYXllcnMuZmlyc3RPckRlZmF1bHQoeCA9PiB4ID09IHN0YXJMYXllckRyYXdzLnN0YXJMYXllcikgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFuaW1hdG9yID0gdGhpcy5zdGFyQW5pbWF0b3JzLmZpcnN0KHggPT4geC5zdGFyTGF5ZXIgPT0gc3RhckxheWVyRHJhd3Muc3RhckxheWVyKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYW5pbS5yZW1vdmVVcGRhdGVGdW5jdGlvbihhbmltYXRvci51cGRhdGUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFyQW5pbWF0b3JzLnJlbW92ZUl0ZW0oYW5pbWF0b3IpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucmVtb3ZlKHggPT4geCA9PSBzdGFyTGF5ZXJEcmF3cyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJMYXllcnMucmVtb3ZlKHggPT4geCA9PSBzdGFyTGF5ZXJEcmF3cyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXJVcGRhdGVMYXlvdXQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSk6IHZvaWQge1xyXG4gICAgICAgIGZvciAoY29uc3QgbGF5ZXIgb2YgdGhpcy5zdGFyTGF5ZXJzKSB7XHJcbiAgICAgICAgICAgIGxheWVyLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NPdmVybGF5LnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBTdGFyIH0gZnJvbSBcIi4vc3RhclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFN0YXJMYXllciB7XHJcbiAgICBwdWJsaWMgc3RhcnM6IFN0YXJbXSA9IFtdO1xyXG4gICAgcHVibGljIHNwZWVkID0gTWF0aC5yYW5kb20oKSAqIDIwICsgNTtcclxufSIsImltcG9ydCB7IFN0YWdlIH0gZnJvbSBcIi4uL2VuYy9zcmMvdWkvc3RhZ2VcIjtcclxuaW1wb3J0IHsgSW5zcGllcnR5UGxheWVyVmlldyB9IGZyb20gXCIuL2luc3BpZXJ0eVBsYXllclZpZXdcIjtcclxuaW1wb3J0IHsgU2V0dGluZ3MgfSBmcm9tIFwiLi9tb2RlbHMvc2V0dGluZ3NcIjtcclxuaW1wb3J0IHsgU2V0dGluZ3NNYW5hZ2VyIH0gZnJvbSBcIi4vc2V0dGluZ3Mvc2V0dGluZ3NNYW5hZ2VyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQXBwIHtcclxuICAgIHB1YmxpYyBzdGF0aWMgc2V0dGluZ3MgPSBuZXcgU2V0dGluZ3Mod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XHJcbiAgICBwdWJsaWMgc3RhdGljIHNldHRpbmdNYW5hZ2VyID0gbmV3IFNldHRpbmdzTWFuYWdlcigpO1xyXG5cclxuICAgIHB1YmxpYyBydW4gPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJoaVwiKTtcclxuXHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImJsYWNrXCI7XHJcbiAgICAgICAgdmFyIHN0YWdlID0gU3RhZ2UuY3JlYXRlKCk7XHJcblxyXG4gICAgICAgIHZhciB2aWV3ID0gbmV3IEluc3BpZXJ0eVBsYXllclZpZXcoKTtcclxuICAgICAgICBzdGFnZS5zZXRWaWV3KHZpZXcpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgU3RhckxheWVyIH0gZnJvbSBcIi4vc3RhckxheWVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU2V0dGluZ3Mge1xyXG4gICAgY29uc3RydWN0b3IocHVibGljIHdpZHRoOiBudW1iZXIsIHB1YmxpYyBoZWlnaHQ6IG51bWJlcikgeyB9XHJcblxyXG4gICAgcHVibGljIHN0YXJMYXllcnM6IFN0YXJMYXllcltdID0gW107XHJcbn1cclxuIiwiaW1wb3J0IHsgU2V0dGluZ09wZXJhdGlvbiB9IGZyb20gXCIuL3NldHRpbmdPcGVyYXRpb25cIjtcclxuaW1wb3J0IHsgRUV2ZW50VCB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL2VFdmVudFwiO1xyXG5pbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi4vYXBwXCI7XHJcbmltcG9ydCB7IFN0YXJMYXllciB9IGZyb20gXCIuLi9tb2RlbHMvc3RhckxheWVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU2V0dGluZ3NNYW5hZ2VyIHtcclxuICAgIHB1YmxpYyB1cGRhdGUgPSBuZXcgRUV2ZW50VDxTZXR0aW5nT3BlcmF0aW9uPigpO1xyXG5cclxuICAgIHB1YmxpYyBhZGRTdGFyTGF5ZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgdmFyIGxheWVyID0gbmV3IFN0YXJMYXllcigpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDEwMDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxheWVyLnN0YXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgeDogTWF0aC5yYW5kb20oKSAqIEFwcC5zZXR0aW5ncy53aWR0aCxcclxuICAgICAgICAgICAgICAgIHk6IE1hdGgucmFuZG9tKCkgKiBBcHAuc2V0dGluZ3MuaGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgcjogTWF0aC5yYW5kb20oKSAqIDIgKyAwLjA1XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBBcHAuc2V0dGluZ3Muc3RhckxheWVycy5wdXNoKGxheWVyKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZS5kaXNwYXRjaEV2ZW50KFNldHRpbmdPcGVyYXRpb24uQWRkU3RhckxheWVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlU3RhckxheWVyID0gKHN0YXJMYXllcjogU3RhckxheWVyKSA9PiB7XHJcbiAgICAgICAgQXBwLnNldHRpbmdzLnN0YXJMYXllcnMucmVtb3ZlSXRlbShzdGFyTGF5ZXIpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlLmRpc3BhdGNoRXZlbnQoU2V0dGluZ09wZXJhdGlvbi5SZW1vdmVTdGFyTGF5ZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjaGFuZ2VOdW1iZXJPZlN0YXJzID0gKHN0YXJMYXllcjogU3RhckxheWVyLCBudW1iZXJPZlN0YXJzOiBudW1iZXIpID0+IHtcclxuICAgICAgICBpZiAobnVtYmVyT2ZTdGFycyA+IDApIHtcclxuICAgICAgICAgICAgdmFyIGRpZmYgPSBudW1iZXJPZlN0YXJzIC0gc3RhckxheWVyLnN0YXJzLmxlbmd0aDtcclxuICAgICAgICAgICAgaWYgKGRpZmYgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRpZmY7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJMYXllci5zdGFycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeDogTWF0aC5yYW5kb20oKSAqIEFwcC5zZXR0aW5ncy53aWR0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeTogTWF0aC5yYW5kb20oKSAqIEFwcC5zZXR0aW5ncy5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHI6IE1hdGgucmFuZG9tKCkgKiAyICsgMC4wNVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZGlmZiA8IDApIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgLWRpZmY7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJMYXllci5zdGFycy5zcGxpY2UoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogc3RhckxheWVyLnN0YXJzLmxlbmd0aCksIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlLmRpc3BhdGNoRXZlbnQoU2V0dGluZ09wZXJhdGlvbi5DaGFuZ2VOdW1iZXJPZlN0YXJzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNoYW5nZVNwZWVkID0gKHN0YXJMYXllcjogU3RhckxheWVyLCBzcGVlZDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgc3RhckxheWVyLnNwZWVkID0gc3BlZWQ7XHJcbiAgICAgICAgdGhpcy51cGRhdGUuZGlzcGF0Y2hFdmVudChTZXR0aW5nT3BlcmF0aW9uLkNoYW5nZVNwZWVkKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEFwcCB9IGZyb20gXCIuL2FwcFwiO1xyXG5pbXBvcnQgXCIuLi9lbmMvc3JjL2V4dGVuc2lvbnNcIjtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBtYWluLCBmYWxzZSk7XHJcblxyXG5mdW5jdGlvbiBtYWluKCkge1xyXG4gICAgdmFyIGFwcCA9IG5ldyBBcHAoKTtcclxuICAgIGFwcC5ydW4oKTtcclxufSJdLCJzb3VyY2VSb290IjoiIn0=