!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=7)}([function(t,e,i){t.exports=i.p+"4548616750b49599e29ad31f27052fc7.mp3"},function(t,e,i){t.exports=i.p+"42e1c91573e0327cd3f17f251e8af2a6.mp3"},function(t,e,i){t.exports=i.p+"f1ceea5d555947c80281f368bfaf8fa8.mp3"},function(t,e,i){t.exports=i.p+"b5599f87dda55c2ca04eb255a9788fa5.png"},function(t,e,i){t.exports=i.p+"dec4bbd246838204460cee765e852465.png"},function(t,e,i){t.exports=i.p+"b78224d2549be6ccf64dc62f3973084e.png"},function(t,e){Array.prototype.firstOrDefault=function(t){for(const e of this)if(t(e))return e;return null},Array.prototype.first=function(t){for(const e of this)if(t(e))return e;throw console.log("item not found"),console.log(this),"item not found"},Array.prototype.getNext=function(t,e){var i=e(t)+1,s=this.firstOrDefault(t=>e(t)==i);return s||(s=this.first(t=>1==e(t))),s},Array.prototype.removeItem=function(t){var e=this.indexOf(t);if(-1==e)throw"item not found";this.splice(e,1)},Array.prototype.contains=function(t){return-1!==this.indexOf(t)},Array.prototype.removeItemIfExists=function(t){var e=this.indexOf(t);-1!=e&&this.splice(e,1)},Array.prototype.addItemIfNotExists=function(t){-1==this.indexOf(t)&&this.push(t)},Array.prototype.remove=function(t){this.removeItem(this.first(t))},Array.prototype.toList=function(){return this.filter(t=>!0)}},function(t,e,i){"use strict";i.r(e);class s{constructor(){this.listeners=[],this.addEventListener=t=>{if(!t||this.listeners.indexOf(t)>=0)throw"listener already added";this.listeners.push(t)},this.addEventListenerIfNotExists=t=>{!t||this.listeners.indexOf(t)>=0||this.listeners.push(t)},this.dispatchEvent=()=>{for(let t=0;t<this.listeners.length;t++){(0,this.listeners[t])()}},this.removeEventListener=t=>{if(!t||this.listeners.indexOf(t)<0)throw"listener not found";this.listeners.splice(this.listeners.indexOf(t),1)},this.removeEventListenerIfExists=t=>{!t||this.listeners.indexOf(t)<0||this.listeners.splice(this.listeners.indexOf(t),1)}}}class n{constructor(){this.listeners=[],this.addEventListener=t=>{if(!t||this.listeners.indexOf(t)>=0)throw"listener already added";this.listeners.push(t)},this.dispatchEvent=t=>{for(let e=0;e<this.listeners.length;e++){(0,this.listeners[e])(t)}},this.removeEventListener=t=>{if(!t||this.listeners.indexOf(t)<0)throw"listener not found";this.listeners.splice(this.listeners.indexOf(t),1)}}}class r{constructor(){this.listeners=[],this.addEventListener=t=>{if(!t||this.listeners.indexOf(t)>=0)throw"listener already added";this.listeners.push(t)},this.dispatchEvent=(t,e)=>{for(let i=0;i<this.listeners.length;i++){(0,this.listeners[i])(t,e)}},this.removeEventListener=t=>{if(!t||this.listeners.indexOf(t)<0)throw"listener not found";this.listeners.splice(this.listeners.indexOf(t),1)}}}class a{constructor(){this.drawFunctions=[],this.dpr=1,this.dprScalingEnabled=!1,this.enableDprScaling=()=>{this.dprScalingEnabled=!0,this.resize()},this.disableDprScaling=()=>{this.dprScalingEnabled=!1,this.resize()},this.resized=new s,this.resize=()=>{this.dpr=this.dprScalingEnabled&&window.devicePixelRatio||1,this.canvas.width=this.canvas.clientWidth,this.canvas.height=this.canvas.clientHeight,this.resized.dispatchEvent()},this.draw=()=>{this.ctx.save(),this.ctx.scale(this.dpr,this.dpr);for(const t of this.drawFunctions)t(this.ctx,this.width,this.height);this.ctx.restore()},this.addDrawFunction=t=>{this.drawFunctions.push(t)},this.removeDrawFunction=t=>{this.drawFunctions.splice(this.drawFunctions.indexOf(t),1)}}get width(){return this.canvas.clientWidth/this.dpr}get height(){return this.canvas.clientHeight/this.dpr}static createFullScreen(){document.body.parentElement.style.height="100%",document.body.style.height="100%",document.body.style.margin="0",document.body.style.overflow="hidden";var t=document.createElement("canvas");document.body.appendChild(t),t.style.width="100%",t.style.height="100%";var e=new a;return e.canvas=t,e.ctx=t.getContext("2d"),window.addEventListener("resize",e.resize),e.resize(),e}}a.cursorManipulation=!0,a.cursorLock=null,a.SetCursor=(t,e)=>{a.cursorManipulation&&(e?(document.body.style.cursor="pointer",a.cursorLock=t):t==a.cursorLock&&(document.body.style.cursor="default",a.cursorLock=null))};class o{constructor(t,e,i,s){this.x=t,this.y=e,this.width=i,this.height=s,this.collidesWith=t=>{var e=!1,i=!1;return this.x<=t.x?this.x<=t.x&&this.x+this.width>t.x&&(e=!0):t.x<=this.x&&t.x+t.width>this.x&&(e=!0),e&&(this.y<=t.y?this.y<=t.y&&this.y+this.width>t.y&&(i=!0):t.y<=this.y&&t.y+t.width>this.y&&(i=!0)),e&&i},this.isHitBy=(t,e)=>t>this.x&&t<this.x+this.width&&e>this.y&&e<this.y+this.height}}class h{constructor(t){this.canvas=t,this.isTouchMode=!1,this.canvasResized=()=>{this.shouldUpdateLayout=!0},this.touchMode=t=>{this.isTouchMode||(console.log("switching to touch mode"),a.cursorManipulation=!1,this.isTouchMode=!0,this.removeMouseListeners(),this.addTouchListeners(),document.body.addEventListener("mousedown",this.mouseMode),document.removeEventListener("touchstart",this.touchMode))},this.mouseMode=t=>{this.isTouchMode&&(console.log("switching to mouse mode"),a.cursorManipulation=!0,this.isTouchMode=!1,this.addMouseListeners(),this.removeTouchListeners(),document.addEventListener("touchstart",this.touchMode),document.removeEventListener("mousedown",this.mouseMode))},this.mouseDown=t=>{this.view&&this.view.mouseDown({clientX:t.clientX/this.canvas.dpr,clientY:t.clientY/this.canvas.dpr,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey})},this.mouseUp=t=>{this.view&&this.view.mouseUp({clientX:t.clientX/this.canvas.dpr,clientY:t.clientY/this.canvas.dpr,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey})},this.mouseMove=t=>{this.view&&this.view.mouseMove({clientX:t.clientX/this.canvas.dpr,clientY:t.clientY/this.canvas.dpr,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey})},this.click=t=>{this.view&&this.view.click({clientX:t.clientX/this.canvas.dpr,clientY:t.clientY/this.canvas.dpr,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey})},this.render=(t,e,i)=>{this.view&&(this.shouldUpdateLayout&&(this.view.updateLayout(t,new o(0,0,e,i)),this.shouldUpdateLayout=!1),t.clearRect(0,0,e,i),this.view.render(t))},this.setView=t=>{this.view=t,this.shouldUpdateLayout=!0},this.touchToMouse=t=>t.touches.length>0?{clientX:t.touches[0].clientX/this.canvas.dpr,clientY:t.touches[0].clientY/this.canvas.dpr,altKey:t.altKey,ctrlKey:!0,shiftKey:t.shiftKey}:{clientX:0,clientY:0,altKey:t.altKey,ctrlKey:!0,shiftKey:t.shiftKey},t.addDrawFunction(this.render),t.resized.addEventListener(this.canvasResized),document.addEventListener("touchstart",this.touchMode),this.addMouseListeners()}removeMouseListeners(){document.removeEventListener("mouseup",this.mouseUp),document.removeEventListener("mousemove",this.mouseMove),document.removeEventListener("mousedown",this.mouseDown),document.removeEventListener("click",this.click)}addMouseListeners(){document.addEventListener("mouseup",this.mouseUp),document.addEventListener("mousemove",this.mouseMove),document.addEventListener("mousedown",this.mouseDown),document.addEventListener("click",this.click)}removeTouchListeners(){document.removeEventListener("touchend",this.mouseUp),document.removeEventListener("touchmove",this.mouseMove),document.removeEventListener("touchstart",this.click)}addTouchListeners(){document.addEventListener("touchend",t=>{t.preventDefault(),this.mouseUp(this.touchToMouse(t))}),document.addEventListener("touchmove",t=>{t.touches.length>0&&this.mouseMove(this.touchToMouse(t))}),document.addEventListener("touchstart",t=>{t.touches.length>0&&this.click(this.touchToMouse(t))})}}var d,l,u,c,g;!function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right"}(d||(d={})),function(t){t[t.Top=0]="Top",t[t.Center=1]="Center",t[t.Bottom=2]="Bottom"}(l||(l={}));class m{constructor(){this.top=0,this.right=0,this.bottom=0,this.left=0}}class p{constructor(){this.horizontalAlign=d.Center,this.verticalAlignmentRatio=l.Center,this.margin=new m,this.calculateDimensionsX=(t,e)=>{switch(this.horizontalAlign){case d.Left:return t.x+this.margin.left;case d.Center:return t.x+t.width/2-e/2;case d.Right:return t.x+t.width-e-this.margin.right}},this.calculateDimensionsY=(t,e)=>t.y+t.height*this.verticalAlignmentRatio-e*this.verticalAlignmentRatio+(this.verticalAlignmentRatio>.5?-this.margin.bottom:this.margin.top),this.verticalAlign=l.Center}set verticalAlign(t){switch(t){case l.Bottom:this.verticalAlignmentRatio=1;break;case l.Center:this.verticalAlignmentRatio=.5;break;case l.Top:this.verticalAlignmentRatio=0}}}class v{constructor(t,e,i){this.executer=t,this.setMethod=i,this.methods=[],this.add=t=>{var e=t(this.methods[this.methods.length-1]);this.methods.push(e),this.setMethod(e)},this.remove=()=>{this.methods.pop(),this.setMethod(this.methods[this.methods.length-1])},this.reset=()=>{this.setMethod(this.methods[this.methods.length-1])},this.clear=()=>{this.setMethod(()=>{})},e.bind(this.executer),this.methods.push(e)}}class y{constructor(t){this.durationSeconds=t,this.getValue=()=>{return(Date.now()-this.startTime)/1e3/this.durationSeconds},this.ended=()=>{return(Date.now()-this.startTime)/1e3>this.durationSeconds},this.startTime=Date.now()}}class f{constructor(){this.generateNewId=()=>(f.idCounter++,f.idCounter),this.bounds=new o(0,0,0,0),this.dimensions=new o(0,0,0,0),this.alignement=new p,this.shouldUpdateLayout=!1,this.render=t=>{this.shouldUpdateLayout&&(this.updateLayout(t,this.bounds),this.shouldUpdateLayout=!1)},this.triggerUpdateLayout=()=>{this.shouldUpdateLayout=!0},this.isActive=!0,this.activate=t=>{this.renderMethodManipulation.reset();var e=new y(t);this.renderMethodManipulation.add(t=>i=>{e.ended()?(t(i),this.renderMethodManipulation.remove()):(i.save(),i.globalAlpha=e.getValue(),t(i),i.restore())})},this.deactivated=()=>{this.renderMethodManipulation.clear()},this.deactivate=t=>{var e=new y(t);this.renderMethodManipulation.add(t=>i=>{e.ended()?(this.renderMethodManipulation.remove(),this.renderMethodManipulation.clear()):(i.save(),i.globalAlpha=1-e.getValue(),t(i),i.restore())})},this.disableMouseEvents=()=>{this.mouseDown=()=>{},this.mouseUp=()=>{},this.mouseMove=()=>{},this.click=()=>{}},this.id=this.generateNewId(),this.name="object "+this.id}get renderMethodManipulation(){return this._renderMethodManipulation||(this._renderMethodManipulation=new v(this,this.render,t=>this.render=t)),this._renderMethodManipulation}updateLayout(t,e){this.bounds=e,this.shouldUpdateLayout=!1}}f.idCounter=0;class w extends f{constructor(){super(...arguments),this.children=[],this.superRender=this.render,this.render=t=>{this.superRender(t);for(const e of this.children)e.render(t)}}mouseDown(t){for(const e of this.children)e.mouseDown(t)}mouseUp(t){for(const e of this.children)e.mouseUp(t)}mouseMove(t){for(const e of this.children)e.mouseMove(t)}click(t){for(const e of this.children.toList())e.click(t)}}!function(t){t[t.hidden=0]="hidden",t[t.beforeVisible=1]="beforeVisible",t[t.visible=2]="visible"}(u||(u={}));class L extends f{constructor(){super(...arguments),this.isMouseOver=!1,this.isEnabled=!0,this.clicked=new n,this.click=t=>{this.isEnabled&&this.dimensions.isHitBy(t.clientX,t.clientY)&&this.clicked.dispatchEvent(this)}}mouseMove(t){this.isEnabled&&(this.dimensions.isHitBy(t.clientX,t.clientY)?(this.isMouseOver=!0,a.SetCursor(this.name,!0)):(this.isMouseOver=!1,a.SetCursor(this.name,!1)))}mouseDown(t){}mouseUp(t){}}class x{constructor(){this.fontSize=32,this.fontPrefix="",this.fontFamily="Georgia",this.fillStyle="grey",this.mouseOverFillStyle="red",this.backgroundFillStyle=void 0,this.getFont=()=>{var t="";return this.fontPrefix&&(t+=this.fontPrefix+" "),t+=this.fontSize+"px "+this.fontFamily}}}class S extends L{constructor(){super(...arguments),this.properties=new x,this.render=t=>{this.properties.backgroundFillStyle&&(t.fillStyle=this.properties.backgroundFillStyle,t.fillRect(this.dimensions.x,this.dimensions.y,this.dimensions.width,this.dimensions.height)),this.isMouseOver?t.fillStyle=this.properties.mouseOverFillStyle:t.fillStyle=this.properties.fillStyle,t.font=this.properties.getFont(),t.textAlign="left",t.textBaseline="top",t.fillText(this.text,this.dimensions.x,this.dimensions.y)},this.updateLayout=(t,e)=>{super.updateLayout(t,e),t.font=this.properties.getFont(),t.textAlign="left",t.textBaseline="top";var i=t.measureText(this.text),s=this.alignement.calculateDimensionsX(e,i.width),n=this.alignement.calculateDimensionsY(e,this.properties.fontSize);this.dimensions=new o(s,n,i.width,this.properties.fontSize)}}}!function(t){t[t.Horizontal=0]="Horizontal",t[t.Vertical=1]="Vertical"}(c||(c={}));class b{constructor(){this.itemSpacing=30,this.orientation=c.Vertical}}class V extends w{constructor(){super(...arguments),this.properties=new b,this.addItem=t=>{t.alignement.horizontalAlign=d.Left,t.alignement.verticalAlign=l.Top,this.children.push(t),this.triggerUpdateLayout()},this.removeItem=t=>{this.children.removeItem(t),this.triggerUpdateLayout()}}get items(){return this.children}updateLayout(t,e){super.updateLayout(t,e);var i=this.alignement.calculateDimensionsX(e,this.dimensions.width),s=this.alignement.calculateDimensionsY(e,this.dimensions.height),n=0,r=0;if(this.properties.orientation==c.Vertical)for(let e=0;e<this.children.length;e++){const a=this.children[e];e>0&&(s+=this.properties.itemSpacing,r+=this.properties.itemSpacing),a.updateLayout(t,new o(i,s,0,0)),s+=a.dimensions.height,r+=a.dimensions.height,n=Math.max(n,a.dimensions.width)}else for(let e=0;e<this.children.length;e++){const a=this.children[e];e>0&&(i+=this.properties.itemSpacing,n+=this.properties.itemSpacing),a.updateLayout(t,new o(i,s,0,0)),i+=a.dimensions.width,n+=a.dimensions.width,r=Math.max(r,a.dimensions.height)}this.dimensions.x==i&&this.dimensions.y==s&&this.dimensions.width==n&&this.dimensions.height==r||(this.dimensions.x=i,this.dimensions.y=s,this.dimensions.height=r,this.dimensions.width=n,this.updateLayout(t,e))}}class M{}M.fillStyle="rgb(0,100,128)",M.mousOver="rgb(0,201,255)",M.light2="rgb(77,216,255)",M.normal="rgb(0,160,204)";class B{constructor(t){this.value=t,this.OnChanged=new r,this.set=t=>{var e=this.value;this.value=t,this.OnChanged.dispatchEvent(e,this.value)},this.get=()=>this.value}}class E{constructor(){this.name=new B("Star Layer X"),this.speed=new B(1*Math.random()+.1),this.starRadiusLowerBorder=new B(.05),this.starRadiusUpperBorder=new B(.55),this.numberOfStars=new B(300)}}class I{constructor(){this.fontSize=40,this.fontPrefix="",this.fontFamily="Georgia",this.fillStyle="blue",this.backgroundFillStyle=void 0,this.getFont=()=>{var t="";return this.fontPrefix&&(t+=this.fontPrefix+" "),t+=this.fontSize+"px "+this.fontFamily}}}class A extends L{constructor(){super(),this.properties=new I,this.render=t=>{t.fillStyle=this.properties.fillStyle,t.font=this.properties.getFont(),t.textAlign="left",t.textBaseline="top",t.fillText(this.text,this.dimensions.x,this.dimensions.y)},this.updateLayout=(t,e)=>{super.updateLayout(t,e),t.font=this.properties.getFont(),t.textAlign="left",t.textBaseline="top";var i=t.measureText(this.text),s=this.alignement.calculateDimensionsX(e,i.width),n=this.alignement.calculateDimensionsY(e,this.properties.fontSize);this.dimensions=new o(s,n,i.width,this.properties.fontSize)},this.disableMouseEvents()}}class C extends w{constructor(t){super(),this.goBackBtnIconText="",this.onGoBack=new s,this.goBackBtn=new S,this.goBackBtn.properties.fontPrefix="900",this.goBackBtn.properties.fontFamily="'Font Awesome 5 Free'",this.goBackBtn.text=this.goBackBtnIconText,this.goBackBtn.alignement.verticalAlign=l.Top,this.goBackBtn.alignement.horizontalAlign=d.Left,this.goBackBtn.properties.fillStyle=M.fillStyle,this.goBackBtn.properties.mouseOverFillStyle=M.mousOver,this.goBackBtn.clicked.addEventListener(this.onGoBack.dispatchEvent);var e=new A;e.text=t,e.properties.fillStyle=M.normal,this.header=new V,this.header.alignement.horizontalAlign=d.Left,this.header.alignement.verticalAlign=l.Top,this.header.properties.orientation=c.Horizontal,this.header.addItem(this.goBackBtn),this.header.addItem(e),this.children.push(this.header)}updateLayout(t,e){super.updateLayout(t,e),this.header.updateLayout(t,e),this.dimensions=this.header.dimensions}}class k extends w{constructor(t){super(),this.navigationView=new C(t),this.navigationView.alignement.horizontalAlign=d.Left,this.navigationView.alignement.verticalAlign=l.Top,this.children.push(this.navigationView)}}class O{constructor(){this.color1="grey",this.color2="red"}}class F extends L{constructor(){super(),this.properties=new O,this.radius=10,this.minValue=0,this.maxValue=100,this.currentValue=50,this.valueChanged=new n,this.render=t=>{var e=this.dimensions.x,i=this.dimensions.y;t.strokeStyle=this.properties.color1,t.lineWidth=2,t.beginPath(),t.moveTo(e+this.radius,i+this.dimensions.height/2),t.lineTo(e+this.dimensions.width-this.radius,i+this.dimensions.height/2),t.stroke();var s=(this.currentValue-this.minValue)/(this.maxValue-this.minValue);t.fillStyle=this.properties.color2,t.beginPath(),t.arc(e+this.radius+(this.dimensions.width-2*this.radius)*s,i+this.dimensions.height/2,this.radius,0,2*Math.PI),t.closePath(),t.fill()},this.updateLayout=(t,e)=>{super.updateLayout(t,e),this.dimensions=new o(e.x,e.y,200,2*this.radius)},this.mouseDown=t=>{this.dimensions.isHitBy(t.clientX,t.clientY)&&(this.isDragging=!0,this.updateCurrentValue(t))},this.click=t=>{t.ctrlKey&&this.dimensions.isHitBy(t.clientX,t.clientY)&&(this.isDragging=!0,this.updateCurrentValue(t))},this.mouseUp=t=>{this.isDragging=!1}}mouseMove(t){super.mouseMove(t),this.isDragging&&this.updateCurrentValue(t)}updateCurrentValue(t){var e=t.clientX-this.dimensions.x-this.radius;(e=e/(this.dimensions.width-2*this.radius)*(this.maxValue-this.minValue)+this.minValue)>this.maxValue&&(e=this.maxValue),e<this.minValue&&(e=this.minValue),this.currentValue=e,this.valueChanged.dispatchEvent(this.currentValue)}}class T extends L{constructor(){super(),this.properties=new O,this.radius=10,this.minValue=0,this.maxValue=100,this.currentValueLow=25,this.currentValueHigh=75,this.minDiff=.1,this.valuesChanged=new r,this.render=t=>{var e=this.dimensions.x,i=this.dimensions.y;t.strokeStyle=this.properties.color1,t.lineWidth=2,t.beginPath(),t.moveTo(e+this.radius,i+this.dimensions.height/2),t.lineTo(e+this.dimensions.width-this.radius,i+this.dimensions.height/2),t.stroke(),t.fillStyle=this.properties.color2;var s=i+this.dimensions.height/2,n=(this.currentValueLow-this.minValue)/(this.maxValue-this.minValue),r=e+this.radius+(this.dimensions.width-2*this.radius)*n,a=(this.currentValueHigh-this.minValue)/(this.maxValue-this.minValue),o=e+this.radius+(this.dimensions.width-2*this.radius)*a;t.strokeStyle=this.properties.color2,t.lineWidth=2,t.beginPath(),t.moveTo(r,s),t.lineTo(o,s),t.stroke(),t.beginPath(),t.arc(r,s,this.radius,0,2*Math.PI),t.closePath(),t.fill(),t.beginPath(),t.arc(o,s,this.radius,0,2*Math.PI),t.closePath(),t.fill()},this.updateLayout=(t,e)=>{super.updateLayout(t,e),this.dimensions=new o(e.x,e.y,200,2*this.radius)},this.click=t=>{if(t.ctrlKey&&this.dimensions.isHitBy(t.clientX,t.clientY)){var e=this.getClickedValue(t),i=Math.abs(this.currentValueLow-e),s=Math.abs(this.currentValueHigh-e);i==s?e<this.currentValueLow?this.isDraggingLow=!0:this.isDraggingHigh=!0:i>s?this.isDraggingHigh=!0:this.isDraggingLow=!0,this.updateCurrentValues(t)}},this.mouseDown=t=>{if(this.dimensions.isHitBy(t.clientX,t.clientY)){var e=this.getClickedValue(t),i=Math.abs(this.currentValueLow-e),s=Math.abs(this.currentValueHigh-e);i==s?e<this.currentValueLow?this.isDraggingLow=!0:this.isDraggingHigh=!0:i>s?this.isDraggingHigh=!0:this.isDraggingLow=!0,this.updateCurrentValues(t)}},this.mouseUp=t=>{this.isDraggingHigh=!1,this.isDraggingLow=!1}}mouseMove(t){super.mouseMove(t),(this.isDraggingHigh||this.isDraggingLow)&&this.updateCurrentValues(t)}updateCurrentValues(t){var e=this.getClickedValue(t);this.isDraggingLow?e>this.currentValueHigh-this.minDiff&&(e=this.currentValueHigh-this.minDiff):e<this.currentValueLow+this.minDiff&&(e=this.currentValueLow+this.minDiff),this.isDraggingLow?this.currentValueLow=e:this.currentValueHigh=e,this.valuesChanged.dispatchEvent(this.currentValueLow,this.currentValueHigh)}getClickedValue(t){var e=t.clientX-this.dimensions.x-this.radius;return(e=e/(this.dimensions.width-2*this.radius)*(this.maxValue-this.minValue)+this.minValue)>this.maxValue&&(e=this.maxValue),e<this.minValue&&(e=this.minValue),e}}class D extends k{constructor(t){super(t.name.get()),this.starLayer=t,this.round=t=>Math.round(100*t)/100,this.settingsList=new V,this.settingsList.alignement.horizontalAlign=d.Left,this.settingsList.alignement.verticalAlign=l.Top;var e=new A,i=this.createHead("Number of Stars",e,Math.round(t.numberOfStars.get()).toString());this.settingsList.addItem(i);var s=new F;s.minValue=50,s.maxValue=800,s.properties.color1=M.fillStyle,s.properties.color2=M.mousOver,s.currentValue=t.numberOfStars.get(),this.settingsList.addItem(s),s.valueChanged.addEventListener(t=>{this.starLayer.numberOfStars.set(Math.round(t))}),t.numberOfStars.OnChanged.addEventListener((t,i)=>{e.text=Math.round(i).toString()});var n=new A,r=this.createHead("Speed",n,this.round(t.speed.get()).toString());this.settingsList.addItem(r);var a=new F;a.minValue=0,a.maxValue=20,a.properties.color1=M.fillStyle,a.properties.color2=M.mousOver,a.currentValue=t.speed.get(),this.settingsList.addItem(a),a.valueChanged.addEventListener(e=>{t.speed.set(e)}),t.speed.OnChanged.addEventListener((t,e)=>{n.text=this.round(e).toString()});var o=new A,h=this.createHead("Size",o,this.round(t.starRadiusLowerBorder.get())+" - "+this.round(t.starRadiusUpperBorder.get()));this.settingsList.addItem(h);var u=new T;u.minValue=.005,u.maxValue=2,u.currentValueLow=t.starRadiusLowerBorder.get(),u.currentValueHigh=t.starRadiusUpperBorder.get(),u.properties.color1=M.fillStyle,u.properties.color2=M.mousOver,this.settingsList.addItem(u),u.valuesChanged.addEventListener((e,i)=>{t.starRadiusLowerBorder.get()!=e&&t.starRadiusLowerBorder.set(e),t.starRadiusUpperBorder.get()!=i&&t.starRadiusUpperBorder.set(i)}),t.starRadiusLowerBorder.OnChanged.addEventListener((e,i)=>{o.text=this.round(i)+" - "+this.round(t.starRadiusUpperBorder.get())}),t.starRadiusUpperBorder.OnChanged.addEventListener((e,i)=>{o.text=this.round(t.starRadiusLowerBorder.get())+" - "+this.round(i)});var c=new S;c.text="Remove Layer",c.properties.fillStyle=M.fillStyle,c.properties.mouseOverFillStyle=M.mousOver,this.settingsList.addItem(c),c.clicked.addEventListener(t=>{pt.visualizationModel.starLayers.remove(this.starLayer),this.navigationView.onGoBack.dispatchEvent()}),this.children.push(this.settingsList)}createHead(t,e,i){var s=new A;s.text=t,s.properties.fillStyle=M.light2,s.properties.fontSize=22,s.alignement.horizontalAlign=d.Center,s.alignement.verticalAlign=l.Center,e.text=i,e.properties.fillStyle=M.light2,e.properties.fontSize=22;var n=new V;return n.properties.orientation=c.Horizontal,n.addItem(s),n.addItem(e),n}updateLayout(t,e){this.navigationView.updateLayout(t,e);var i=1.5*this.navigationView.dimensions.height;this.settingsList.updateLayout(t,new o(e.x,e.y+i,e.width,e.height-i))}}class R extends k{constructor(){super("Star Layers"),this.layerButtons=[],this.layerList=new V,this.layerList.alignement.horizontalAlign=d.Left,this.layerList.alignement.verticalAlign=l.Top;for(const t of pt.visualizationModel.starLayers.items)this.layerList.addItem(this.createEditLayerBtn(t));var t=new S;t.text="Add Layer",t.properties.fillStyle=M.fillStyle,t.properties.mouseOverFillStyle=M.mousOver,t.clicked.addEventListener(t=>{var e=new E;e.name.set("Stars "+(pt.visualizationModel.starLayers.items.length+1)),pt.visualizationModel.starLayers.add(e)}),this.addLayerBtn=t,this.layerList.addItem(t),this.children.push(this.layerList),pt.visualizationModel.starLayers.onAdd.addEventListener(t=>{this.layerList.removeItem(this.addLayerBtn),this.layerList.addItem(this.createEditLayerBtn(t)),this.layerList.addItem(this.addLayerBtn)}),pt.visualizationModel.starLayers.onRemove.addEventListener(t=>{var e=this.layerList.items.firstOrDefault(e=>e.tag==t);e&&this.layerList.removeItem(e)})}createEditLayerBtn(t){var e=new S;return e.text=t.name.get(),e.tag=t,e.properties.fillStyle=M.fillStyle,e.properties.mouseOverFillStyle=M.mousOver,e.clicked.addEventListener(e=>{this.editLayer(t)}),e}editLayer(t){this.children.removeItem(this.navigationView),this.children.removeItem(this.layerList),this.subView=new D(t),this.subView.navigationView.onGoBack.addEventListener(()=>{this.children.removeItem(this.subView),this.subView=void 0,this.children.push(this.navigationView),this.children.push(this.layerList)}),this.children.push(this.subView),this.triggerUpdateLayout()}updateLayout(t,e){super.updateLayout(t,e),this.navigationView.updateLayout(t,e);var i=1.5*this.navigationView.dimensions.height;this.layerList.updateLayout(t,new o(e.x,e.y+i,e.width,e.height-i)),this.subView&&this.subView.updateLayout(t,e)}}class H extends w{constructor(){super(),this.superSuperRender=this.render,this.render=t=>{this.settingsVisibilityState==u.visible&&(t.fillStyle="rgba(0,0,0,0.8)",t.fillRect(this.bounds.x,this.bounds.y,3*this.bounds.width/4,this.bounds.height)),this.superSuperRender(t)},this.lastMoved=Date.now(),this.inactivityTimeout=2e3,this.settingsIconText="",this.settingsCloseIconText="",this.settingsVisibilityState=u.hidden,this.showHideOverlayClicked=t=>{this.settingsVisibilityState==u.visible?this.setSettingsVisibilityState(u.beforeVisible):this.setSettingsVisibilityState(u.visible)},this.mouseInactivityHandler=()=>{Date.now()-this.lastMoved>=this.inactivityTimeout?this.settingsVisibilityState==u.beforeVisible&&this.setSettingsVisibilityState(u.hidden):setTimeout(this.mouseInactivityHandler,this.inactivityTimeout-(Date.now()-this.lastMoved))},this.setSettingsVisibilityState=t=>{switch(t){case u.hidden:this.showHideSettingsBtn.text=this.settingsIconText,this.showHideSettingsBtn.properties.backgroundFillStyle=void 0,this.children.removeItem(this.showHideSettingsBtn),this.settingsVisibilityState=u.hidden;break;case u.beforeVisible:this.showHideSettingsBtn.text=this.settingsIconText,this.showHideSettingsBtn.properties.backgroundFillStyle=void 0,this.lastMoved=Date.now(),this.settingsVisibilityState==u.hidden&&(setTimeout(this.mouseInactivityHandler,this.inactivityTimeout),this.children.addItemIfNotExists(this.showHideSettingsBtn)),this.settingsVisibilityState==u.visible&&(setTimeout(this.mouseInactivityHandler,this.inactivityTimeout),this.subView&&(this.settingsList.removeItem(this.subView),this.subView=null,this.settingsList.addItem(this.starLayersBtn)),this.children.removeItemIfExists(this.settingsList)),this.settingsVisibilityState=u.beforeVisible;break;case u.visible:this.settingsVisibilityState==u.beforeVisible&&this.children.push(this.settingsList),this.showHideSettingsBtn.text=this.settingsCloseIconText,this.showHideSettingsBtn.properties.backgroundFillStyle="rgba(0,0,0,0.5)",this.settingsVisibilityState=u.visible}},this.mouseMove=t=>{this.mouseMoveShowHideSettings(),super.mouseMove(t)},this.click=t=>{this.mouseClickShowHideSettings(),super.click(t)},this.createShowHideSettingsBtn(),this.settingsList=new V,this.settingsList.alignement.horizontalAlign=d.Left,this.settingsList.alignement.verticalAlign=l.Top,this.starLayersBtn=new S,this.starLayersBtn.text="Star Layers",this.starLayersBtn.properties.fillStyle=M.fillStyle,this.starLayersBtn.properties.mouseOverFillStyle=M.mousOver,this.starLayersBtn.clicked.addEventListener(t=>{this.settingsList.removeItem(this.starLayersBtn),this.subView=new R,this.subView.navigationView.onGoBack.addEventListener(()=>{this.settingsList.removeItem(this.subView),this.subView=void 0,this.settingsList.addItem(this.starLayersBtn)}),this.settingsList.addItem(this.subView)}),this.settingsList.addItem(this.starLayersBtn)}createShowHideSettingsBtn(){this.showHideSettingsBtn=new S,this.showHideSettingsBtn.properties.fontPrefix="900",this.showHideSettingsBtn.properties.fontFamily="'Font Awesome 5 Free'",this.showHideSettingsBtn.text=this.settingsIconText,this.showHideSettingsBtn.alignement.verticalAlign=l.Top,this.showHideSettingsBtn.alignement.horizontalAlign=d.Left,this.showHideSettingsBtn.properties.fillStyle=M.fillStyle,this.showHideSettingsBtn.properties.mouseOverFillStyle=M.mousOver,this.showHideSettingsBtn.clicked.addEventListener(this.showHideOverlayClicked),this.children.push(this.showHideSettingsBtn)}mouseClickShowHideSettings(){this.settingsVisibilityState!=u.hidden&&this.settingsVisibilityState!=u.beforeVisible||this.setSettingsVisibilityState(u.beforeVisible)}mouseMoveShowHideSettings(){this.settingsVisibilityState!=u.hidden&&this.settingsVisibilityState!=u.beforeVisible||this.setSettingsVisibilityState(u.beforeVisible)}updateLayout(t,e){super.updateLayout(t,e),this.showHideSettingsBtn.updateLayout(t,e);var i=2*this.showHideSettingsBtn.dimensions.height;this.settingsList&&this.settingsList.updateLayout(t,new o(e.x,e.y+i,e.width,e.height-i)),this.subView&&this.subView.updateLayout(t,new o(e.x,e.y+i,e.width,e.height-i))}}class z{}z.instances={},z.addInstance=(t,e)=>{z.instances[t]=e},z.getInstance=t=>z.instances[t];class P extends w{constructor(){super(),this.playIconText="",this.pauseIconText="",this.stopIconText="",this.nextIconText="",this.previousIconText="";var t=z.getInstance("audio"),e=new V;e.alignement.verticalAlign=l.Bottom,e.alignement.margin.bottom=20,e.properties.orientation=c.Horizontal,this.children.push(e);var i=this.createBtn(this.playIconText,()=>{i.text==this.playIconText?(t.play(),i.text=this.pauseIconText):(t.pause(),i.text=this.playIconText),this.triggerUpdateLayout()});e.addItem(i);var s=this.createBtn(this.stopIconText,()=>{t.stop(),i.text==this.pauseIconText&&(i.text=this.playIconText),this.triggerUpdateLayout()});e.addItem(s);var n=this.createBtn(this.previousIconText,()=>{t.previous()});e.addItem(n);var r=this.createBtn(this.nextIconText,()=>{t.next()});e.addItem(r)}createBtn(t,e){var i=new S;return i.properties.fontPrefix="900",i.properties.fontFamily="'Font Awesome 5 Free'",i.text=t,i.properties.fillStyle=M.fillStyle,i.properties.mouseOverFillStyle=M.mousOver,i.clicked.addEventListener(e),i}updateLayout(t,e){super.updateLayout(t,e);for(const e of this.children)e.updateLayout(t,this.bounds)}}!function(t){t[t.FitAndOverfill=0]="FitAndOverfill",t[t.FitAndSpace=1]="FitAndSpace"}(g||(g={}));class N{constructor(){this.imageScalingMode=g.FitAndSpace,this.scale=1}}class U extends L{constructor(t){super(),this.properties=new N,this.superRender=this.render,this.render=t=>{this.superRender(t),t.drawImage(this.image,this.dimensions.x,this.dimensions.y,this.dimensions.width,this.dimensions.height),this.isMouseOver&&this.isEnabled&&(t.fillStyle="rgba(255,255,255,0.5)",t.fillRect(this.dimensions.x,this.dimensions.y,this.dimensions.width,this.dimensions.height))},this.image=t}updateLayout(t,e){super.updateLayout(t,e);var i=1,s=this.image.naturalWidth/this.image.naturalHeight>e.width/e.height;switch(this.properties.imageScalingMode){case g.FitAndOverfill:i=s?e.height/this.image.height:e.width/this.image.width;break;case g.FitAndSpace:i=s?e.width/this.image.width:e.height/this.image.height}var n=this.image.naturalWidth*i,r=this.image.naturalHeight*i;this.dimensions.x=this.alignement.calculateDimensionsX(e,n),this.dimensions.y=this.alignement.calculateDimensionsY(e,n),this.dimensions.width=n,this.dimensions.height=r}}U.createFromUrl=t=>new Promise((e,i)=>{var s=new Image;s.src=t,s.onload=()=>{e(new U(s))}});class K extends w{constructor(){super(),this.frequencyIndex=7,this.lowerBorder=.4,this.upperBorder=.9,this.isSongAnimating=!1,this.songChanged=t=>{this.newSongName=t,this.isSongAnimating?setTimeout(()=>{this.newSongName==t&&this.songName.text!=t&&this.songChanged(t)},1e3):(this.isSongAnimating=!0,this.songName.deactivate(.8),setTimeout(()=>{this.songName.text=this.newSongName,this.triggerUpdateLayout(),this.songName.activate(.8),setTimeout(()=>{this.isSongAnimating=!1},900)},900))};var t=z.getInstance("assets"),e=z.getInstance("audio");this.analyser=e.getAnalyser();var i=t.getImage("logo"),s=t.getImage("logo-nova");this.disableMouseEvents();var n=new U(s);n.properties.imageScalingMode=g.FitAndSpace,this.children.push(n);var r=n.render;n.render=t=>{var e=this.analyser.getSpectrum(),i=this.calculateRelDataValue(e[this.frequencyIndex]);t.save(),t.globalAlpha=i,r(t),t.restore()};var a=new U(i);a.properties.imageScalingMode=g.FitAndSpace,this.children.push(a),e.songChanged.addEventListener(this.songChanged),this.songName=new A,this.songName.text=e.currentSongName,this.newSongName=e.currentSongName,this.songName.properties.fontSize=40,this.songName.properties.fillStyle=M.mousOver,this.songName.properties.fontFamily="Georgia",this.songName.alignement.verticalAlignmentRatio=.6,document.x=this.songName,this.children.push(this.songName)}calculateRelDataValue(t){var e=t/255;return e<this.lowerBorder&&(e=this.lowerBorder),e>this.upperBorder&&(e=this.upperBorder),(e-this.lowerBorder)/(this.upperBorder-this.lowerBorder)}updateLayout(t,e){super.updateLayout(t,e);for(const i of this.children)i.updateLayout(t,e)}}class W extends f{constructor(t){super(),this.starLayer=t,this.stars=[],this.sizeChanged=(t,e)=>{var i=t,s=e-i;s<=0&&(s=1e-4);var n=(this.starLayer.starRadiusUpperBorder.get()-this.starLayer.starRadiusLowerBorder.get())/s;for(const t of this.stars)t.r=(t.r-i)*n+this.starLayer.starRadiusLowerBorder.get()},this.numberOfStarsChanged=(t,e)=>{var i=e-this.stars.length;if(i>0)for(let t=0;t<i;t++)this.addStar();else for(let t=0;t<-i;t++){Math.floor(Math.random()*this.stars.length);this.stars.removeItem(this.stars[t])}},this.update=t=>{for(const e of this.stars)e.x+=this.starLayer.speed.get()*t,e.y+=this.starLayer.speed.get()*t,e.x>pt.visualizationModel.width.get()&&(e.x-=pt.visualizationModel.width.get()),e.y>pt.visualizationModel.height.get()&&(e.y-=pt.visualizationModel.height.get())},this.render=t=>{for(const s of this.stars){var e=3*s.r,i=t.createRadialGradient(s.x,s.y,s.r,s.x,s.y,e);i.addColorStop(0,"rgba(255, 255, 255, 0.2)"),i.addColorStop(1,"rgba(255, 255, 255, 0)"),t.fillStyle=i,t.arc(s.x,s.y,e,0,2*Math.PI),t.fill(),t.fillStyle="white",t.beginPath(),t.arc(s.x,s.y,s.r,0,2*Math.PI),t.fill()}},this.tag=t,this.animation=z.getInstance("animation"),this.animation.addUpdateFunction(this.update);for(let e=0;e<t.numberOfStars.get();e++)this.addStar();t.numberOfStars.OnChanged.addEventListener(this.numberOfStarsChanged),t.starRadiusLowerBorder.OnChanged.addEventListener((t,e)=>{this.sizeChanged(t,this.starLayer.starRadiusUpperBorder.get())}),t.starRadiusUpperBorder.OnChanged.addEventListener((t,e)=>{this.sizeChanged(this.starLayer.starRadiusLowerBorder.get(),t)})}addStar(){this.stars.push({x:Math.random()*pt.visualizationModel.width.get(),y:Math.random()*pt.visualizationModel.height.get(),r:Math.random()*(this.starLayer.starRadiusUpperBorder.get()-this.starLayer.starRadiusLowerBorder.get())+this.starLayer.starRadiusLowerBorder.get()})}mouseDown(t){}mouseUp(t){}mouseMove(t){}click(t){}}class X extends w{constructor(){super(),this.starLayerViews=[],this.addStarLayer=t=>{var e=new W(t);this.starLayerViews.push(e),this.children.push(e)},this.removeStarLayer=t=>{var e=this.starLayerViews.firstOrDefault(e=>e.tag==t);e&&(this.starLayerViews.removeItem(e),this.children.removeItem(e))},this.disableMouseEvents(),pt.visualizationModel.starLayers.onAdd.addEventListener(this.addStarLayer),pt.visualizationModel.starLayers.onRemove.addEventListener(this.removeStarLayer)}}class Y extends w{constructor(){super(),this.onLowPerformance=()=>{for(const t of pt.visualizationModel.starLayers.items)t.numberOfStars.set(.9*t.numberOfStars.get())},this.animation=z.getInstance("animation"),this.animation.lowPerformance.addEventListener(this.onLowPerformance),this.loadBackground();var t=new X;this.children.push(t);var e=new K;this.children.push(e);var i=new P;this.children.push(i);var s=new H;this.children.push(s),this.triggerUpdateLayout()}loadBackground(){var t=z.getInstance("assets").getImage("background"),e=new U(t);e.disableMouseEvents(),e.properties.imageScalingMode=g.FitAndOverfill,this.children.push(e)}updateLayout(t,e){super.updateLayout(t,e);for(const i of this.children)i.updateLayout(t,e)}}class G{constructor(){this.updateFunctions=[],this.isRunning=!1,this.performanceWarningThreshold=1.2,this.performanceWarningDelayRuns=8,this.currentPerformanceWarningDelayRun=0,this.lowPerformance=new s,this.addUpdateFunction=t=>{this.updateFunctions.push(t)},this.removeUpdateFunction=t=>{this.updateFunctions.splice(this.updateFunctions.indexOf(t),1)},this.setFps=t=>{this.fps=t,this.fpsInterval=1e3/this.fps},this.animationLoop=()=>{this.isRunning&&requestAnimationFrame(this.animationLoop);var t=Date.now(),e=t-this.lastFrameTime;if(e>this.fpsInterval){this.lastFrameTime=t;var i=e/1e3;e/this.fpsInterval-1>this.performanceWarningThreshold?(console.log("Warning: low performance"),this.currentPerformanceWarningDelayRun++,this.currentPerformanceWarningDelayRun>this.performanceWarningDelayRuns&&(this.lowPerformance.dispatchEvent(),this.currentPerformanceWarningDelayRun=0)):this.currentPerformanceWarningDelayRun>0&&(this.currentPerformanceWarningDelayRun=0);for(const t of this.updateFunctions)t(i)}},this.setFps(30),this.play(),document.addEventListener("keyup",t=>{80==t.keyCode&&this.playPause()})}play(){this.isRunning||(this.isRunning=!0,this.lastFrameTime=Date.now(),this.animationLoop())}pause(){this.isRunning&&(this.isRunning=!1)}playPause(){this.isRunning?this.pause():this.play()}}class j{constructor(){this.loadFontawesomeFree=()=>this.loadFont("","","900 20px 'Font Awesome 5 Free'"),this.loadFontawesomeBrands=()=>this.loadFont("","","400 20px 'Font Awesome 5 Brands'"),this.countPixels=t=>{var e=0;for(let a=0;a<t.data.length;a+=4){var i=t.data[a],s=t.data[a+1],n=t.data[a+2],r=t.data[a+3];i<50&&s<50&&n<50&&r>.9&&e++}return e},this.getIconPixels=(t,e,i)=>{t.clearRect(0,0,e.width,e.height),t.fillText(i,0,0);var s=t.getImageData(0,0,e.width,e.height);return this.countPixels(s)},this.loadFont=(t,e,i)=>{var s=10;return new Promise((n,r)=>{console.log('loading font "'+i+'"');var a=document.createElement("canvas");a.width=20,a.height=20;var o=a.getContext("2d");o.font=i,o.fillStyle="black",o.textAlign="left",o.textBaseline="top";var h=()=>{var r=this.getIconPixels(o,a,t),d=this.getIconPixels(o,a,e);Math.abs(d-r)>5?(console.log('loaded font "'+i+'"'),n()):0==--s?(console.log("stop loading font after "+s+" retries with 500ms delay"),n()):setTimeout(()=>{h()},500)};h()})}}}class _{constructor(t,e){this.name=t,this.audioCtx=e}}class q extends _{constructor(){super(...arguments),this.getAudioNode=()=>this.analyserNode}reload(){return new Promise((t,e)=>{this.analyserNode||(this.analyserNode=this.audioCtx.createAnalyser()),this.analyserNode.fftSize=32,this.analyserNode.smoothingTimeConstant=.9,this.bufferLength=this.analyserNode.frequencyBinCount,this.dataArray=new Uint8Array(this.bufferLength),t()})}getSpectrum(){return this.analyserNode?(this.analyserNode.getByteFrequencyData(this.dataArray),this.dataArray):new Uint8Array(0)}getWave(){return this.analyserNode?(this.analyserNode.getByteTimeDomainData(this.dataArray),this.dataArray):new Uint8Array(0)}}class J extends _{constructor(){super(...arguments),this.getAudioNode=()=>this.audioCtx.destination}reload(){}}class Q extends _{constructor(t,e,i){super(t,e),this.audioEnded=new s,this.audioEndedEvent=()=>{this.audioEnded.dispatchEvent()},this.getAudioNode=()=>this.source,this.play=()=>{this.audio.play()},this.pause=()=>{this.audio.pause()},this.stop=()=>{this.audio.pause(),this.audio.currentTime=0},this.setUrl=t=>{var e=!this.audio.paused;this.url=t,this.audio.src=t,this.audio.load(),e&&this.audio.play()},this.url=i,this.audio=document.createElement("audio"),this.audio.controls=!0,this.audio.src=this.url,this.audio.addEventListener("ended",this.audioEndedEvent)}reload(){return new Promise((t,e)=>{this.source||(this.source=this.audioCtx.createMediaElementSource(this.audio)),t()})}}class Z{constructor(){this.audioNodes=[],this.addMediaElementSource=(t,e)=>{var i=new Q(t,this.audioCtx,e);return this.audioNodes.push(i),i},this.addAnalyzer=t=>{var e=new q(t,this.audioCtx);return this.audioNodes.push(e),e},this.getAudioGraphNode=t=>this.audioNodes.first(e=>e.name==t),this.audioContextStateChanged=new n,this.documentClick=()=>{"suspended"===this.audioCtx.state&&(this.audioCtx.resume(),document.removeEventListener("click",this.documentClick))},this.audioContextStateChangedEvaluator=()=>{"running"===this.audioCtx.state&&(console.log("audio context state changed"),this.audioCtx.removeEventListener("statechange",this.audioContextStateChangedEvaluator),this.reload().then(()=>{this.audioContextStateChanged.dispatchEvent(this.audioCtx.state)}))},this.reload=()=>new Promise((t,e)=>{console.log("realoading audio graph"),Promise.all(this.audioNodes.map(t=>t.reload())).then(()=>{console.log("reloaded audio graph");for(let t=0;t<this.audioNodes.length;t++){const e=this.audioNodes[t];e.getAudioNode().disconnect(),t<this.audioNodes.length-1?e.getAudioNode().connect(this.audioNodes[t+1].getAudioNode()):e.getAudioNode().connect(this.destinationNode.getAudioNode())}t()})});try{this.audioCtx=new(window.AudioContext||window.webkitAudioContext),this.audioCtx.addEventListener("statechange",this.audioContextStateChangedEvaluator),"suspended"===this.audioCtx.state&&(document.addEventListener("click",this.documentClick),console.log("Audio context is suspended. Click the dom to make it running.")),this.destinationNode=new J("destination",this.audioCtx)}catch(t){throw"It looks like your browser does not support web audio API :("}}}var $=i(0),tt=i.n($),et=i(1),it=i.n(et),st=i(2),nt=i.n(st);class rt{constructor(){this.songs=[["Faint Color",tt.a],["Deep field",it.a],["Drifting into the Atmosphere",nt.a]],this.songChanged=new n,this.reload=()=>this.audioGraph.reload(),this.play=()=>{this.source.play()},this.pause=()=>{this.source.pause()},this.next=()=>{var t=this.songs.map(t=>t[1]).indexOf(this.source.url)+1;t==this.songs.length&&(t=0),this.source.setUrl(this.songs[t][1]),this.songChanged.dispatchEvent(this.songs[t][0])},this.previous=()=>{var t=this.songs.map(t=>t[1]).indexOf(this.source.url)-1;-1==t&&(t=this.songs.length-1),this.source.setUrl(this.songs[t][1]),this.songChanged.dispatchEvent(this.songs[t][0])},this.getAnalyser=()=>this.analyser,this.stop=()=>{this.source.stop()},this.audioGraph=new Z,this.source=this.audioGraph.addMediaElementSource("source",this.songs[0][1]),this.source.audioEnded.addEventListener(this.endedNext()),this.analyser=this.audioGraph.addAnalyzer("analyser")}get currentSongName(){var t=this.songs.map(t=>t[1]).indexOf(this.source.url);return this.songs[t][0]}endedNext(){return()=>{this.next(),this.source.play()}}}class at{constructor(){this.imageAssets=[],this.addImage=(t,e)=>{this.imageAssets.push({name:t,url:e,image:void 0})},this.getImage=t=>{var e=this.imageAssets.firstOrDefault(e=>e.name==t);return e?e.image:void 0},this.load=()=>Promise.all(this.imageAssets.map(t=>new Promise((e,i)=>{if(t.image)e();else{var s=new Image;s.src=t.url,s.onload=()=>{t.image=s,e()}}})))}}var ot=i(3),ht=i.n(ot),dt=i(4),lt=i.n(dt),ut=i(5),ct=i.n(ut);class gt extends w{constructor(){super();var t=new A;t.text="Loading...",t.properties.fillStyle="white",this.children.push(t)}updateLayout(t,e){super.updateLayout(t,e);for(const e of this.children)e.updateLayout(t,this.bounds)}}class mt{constructor(){this.items=[],this.onAdd=new n,this.onRemove=new n,this.add=t=>{this.items.push(t),this.onAdd.dispatchEvent(t)},this.remove=t=>{this.items.removeItem(t),this.onRemove.dispatchEvent(t)}}}class pt{constructor(){this.run=()=>{document.body.style.backgroundColor="black";var t=a.createFullScreen(),e=new h(t),i=new G;i.addUpdateFunction(t.draw),z.addInstance("canvas",t),z.addInstance("stage",e),z.addInstance("animation",i);var s,n=new gt;n.deactivated(),e.setView(n),n.activate(.7),console.log("loading app"),Promise.all([(new j).loadFontawesomeFree(),new Promise((t,e)=>{var i=new rt;i.reload(),z.addInstance("audio",i),t()}),new Promise((t,e)=>{setTimeout(()=>{t()},2e3)}),new Promise((t,e)=>{var i=new at;z.addInstance("assets",i),i.addImage("background",ht.a),i.addImage("logo",lt.a),i.addImage("logo-nova",ct.a),i.load().then(()=>{(s=new Y).deactivated();for(let t=0;t<4;t++){var e=new E;e.name.set("Stars "+(t+1)),pt.visualizationModel.starLayers.add(e)}t()})})]).then(()=>{n.deactivate(.7),setTimeout(()=>{e.setView(s),s.activate(.7)},800)}).catch(t=>{console.log(t),alert(t)})}}}pt.visualizationModel=new class{constructor(t,e){this.starLayers=new mt,this.width=new B(t),this.height=new B(e)}}(window.innerWidth,window.innerHeight);i(6);document.addEventListener("DOMContentLoaded",function(){(new pt).run()},!1),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("service-worker.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9kZW1vL1RyYWlsZXJfZmFpbnRDb2xvci5tcDMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9kZW1vL1RyYWlsZXJfRGVlcEZpZWxkLm1wMyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL2RlbW8vVHJhaWxlcl9EcmlmdGluZ0ludG9UaGVBdG1vc3BoZXJlLm1wMyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL2JhY2tncm91bmQucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvbG9nby1mcm9udC5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9sb2dvLW5vdmEucG5nIiwid2VicGFjazovLy8uL2VuYy9zcmMvZXh0ZW5zaW9ucy50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL2VFdmVudC50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2VDYW52YXMudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy9nZW9tZXRyeS9yZWN0YW5nbGUudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9zdGFnZS50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvaG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9hbGlnbmVtZW50L3ZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2V0dGluZ3MvbW9kZWxzL3NldHRpbmdzVmlzaWJpbGl0eVN0YXRlLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvYWxpZ25lbWVudC9vcmllbnRhdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2ltYWdlU2NhbGluZ01vZGUudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9hbGlnbmVtZW50L3NwYWNpbmcudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9hbGlnbmVtZW50L2FsaWduZW1lbnQudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy9tZXRob2RNYW5pcHVsYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS91aW1hdGlvbi91aW1hdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL3JlbmRlck9iamVjdC50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xheW91dFZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9jb250cm9scy9jb250cm9sLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvY29udHJvbHMvYnV0dG9uUHJvcGVydGllcy50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2J1dHRvbi50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xpc3RWaWV3UHJvcGVydGllcy50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xpc3RWaWV3LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3L3N0eWxlLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvb2JzZXJ2YWJsZVByb3BlcnR5LnRzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvc3RhckxheWVyLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvY29udHJvbHMvbGFiZWxQcm9wZXJ0aWVzLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvY29udHJvbHMvbGFiZWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NldHRpbmdzL3ZpZXcvbmF2aWdhdGlvbkhlYWRlclZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NldHRpbmdzL3ZpZXcvbmF2aWdhdGlvblZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9jb250cm9scy9zbGlkZXJQcm9wZXJ0aWVzLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvY29udHJvbHMvc2xpZGVyLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvY29udHJvbHMvcmFuZ2VTbGlkZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NldHRpbmdzL3ZpZXcvc3RhckxheWVyU2V0dGluZ3NWaWV3LnRzIiwid2VicGFjazovLy8uL3NyYy9zZXR0aW5ncy92aWV3L3N0YXJMYXllcnNTZXR0aW5nc1ZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NldHRpbmdzL3ZpZXcvc2V0dGluZ3NWaWV3LnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvZGluamVjdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy9wbGF5ZXJDb250cm9sc1ZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9jb250cm9scy9pbWFnZVByb3BlcnRpZXMudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9jb250cm9scy9pbWFnZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy9tYWluVmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy9zdGFyTGF5ZXJzL3N0YXJMYXllclZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXcvc3RhckxheWVycy9zdGFyTGF5ZXJNYW5hZ2VyVmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy9yb290Vmlldy50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL2VBbmltYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9jYW52YXNIZWxwZXIudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy9hdWRpby9hdWRpb0dyYXBoTm9kZS50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL2F1ZGlvL2F1ZGlvR3JhcGhOb2RlQW5hbHlzZXIudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy9hdWRpby9hdWRpb0dyYXBoTm9kZURlc3RpbmF0aW9uLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvYXVkaW8vYXVkaW9HcmFwaE5vZGVFbGVtZW50U291cmNlLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvYXVkaW8vYXVkaW9HcmFwaC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXVkaW9NYW5hZ2VyLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvYXNzZXRNYW5hZ2VyLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3L2xvYWRpbmdWaWV3LnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvb2JzZXJ2YWJsZUFycmF5LnRzIiwid2VicGFjazovLy8uL3NyYy9hcHAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy92aXN1YWxpemF0aW9uTW9kZWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiQXJyYXkiLCJmaXJzdE9yRGVmYXVsdCIsImZ1bmMiLCJhcnJheUl0ZW0iLCJ0aGlzIiwiZmlyc3QiLCJjb25zb2xlIiwibG9nIiwiZ2V0TmV4dCIsImN1cnJlbnQiLCJzZWxlY3RvciIsIm5leHRQb3NpdGlvbiIsIm5leHQiLCJ4IiwicmVtb3ZlSXRlbSIsIml0ZW0iLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJjb250YWlucyIsInJlbW92ZUl0ZW1JZkV4aXN0cyIsImFkZEl0ZW1JZk5vdEV4aXN0cyIsInB1c2giLCJyZW1vdmUiLCJ0b0xpc3QiLCJmaWx0ZXIiLCJFRXZlbnQiLCJbb2JqZWN0IE9iamVjdF0iLCJsaXN0ZW5lcnMiLCJhZGRFdmVudExpc3RlbmVyIiwibGlzdGVuZXIiLCJhZGRFdmVudExpc3RlbmVySWZOb3RFeGlzdHMiLCJkaXNwYXRjaEV2ZW50IiwibGVuZ3RoIiwiZXZlbnQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcklmRXhpc3RzIiwiRUV2ZW50VCIsImFyZyIsIkVFdmVudFRUIiwiYXJnMSIsImFyZzIiLCJlQ2FudmFzX0VDYW52YXMiLCJkcmF3RnVuY3Rpb25zIiwiZHByIiwiZHByU2NhbGluZ0VuYWJsZWQiLCJlbmFibGVEcHJTY2FsaW5nIiwicmVzaXplIiwiZGlzYWJsZURwclNjYWxpbmciLCJyZXNpemVkIiwid2luZG93IiwiZGV2aWNlUGl4ZWxSYXRpbyIsImNhbnZhcyIsIndpZHRoIiwiY2xpZW50V2lkdGgiLCJoZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJkcmF3IiwiY3R4Iiwic2F2ZSIsInNjYWxlIiwiZHJhd0Z1bmN0aW9uIiwicmVzdG9yZSIsImFkZERyYXdGdW5jdGlvbiIsInJlbW92ZURyYXdGdW5jdGlvbiIsImRvY3VtZW50IiwiYm9keSIsInBhcmVudEVsZW1lbnQiLCJzdHlsZSIsIm1hcmdpbiIsIm92ZXJmbG93IiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZENoaWxkIiwiZW5DYW52YXMiLCJnZXRDb250ZXh0IiwiY3Vyc29yTWFuaXB1bGF0aW9uIiwiY3Vyc29yTG9jayIsIlNldEN1cnNvciIsInBvaW50ZXIiLCJjdXJzb3IiLCJSZWN0YW5nbGUiLCJ5IiwiY29sbGlkZXNXaXRoIiwicmVjdGFuZ2xlIiwiaGl0eCIsImhpdHkiLCJpc0hpdEJ5Iiwic3RhZ2VfU3RhZ2UiLCJpc1RvdWNoTW9kZSIsImNhbnZhc1Jlc2l6ZWQiLCJzaG91bGRVcGRhdGVMYXlvdXQiLCJ0b3VjaE1vZGUiLCJldiIsInJlbW92ZU1vdXNlTGlzdGVuZXJzIiwiYWRkVG91Y2hMaXN0ZW5lcnMiLCJtb3VzZU1vZGUiLCJhZGRNb3VzZUxpc3RlbmVycyIsInJlbW92ZVRvdWNoTGlzdGVuZXJzIiwibW91c2VEb3duIiwidmlldyIsImNsaWVudFgiLCJjbGllbnRZIiwiYWx0S2V5IiwiY3RybEtleSIsInNoaWZ0S2V5IiwibW91c2VVcCIsIm1vdXNlTW92ZSIsImNsaWNrIiwicmVuZGVyIiwidXBkYXRlTGF5b3V0IiwiY2xlYXJSZWN0Iiwic2V0VmlldyIsInRvdWNoVG9Nb3VzZSIsInRvdWNoRXZlbnQiLCJ0b3VjaGVzIiwidG91Y2giLCJwcmV2ZW50RGVmYXVsdCIsIkhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uIiwiVmVydGljYWxBbGlnbmVtZW50T3B0aW9uIiwiU2V0dGluZ3NWaXNpYmlsaXR5U3RhdGUiLCJPcmllbnRhdGlvbiIsIkltYWdlU2NhbGluZ01vZGUiLCJTcGFjaW5nIiwidG9wIiwicmlnaHQiLCJib3R0b20iLCJsZWZ0IiwiYWxpZ25lbWVudF9BbGlnbmVtZW50IiwiaG9yaXpvbnRhbEFsaWduIiwiQ2VudGVyIiwidmVydGljYWxBbGlnbm1lbnRSYXRpbyIsImNhbGN1bGF0ZURpbWVuc2lvbnNYIiwiYm91bmRzIiwiTGVmdCIsIlJpZ2h0IiwiY2FsY3VsYXRlRGltZW5zaW9uc1kiLCJ2ZXJ0aWNhbEFsaWduIiwidiIsIkJvdHRvbSIsIlRvcCIsIk1ldGhvZE1hbmlwdWxhdGlvbiIsImV4ZWN1dGVyIiwiaW5pdGlhbE1ldGhvZCIsInNldE1ldGhvZCIsIm1ldGhvZHMiLCJhZGQiLCJidWlsZE1ldGhvZCIsIm5ld01ldGhvZCIsInBvcCIsInJlc2V0IiwiY2xlYXIiLCJVSW1hdGlvbiIsImR1cmF0aW9uU2Vjb25kcyIsImdldFZhbHVlIiwiRGF0ZSIsIm5vdyIsInN0YXJ0VGltZSIsImVuZGVkIiwicmVuZGVyT2JqZWN0X1JlbmRlck9iamVjdCIsImdlbmVyYXRlTmV3SWQiLCJpZENvdW50ZXIiLCJkaW1lbnNpb25zIiwiYWxpZ25lbWVudCIsInRyaWdnZXJVcGRhdGVMYXlvdXQiLCJpc0FjdGl2ZSIsImFjdGl2YXRlIiwicmVuZGVyTWV0aG9kTWFuaXB1bGF0aW9uIiwidWltYXRpb24iLCJjdXJyZW50TWV0aG9kIiwiZ2xvYmFsQWxwaGEiLCJkZWFjdGl2YXRlZCIsImRlYWN0aXZhdGUiLCJkaXNhYmxlTW91c2VFdmVudHMiLCJpZCIsIl9yZW5kZXJNZXRob2RNYW5pcHVsYXRpb24iLCJsYXlvdXRWaWV3X0xheW91dFZpZXciLCJjaGlsZHJlbiIsInN1cGVyUmVuZGVyIiwiY2hpbGQiLCJjb250cm9sX0NvbnRyb2wiLCJpc01vdXNlT3ZlciIsImlzRW5hYmxlZCIsImNsaWNrZWQiLCJCdXR0b25Qcm9wZXJ0aWVzIiwiZm9udFNpemUiLCJmb250UHJlZml4IiwiZm9udEZhbWlseSIsImZpbGxTdHlsZSIsIm1vdXNlT3ZlckZpbGxTdHlsZSIsImJhY2tncm91bmRGaWxsU3R5bGUiLCJ1bmRlZmluZWQiLCJnZXRGb250IiwiZm9udCIsImJ1dHRvbl9CdXR0b24iLCJwcm9wZXJ0aWVzIiwiZmlsbFJlY3QiLCJ0ZXh0QWxpZ24iLCJ0ZXh0QmFzZWxpbmUiLCJmaWxsVGV4dCIsInRleHQiLCJzdXBlciIsInNpemUiLCJtZWFzdXJlVGV4dCIsImxpc3RWaWV3UHJvcGVydGllc19MaXN0Vmlld1Byb3BlcnRpZXMiLCJpdGVtU3BhY2luZyIsIm9yaWVudGF0aW9uIiwiVmVydGljYWwiLCJsaXN0Vmlld19MaXN0VmlldyIsImFkZEl0ZW0iLCJsYXlvdXRWaWV3IiwiaXRlbXMiLCJNYXRoIiwibWF4IiwiU3R5bGUiLCJtb3VzT3ZlciIsImxpZ2h0MiIsIm5vcm1hbCIsIm9ic2VydmFibGVQcm9wZXJ0eV9PYnNlcnZhYmxlUHJvcGVydHkiLCJPbkNoYW5nZWQiLCJzZXQiLCJvbGRWYWx1ZSIsInN0YXJMYXllcl9TdGFyTGF5ZXIiLCJzcGVlZCIsInJhbmRvbSIsInN0YXJSYWRpdXNMb3dlckJvcmRlciIsInN0YXJSYWRpdXNVcHBlckJvcmRlciIsIm51bWJlck9mU3RhcnMiLCJMYWJlbFByb3BlcnRpZXMiLCJsYWJlbF9MYWJlbCIsIm5hdmlnYXRpb25IZWFkZXJWaWV3X05hdmlnYXRpb25IZWFkZXJWaWV3IiwidGl0bGUiLCJnb0JhY2tCdG5JY29uVGV4dCIsIm9uR29CYWNrIiwiZ29CYWNrQnRuIiwidGl0bGVMYmwiLCJoZWFkZXIiLCJIb3Jpem9udGFsIiwibmF2aWdhdGlvblZpZXdfTmF2aWdhdGlvblZpZXciLCJuYXZpZ2F0aW9uVmlldyIsIlNsaWRlclByb3BlcnRpZXMiLCJjb2xvcjEiLCJjb2xvcjIiLCJzbGlkZXJfU2xpZGVyIiwicmFkaXVzIiwibWluVmFsdWUiLCJtYXhWYWx1ZSIsImN1cnJlbnRWYWx1ZSIsInZhbHVlQ2hhbmdlZCIsInN0cm9rZVN0eWxlIiwibGluZVdpZHRoIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwic3Ryb2tlIiwicmVsVmFsdWUiLCJhcmMiLCJQSSIsImNsb3NlUGF0aCIsImZpbGwiLCJpc0RyYWdnaW5nIiwidXBkYXRlQ3VycmVudFZhbHVlIiwidmFsIiwicmFuZ2VTbGlkZXJfUmFuZ2VTbGlkZXIiLCJjdXJyZW50VmFsdWVMb3ciLCJjdXJyZW50VmFsdWVIaWdoIiwibWluRGlmZiIsInZhbHVlc0NoYW5nZWQiLCJzbGlkZXJZIiwicmVsVmFsdWVMb3ciLCJsb3dYIiwicmVsVmFsdWVIaWdoIiwiaGlnaFgiLCJnZXRDbGlja2VkVmFsdWUiLCJkaWZmVG9Mb3ciLCJhYnMiLCJkaWZmVG9IaWdoIiwiaXNEcmFnZ2luZ0xvdyIsImlzRHJhZ2dpbmdIaWdoIiwidXBkYXRlQ3VycmVudFZhbHVlcyIsInN0YXJMYXllclNldHRpbmdzVmlld19TdGFyTGF5ZXJTZXR0aW5nc1ZpZXciLCJzdGFyTGF5ZXIiLCJyb3VuZCIsInNldHRpbmdzTGlzdCIsIm51bWJlck9mU3RhcnNWYWx1ZUxibCIsIm51bWJlck9mU3RhcnNIZWFkIiwiY3JlYXRlSGVhZCIsInRvU3RyaW5nIiwibnVtYmVyT2ZTdGFyc1NsZHIiLCJuZXdWYWx1ZSIsInNwZWVkVmFsdWVMYmwiLCJzcGVlZEhlYWQiLCJzcGVlZFNsZHIiLCJzaXplVmFsdWVMYmwiLCJzaXplSGVhZCIsInNpemVTbGRyIiwidjEiLCJ2MiIsInJlbW92ZUxheWVyQnRuIiwic2VuZGVyIiwiYXBwX0FwcCIsInZpc3VhbGl6YXRpb25Nb2RlbCIsInN0YXJMYXllcnMiLCJzZXR0aW5nTmFtZSIsInZhbHVlVGV4dCIsIm51bWJlck9mU3RhcnNMYmwiLCJzcGFjZSIsInN0YXJMYXllcnNTZXR0aW5nc1ZpZXdfU3RhckxheWVyc1NldHRpbmdzVmlldyIsImxheWVyQnV0dG9ucyIsImxheWVyTGlzdCIsImNyZWF0ZUVkaXRMYXllckJ0biIsImJ0bk5ld0xheWVyIiwibmV3U3RhckxheWVyIiwiYWRkTGF5ZXJCdG4iLCJvbkFkZCIsIm9uUmVtb3ZlIiwibGF5ZXJCdG4iLCJ0YWciLCJlZGl0TGF5ZXJCdG4iLCJlZGl0TGF5ZXIiLCJzdWJWaWV3Iiwic2V0dGluZ3NWaWV3X1NldHRpbmdzVmlldyIsInN1cGVyU3VwZXJSZW5kZXIiLCJzZXR0aW5nc1Zpc2liaWxpdHlTdGF0ZSIsInZpc2libGUiLCJsYXN0TW92ZWQiLCJpbmFjdGl2aXR5VGltZW91dCIsInNldHRpbmdzSWNvblRleHQiLCJzZXR0aW5nc0Nsb3NlSWNvblRleHQiLCJoaWRkZW4iLCJzaG93SGlkZU92ZXJsYXlDbGlja2VkIiwic2V0U2V0dGluZ3NWaXNpYmlsaXR5U3RhdGUiLCJiZWZvcmVWaXNpYmxlIiwibW91c2VJbmFjdGl2aXR5SGFuZGxlciIsInNldFRpbWVvdXQiLCJzdGF0ZSIsInNob3dIaWRlU2V0dGluZ3NCdG4iLCJzdGFyTGF5ZXJzQnRuIiwibW91c2VNb3ZlU2hvd0hpZGVTZXR0aW5ncyIsIm1vdXNlQ2xpY2tTaG93SGlkZVNldHRpbmdzIiwiY3JlYXRlU2hvd0hpZGVTZXR0aW5nc0J0biIsIkRpbmplY3QiLCJpbnN0YW5jZXMiLCJhZGRJbnN0YW5jZSIsImluc3RhbmNlIiwiZ2V0SW5zdGFuY2UiLCJwbGF5ZXJDb250cm9sc1ZpZXdfUGxheWVyQ29udHJvbHNWaWV3IiwicGxheUljb25UZXh0IiwicGF1c2VJY29uVGV4dCIsInN0b3BJY29uVGV4dCIsIm5leHRJY29uVGV4dCIsInByZXZpb3VzSWNvblRleHQiLCJhdWRpb01hbmFnZXIiLCJsaXN0VmlldyIsInBsYXlQYXVzZUJ0biIsImNyZWF0ZUJ0biIsInBsYXkiLCJwYXVzZSIsInN0b3BCdG4iLCJzdG9wIiwicHJldmlvdXNCdG4iLCJwcmV2aW91cyIsIm5leHRCdG4iLCJpY29uVGV4dCIsImltYWdlUHJvcGVydGllc19JbWFnZVByb3BlcnRpZXMiLCJpbWFnZVNjYWxpbmdNb2RlIiwiRml0QW5kU3BhY2UiLCJpbWFnZV9FSW1hZ2UiLCJpbWFnZSIsImRyYXdJbWFnZSIsImZpdFNjYWxlIiwiaXNJbWFnZVdpZGVyIiwibmF0dXJhbFdpZHRoIiwibmF0dXJhbEhlaWdodCIsIkZpdEFuZE92ZXJmaWxsIiwiY3JlYXRlRnJvbVVybCIsImltYWdlVXJsIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJJbWFnZSIsInNyYyIsIm9ubG9hZCIsIm1haW5WaWV3X01haW5WaWV3IiwiZnJlcXVlbmN5SW5kZXgiLCJsb3dlckJvcmRlciIsInVwcGVyQm9yZGVyIiwiaXNTb25nQW5pbWF0aW5nIiwic29uZ0NoYW5nZWQiLCJzb25nTmFtZSIsIm5ld1NvbmdOYW1lIiwiYXNzZXRNYW5hZ2VyIiwiYW5hbHlzZXIiLCJnZXRBbmFseXNlciIsImxvZ28iLCJnZXRJbWFnZSIsImxvZ29Ob3ZhIiwibG9nb05vdmFFSW1hZ2UiLCJkYXRhIiwiZ2V0U3BlY3RydW0iLCJyZWxEYXRhVmFsdWUiLCJjYWxjdWxhdGVSZWxEYXRhVmFsdWUiLCJsb2dvRnJvbnQiLCJjdXJyZW50U29uZ05hbWUiLCJkYXRhVmFsdWUiLCJzdGFyTGF5ZXJWaWV3X1N0YXJMYXllclZpZXciLCJzdGFycyIsInNpemVDaGFuZ2VkIiwibG93ZXJWYWx1ZSIsInVwcGVyVmFsdWUiLCJtaW5GaXgiLCJyYXRpbyIsInN0YXIiLCJudW1iZXJPZlN0YXJzQ2hhbmdlZCIsImRpZmYiLCJhZGRTdGFyIiwiZmxvb3IiLCJ1cGRhdGUiLCJ0aW1lRGlmZiIsImVuZCIsImdyYWQiLCJjcmVhdGVSYWRpYWxHcmFkaWVudCIsImFkZENvbG9yU3RvcCIsImFuaW1hdGlvbiIsImFkZFVwZGF0ZUZ1bmN0aW9uIiwic3RhckxheWVyTWFuYWdlclZpZXdfU3RhckxheWVyTWFuYWdlclZpZXciLCJzdGFyTGF5ZXJWaWV3cyIsImFkZFN0YXJMYXllciIsInN0YXJMYXllclZpZXciLCJyZW1vdmVTdGFyTGF5ZXIiLCJyb290Vmlld19Sb290VmlldyIsIm9uTG93UGVyZm9ybWFuY2UiLCJsb3dQZXJmb3JtYW5jZSIsImxvYWRCYWNrZ3JvdW5kIiwic3RhckxheWVyTWFuYWdlclZpZXciLCJmcm9udCIsInBsYXllclZpZXciLCJzZXR0aW5nc092ZXJsYXkiLCJiYWNrZ3JvdW5kIiwiYmFja2dyb3VuZEltYWdlIiwiZUFuaW1hdGlvbl9FQW5pbWF0aW9uIiwidXBkYXRlRnVuY3Rpb25zIiwiaXNSdW5uaW5nIiwicGVyZm9ybWFuY2VXYXJuaW5nVGhyZXNob2xkIiwicGVyZm9ybWFuY2VXYXJuaW5nRGVsYXlSdW5zIiwiY3VycmVudFBlcmZvcm1hbmNlV2FybmluZ0RlbGF5UnVuIiwicmVtb3ZlVXBkYXRlRnVuY3Rpb24iLCJzZXRGcHMiLCJmcHMiLCJmcHNJbnRlcnZhbCIsImFuaW1hdGlvbkxvb3AiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJlbGFwc2VkIiwibGFzdEZyYW1lVGltZSIsInVwZGF0ZUZ1bmN0aW9uIiwia2V5Q29kZSIsInBsYXlQYXVzZSIsIkNhbnZhc0hlbHBlciIsImxvYWRGb250YXdlc29tZUZyZWUiLCJsb2FkRm9udCIsImxvYWRGb250YXdlc29tZUJyYW5kcyIsImNvdW50UGl4ZWxzIiwiaW1hZ2VEYXRhIiwicGl4ZWxDb3VudCIsImciLCJiIiwiYSIsImdldEljb25QaXhlbHMiLCJpY29uIiwiZ2V0SW1hZ2VEYXRhIiwiaWNvbjEiLCJpY29uMiIsInJldHJpZXMiLCJ0ZW1wQ2FudmFzIiwidGVtcEN0eCIsImNoZWNrTG9hZGVkIiwiaWNvbjFQaXhlbENvdW50IiwiaWNvbjJQaXhlbENvdW50IiwiQXVkaW9HcmFwaE5vZGUiLCJhdWRpb0N0eCIsImF1ZGlvR3JhcGhOb2RlQW5hbHlzZXJfQXVkaW9HcmFwaE5vZGVBbmFseXNlciIsImdldEF1ZGlvTm9kZSIsImFuYWx5c2VyTm9kZSIsImNyZWF0ZUFuYWx5c2VyIiwiZmZ0U2l6ZSIsInNtb290aGluZ1RpbWVDb25zdGFudCIsImJ1ZmZlckxlbmd0aCIsImZyZXF1ZW5jeUJpbkNvdW50IiwiZGF0YUFycmF5IiwiVWludDhBcnJheSIsImdldEJ5dGVGcmVxdWVuY3lEYXRhIiwiZ2V0Qnl0ZVRpbWVEb21haW5EYXRhIiwiYXVkaW9HcmFwaE5vZGVEZXN0aW5hdGlvbl9BdWRpb0dyYXBoTm9kZURlc3RpbmF0aW9uIiwiZGVzdGluYXRpb24iLCJhdWRpb0dyYXBoTm9kZUVsZW1lbnRTb3VyY2VfQXVkaW9HcmFwaE5vZGVFbGVtZW50U291cmNlIiwidXJsIiwiYXVkaW9FbmRlZCIsImF1ZGlvRW5kZWRFdmVudCIsInNvdXJjZSIsImF1ZGlvIiwiY3VycmVudFRpbWUiLCJzZXRVcmwiLCJwYXVzZWQiLCJsb2FkIiwiY29udHJvbHMiLCJjcmVhdGVNZWRpYUVsZW1lbnRTb3VyY2UiLCJhdWRpb0dyYXBoX0F1ZGlvR3JhcGgiLCJhdWRpb05vZGVzIiwiYWRkTWVkaWFFbGVtZW50U291cmNlIiwic291cmNlTm9kZSIsImFkZEFuYWx5emVyIiwiYW5hbHl6ZXJOb2RlIiwiZ2V0QXVkaW9HcmFwaE5vZGUiLCJhdWRpb0NvbnRleHRTdGF0ZUNoYW5nZWQiLCJkb2N1bWVudENsaWNrIiwicmVzdW1lIiwiYXVkaW9Db250ZXh0U3RhdGVDaGFuZ2VkRXZhbHVhdG9yIiwicmVsb2FkIiwidGhlbiIsImFsbCIsIm1hcCIsImF1ZGlvTm9kZSIsImRpc2Nvbm5lY3QiLCJjb25uZWN0IiwiZGVzdGluYXRpb25Ob2RlIiwiQXVkaW9Db250ZXh0Iiwid2Via2l0QXVkaW9Db250ZXh0IiwiZXJyb3IiLCJhdWRpb01hbmFnZXJfQXVkaW9NYW5hZ2VyIiwic29uZ3MiLCJUcmFpbGVyX2ZhaW50Q29sb3JfZGVmYXVsdCIsIlRyYWlsZXJfRGVlcEZpZWxkX2RlZmF1bHQiLCJUcmFpbGVyX0RyaWZ0aW5nSW50b1RoZUF0bW9zcGhlcmVfZGVmYXVsdCIsImF1ZGlvR3JhcGgiLCJuZXh0U29uZ0luZGV4IiwicHJldmlvdXNTb25nSW5kZXgiLCJlbmRlZE5leHQiLCJjdXJyZW50U29uZ0luZGV4IiwiQXNzZXRNYW5hZ2VyIiwiaW1hZ2VBc3NldHMiLCJhZGRJbWFnZSIsImltYWdlQXNzZXQiLCJsb2FkaW5nVmlld19Mb2FkaW5nVmlldyIsImxvYWRpbmdMYWJlbCIsIm9ic2VydmFibGVBcnJheV9PYnNlcnZhYmxlQXJyYXkiLCJydW4iLCJiYWNrZ3JvdW5kQ29sb3IiLCJjcmVhdGVGdWxsU2NyZWVuIiwic3RhZ2UiLCJpbnNwaWVydHlQbGF5ZXJWaWV3IiwibG9hZGluZ1ZpZXciLCJiYWNrZ3JvdW5kX2RlZmF1bHQiLCJsb2dvX2Zyb250X2RlZmF1bHQiLCJsb2dvX25vdmFfZGVmYXVsdCIsImNhdGNoIiwiYWxlcnQiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJuYXZpZ2F0b3IiLCJzZXJ2aWNlV29ya2VyIiwicmVnaXN0ZXIiLCJyZWdpc3RyYXRpb24iLCJyZWdpc3RyYXRpb25FcnJvciJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxRQUFBLElBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFB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U0FBUyxPQUFRWSxHQUFBdEYsR0FDOUIzRSxFQUFhcUosU0FBUyxZQUFhYSxHQUFBdkYsR0FDbkMzRSxFQUFhZ0gsT0FDUmUsS0FBSyxNQUVGK0IsRUFBc0IsSUFBSXZILEdBQ05uUSxjQUVwQixJQUFLLElBQUkxTSxFQUFJLEVBQUdBLEVBQUksRUFBR0EsSUFBSyxDQUN4QixJQUFJd1QsRUFBWSxJQUFJM0QsRUFDcEIyRCxFQUFValQsS0FBS29QLElBQUksVUFBWTNQLEVBQUksSUFDbkMyVSxHQUFJQyxtQkFBbUJDLFdBQVc1SixJQUFJdUksR0FHMUNpRyxVQUdiNEksS0FBSyxLQUNKZ0MsRUFBWTFYLFdBQVcsSUFDdkJrSyxXQUFXLEtBQ1BzTixFQUFNcGIsUUFBUXFiLEdBQ2RBLEVBQW9CL1gsU0FBUyxLQUM5QixPQUNKb1ksTUFBTzNCLElBQ054Z0IsUUFBUUMsSUFBSXVnQixHQUNaNEIsTUFBTTVCLE9BaEVBbk8sR0FBQUMsbUJBQXFCLElDYmhDLE1BR0hqUixZQUFZMEIsRUFBZUUsR0FJcEJuRCxLQUFBeVMsV0FBYSxJQUFJa1AsR0FIcEIzaEIsS0FBS2lELE1BQVEsSUFBSW9LLEVBQTJCcEssR0FDNUNqRCxLQUFLbUQsT0FBUyxJQUFJa0ssRUFBMkJsSyxLRFFTTCxPQUFPeWYsV0FBWXpmLE9BQU8wZixrQkVkeEYzZSxTQUFTcEMsaUJBQWlCLG1CQUUxQixZQUNjLElBQUk4USxJQUNWcVAsUUFKNEMsR0FPaEQsa0JBQW1CYSxXQUNuQjNmLE9BQU9yQixpQkFBaUIsT0FBUSxLQUM1QmdoQixVQUFVQyxjQUFjQyxTQUFTLHFCQUM1QjFDLEtBQUsyQyxJQUNGMWlCLFFBQVFDLElBQUksa0JBQW1CeWlCLEtBQ2hDUCxNQUFNUSxJQUNMM2lCLFFBQVFDLElBQUksMkJBQTRCMGlCIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNyk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI0NTQ4NjE2NzUwYjQ5NTk5ZTI5YWQzMWYyNzA1MmZjNy5tcDNcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI0MmUxYzkxNTczZTAzMjdjZDNmMTdmMjUxZThhZjJhNi5tcDNcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJmMWNlZWE1ZDU1NTk0N2M4MDI4MWYzNjhiZmFmOGZhOC5tcDNcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJiNTU5OWY4N2RkYTU1YzJjYTA0ZWIyNTVhOTc4OGZhNS5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJkZWM0YmJkMjQ2ODM4MjA0NDYwY2VlNzY1ZTg1MjQ2NS5wbmdcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJiNzgyMjRkMjU0OWJlNmNjZjY0ZGM2MmYzOTczMDg0ZS5wbmdcIjsiLCJpbnRlcmZhY2UgQXJyYXk8VD4ge1xyXG4gICAgcmVtb3ZlSXRlbUlmRXhpc3RzKGl0ZW06IFQpOiB2b2lkO1xyXG4gICAgY29udGFpbnMoaXRlbTogVCk6IGJvb2xlYW47XHJcbiAgICByZW1vdmVJdGVtKGl0ZW06IFQpOiB2b2lkO1xyXG4gICAgcmVtb3ZlKHNlbGVjdG9yOiAoaXRlbTogVCkgPT4gYm9vbGVhbik6IHZvaWQ7XHJcbiAgICBhZGRJdGVtSWZOb3RFeGlzdHMoaXRlbTogVCk6IHZvaWQ7XHJcbiAgICB0b0xpc3QoKTogVFtdO1xyXG4gICAgZ2V0TmV4dChjdXJyZW50OiBULCBzZWxlY3RvcjogKGl0ZW06IFQpID0+IG51bWJlcik6IFQ7XHJcbiAgICBmaXJzdChzZWxlY3RvcjogKGl0ZW06IFQpID0+IGJvb2xlYW4pOiBUO1xyXG4gICAgZmlyc3RPckRlZmF1bHQoc2VsZWN0b3I6IChpdGVtOiBUKSA9PiBib29sZWFuKTogVDtcclxufVxyXG5cclxuQXJyYXkucHJvdG90eXBlLmZpcnN0T3JEZWZhdWx0ID0gZnVuY3Rpb24gKGZ1bmMpIHtcclxuICAgIGZvciAoY29uc3QgYXJyYXlJdGVtIG9mIHRoaXMpIHtcclxuICAgICAgICBpZiAoZnVuYyhhcnJheUl0ZW0pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhcnJheUl0ZW07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cclxuXHJcbkFycmF5LnByb3RvdHlwZS5maXJzdCA9IGZ1bmN0aW9uIChmdW5jKSB7XHJcbiAgICBmb3IgKGNvbnN0IGFycmF5SXRlbSBvZiB0aGlzKSB7XHJcbiAgICAgICAgaWYgKGZ1bmMoYXJyYXlJdGVtKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYXJyYXlJdGVtO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnNvbGUubG9nKFwiaXRlbSBub3QgZm91bmRcIik7XHJcbiAgICBjb25zb2xlLmxvZyh0aGlzKTtcclxuICAgIHRocm93IFwiaXRlbSBub3QgZm91bmRcIjtcclxufVxyXG5cclxuQXJyYXkucHJvdG90eXBlLmdldE5leHQgPSBmdW5jdGlvbiA8VD4oY3VycmVudDogVCwgc2VsZWN0b3I6IChpdGVtOiBUKSA9PiBudW1iZXIpOiBUIHtcclxuICAgIHZhciBuZXh0UG9zaXRpb24gPSBzZWxlY3RvcihjdXJyZW50KSArIDE7XHJcbiAgICB2YXIgbmV4dCA9ICh0aGlzIGFzIFRbXSkuZmlyc3RPckRlZmF1bHQoKHgpID0+IHNlbGVjdG9yKHgpID09IG5leHRQb3NpdGlvbik7XHJcbiAgICBpZiAoIW5leHQpIHtcclxuICAgICAgICBuZXh0ID0gKHRoaXMgYXMgVFtdKS5maXJzdCh4ID0+IHNlbGVjdG9yKHgpID09IDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXh0O1xyXG59XHJcblxyXG5BcnJheS5wcm90b3R5cGUucmVtb3ZlSXRlbSA9IGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4T2YoaXRlbSk7XHJcbiAgICBpZiAoaW5kZXggIT0gLTEpIHtcclxuICAgICAgICB0aGlzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRocm93IFwiaXRlbSBub3QgZm91bmRcIjtcclxuICAgIH1cclxufVxyXG5cclxuQXJyYXkucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gPFQ+KGl0ZW06IFQpIHtcclxuICAgIHJldHVybiB0aGlzLmluZGV4T2YoaXRlbSkgIT09IC0xO1xyXG59XHJcblxyXG5BcnJheS5wcm90b3R5cGUucmVtb3ZlSXRlbUlmRXhpc3RzID0gZnVuY3Rpb24gPFQ+KGl0ZW06IFQpIHtcclxuICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXhPZihpdGVtKTtcclxuICAgIGlmIChpbmRleCAhPSAtMSkge1xyXG4gICAgICAgIHRoaXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgIH1cclxufVxyXG5cclxuQXJyYXkucHJvdG90eXBlLmFkZEl0ZW1JZk5vdEV4aXN0cyA9IGZ1bmN0aW9uIDxUPihpdGVtOiBUKSB7XHJcbiAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4T2YoaXRlbSk7XHJcbiAgICBpZiAoaW5kZXggPT0gLTEpIHtcclxuICAgICAgICAodGhpcyBhcyBUW10pLnB1c2goaXRlbSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbkFycmF5LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiA8VD4oc2VsZWN0b3I6IChpdGVtOiBUKSA9PiBib29sZWFuKSB7XHJcbiAgICAodGhpcyBhcyBUW10pLnJlbW92ZUl0ZW0oKHRoaXMgYXMgVFtdKS5maXJzdChzZWxlY3RvcikpO1xyXG59XHJcblxyXG5BcnJheS5wcm90b3R5cGUudG9MaXN0ID0gZnVuY3Rpb24gPFQ+KCk6IFRbXSB7XHJcbiAgICByZXR1cm4gKHRoaXMgYXMgVFtdKS5maWx0ZXIoeCA9PiB0cnVlKTtcclxufVxyXG4iLCJleHBvcnQgY2xhc3MgRUV2ZW50IHtcclxuICAgIHByaXZhdGUgbGlzdGVuZXJzOiAoKCkgPT4gdm9pZClbXSA9IFtdO1xyXG5cclxuICAgIHB1YmxpYyBhZGRFdmVudExpc3RlbmVyID0gKGxpc3RlbmVyOiAoKSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgLy8gdmFsaWRhdGlvblxyXG4gICAgICAgIGlmICghbGlzdGVuZXIgfHwgdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcikgPj0gMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBcImxpc3RlbmVyIGFscmVhZHkgYWRkZWRcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRFdmVudExpc3RlbmVySWZOb3RFeGlzdHMgPSAobGlzdGVuZXI6ICgpID0+IHZvaWQpID0+IHtcclxuICAgICAgICAvLyB2YWxpZGF0aW9uXHJcbiAgICAgICAgaWYgKCFsaXN0ZW5lciB8fCB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkaXNwYXRjaEV2ZW50ID0gKCkgPT4ge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5saXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSB0aGlzLmxpc3RlbmVyc1tpXTtcclxuICAgICAgICAgICAgZXZlbnQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZUV2ZW50TGlzdGVuZXIgPSAobGlzdGVuZXI6ICgpID0+IHZvaWQpID0+IHtcclxuICAgICAgICAvLyB2YWxpZGF0aW9uXHJcbiAgICAgICAgaWYgKCFsaXN0ZW5lciB8fCB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSA8IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJsaXN0ZW5lciBub3QgZm91bmRcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnNwbGljZSh0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSwgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZUV2ZW50TGlzdGVuZXJJZkV4aXN0cyA9IChsaXN0ZW5lcjogKCkgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIC8vIHZhbGlkYXRpb25cclxuICAgICAgICBpZiAoIWxpc3RlbmVyIHx8IHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpIDwgMCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5zcGxpY2UodGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lciksIDEpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRUV2ZW50VDxUPiB7XHJcbiAgICBwcml2YXRlIGxpc3RlbmVyczogKChhcmc6IFQpID0+IHZvaWQpW10gPSBbXTtcclxuXHJcbiAgICBwdWJsaWMgYWRkRXZlbnRMaXN0ZW5lciA9IChsaXN0ZW5lcjogKGFyZzogVCkgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIC8vIHZhbGlkYXRpb25cclxuICAgICAgICBpZiAoIWxpc3RlbmVyIHx8IHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpID49IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJsaXN0ZW5lciBhbHJlYWR5IGFkZGVkXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGlzcGF0Y2hFdmVudCA9IChhcmc6IFQpID0+IHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5saXN0ZW5lcnNbaV07XHJcbiAgICAgICAgICAgIGV2ZW50KGFyZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVFdmVudExpc3RlbmVyID0gKGxpc3RlbmVyOiAoYXJnOiBUKSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgLy8gdmFsaWRhdGlvblxyXG4gICAgICAgIGlmICghbGlzdGVuZXIgfHwgdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcikgPCAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IFwibGlzdGVuZXIgbm90IGZvdW5kXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5zcGxpY2UodGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lciksIDEpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRUV2ZW50VFQ8VDEsIFQyPiB7XHJcbiAgICBwcml2YXRlIGxpc3RlbmVyczogKChhcmcxOiBUMSwgYXJnMjogVDIpID0+IHZvaWQpW10gPSBbXTtcclxuXHJcbiAgICBwdWJsaWMgYWRkRXZlbnRMaXN0ZW5lciA9IChsaXN0ZW5lcjogKGFyZzE6IFQxLCBhcmcyOiBUMikgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIC8vIHZhbGlkYXRpb25cclxuICAgICAgICBpZiAoIWxpc3RlbmVyIHx8IHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpID49IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJsaXN0ZW5lciBhbHJlYWR5IGFkZGVkXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGlzcGF0Y2hFdmVudCA9IChhcmcxOiBUMSwgYXJnMjogVDIpID0+IHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5saXN0ZW5lcnNbaV07XHJcbiAgICAgICAgICAgIGV2ZW50KGFyZzEsIGFyZzIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlRXZlbnRMaXN0ZW5lciA9IChsaXN0ZW5lcjogKGFyZzE6IFQxLCBhcmcyOiBUMikgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIC8vIHZhbGlkYXRpb25cclxuICAgICAgICBpZiAoIWxpc3RlbmVyIHx8IHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpIDwgMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBcImxpc3RlbmVyIG5vdCBmb3VuZFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuc3BsaWNlKHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpLCAxKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEVBbmltYXRpb24gfSBmcm9tIFwiLi4vZUFuaW1hdGlvblwiO1xyXG5pbXBvcnQgeyBFRXZlbnQgfSBmcm9tIFwiLi4vZUV2ZW50XCI7XHJcblxyXG5leHBvcnQgdHlwZSBEcmF3RnVuY3Rpb24gPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHdpZHRoPzogbnVtYmVyLCBoZWlnaHQ/OiBudW1iZXIpID0+IHZvaWQ7XHJcblxyXG5leHBvcnQgY2xhc3MgRUNhbnZhcyB7XHJcbiAgICBwcml2YXRlIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQ7XHJcbiAgICBwcml2YXRlIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEO1xyXG5cclxuICAgIHByaXZhdGUgZHJhd0Z1bmN0aW9uczogRHJhd0Z1bmN0aW9uW10gPSBbXTtcclxuICAgIHB1YmxpYyBkcHIgPSAxO1xyXG4gICAgcHVibGljIHN0YXRpYyBjdXJzb3JNYW5pcHVsYXRpb24gPSB0cnVlO1xyXG5cclxuICAgIHB1YmxpYyBnZXQgd2lkdGgoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXMuY2xpZW50V2lkdGggLyB0aGlzLmRwcjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGhlaWdodCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhcy5jbGllbnRIZWlnaHQgLyB0aGlzLmRwcjtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGRwclNjYWxpbmdFbmFibGVkID0gZmFsc2U7XHJcbiAgICBwdWJsaWMgZW5hYmxlRHByU2NhbGluZyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmRwclNjYWxpbmdFbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnJlc2l6ZSgpO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGRpc2FibGVEcHJTY2FsaW5nID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuZHByU2NhbGluZ0VuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnJlc2l6ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZXNpemVkID0gbmV3IEVFdmVudCgpXHJcblxyXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHsgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlRnVsbFNjcmVlbigpOiBFQ2FudmFzIHtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnBhcmVudEVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm1hcmdpbiA9IFwiMFwiO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xyXG5cclxuICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjYW52YXMpO1xyXG4gICAgICAgIGNhbnZhcy5zdHlsZS53aWR0aCA9IFwiMTAwJVwiXHJcbiAgICAgICAgY2FudmFzLnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiO1xyXG5cclxuICAgICAgICB2YXIgZW5DYW52YXMgPSBuZXcgRUNhbnZhcygpO1xyXG4gICAgICAgIGVuQ2FudmFzLmNhbnZhcyA9IGNhbnZhcztcclxuICAgICAgICBlbkNhbnZhcy5jdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBlbkNhbnZhcy5yZXNpemUpO1xyXG4gICAgICAgIGVuQ2FudmFzLnJlc2l6ZSgpO1xyXG4gICAgICAgIHJldHVybiBlbkNhbnZhcztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBjdXJzb3JMb2NrOiBzdHJpbmcgPSBudWxsO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgU2V0Q3Vyc29yID0gKG5hbWU6IHN0cmluZywgcG9pbnRlcjogYm9vbGVhbikgPT4ge1xyXG4gICAgICAgIGlmIChFQ2FudmFzLmN1cnNvck1hbmlwdWxhdGlvbikge1xyXG4gICAgICAgICAgICBpZiAocG9pbnRlcikge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSBcInBvaW50ZXJcIjtcclxuICAgICAgICAgICAgICAgIEVDYW52YXMuY3Vyc29yTG9jayA9IG5hbWU7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobmFtZSA9PSBFQ2FudmFzLmN1cnNvckxvY2spIHtcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gXCJkZWZhdWx0XCI7XHJcbiAgICAgICAgICAgICAgICBFQ2FudmFzLmN1cnNvckxvY2sgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZXNpemUgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5kcHIgPSB0aGlzLmRwclNjYWxpbmdFbmFibGVkID8gd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSA6IDE7XHJcblxyXG4gICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gdGhpcy5jYW52YXMuY2xpZW50V2lkdGg7XHJcbiAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdGhpcy5jYW52YXMuY2xpZW50SGVpZ2h0O1xyXG5cclxuICAgICAgICB0aGlzLnJlc2l6ZWQuZGlzcGF0Y2hFdmVudCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkcmF3ID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuY3R4LnNhdmUoKTtcclxuICAgICAgICB0aGlzLmN0eC5zY2FsZSh0aGlzLmRwciwgdGhpcy5kcHIpO1xyXG4gICAgICAgIGZvciAoY29uc3QgZHJhd0Z1bmN0aW9uIG9mIHRoaXMuZHJhd0Z1bmN0aW9ucykge1xyXG4gICAgICAgICAgICBkcmF3RnVuY3Rpb24odGhpcy5jdHgsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jdHgucmVzdG9yZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGREcmF3RnVuY3Rpb24gPSAoZnVuYzogRHJhd0Z1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgdGhpcy5kcmF3RnVuY3Rpb25zLnB1c2goZnVuYyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZURyYXdGdW5jdGlvbiA9IChmdW5jOiBEcmF3RnVuY3Rpb24pID0+IHtcclxuICAgICAgICB0aGlzLmRyYXdGdW5jdGlvbnMuc3BsaWNlKHRoaXMuZHJhd0Z1bmN0aW9ucy5pbmRleE9mKGZ1bmMpLCAxKTtcclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBSZWN0YW5nbGUge1xyXG4gICAgY29uc3RydWN0b3IocHVibGljIHg6IG51bWJlciwgcHVibGljIHk6IG51bWJlciwgcHVibGljIHdpZHRoOiBudW1iZXIsIHB1YmxpYyBoZWlnaHQ6IG51bWJlcikgeyB9XHJcblxyXG4gICAgcHVibGljIGNvbGxpZGVzV2l0aCA9IChyZWN0YW5nbGU6IFJlY3RhbmdsZSkgPT4ge1xyXG4gICAgICAgIHZhciBoaXR4ID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIGhpdHkgPSBmYWxzZTtcclxuICAgICAgICBpZiAodGhpcy54IDw9IHJlY3RhbmdsZS54KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnggPD0gcmVjdGFuZ2xlLnggJiYgdGhpcy54ICsgdGhpcy53aWR0aCA+IHJlY3RhbmdsZS54KSB7XHJcbiAgICAgICAgICAgICAgICBoaXR4ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChyZWN0YW5nbGUueCA8PSB0aGlzLnggJiYgcmVjdGFuZ2xlLnggKyByZWN0YW5nbGUud2lkdGggPiB0aGlzLngpIHtcclxuICAgICAgICAgICAgICAgIGhpdHggPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaGl0eCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy55IDw9IHJlY3RhbmdsZS55KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy55IDw9IHJlY3RhbmdsZS55ICYmIHRoaXMueSArIHRoaXMud2lkdGggPiByZWN0YW5nbGUueSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGhpdHkgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlY3RhbmdsZS55IDw9IHRoaXMueSAmJiByZWN0YW5nbGUueSArIHJlY3RhbmdsZS53aWR0aCA+IHRoaXMueSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGhpdHkgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gaGl0eCAmJiBoaXR5O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc0hpdEJ5ID0gKHg6IG51bWJlciwgeTogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHggPiB0aGlzLnggJiYgeCA8IHRoaXMueCArIHRoaXMud2lkdGhcclxuICAgICAgICAgICAgJiYgeSA+IHRoaXMueSAmJiB5IDwgdGhpcy55ICsgdGhpcy5oZWlnaHQ7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBFQ2FudmFzIH0gZnJvbSBcIi4vZUNhbnZhc1wiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IExheW91dFZpZXcgfSBmcm9tIFwiLi9sYXlvdXRDb250cm9scy9sYXlvdXRWaWV3XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU3RhZ2Uge1xyXG4gICAgcHJpdmF0ZSB2aWV3OiBMYXlvdXRWaWV3O1xyXG4gICAgcHJpdmF0ZSBzaG91bGRVcGRhdGVMYXlvdXQ6IGJvb2xlYW47XHJcbiAgICBwcml2YXRlIGlzVG91Y2hNb2RlID0gZmFsc2U7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBjYW52YXM6IEVDYW52YXMpIHtcclxuICAgICAgICBjYW52YXMuYWRkRHJhd0Z1bmN0aW9uKHRoaXMucmVuZGVyKTtcclxuICAgICAgICBjYW52YXMucmVzaXplZC5hZGRFdmVudExpc3RlbmVyKHRoaXMuY2FudmFzUmVzaXplZCk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgdGhpcy50b3VjaE1vZGUpO1xyXG4gICAgICAgIHRoaXMuYWRkTW91c2VMaXN0ZW5lcnMoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNhbnZhc1Jlc2l6ZWQgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zaG91bGRVcGRhdGVMYXlvdXQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdG91Y2hNb2RlID0gKGV2OiBUb3VjaEV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzVG91Y2hNb2RlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic3dpdGNoaW5nIHRvIHRvdWNoIG1vZGVcIik7XHJcbiAgICAgICAgICAgIEVDYW52YXMuY3Vyc29yTWFuaXB1bGF0aW9uID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuaXNUb3VjaE1vZGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnJlbW92ZU1vdXNlTGlzdGVuZXJzKCk7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkVG91Y2hMaXN0ZW5lcnMoKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMubW91c2VNb2RlKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgdGhpcy50b3VjaE1vZGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG1vdXNlTW9kZSA9IChldjogVG91Y2hFdmVudCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmlzVG91Y2hNb2RlKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic3dpdGNoaW5nIHRvIG1vdXNlIG1vZGVcIik7XHJcbiAgICAgICAgICAgIEVDYW52YXMuY3Vyc29yTWFuaXB1bGF0aW9uID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5pc1RvdWNoTW9kZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmFkZE1vdXNlTGlzdGVuZXJzKCk7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlVG91Y2hMaXN0ZW5lcnMoKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgdGhpcy50b3VjaE1vZGUpO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMubW91c2VNb2RlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBtb3VzZURvd24gPSAoZXY6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICBpZiAodGhpcy52aWV3KSB7XHJcbiAgICAgICAgICAgIHRoaXMudmlldy5tb3VzZURvd24oe1xyXG4gICAgICAgICAgICAgICAgY2xpZW50WDogZXYuY2xpZW50WCAvIHRoaXMuY2FudmFzLmRwcixcclxuICAgICAgICAgICAgICAgIGNsaWVudFk6IGV2LmNsaWVudFkgLyB0aGlzLmNhbnZhcy5kcHIsXHJcbiAgICAgICAgICAgICAgICBhbHRLZXk6IGV2LmFsdEtleSxcclxuICAgICAgICAgICAgICAgIGN0cmxLZXk6IGV2LmN0cmxLZXksXHJcbiAgICAgICAgICAgICAgICBzaGlmdEtleTogZXYuc2hpZnRLZXlcclxuICAgICAgICAgICAgfSBhcyBNb3VzZUV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBtb3VzZVVwID0gKGV2OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMudmlldykge1xyXG4gICAgICAgICAgICB0aGlzLnZpZXcubW91c2VVcCh7XHJcbiAgICAgICAgICAgICAgICBjbGllbnRYOiBldi5jbGllbnRYIC8gdGhpcy5jYW52YXMuZHByLFxyXG4gICAgICAgICAgICAgICAgY2xpZW50WTogZXYuY2xpZW50WSAvIHRoaXMuY2FudmFzLmRwcixcclxuICAgICAgICAgICAgICAgIGFsdEtleTogZXYuYWx0S2V5LFxyXG4gICAgICAgICAgICAgICAgY3RybEtleTogZXYuY3RybEtleSxcclxuICAgICAgICAgICAgICAgIHNoaWZ0S2V5OiBldi5zaGlmdEtleVxyXG4gICAgICAgICAgICB9IGFzIE1vdXNlRXZlbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG1vdXNlTW92ZSA9IChldjogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnZpZXcpIHtcclxuICAgICAgICAgICAgdGhpcy52aWV3Lm1vdXNlTW92ZSh7XHJcbiAgICAgICAgICAgICAgICBjbGllbnRYOiBldi5jbGllbnRYIC8gdGhpcy5jYW52YXMuZHByLFxyXG4gICAgICAgICAgICAgICAgY2xpZW50WTogZXYuY2xpZW50WSAvIHRoaXMuY2FudmFzLmRwcixcclxuICAgICAgICAgICAgICAgIGFsdEtleTogZXYuYWx0S2V5LFxyXG4gICAgICAgICAgICAgICAgY3RybEtleTogZXYuY3RybEtleSxcclxuICAgICAgICAgICAgICAgIHNoaWZ0S2V5OiBldi5zaGlmdEtleVxyXG4gICAgICAgICAgICB9IGFzIE1vdXNlRXZlbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNsaWNrID0gKGV2OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMudmlldykge1xyXG4gICAgICAgICAgICB0aGlzLnZpZXcuY2xpY2soe1xyXG4gICAgICAgICAgICAgICAgY2xpZW50WDogZXYuY2xpZW50WCAvIHRoaXMuY2FudmFzLmRwcixcclxuICAgICAgICAgICAgICAgIGNsaWVudFk6IGV2LmNsaWVudFkgLyB0aGlzLmNhbnZhcy5kcHIsXHJcbiAgICAgICAgICAgICAgICBhbHRLZXk6IGV2LmFsdEtleSxcclxuICAgICAgICAgICAgICAgIGN0cmxLZXk6IGV2LmN0cmxLZXksXHJcbiAgICAgICAgICAgICAgICBzaGlmdEtleTogZXYuc2hpZnRLZXlcclxuICAgICAgICAgICAgfSBhcyBNb3VzZUV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZW5kZXIgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHdpZHRoPzogbnVtYmVyLCBoZWlnaHQ/OiBudW1iZXIpID0+IHtcclxuICAgICAgICBpZiAodGhpcy52aWV3KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNob3VsZFVwZGF0ZUxheW91dCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnVwZGF0ZUxheW91dChjdHgsIG5ldyBSZWN0YW5nbGUoMCwgMCwgd2lkdGgsIGhlaWdodCkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG91bGRVcGRhdGVMYXlvdXQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICB0aGlzLnZpZXcucmVuZGVyKGN0eCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRWaWV3ID0gKHZpZXc6IExheW91dFZpZXcpID0+IHtcclxuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xyXG4gICAgICAgIHRoaXMuc2hvdWxkVXBkYXRlTGF5b3V0ID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlbW92ZU1vdXNlTGlzdGVuZXJzKCkge1xyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHRoaXMubW91c2VVcCk7XHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm1vdXNlTW92ZSk7XHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLm1vdXNlRG93bik7XHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuY2xpY2spO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYWRkTW91c2VMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5tb3VzZVVwKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMubW91c2VNb3ZlKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMubW91c2VEb3duKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5jbGljayk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZW1vdmVUb3VjaExpc3RlbmVycygpIHtcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hlbmRcIiwgdGhpcy5tb3VzZVVwKTtcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsIHRoaXMubW91c2VNb3ZlKTtcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCB0aGlzLmNsaWNrKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFkZFRvdWNoTGlzdGVuZXJzKCkge1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCAodG91Y2gpID0+IHsgdG91Y2gucHJldmVudERlZmF1bHQoKTsgdGhpcy5tb3VzZVVwKHRoaXMudG91Y2hUb01vdXNlKHRvdWNoKSkgfSk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNobW92ZVwiLCAodG91Y2gpID0+IHsgaWYgKHRvdWNoLnRvdWNoZXMubGVuZ3RoID4gMCkgeyB0aGlzLm1vdXNlTW92ZSh0aGlzLnRvdWNoVG9Nb3VzZSh0b3VjaCkpIH0gfSk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIiwgKHRvdWNoKSA9PiB7IGlmICh0b3VjaC50b3VjaGVzLmxlbmd0aCA+IDApIHsgdGhpcy5jbGljayh0aGlzLnRvdWNoVG9Nb3VzZSh0b3VjaCkpOyB9IH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdG91Y2hUb01vdXNlID0gKHRvdWNoRXZlbnQ6IFRvdWNoRXZlbnQpOiBNb3VzZUV2ZW50ID0+IHtcclxuICAgICAgICBpZiAodG91Y2hFdmVudC50b3VjaGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICAgIGNsaWVudFg6IHRvdWNoRXZlbnQudG91Y2hlc1swXS5jbGllbnRYIC8gdGhpcy5jYW52YXMuZHByLFxyXG4gICAgICAgICAgICAgICAgY2xpZW50WTogdG91Y2hFdmVudC50b3VjaGVzWzBdLmNsaWVudFkgLyB0aGlzLmNhbnZhcy5kcHIsXHJcbiAgICAgICAgICAgICAgICBhbHRLZXk6IHRvdWNoRXZlbnQuYWx0S2V5LFxyXG4gICAgICAgICAgICAgICAgY3RybEtleTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHNoaWZ0S2V5OiB0b3VjaEV2ZW50LnNoaWZ0S2V5XHJcbiAgICAgICAgICAgIH0gYXMgTW91c2VFdmVudDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgY2xpZW50WDogMCxcclxuICAgICAgICAgICAgICAgIGNsaWVudFk6IDAsXHJcbiAgICAgICAgICAgICAgICBhbHRLZXk6IHRvdWNoRXZlbnQuYWx0S2V5LFxyXG4gICAgICAgICAgICAgICAgY3RybEtleTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHNoaWZ0S2V5OiB0b3VjaEV2ZW50LnNoaWZ0S2V5XHJcbiAgICAgICAgICAgIH0gYXMgTW91c2VFdmVudDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZW51bSBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbiB7XHJcbiAgICBMZWZ0LFxyXG4gICAgQ2VudGVyLFxyXG4gICAgUmlnaHQsXHJcbn0iLCJleHBvcnQgZW51bSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24ge1xyXG4gICAgVG9wLFxyXG4gICAgQ2VudGVyLFxyXG4gICAgQm90dG9tLFxyXG59IiwiZXhwb3J0IGVudW0gU2V0dGluZ3NWaXNpYmlsaXR5U3RhdGUge1xyXG4gICAgaGlkZGVuLFxyXG4gICAgYmVmb3JlVmlzaWJsZSxcclxuICAgIHZpc2libGVcclxufSIsImV4cG9ydCBlbnVtIE9yaWVudGF0aW9uIHtcclxuICAgIEhvcml6b250YWwsXHJcbiAgICBWZXJ0aWNhbFxyXG59IiwiZXhwb3J0IGVudW0gSW1hZ2VTY2FsaW5nTW9kZXtcclxuICAgIEZpdEFuZE92ZXJmaWxsLFxyXG4gICAgRml0QW5kU3BhY2VcclxufSIsImV4cG9ydCBjbGFzcyBTcGFjaW5nIHtcclxuICAgIHB1YmxpYyB0b3A6IG51bWJlciA9IDA7XHJcbiAgICBwdWJsaWMgcmlnaHQ6IG51bWJlciA9IDA7XHJcbiAgICBwdWJsaWMgYm90dG9tOiBudW1iZXIgPSAwO1xyXG4gICAgcHVibGljIGxlZnQ6IG51bWJlciA9IDA7XHJcbn0iLCJpbXBvcnQgeyBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbiB9IGZyb20gXCIuL2hvcml6b250YWxBbGlnbmVtZW50T3B0aW9uXCI7XHJcbmltcG9ydCB7IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbiB9IGZyb20gXCIuL3ZlcnRpY2FsQWxpZ25lbWVudE9wdGlvblwiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IFNwYWNpbmcgfSBmcm9tIFwiLi9zcGFjaW5nXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQWxpZ25lbWVudCB7XHJcbiAgICBwdWJsaWMgaG9yaXpvbnRhbEFsaWduID0gSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24uQ2VudGVyO1xyXG5cclxuICAgIHB1YmxpYyBzZXQgdmVydGljYWxBbGlnbih2OiBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24pIHtcclxuICAgICAgICBzd2l0Y2ggKHYpIHtcclxuICAgICAgICAgICAgY2FzZSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24uQm90dG9tOlxyXG4gICAgICAgICAgICAgICAgdGhpcy52ZXJ0aWNhbEFsaWdubWVudFJhdGlvID0gMTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi5DZW50ZXI6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRpY2FsQWxpZ25tZW50UmF0aW8gPSAwLjU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24uVG9wOlxyXG4gICAgICAgICAgICAgICAgdGhpcy52ZXJ0aWNhbEFsaWdubWVudFJhdGlvID0gMDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdmVydGljYWxBbGlnbm1lbnRSYXRpbyA9IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi5DZW50ZXI7XHJcblxyXG4gICAgcHVibGljIG1hcmdpbiA9IG5ldyBTcGFjaW5nKCk7XHJcbiAgICAvLyBwdWJsaWMgcGFkZGluZyA9IG5ldyBTcGFjaW5nKCk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy52ZXJ0aWNhbEFsaWduID0gVmVydGljYWxBbGlnbmVtZW50T3B0aW9uLkNlbnRlcjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2FsY3VsYXRlRGltZW5zaW9uc1ggPSAoYm91bmRzOiBSZWN0YW5nbGUsIHdpZHRoOiBudW1iZXIpID0+IHtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuaG9yaXpvbnRhbEFsaWduKSB7XHJcbiAgICAgICAgICAgIGNhc2UgSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24uTGVmdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBib3VuZHMueCArIHRoaXMubWFyZ2luLmxlZnQ7XHJcbiAgICAgICAgICAgIGNhc2UgSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24uQ2VudGVyOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJvdW5kcy54ICsgYm91bmRzLndpZHRoIC8gMiAtIHdpZHRoIC8gMjtcclxuICAgICAgICAgICAgY2FzZSBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbi5SaWdodDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBib3VuZHMueCArIGJvdW5kcy53aWR0aCAtIHdpZHRoIC0gdGhpcy5tYXJnaW4ucmlnaHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjYWxjdWxhdGVEaW1lbnNpb25zWSA9IChib3VuZHM6IFJlY3RhbmdsZSwgaGVpZ2h0OiBudW1iZXIpID0+IHtcclxuICAgICAgICByZXR1cm4gYm91bmRzLnlcclxuICAgICAgICAgICAgKyBib3VuZHMuaGVpZ2h0ICogdGhpcy52ZXJ0aWNhbEFsaWdubWVudFJhdGlvXHJcbiAgICAgICAgICAgIC0gaGVpZ2h0ICogdGhpcy52ZXJ0aWNhbEFsaWdubWVudFJhdGlvXHJcbiAgICAgICAgICAgICsgKHRoaXMudmVydGljYWxBbGlnbm1lbnRSYXRpbyA+IDAuNSA/IC10aGlzLm1hcmdpbi5ib3R0b20gOiB0aGlzLm1hcmdpbi50b3ApO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIE1ldGhvZE1hbmlwdWxhdGlvbjxUIGV4dGVuZHMgKC4uLmFyZ3M6IGFueVtdKSA9PiBhbnk+IHtcclxuICAgIHByaXZhdGUgbWV0aG9kczogVFtdID0gW107XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBleGVjdXRlcjogYW55LCBpbml0aWFsTWV0aG9kOiBULCBwcml2YXRlIHNldE1ldGhvZDogKG1ldGhvZDogVCkgPT4gdm9pZCkge1xyXG4gICAgICAgIGluaXRpYWxNZXRob2QuYmluZCh0aGlzLmV4ZWN1dGVyKTtcclxuICAgICAgICB0aGlzLm1ldGhvZHMucHVzaChpbml0aWFsTWV0aG9kKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkID0gKGJ1aWxkTWV0aG9kOiAoY3VycmVudE1ldGhvZDogVCkgPT4gVCkgPT4ge1xyXG4gICAgICAgIHZhciBvbGQgPSB0aGlzLm1ldGhvZHNbdGhpcy5tZXRob2RzLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgIHZhciBuZXdNZXRob2QgPSBidWlsZE1ldGhvZChvbGQpO1xyXG4gICAgICAgIHRoaXMubWV0aG9kcy5wdXNoKG5ld01ldGhvZCk7XHJcbiAgICAgICAgdGhpcy5zZXRNZXRob2QobmV3TWV0aG9kKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMubWV0aG9kcy5wb3AoKTtcclxuICAgICAgICB0aGlzLnNldE1ldGhvZCh0aGlzLm1ldGhvZHNbdGhpcy5tZXRob2RzLmxlbmd0aCAtIDFdKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVzZXQgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRNZXRob2QodGhpcy5tZXRob2RzW3RoaXMubWV0aG9kcy5sZW5ndGggLSAxXSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNsZWFyID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0TWV0aG9kKDxUPigoKSA9PiB7IH0pKTtcclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBVSW1hdGlvbiB7XHJcbiAgICBwcml2YXRlIHN0YXJ0VGltZTogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgZHVyYXRpb25TZWNvbmRzOiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IERhdGUubm93KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFZhbHVlID0gKCkgPT4ge1xyXG4gICAgICAgIHZhciBjdXJyZW50ID0gRGF0ZS5ub3coKTtcclxuICAgICAgICB2YXIgZGlmZiA9IChjdXJyZW50IC0gdGhpcy5zdGFydFRpbWUpIC8gMTAwMDtcclxuICAgICAgICByZXR1cm4gZGlmZiAvIHRoaXMuZHVyYXRpb25TZWNvbmRzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBlbmRlZCA9ICgpID0+IHtcclxuICAgICAgICB2YXIgY3VycmVudCA9IERhdGUubm93KCk7XHJcbiAgICAgICAgdmFyIGRpZmYgPSAoY3VycmVudCAtIHRoaXMuc3RhcnRUaW1lKSAvIDEwMDA7XHJcbiAgICAgICAgcmV0dXJuIGRpZmYgPiB0aGlzLmR1cmF0aW9uU2Vjb25kcztcclxuICAgIH1cclxufSIsImltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgQWxpZ25lbWVudCB9IGZyb20gXCIuL2FsaWduZW1lbnQvYWxpZ25lbWVudFwiO1xyXG5pbXBvcnQgeyBNZXRob2RNYW5pcHVsYXRpb24gfSBmcm9tIFwiLi4vbWV0aG9kTWFuaXB1bGF0aW9uXCI7XHJcbmltcG9ydCB7IFVJbWF0aW9uIH0gZnJvbSBcIi4vdWltYXRpb24vdWltYXRpb25cIjtcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBSZW5kZXJPYmplY3Qge1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgaWRDb3VudGVyID0gMDtcclxuICAgIHByaXZhdGUgZ2VuZXJhdGVOZXdJZCA9ICgpID0+IHtcclxuICAgICAgICBSZW5kZXJPYmplY3QuaWRDb3VudGVyKys7XHJcbiAgICAgICAgcmV0dXJuIFJlbmRlck9iamVjdC5pZENvdW50ZXI7XHJcbiAgICB9XHJcbiAgICBzdGFydFRpbWU6IG51bWJlcjtcclxuICAgIGR1cmF0aW9uOiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5pZCA9IHRoaXMuZ2VuZXJhdGVOZXdJZCgpO1xyXG4gICAgICAgIHRoaXMubmFtZSA9IFwib2JqZWN0IFwiICsgdGhpcy5pZDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaWQ6IG51bWJlcjtcclxuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgdGFnOiBhbnk7XHJcblxyXG4gICAgcHVibGljIGJvdW5kczogUmVjdGFuZ2xlID0gbmV3IFJlY3RhbmdsZSgwLCAwLCAwLCAwKTtcclxuICAgIHB1YmxpYyBkaW1lbnNpb25zOiBSZWN0YW5nbGUgPSBuZXcgUmVjdGFuZ2xlKDAsIDAsIDAsIDApO1xyXG5cclxuICAgIHB1YmxpYyBhbGlnbmVtZW50ID0gbmV3IEFsaWduZW1lbnQoKTtcclxuXHJcbiAgICBwcml2YXRlIHNob3VsZFVwZGF0ZUxheW91dCA9IGZhbHNlO1xyXG5cclxuICAgIHByaXZhdGUgX3JlbmRlck1ldGhvZE1hbmlwdWxhdGlvbjogTWV0aG9kTWFuaXB1bGF0aW9uPChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4gdm9pZD47XHJcbiAgICBwdWJsaWMgZ2V0IHJlbmRlck1ldGhvZE1hbmlwdWxhdGlvbigpOiBNZXRob2RNYW5pcHVsYXRpb248KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PiB2b2lkPiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9yZW5kZXJNZXRob2RNYW5pcHVsYXRpb24pIHtcclxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyTWV0aG9kTWFuaXB1bGF0aW9uID0gbmV3IE1ldGhvZE1hbmlwdWxhdGlvbih0aGlzLCB0aGlzLnJlbmRlciwgKHJlbmRlcikgPT4gdGhpcy5yZW5kZXIgPSByZW5kZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5fcmVuZGVyTWV0aG9kTWFuaXB1bGF0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW5kZXIgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5zaG91bGRVcGRhdGVMYXlvdXQpIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVMYXlvdXQoY3R4LCB0aGlzLmJvdW5kcyk7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvdWxkVXBkYXRlTGF5b3V0ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSkge1xyXG4gICAgICAgIHRoaXMuYm91bmRzID0gYm91bmRzO1xyXG4gICAgICAgIHRoaXMuc2hvdWxkVXBkYXRlTGF5b3V0ID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRyaWdnZXJVcGRhdGVMYXlvdXQgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zaG91bGRVcGRhdGVMYXlvdXQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaXNBY3RpdmUgPSB0cnVlO1xyXG4gICAgcHVibGljIGFjdGl2YXRlID0gKGR1cmF0aW9uU2Vjb25kczogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJNZXRob2RNYW5pcHVsYXRpb24ucmVzZXQoKTtcclxuICAgICAgICB2YXIgdWltYXRpb24gPSBuZXcgVUltYXRpb24oZHVyYXRpb25TZWNvbmRzKTtcclxuXHJcbiAgICAgICAgdGhpcy5yZW5kZXJNZXRob2RNYW5pcHVsYXRpb24uYWRkKChjdXJyZW50TWV0aG9kKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICh1aW1hdGlvbi5lbmRlZCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE1ldGhvZChjdHgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyTWV0aG9kTWFuaXB1bGF0aW9uLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjdHguc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IHVpbWF0aW9uLmdldFZhbHVlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE1ldGhvZChjdHgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgZGVhY3RpdmF0ZWQgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5yZW5kZXJNZXRob2RNYW5pcHVsYXRpb24uY2xlYXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGVhY3RpdmF0ZSA9IChkdXJhdGlvblNlY29uZHM6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIHZhciB1aW1hdGlvbiA9IG5ldyBVSW1hdGlvbihkdXJhdGlvblNlY29uZHMpO1xyXG5cclxuICAgICAgICB0aGlzLnJlbmRlck1ldGhvZE1hbmlwdWxhdGlvbi5hZGQoKGN1cnJlbnRNZXRob2QpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHVpbWF0aW9uLmVuZGVkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlck1ldGhvZE1hbmlwdWxhdGlvbi5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlck1ldGhvZE1hbmlwdWxhdGlvbi5jbGVhcigpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjdHguc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IDEgLSB1aW1hdGlvbi5nZXRWYWx1ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRNZXRob2QoY3R4KTtcclxuICAgICAgICAgICAgICAgICAgICBjdHgucmVzdG9yZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRpc2FibGVNb3VzZUV2ZW50cyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLm1vdXNlRG93biA9ICgpID0+IHsgfTtcclxuICAgICAgICB0aGlzLm1vdXNlVXAgPSAoKSA9PiB7IH07XHJcbiAgICAgICAgdGhpcy5tb3VzZU1vdmUgPSAoKSA9PiB7IH07XHJcbiAgICAgICAgdGhpcy5jbGljayA9ICgpID0+IHsgfTtcclxuICAgIH1cclxuXHJcbiAgICBhYnN0cmFjdCBtb3VzZURvd24oZXY6IE1vdXNlRXZlbnQpOiB2b2lkO1xyXG4gICAgYWJzdHJhY3QgbW91c2VVcChldjogTW91c2VFdmVudCk6IHZvaWQ7XHJcbiAgICBhYnN0cmFjdCBtb3VzZU1vdmUoZXY6IE1vdXNlRXZlbnQpOiB2b2lkO1xyXG4gICAgYWJzdHJhY3QgY2xpY2soZXY6IE1vdXNlRXZlbnQpOiB2b2lkO1xyXG59IiwiaW1wb3J0IHsgUmVuZGVyT2JqZWN0IH0gZnJvbSBcIi4uL3JlbmRlck9iamVjdFwiO1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIExheW91dFZpZXcgZXh0ZW5kcyBSZW5kZXJPYmplY3Qge1xyXG4gICAgcHJvdGVjdGVkIGNoaWxkcmVuOiBSZW5kZXJPYmplY3RbXSA9IFtdO1xyXG5cclxuICAgIHByaXZhdGUgc3VwZXJSZW5kZXIgPSB0aGlzLnJlbmRlcjtcclxuICAgIHB1YmxpYyByZW5kZXIgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpID0+IHtcclxuICAgICAgICB0aGlzLnN1cGVyUmVuZGVyKGN0eCk7XHJcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGNoaWxkLnJlbmRlcihjdHgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcHVibGljIG1vdXNlRG93bihldjogTW91c2VFdmVudCkge1xyXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICBjaGlsZC5tb3VzZURvd24oZXYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbW91c2VVcChldjogTW91c2VFdmVudCkge1xyXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICBjaGlsZC5tb3VzZVVwKGV2KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG1vdXNlTW92ZShldjogTW91c2VFdmVudCkge1xyXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICBjaGlsZC5tb3VzZU1vdmUoZXYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2xpY2soZXY6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4udG9MaXN0KCkpIHtcclxuICAgICAgICAgICAgY2hpbGQuY2xpY2soZXYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IFJlbmRlck9iamVjdCB9IGZyb20gXCIuLi9yZW5kZXJPYmplY3RcIjtcclxuaW1wb3J0IHsgRUNhbnZhcyB9IGZyb20gXCIuLi9lQ2FudmFzXCI7XHJcbmltcG9ydCB7IEVFdmVudFQgfSBmcm9tIFwiLi4vLi4vZUV2ZW50XCI7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQ29udHJvbCBleHRlbmRzIFJlbmRlck9iamVjdCB7XHJcbiAgICBwcm90ZWN0ZWQgaXNNb3VzZU92ZXIgPSBmYWxzZTtcclxuICAgIHB1YmxpYyBpc0VuYWJsZWQgPSB0cnVlO1xyXG5cclxuICAgIHB1YmxpYyBjbGlja2VkID0gbmV3IEVFdmVudFQ8Q29udHJvbD4oKTtcclxuXHJcbiAgICBwdWJsaWMgbW91c2VNb3ZlKGV2OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNFbmFibGVkKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRpbWVuc2lvbnMuaXNIaXRCeShldi5jbGllbnRYLCBldi5jbGllbnRZKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc01vdXNlT3ZlciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBFQ2FudmFzLlNldEN1cnNvcih0aGlzLm5hbWUsIHRydWUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc01vdXNlT3ZlciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgRUNhbnZhcy5TZXRDdXJzb3IodGhpcy5uYW1lLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNsaWNrID0gKGV2OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNFbmFibGVkKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRpbWVuc2lvbnMuaXNIaXRCeShldi5jbGllbnRYLCBldi5jbGllbnRZKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGlja2VkLmRpc3BhdGNoRXZlbnQodGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG1vdXNlRG93bihldjogTW91c2VFdmVudCk6IHZvaWQgeyB9XHJcbiAgICBwdWJsaWMgbW91c2VVcChldjogTW91c2VFdmVudCk6IHZvaWQgeyB9XHJcbn0iLCJleHBvcnQgY2xhc3MgQnV0dG9uUHJvcGVydGllcyB7XHJcbiAgICBwdWJsaWMgZm9udFNpemUgPSAzMjtcclxuICAgIHB1YmxpYyBmb250UHJlZml4ID0gXCJcIjtcclxuICAgIHB1YmxpYyBmb250RmFtaWx5ID0gXCJHZW9yZ2lhXCJcclxuICAgIHB1YmxpYyBmaWxsU3R5bGUgPSBcImdyZXlcIjtcclxuICAgIHB1YmxpYyBtb3VzZU92ZXJGaWxsU3R5bGUgPSBcInJlZFwiO1xyXG4gICAgcHVibGljIGJhY2tncm91bmRGaWxsU3R5bGU6IHN0cmluZyA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICBwdWJsaWMgZ2V0Rm9udCA9ICgpID0+IHtcclxuICAgICAgICB2YXIgZm9udCA9IFwiXCI7XHJcbiAgICAgICAgaWYgKHRoaXMuZm9udFByZWZpeCkge1xyXG4gICAgICAgICAgICBmb250ICs9IHRoaXMuZm9udFByZWZpeCArIFwiIFwiXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvbnQgKz0gdGhpcy5mb250U2l6ZSArIFwicHhcIiArIFwiIFwiICsgdGhpcy5mb250RmFtaWx5O1xyXG4gICAgICAgIHJldHVybiBmb250O1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBDb250cm9sIH0gZnJvbSBcIi4vY29udHJvbFwiO1xyXG5pbXBvcnQgeyBCdXR0b25Qcm9wZXJ0aWVzIH0gZnJvbSBcIi4vYnV0dG9uUHJvcGVydGllc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJ1dHRvbiBleHRlbmRzIENvbnRyb2wge1xyXG5cclxuICAgIHB1YmxpYyBwcm9wZXJ0aWVzID0gbmV3IEJ1dHRvblByb3BlcnRpZXMoKTtcclxuICAgIHB1YmxpYyB0ZXh0OiBzdHJpbmc7XHJcblxyXG4gICAgcHVibGljIHJlbmRlciA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuYmFja2dyb3VuZEZpbGxTdHlsZSkge1xyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5wcm9wZXJ0aWVzLmJhY2tncm91bmRGaWxsU3R5bGU7XHJcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdCh0aGlzLmRpbWVuc2lvbnMueCwgdGhpcy5kaW1lbnNpb25zLnksIHRoaXMuZGltZW5zaW9ucy53aWR0aCwgdGhpcy5kaW1lbnNpb25zLmhlaWdodCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5pc01vdXNlT3Zlcikge1xyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5wcm9wZXJ0aWVzLm1vdXNlT3ZlckZpbGxTdHlsZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5wcm9wZXJ0aWVzLmZpbGxTdHlsZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGN0eC5mb250ID0gdGhpcy5wcm9wZXJ0aWVzLmdldEZvbnQoKTtcclxuICAgICAgICBjdHgudGV4dEFsaWduID0gXCJsZWZ0XCI7XHJcbiAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9IFwidG9wXCI7XHJcbiAgICAgICAgY3R4LmZpbGxUZXh0KHRoaXMudGV4dCwgdGhpcy5kaW1lbnNpb25zLngsIHRoaXMuZGltZW5zaW9ucy55KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0ID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHN1cGVyLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcblxyXG4gICAgICAgIGN0eC5mb250ID0gdGhpcy5wcm9wZXJ0aWVzLmdldEZvbnQoKTtcclxuICAgICAgICBjdHgudGV4dEFsaWduID0gXCJsZWZ0XCI7XHJcbiAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9IFwidG9wXCI7XHJcbiAgICAgICAgdmFyIHNpemUgPSBjdHgubWVhc3VyZVRleHQodGhpcy50ZXh0KTtcclxuICAgICAgICBcclxuICAgICAgICB2YXIgeCA9IHRoaXMuYWxpZ25lbWVudC5jYWxjdWxhdGVEaW1lbnNpb25zWChib3VuZHMsIHNpemUud2lkdGgpO1xyXG4gICAgICAgIHZhciB5ID0gdGhpcy5hbGlnbmVtZW50LmNhbGN1bGF0ZURpbWVuc2lvbnNZKGJvdW5kcywgdGhpcy5wcm9wZXJ0aWVzLmZvbnRTaXplKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmRpbWVuc2lvbnMgPSBuZXcgUmVjdGFuZ2xlKHgsIHksIHNpemUud2lkdGgsIHRoaXMucHJvcGVydGllcy5mb250U2l6ZSlcclxuICAgIH1cclxufSIsImltcG9ydCB7IE9yaWVudGF0aW9uIH0gZnJvbSBcIi4uL2FsaWduZW1lbnQvb3JpZW50YXRpb25cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBMaXN0Vmlld1Byb3BlcnRpZXMge1xyXG4gICAgcHVibGljIGl0ZW1TcGFjaW5nID0gMzA7XHJcbiAgICBwdWJsaWMgb3JpZW50YXRpb24gPSBPcmllbnRhdGlvbi5WZXJ0aWNhbDtcclxufSIsImltcG9ydCB7IExheW91dFZpZXcgfSBmcm9tIFwiLi9sYXlvdXRWaWV3XCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgUmVuZGVyT2JqZWN0IH0gZnJvbSBcIi4uL3JlbmRlck9iamVjdFwiO1xyXG5pbXBvcnQgeyBMaXN0Vmlld1Byb3BlcnRpZXMgfSBmcm9tIFwiLi9saXN0Vmlld1Byb3BlcnRpZXNcIjtcclxuaW1wb3J0IHsgSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24gfSBmcm9tIFwiLi4vYWxpZ25lbWVudC9ob3Jpem9udGFsQWxpZ25lbWVudE9wdGlvblwiO1xyXG5pbXBvcnQgeyBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24gfSBmcm9tIFwiLi4vYWxpZ25lbWVudC92ZXJ0aWNhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuaW1wb3J0IHsgT3JpZW50YXRpb24gfSBmcm9tIFwiLi4vYWxpZ25lbWVudC9vcmllbnRhdGlvblwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIExpc3RWaWV3IGV4dGVuZHMgTGF5b3V0VmlldyB7XHJcbiAgICBwdWJsaWMgcHJvcGVydGllcyA9IG5ldyBMaXN0Vmlld1Byb3BlcnRpZXMoKTtcclxuXHJcbiAgICBwdWJsaWMgZ2V0IGl0ZW1zKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNoaWxkcmVuO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRJdGVtID0gKGxheW91dFZpZXc6IFJlbmRlck9iamVjdCkgPT4ge1xyXG4gICAgICAgIGxheW91dFZpZXcuYWxpZ25lbWVudC5ob3Jpem9udGFsQWxpZ24gPSBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbi5MZWZ0O1xyXG4gICAgICAgIGxheW91dFZpZXcuYWxpZ25lbWVudC52ZXJ0aWNhbEFsaWduID0gVmVydGljYWxBbGlnbmVtZW50T3B0aW9uLlRvcDtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2gobGF5b3V0Vmlldyk7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyVXBkYXRlTGF5b3V0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZUl0ZW0gPSAobGF5b3V0VmlldzogUmVuZGVyT2JqZWN0KSA9PiB7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5yZW1vdmVJdGVtKGxheW91dFZpZXcpO1xyXG4gICAgICAgIHRoaXMudHJpZ2dlclVwZGF0ZUxheW91dCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVMYXlvdXQoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGJvdW5kczogUmVjdGFuZ2xlKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIudXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuXHJcbiAgICAgICAgdmFyIHggPSB0aGlzLmFsaWduZW1lbnQuY2FsY3VsYXRlRGltZW5zaW9uc1goYm91bmRzLCB0aGlzLmRpbWVuc2lvbnMud2lkdGgpO1xyXG4gICAgICAgIHZhciB5ID0gdGhpcy5hbGlnbmVtZW50LmNhbGN1bGF0ZURpbWVuc2lvbnNZKGJvdW5kcywgdGhpcy5kaW1lbnNpb25zLmhlaWdodCk7XHJcblxyXG4gICAgICAgIHZhciB3aWR0aCA9IDA7XHJcbiAgICAgICAgdmFyIGhlaWdodCA9IDA7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMub3JpZW50YXRpb24gPT0gT3JpZW50YXRpb24uVmVydGljYWwpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XHJcbiAgICAgICAgICAgICAgICBpZiAoaSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB5ICs9IHRoaXMucHJvcGVydGllcy5pdGVtU3BhY2luZztcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQgKz0gdGhpcy5wcm9wZXJ0aWVzLml0ZW1TcGFjaW5nO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2hpbGQudXBkYXRlTGF5b3V0KGN0eCwgbmV3IFJlY3RhbmdsZSh4LCB5LCAwLCAwKSk7XHJcbiAgICAgICAgICAgICAgICB5ICs9IGNoaWxkLmRpbWVuc2lvbnMuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgaGVpZ2h0ICs9IGNoaWxkLmRpbWVuc2lvbnMuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgd2lkdGggPSBNYXRoLm1heCh3aWR0aCwgY2hpbGQuZGltZW5zaW9ucy53aWR0aCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcclxuICAgICAgICAgICAgICAgIGlmIChpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHggKz0gdGhpcy5wcm9wZXJ0aWVzLml0ZW1TcGFjaW5nO1xyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoICs9IHRoaXMucHJvcGVydGllcy5pdGVtU3BhY2luZztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNoaWxkLnVwZGF0ZUxheW91dChjdHgsIG5ldyBSZWN0YW5nbGUoeCwgeSwgMCwgMCkpO1xyXG4gICAgICAgICAgICAgICAgeCArPSBjaGlsZC5kaW1lbnNpb25zLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgd2lkdGggKz0gY2hpbGQuZGltZW5zaW9ucy53aWR0aDtcclxuICAgICAgICAgICAgICAgIGhlaWdodCA9IE1hdGgubWF4KGhlaWdodCwgY2hpbGQuZGltZW5zaW9ucy5oZWlnaHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5kaW1lbnNpb25zLnggIT0geCB8fCB0aGlzLmRpbWVuc2lvbnMueSAhPSB5IHx8IHRoaXMuZGltZW5zaW9ucy53aWR0aCAhPSB3aWR0aCB8fCB0aGlzLmRpbWVuc2lvbnMuaGVpZ2h0ICE9IGhlaWdodCkge1xyXG4gICAgICAgICAgICB0aGlzLmRpbWVuc2lvbnMueCA9IHg7XHJcbiAgICAgICAgICAgIHRoaXMuZGltZW5zaW9ucy55ID0geTtcclxuICAgICAgICAgICAgdGhpcy5kaW1lbnNpb25zLmhlaWdodCA9IGhlaWdodDtcclxuICAgICAgICAgICAgdGhpcy5kaW1lbnNpb25zLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgU3R5bGUge1xyXG4gICAgcHVibGljIHN0YXRpYyBmaWxsU3R5bGUgPSBcInJnYigwLDEwMCwxMjgpXCI7XHJcbiAgICBwdWJsaWMgc3RhdGljIG1vdXNPdmVyID0gXCJyZ2IoMCwyMDEsMjU1KVwiOyAvLyAjMDBDOUZGXHJcbiAgICBwdWJsaWMgc3RhdGljIGxpZ2h0MiA9IFwicmdiKDc3LDIxNiwyNTUpXCI7XHJcbiAgICBwdWJsaWMgc3RhdGljIG5vcm1hbCA9IFwicmdiKDAsMTYwLDIwNClcIjtcclxuICAgIC8vIHB1YmxpYyBzdGF0aWMgZmlsbFN0eWxlID0gXCJyZ2IoMCwyMDEsMjU1KVwiO1xyXG4gICAgLy8gcHVibGljIHN0YXRpYyBmaWxsU3R5bGUgPSBcInJnYigwLDIwMSwyNTUpXCI7XHJcbn0iLCJpbXBvcnQgeyBFRXZlbnRULCBFRXZlbnRUVCB9IGZyb20gXCIuLi9lRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBPYnNlcnZhYmxlUHJvcGVydHk8VD4ge1xyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSB2YWx1ZTogVCkgeyB9XHJcblxyXG4gICAgcHVibGljIE9uQ2hhbmdlZCA9IG5ldyBFRXZlbnRUVDxULCBUPigpO1xyXG5cclxuICAgIHB1YmxpYyBzZXQgPSAodmFsdWU6IFQpID0+IHtcclxuICAgICAgICB2YXIgb2xkVmFsdWUgPSB0aGlzLnZhbHVlO1xyXG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICB0aGlzLk9uQ2hhbmdlZC5kaXNwYXRjaEV2ZW50KG9sZFZhbHVlLCB0aGlzLnZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0ID0gKCk6IFQgPT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgU3RhciB9IGZyb20gXCIuL3N0YXJcIjtcclxuaW1wb3J0IHsgT2JzZXJ2YWJsZVByb3BlcnR5IH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvb2JzZXJ2YWJsZVByb3BlcnR5XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU3RhckxheWVyIHtcclxuICAgIHB1YmxpYyBuYW1lID0gbmV3IE9ic2VydmFibGVQcm9wZXJ0eTxzdHJpbmc+KFwiU3RhciBMYXllciBYXCIpO1xyXG4gICAgcHVibGljIHNwZWVkID0gbmV3IE9ic2VydmFibGVQcm9wZXJ0eTxudW1iZXI+KE1hdGgucmFuZG9tKCkgKiAxICsgMC4xKTtcclxuICAgIHB1YmxpYyBzdGFyUmFkaXVzTG93ZXJCb3JkZXIgPSBuZXcgT2JzZXJ2YWJsZVByb3BlcnR5PG51bWJlcj4oMC4wNSk7XHJcbiAgICBwdWJsaWMgc3RhclJhZGl1c1VwcGVyQm9yZGVyID0gbmV3IE9ic2VydmFibGVQcm9wZXJ0eTxudW1iZXI+KDAuNTUpO1xyXG4gICAgcHVibGljIG51bWJlck9mU3RhcnMgPSBuZXcgT2JzZXJ2YWJsZVByb3BlcnR5PG51bWJlcj4oMzAwKTtcclxufSIsImV4cG9ydCBjbGFzcyBMYWJlbFByb3BlcnRpZXMge1xyXG4gICAgcHVibGljIGZvbnRTaXplID0gNDA7XHJcbiAgICBwdWJsaWMgZm9udFByZWZpeCA9IFwiXCI7XHJcbiAgICBwdWJsaWMgZm9udEZhbWlseSA9IFwiR2VvcmdpYVwiO1xyXG4gICAgcHVibGljIGZpbGxTdHlsZSA9IFwiYmx1ZVwiO1xyXG4gICAgcHVibGljIGJhY2tncm91bmRGaWxsU3R5bGU6IHN0cmluZyA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICBwdWJsaWMgZ2V0Rm9udCA9ICgpID0+IHtcclxuICAgICAgICB2YXIgZm9udCA9IFwiXCI7XHJcbiAgICAgICAgaWYgKHRoaXMuZm9udFByZWZpeCkge1xyXG4gICAgICAgICAgICBmb250ICs9IHRoaXMuZm9udFByZWZpeCArIFwiIFwiXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvbnQgKz0gdGhpcy5mb250U2l6ZSArIFwicHhcIiArIFwiIFwiICsgdGhpcy5mb250RmFtaWx5O1xyXG4gICAgICAgIHJldHVybiBmb250O1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQ29udHJvbCB9IGZyb20gXCIuL2NvbnRyb2xcIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBMYWJlbFByb3BlcnRpZXMgfSBmcm9tIFwiLi9sYWJlbFByb3BlcnRpZXNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBMYWJlbCBleHRlbmRzIENvbnRyb2wge1xyXG4gICAgcHVibGljIHByb3BlcnRpZXMgPSBuZXcgTGFiZWxQcm9wZXJ0aWVzKCk7XHJcblxyXG4gICAgcHVibGljIHRleHQ6IHN0cmluZztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuZGlzYWJsZU1vdXNlRXZlbnRzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbmRlciA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4ge1xyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLnByb3BlcnRpZXMuZmlsbFN0eWxlO1xyXG4gICAgICAgIGN0eC5mb250ID0gdGhpcy5wcm9wZXJ0aWVzLmdldEZvbnQoKTtcclxuICAgICAgICBjdHgudGV4dEFsaWduID0gXCJsZWZ0XCI7XHJcbiAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9IFwidG9wXCI7XHJcbiAgICAgICAgY3R4LmZpbGxUZXh0KHRoaXMudGV4dCwgdGhpcy5kaW1lbnNpb25zLngsIHRoaXMuZGltZW5zaW9ucy55KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0ID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHN1cGVyLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcblxyXG4gICAgICAgIGN0eC5mb250ID0gdGhpcy5wcm9wZXJ0aWVzLmdldEZvbnQoKTtcclxuICAgICAgICBjdHgudGV4dEFsaWduID0gXCJsZWZ0XCI7XHJcbiAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9IFwidG9wXCI7XHJcbiAgICAgICAgdmFyIHNpemUgPSBjdHgubWVhc3VyZVRleHQodGhpcy50ZXh0KTtcclxuXHJcbiAgICAgICAgdmFyIHggPSB0aGlzLmFsaWduZW1lbnQuY2FsY3VsYXRlRGltZW5zaW9uc1goYm91bmRzLCBzaXplLndpZHRoKTtcclxuICAgICAgICB2YXIgeSA9IHRoaXMuYWxpZ25lbWVudC5jYWxjdWxhdGVEaW1lbnNpb25zWShib3VuZHMsIHRoaXMucHJvcGVydGllcy5mb250U2l6ZSk7XHJcblxyXG4gICAgICAgIHRoaXMuZGltZW5zaW9ucyA9IG5ldyBSZWN0YW5nbGUoeCwgeSwgc2l6ZS53aWR0aCwgdGhpcy5wcm9wZXJ0aWVzLmZvbnRTaXplKVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgTGF5b3V0VmlldyB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xheW91dFZpZXdcIjtcclxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvY29udHJvbHMvYnV0dG9uXCI7XHJcbmltcG9ydCB7IExpc3RWaWV3IH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGlzdFZpZXdcIjtcclxuaW1wb3J0IHsgVmVydGljYWxBbGlnbmVtZW50T3B0aW9uIH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvYWxpZ25lbWVudC92ZXJ0aWNhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuaW1wb3J0IHsgSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24gfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9hbGlnbmVtZW50L2hvcml6b250YWxBbGlnbmVtZW50T3B0aW9uXCI7XHJcbmltcG9ydCB7IFN0eWxlIH0gZnJvbSBcIi4uLy4uL3ZpZXcvc3R5bGVcIjtcclxuaW1wb3J0IHsgTGFiZWwgfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9jb250cm9scy9sYWJlbFwiO1xyXG5pbXBvcnQgeyBPcmllbnRhdGlvbiB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvb3JpZW50YXRpb25cIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IEVFdmVudCB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL2VFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE5hdmlnYXRpb25IZWFkZXJWaWV3IGV4dGVuZHMgTGF5b3V0VmlldyB7XHJcbiAgICBwcml2YXRlIGdvQmFja0J0bjogQnV0dG9uO1xyXG4gICAgcHJpdmF0ZSBnb0JhY2tCdG5JY29uVGV4dCA9IFwiXFx1ZjA2MFwiO1xyXG4gICAgcHJpdmF0ZSBoZWFkZXI6IExpc3RWaWV3O1xyXG4gICAgcHVibGljIG9uR29CYWNrID0gbmV3IEVFdmVudCgpO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHRpdGxlOiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG5cclxuICAgICAgICB0aGlzLmdvQmFja0J0biA9IG5ldyBCdXR0b24oKTtcclxuICAgICAgICB0aGlzLmdvQmFja0J0bi5wcm9wZXJ0aWVzLmZvbnRQcmVmaXggPSBcIjkwMFwiO1xyXG4gICAgICAgIHRoaXMuZ29CYWNrQnRuLnByb3BlcnRpZXMuZm9udEZhbWlseSA9IFwiJ0ZvbnQgQXdlc29tZSA1IEZyZWUnXCI7XHJcbiAgICAgICAgdGhpcy5nb0JhY2tCdG4udGV4dCA9IHRoaXMuZ29CYWNrQnRuSWNvblRleHQ7XHJcbiAgICAgICAgdGhpcy5nb0JhY2tCdG4uYWxpZ25lbWVudC52ZXJ0aWNhbEFsaWduID0gVmVydGljYWxBbGlnbmVtZW50T3B0aW9uLlRvcDtcclxuICAgICAgICB0aGlzLmdvQmFja0J0bi5hbGlnbmVtZW50Lmhvcml6b250YWxBbGlnbiA9IEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uLkxlZnQ7XHJcbiAgICAgICAgdGhpcy5nb0JhY2tCdG4ucHJvcGVydGllcy5maWxsU3R5bGUgPSBTdHlsZS5maWxsU3R5bGU7XHJcbiAgICAgICAgdGhpcy5nb0JhY2tCdG4ucHJvcGVydGllcy5tb3VzZU92ZXJGaWxsU3R5bGUgPSBTdHlsZS5tb3VzT3ZlcjtcclxuICAgICAgICB0aGlzLmdvQmFja0J0bi5jbGlja2VkLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5vbkdvQmFjay5kaXNwYXRjaEV2ZW50KTtcclxuXHJcbiAgICAgICAgdmFyIHRpdGxlTGJsID0gbmV3IExhYmVsKCk7XHJcbiAgICAgICAgdGl0bGVMYmwudGV4dCA9IHRpdGxlO1xyXG4gICAgICAgIHRpdGxlTGJsLnByb3BlcnRpZXMuZmlsbFN0eWxlID0gU3R5bGUubm9ybWFsO1xyXG5cclxuICAgICAgICB0aGlzLmhlYWRlciA9IG5ldyBMaXN0VmlldygpO1xyXG4gICAgICAgIHRoaXMuaGVhZGVyLmFsaWduZW1lbnQuaG9yaXpvbnRhbEFsaWduID0gSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24uTGVmdDtcclxuICAgICAgICB0aGlzLmhlYWRlci5hbGlnbmVtZW50LnZlcnRpY2FsQWxpZ24gPSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24uVG9wO1xyXG4gICAgICAgIHRoaXMuaGVhZGVyLnByb3BlcnRpZXMub3JpZW50YXRpb24gPSBPcmllbnRhdGlvbi5Ib3Jpem9udGFsO1xyXG4gICAgICAgIHRoaXMuaGVhZGVyLmFkZEl0ZW0odGhpcy5nb0JhY2tCdG4pO1xyXG4gICAgICAgIHRoaXMuaGVhZGVyLmFkZEl0ZW0odGl0bGVMYmwpO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaCh0aGlzLmhlYWRlcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUxheW91dChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG4gICAgICAgIHRoaXMuaGVhZGVyLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zID0gdGhpcy5oZWFkZXIuZGltZW5zaW9ucztcclxuICAgIH1cclxufSIsImltcG9ydCB7IExheW91dFZpZXcgfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9sYXlvdXRDb250cm9scy9sYXlvdXRWaWV3XCI7XHJcbmltcG9ydCB7IE5hdmlnYXRpb25IZWFkZXJWaWV3IH0gZnJvbSBcIi4vbmF2aWdhdGlvbkhlYWRlclZpZXdcIjtcclxuaW1wb3J0IHsgSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24gfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9hbGlnbmVtZW50L2hvcml6b250YWxBbGlnbmVtZW50T3B0aW9uXCI7XHJcbmltcG9ydCB7IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbiB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvdmVydGljYWxBbGlnbmVtZW50T3B0aW9uXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTmF2aWdhdGlvblZpZXcgZXh0ZW5kcyBMYXlvdXRWaWV3IHtcclxuICAgIHB1YmxpYyBuYXZpZ2F0aW9uVmlldzogTmF2aWdhdGlvbkhlYWRlclZpZXc7XHJcblxyXG4gICAgY29uc3RydWN0b3IodGl0bGU6IHN0cmluZykge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5uYXZpZ2F0aW9uVmlldyA9IG5ldyBOYXZpZ2F0aW9uSGVhZGVyVmlldyh0aXRsZSk7XHJcbiAgICAgICAgdGhpcy5uYXZpZ2F0aW9uVmlldy5hbGlnbmVtZW50Lmhvcml6b250YWxBbGlnbiA9IEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uLkxlZnQ7XHJcbiAgICAgICAgdGhpcy5uYXZpZ2F0aW9uVmlldy5hbGlnbmVtZW50LnZlcnRpY2FsQWxpZ24gPSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24uVG9wO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaCh0aGlzLm5hdmlnYXRpb25WaWV3KTtcclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBTbGlkZXJQcm9wZXJ0aWVzIHtcclxuICAgIHB1YmxpYyBjb2xvcjEgPSBcImdyZXlcIjtcclxuICAgIHB1YmxpYyBjb2xvcjIgPSBcInJlZFwiO1xyXG59IiwiaW1wb3J0IHsgQ29udHJvbCB9IGZyb20gXCIuL2NvbnRyb2xcIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBFRXZlbnRUIH0gZnJvbSBcIi4uLy4uL2VFdmVudFwiO1xyXG5pbXBvcnQgeyBTbGlkZXJQcm9wZXJ0aWVzIH0gZnJvbSBcIi4vc2xpZGVyUHJvcGVydGllc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNsaWRlciBleHRlbmRzIENvbnRyb2wge1xyXG4gICAgcHVibGljIHByb3BlcnRpZXMgPSBuZXcgU2xpZGVyUHJvcGVydGllcygpO1xyXG5cclxuICAgIHB1YmxpYyByYWRpdXM6IG51bWJlciA9IDEwO1xyXG5cclxuICAgIHB1YmxpYyBtaW5WYWx1ZSA9IDA7XHJcbiAgICBwdWJsaWMgbWF4VmFsdWUgPSAxMDA7XHJcbiAgICBwdWJsaWMgY3VycmVudFZhbHVlID0gNTA7XHJcbiAgICBpc0RyYWdnaW5nOiBib29sZWFuO1xyXG5cclxuICAgIHB1YmxpYyB2YWx1ZUNoYW5nZWQgPSBuZXcgRUV2ZW50VDxudW1iZXI+KCk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVuZGVyID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCA9PiB7XHJcbiAgICAgICAgdmFyIHggPSB0aGlzLmRpbWVuc2lvbnMueDtcclxuICAgICAgICB2YXIgeSA9IHRoaXMuZGltZW5zaW9ucy55O1xyXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMucHJvcGVydGllcy5jb2xvcjE7XHJcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDI7XHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5tb3ZlVG8oeCArIHRoaXMucmFkaXVzLCB5ICsgdGhpcy5kaW1lbnNpb25zLmhlaWdodCAvIDIpO1xyXG4gICAgICAgIGN0eC5saW5lVG8oeCArIHRoaXMuZGltZW5zaW9ucy53aWR0aCAtIHRoaXMucmFkaXVzLCB5ICsgdGhpcy5kaW1lbnNpb25zLmhlaWdodCAvIDIpO1xyXG4gICAgICAgIGN0eC5zdHJva2UoKTtcclxuXHJcbiAgICAgICAgdmFyIHJlbFZhbHVlID0gKHRoaXMuY3VycmVudFZhbHVlIC0gdGhpcy5taW5WYWx1ZSkgLyAodGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWUpO1xyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLnByb3BlcnRpZXMuY29sb3IyO1xyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdHguYXJjKHggKyB0aGlzLnJhZGl1cyArICh0aGlzLmRpbWVuc2lvbnMud2lkdGggLSB0aGlzLnJhZGl1cyAqIDIpICogcmVsVmFsdWUsIHkgKyB0aGlzLmRpbWVuc2lvbnMuaGVpZ2h0IC8gMiwgdGhpcy5yYWRpdXMsIDAsIE1hdGguUEkgKiAyKTtcclxuICAgICAgICBjdHguY2xvc2VQYXRoKCk7XHJcbiAgICAgICAgY3R4LmZpbGwoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0ID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHN1cGVyLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcblxyXG4gICAgICAgIHRoaXMuZGltZW5zaW9ucyA9IG5ldyBSZWN0YW5nbGUoYm91bmRzLngsIGJvdW5kcy55LCAyMDAsIHRoaXMucmFkaXVzICogMik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG1vdXNlRG93biA9IChldjogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmRpbWVuc2lvbnMuaXNIaXRCeShldi5jbGllbnRYLCBldi5jbGllbnRZKSkge1xyXG4gICAgICAgICAgICB0aGlzLmlzRHJhZ2dpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUN1cnJlbnRWYWx1ZShldik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHVibGljIGNsaWNrID0gKGV2OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKGV2LmN0cmxLZXkpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZGltZW5zaW9ucy5pc0hpdEJ5KGV2LmNsaWVudFgsIGV2LmNsaWVudFkpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzRHJhZ2dpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDdXJyZW50VmFsdWUoZXYpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHVibGljIG1vdXNlVXAgPSAoZXY6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICB0aGlzLmlzRHJhZ2dpbmcgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbW91c2VNb3ZlKGV2OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgc3VwZXIubW91c2VNb3ZlKGV2KTtcclxuICAgICAgICBpZiAodGhpcy5pc0RyYWdnaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ3VycmVudFZhbHVlKGV2KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVDdXJyZW50VmFsdWUoZXY6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICB2YXIgdmFsID0gZXYuY2xpZW50WCAtIHRoaXMuZGltZW5zaW9ucy54IC0gdGhpcy5yYWRpdXM7XHJcbiAgICAgICAgdmFsID0gdmFsIC8gKHRoaXMuZGltZW5zaW9ucy53aWR0aCAtIHRoaXMucmFkaXVzICogMikgKiAodGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWUpICsgdGhpcy5taW5WYWx1ZTtcclxuICAgICAgICBpZiAodmFsID4gdGhpcy5tYXhWYWx1ZSkge1xyXG4gICAgICAgICAgICB2YWwgPSB0aGlzLm1heFZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodmFsIDwgdGhpcy5taW5WYWx1ZSkge1xyXG4gICAgICAgICAgICB2YWwgPSB0aGlzLm1pblZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IHZhbDtcclxuICAgICAgICB0aGlzLnZhbHVlQ2hhbmdlZC5kaXNwYXRjaEV2ZW50KHRoaXMuY3VycmVudFZhbHVlKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IENvbnRyb2wgfSBmcm9tIFwiLi9jb250cm9sXCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgRUV2ZW50VFQgfSBmcm9tIFwiLi4vLi4vZUV2ZW50XCI7XHJcbmltcG9ydCB7IFNsaWRlclByb3BlcnRpZXMgfSBmcm9tIFwiLi9zbGlkZXJQcm9wZXJ0aWVzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUmFuZ2VTbGlkZXIgZXh0ZW5kcyBDb250cm9sIHtcclxuICAgIHB1YmxpYyBwcm9wZXJ0aWVzID0gbmV3IFNsaWRlclByb3BlcnRpZXMoKTtcclxuICAgIHB1YmxpYyByYWRpdXM6IG51bWJlciA9IDEwO1xyXG5cclxuICAgIHB1YmxpYyBtaW5WYWx1ZSA9IDA7XHJcbiAgICBwdWJsaWMgbWF4VmFsdWUgPSAxMDA7XHJcbiAgICBwdWJsaWMgY3VycmVudFZhbHVlTG93ID0gMjU7XHJcbiAgICBwdWJsaWMgY3VycmVudFZhbHVlSGlnaCA9IDc1O1xyXG4gICAgcHVibGljIG1pbkRpZmYgPSAwLjE7XHJcblxyXG4gICAgcHJpdmF0ZSBpc0RyYWdnaW5nTG93OiBib29sZWFuO1xyXG4gICAgcHJpdmF0ZSBpc0RyYWdnaW5nSGlnaDogYm9vbGVhbjtcclxuXHJcbiAgICBwdWJsaWMgdmFsdWVzQ2hhbmdlZCA9IG5ldyBFRXZlbnRUVDxudW1iZXIsIG51bWJlcj4oKTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgcmVuZGVyID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCA9PiB7XHJcbiAgICAgICAgdmFyIHggPSB0aGlzLmRpbWVuc2lvbnMueDtcclxuICAgICAgICB2YXIgeSA9IHRoaXMuZGltZW5zaW9ucy55O1xyXG5cclxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLnByb3BlcnRpZXMuY29sb3IxO1xyXG4gICAgICAgIGN0eC5saW5lV2lkdGggPSAyO1xyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdHgubW92ZVRvKHggKyB0aGlzLnJhZGl1cywgeSArIHRoaXMuZGltZW5zaW9ucy5oZWlnaHQgLyAyKTtcclxuICAgICAgICBjdHgubGluZVRvKHggKyB0aGlzLmRpbWVuc2lvbnMud2lkdGggLSB0aGlzLnJhZGl1cywgeSArIHRoaXMuZGltZW5zaW9ucy5oZWlnaHQgLyAyKTtcclxuICAgICAgICBjdHguc3Ryb2tlKCk7XHJcblxyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLnByb3BlcnRpZXMuY29sb3IyO1xyXG4gICAgICAgIHZhciBzbGlkZXJZID0geSArIHRoaXMuZGltZW5zaW9ucy5oZWlnaHQgLyAyO1xyXG5cclxuICAgICAgICB2YXIgcmVsVmFsdWVMb3cgPSAodGhpcy5jdXJyZW50VmFsdWVMb3cgLSB0aGlzLm1pblZhbHVlKSAvICh0aGlzLm1heFZhbHVlIC0gdGhpcy5taW5WYWx1ZSk7XHJcbiAgICAgICAgdmFyIGxvd1ggPSB4ICsgdGhpcy5yYWRpdXMgKyAodGhpcy5kaW1lbnNpb25zLndpZHRoIC0gdGhpcy5yYWRpdXMgKiAyKSAqIHJlbFZhbHVlTG93O1xyXG5cclxuICAgICAgICB2YXIgcmVsVmFsdWVIaWdoID0gKHRoaXMuY3VycmVudFZhbHVlSGlnaCAtIHRoaXMubWluVmFsdWUpIC8gKHRoaXMubWF4VmFsdWUgLSB0aGlzLm1pblZhbHVlKTtcclxuICAgICAgICB2YXIgaGlnaFggPSB4ICsgdGhpcy5yYWRpdXMgKyAodGhpcy5kaW1lbnNpb25zLndpZHRoIC0gdGhpcy5yYWRpdXMgKiAyKSAqIHJlbFZhbHVlSGlnaDtcclxuXHJcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5wcm9wZXJ0aWVzLmNvbG9yMjtcclxuICAgICAgICBjdHgubGluZVdpZHRoID0gMjtcclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY3R4Lm1vdmVUbyhsb3dYLCBzbGlkZXJZKTtcclxuICAgICAgICBjdHgubGluZVRvKGhpZ2hYLCBzbGlkZXJZKTtcclxuICAgICAgICBjdHguc3Ryb2tlKCk7XHJcblxyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdHguYXJjKGxvd1gsIHNsaWRlclksIHRoaXMucmFkaXVzLCAwLCBNYXRoLlBJICogMik7XHJcbiAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xyXG4gICAgICAgIGN0eC5maWxsKCk7XHJcblxyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdHguYXJjKGhpZ2hYLCBzbGlkZXJZLCB0aGlzLnJhZGl1cywgMCwgTWF0aC5QSSAqIDIpO1xyXG4gICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcclxuICAgICAgICBjdHguZmlsbCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVMYXlvdXQgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGJvdW5kczogUmVjdGFuZ2xlKTogdm9pZCA9PiB7XHJcbiAgICAgICAgc3VwZXIudXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuXHJcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zID0gbmV3IFJlY3RhbmdsZShib3VuZHMueCwgYm91bmRzLnksIDIwMCwgdGhpcy5yYWRpdXMgKiAyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2xpY2sgPSAoZXY6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICBpZiAoZXYuY3RybEtleSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5kaW1lbnNpb25zLmlzSGl0QnkoZXYuY2xpZW50WCwgZXYuY2xpZW50WSkpIHtcclxuICAgICAgICAgICAgICAgIHZhciB2YWwgPSB0aGlzLmdldENsaWNrZWRWYWx1ZShldik7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGlmZlRvTG93ID0gTWF0aC5hYnModGhpcy5jdXJyZW50VmFsdWVMb3cgLSB2YWwpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRpZmZUb0hpZ2ggPSBNYXRoLmFicyh0aGlzLmN1cnJlbnRWYWx1ZUhpZ2ggLSB2YWwpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICBpZiAoZGlmZlRvTG93ID09IGRpZmZUb0hpZ2gpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsIDwgdGhpcy5jdXJyZW50VmFsdWVMb3cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0RyYWdnaW5nTG93ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzRHJhZ2dpbmdIaWdoID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChkaWZmVG9Mb3cgPiBkaWZmVG9IaWdoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0RyYWdnaW5nSGlnaCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzRHJhZ2dpbmdMb3cgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUN1cnJlbnRWYWx1ZXMoZXYpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHVibGljIG1vdXNlRG93biA9IChldjogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmRpbWVuc2lvbnMuaXNIaXRCeShldi5jbGllbnRYLCBldi5jbGllbnRZKSkge1xyXG4gICAgICAgICAgICB2YXIgdmFsID0gdGhpcy5nZXRDbGlja2VkVmFsdWUoZXYpO1xyXG4gICAgICAgICAgICB2YXIgZGlmZlRvTG93ID0gTWF0aC5hYnModGhpcy5jdXJyZW50VmFsdWVMb3cgLSB2YWwpO1xyXG4gICAgICAgICAgICB2YXIgZGlmZlRvSGlnaCA9IE1hdGguYWJzKHRoaXMuY3VycmVudFZhbHVlSGlnaCAtIHZhbCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZGlmZlRvTG93ID09IGRpZmZUb0hpZ2gpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWwgPCB0aGlzLmN1cnJlbnRWYWx1ZUxvdykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNEcmFnZ2luZ0xvdyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNEcmFnZ2luZ0hpZ2ggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGRpZmZUb0xvdyA+IGRpZmZUb0hpZ2gpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNEcmFnZ2luZ0hpZ2ggPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0RyYWdnaW5nTG93ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy51cGRhdGVDdXJyZW50VmFsdWVzKGV2KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgbW91c2VVcCA9IChldjogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIHRoaXMuaXNEcmFnZ2luZ0hpZ2ggPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmlzRHJhZ2dpbmdMb3cgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbW91c2VNb3ZlKGV2OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgc3VwZXIubW91c2VNb3ZlKGV2KTtcclxuICAgICAgICBpZiAodGhpcy5pc0RyYWdnaW5nSGlnaCB8fCB0aGlzLmlzRHJhZ2dpbmdMb3cpIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVDdXJyZW50VmFsdWVzKGV2KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVDdXJyZW50VmFsdWVzKGV2OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgdmFyIHZhbCA9IHRoaXMuZ2V0Q2xpY2tlZFZhbHVlKGV2KTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNEcmFnZ2luZ0xvdykge1xyXG4gICAgICAgICAgICBpZiAodmFsID4gKHRoaXMuY3VycmVudFZhbHVlSGlnaCAtIHRoaXMubWluRGlmZikpIHtcclxuICAgICAgICAgICAgICAgIHZhbCA9IHRoaXMuY3VycmVudFZhbHVlSGlnaCAtIHRoaXMubWluRGlmZjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHZhbCA8IHRoaXMuY3VycmVudFZhbHVlTG93ICsgdGhpcy5taW5EaWZmKSB7XHJcbiAgICAgICAgICAgICAgICB2YWwgPSB0aGlzLmN1cnJlbnRWYWx1ZUxvdyArIHRoaXMubWluRGlmZjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNEcmFnZ2luZ0xvdykge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZUxvdyA9IHZhbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFZhbHVlSGlnaCA9IHZhbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy52YWx1ZXNDaGFuZ2VkLmRpc3BhdGNoRXZlbnQodGhpcy5jdXJyZW50VmFsdWVMb3csIHRoaXMuY3VycmVudFZhbHVlSGlnaCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRDbGlja2VkVmFsdWUoZXY6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICB2YXIgdmFsID0gZXYuY2xpZW50WCAtIHRoaXMuZGltZW5zaW9ucy54IC0gdGhpcy5yYWRpdXM7XHJcbiAgICAgICAgdmFsID0gdmFsIC8gKHRoaXMuZGltZW5zaW9ucy53aWR0aCAtIHRoaXMucmFkaXVzICogMikgKiAodGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWUpICsgdGhpcy5taW5WYWx1ZTtcclxuICAgICAgICBpZiAodmFsID4gdGhpcy5tYXhWYWx1ZSkge1xyXG4gICAgICAgICAgICB2YWwgPSB0aGlzLm1heFZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodmFsIDwgdGhpcy5taW5WYWx1ZSkge1xyXG4gICAgICAgICAgICB2YWwgPSB0aGlzLm1pblZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdmFsO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgTGF5b3V0VmlldyB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xheW91dFZpZXdcIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IExpc3RWaWV3IH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGlzdFZpZXdcIjtcclxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvY29udHJvbHMvYnV0dG9uXCI7XHJcbmltcG9ydCB7IENvbnRyb2wgfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9jb250cm9scy9jb250cm9sXCI7XHJcbmltcG9ydCB7IEFwcCB9IGZyb20gXCIuLi8uLi9hcHBcIjtcclxuaW1wb3J0IHsgSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24gfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9hbGlnbmVtZW50L2hvcml6b250YWxBbGlnbmVtZW50T3B0aW9uXCI7XHJcbmltcG9ydCB7IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbiB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvdmVydGljYWxBbGlnbmVtZW50T3B0aW9uXCI7XHJcbmltcG9ydCB7IFNsaWRlciB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2NvbnRyb2xzL3NsaWRlclwiO1xyXG5pbXBvcnQgeyBSYW5nZVNsaWRlciB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2NvbnRyb2xzL3JhbmdlU2xpZGVyXCI7XHJcbmltcG9ydCB7IE5hdmlnYXRpb25WaWV3IH0gZnJvbSBcIi4vbmF2aWdhdGlvblZpZXdcIjtcclxuaW1wb3J0IHsgU3RhckxheWVyIH0gZnJvbSBcIi4uLy4uL21vZGVscy9zdGFyTGF5ZXJcIjtcclxuaW1wb3J0IHsgU3R5bGUgfSBmcm9tIFwiLi4vLi4vdmlldy9zdHlsZVwiO1xyXG5pbXBvcnQgeyBMYWJlbCB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2xhYmVsXCI7XHJcbmltcG9ydCB7IE9yaWVudGF0aW9uIH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvYWxpZ25lbWVudC9vcmllbnRhdGlvblwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFN0YXJMYXllclNldHRpbmdzVmlldyBleHRlbmRzIE5hdmlnYXRpb25WaWV3IHtcclxuICAgIHByaXZhdGUgc2V0dGluZ3NMaXN0OiBMaXN0VmlldztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgc3RhckxheWVyOiBTdGFyTGF5ZXIpIHtcclxuICAgICAgICBzdXBlcihzdGFyTGF5ZXIubmFtZS5nZXQoKSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0ID0gbmV3IExpc3RWaWV3KCk7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QuYWxpZ25lbWVudC5ob3Jpem9udGFsQWxpZ24gPSBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbi5MZWZ0O1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LmFsaWduZW1lbnQudmVydGljYWxBbGlnbiA9IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi5Ub3A7XHJcblxyXG4gICAgICAgIHZhciBudW1iZXJPZlN0YXJzVmFsdWVMYmwgPSBuZXcgTGFiZWwoKTtcclxuICAgICAgICB2YXIgbnVtYmVyT2ZTdGFyc0hlYWQgPSB0aGlzLmNyZWF0ZUhlYWQoXCJOdW1iZXIgb2YgU3RhcnNcIiwgbnVtYmVyT2ZTdGFyc1ZhbHVlTGJsLCBNYXRoLnJvdW5kKHN0YXJMYXllci5udW1iZXJPZlN0YXJzLmdldCgpKS50b1N0cmluZygpKTtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5hZGRJdGVtKG51bWJlck9mU3RhcnNIZWFkKTtcclxuICAgICAgICB2YXIgbnVtYmVyT2ZTdGFyc1NsZHIgPSBuZXcgU2xpZGVyKCk7XHJcbiAgICAgICAgbnVtYmVyT2ZTdGFyc1NsZHIubWluVmFsdWUgPSA1MDtcclxuICAgICAgICBudW1iZXJPZlN0YXJzU2xkci5tYXhWYWx1ZSA9IDgwMDtcclxuICAgICAgICBudW1iZXJPZlN0YXJzU2xkci5wcm9wZXJ0aWVzLmNvbG9yMSA9IFN0eWxlLmZpbGxTdHlsZTtcclxuICAgICAgICBudW1iZXJPZlN0YXJzU2xkci5wcm9wZXJ0aWVzLmNvbG9yMiA9IFN0eWxlLm1vdXNPdmVyO1xyXG4gICAgICAgIG51bWJlck9mU3RhcnNTbGRyLmN1cnJlbnRWYWx1ZSA9IHN0YXJMYXllci5udW1iZXJPZlN0YXJzLmdldCgpO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LmFkZEl0ZW0obnVtYmVyT2ZTdGFyc1NsZHIpO1xyXG4gICAgICAgIG51bWJlck9mU3RhcnNTbGRyLnZhbHVlQ2hhbmdlZC5hZGRFdmVudExpc3RlbmVyKCh2YWx1ZSkgPT4geyB0aGlzLnN0YXJMYXllci5udW1iZXJPZlN0YXJzLnNldChNYXRoLnJvdW5kKHZhbHVlKSk7IH0pO1xyXG4gICAgICAgIHN0YXJMYXllci5udW1iZXJPZlN0YXJzLk9uQ2hhbmdlZC5hZGRFdmVudExpc3RlbmVyKChvbGRWYWx1ZTogbnVtYmVyLCBuZXdWYWx1ZTogbnVtYmVyKSA9PiB7IG51bWJlck9mU3RhcnNWYWx1ZUxibC50ZXh0ID0gTWF0aC5yb3VuZChuZXdWYWx1ZSkudG9TdHJpbmcoKTsgfSlcclxuXHJcbiAgICAgICAgdmFyIHNwZWVkVmFsdWVMYmwgPSBuZXcgTGFiZWwoKTtcclxuICAgICAgICB2YXIgc3BlZWRIZWFkID0gdGhpcy5jcmVhdGVIZWFkKFwiU3BlZWRcIiwgc3BlZWRWYWx1ZUxibCwgdGhpcy5yb3VuZChzdGFyTGF5ZXIuc3BlZWQuZ2V0KCkpLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LmFkZEl0ZW0oc3BlZWRIZWFkKTtcclxuICAgICAgICB2YXIgc3BlZWRTbGRyID0gbmV3IFNsaWRlcigpO1xyXG4gICAgICAgIHNwZWVkU2xkci5taW5WYWx1ZSA9IDA7XHJcbiAgICAgICAgc3BlZWRTbGRyLm1heFZhbHVlID0gMjA7XHJcbiAgICAgICAgc3BlZWRTbGRyLnByb3BlcnRpZXMuY29sb3IxID0gU3R5bGUuZmlsbFN0eWxlO1xyXG4gICAgICAgIHNwZWVkU2xkci5wcm9wZXJ0aWVzLmNvbG9yMiA9IFN0eWxlLm1vdXNPdmVyO1xyXG4gICAgICAgIHNwZWVkU2xkci5jdXJyZW50VmFsdWUgPSBzdGFyTGF5ZXIuc3BlZWQuZ2V0KCk7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QuYWRkSXRlbShzcGVlZFNsZHIpO1xyXG4gICAgICAgIHNwZWVkU2xkci52YWx1ZUNoYW5nZWQuYWRkRXZlbnRMaXN0ZW5lcigodmFsdWUpID0+IHsgc3RhckxheWVyLnNwZWVkLnNldCh2YWx1ZSkgfSk7XHJcbiAgICAgICAgc3RhckxheWVyLnNwZWVkLk9uQ2hhbmdlZC5hZGRFdmVudExpc3RlbmVyKChvbGRWYWx1ZTogbnVtYmVyLCBuZXdWYWx1ZTogbnVtYmVyKSA9PiB7IHNwZWVkVmFsdWVMYmwudGV4dCA9IHRoaXMucm91bmQobmV3VmFsdWUpLnRvU3RyaW5nKCk7IH0pXHJcbiAgICAgICAgXHJcbiAgICAgICAgdmFyIHNpemVWYWx1ZUxibCA9IG5ldyBMYWJlbCgpO1xyXG4gICAgICAgIHZhciBzaXplSGVhZCA9IHRoaXMuY3JlYXRlSGVhZChcIlNpemVcIiwgc2l6ZVZhbHVlTGJsLCB0aGlzLnJvdW5kKHN0YXJMYXllci5zdGFyUmFkaXVzTG93ZXJCb3JkZXIuZ2V0KCkpICsgXCIgLSBcIiArIHRoaXMucm91bmQoc3RhckxheWVyLnN0YXJSYWRpdXNVcHBlckJvcmRlci5nZXQoKSkpO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LmFkZEl0ZW0oc2l6ZUhlYWQpO1xyXG4gICAgICAgIHZhciBzaXplU2xkciA9IG5ldyBSYW5nZVNsaWRlcigpO1xyXG4gICAgICAgIHNpemVTbGRyLm1pblZhbHVlID0gMC4wMDU7XHJcbiAgICAgICAgc2l6ZVNsZHIubWF4VmFsdWUgPSAyO1xyXG4gICAgICAgIHNpemVTbGRyLmN1cnJlbnRWYWx1ZUxvdyA9IHN0YXJMYXllci5zdGFyUmFkaXVzTG93ZXJCb3JkZXIuZ2V0KCk7XHJcbiAgICAgICAgc2l6ZVNsZHIuY3VycmVudFZhbHVlSGlnaCA9IHN0YXJMYXllci5zdGFyUmFkaXVzVXBwZXJCb3JkZXIuZ2V0KCk7XHJcbiAgICAgICAgc2l6ZVNsZHIucHJvcGVydGllcy5jb2xvcjEgPSBTdHlsZS5maWxsU3R5bGU7XHJcbiAgICAgICAgc2l6ZVNsZHIucHJvcGVydGllcy5jb2xvcjIgPSBTdHlsZS5tb3VzT3ZlcjtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5hZGRJdGVtKHNpemVTbGRyKTtcclxuICAgICAgICBzaXplU2xkci52YWx1ZXNDaGFuZ2VkLmFkZEV2ZW50TGlzdGVuZXIoKHYxLCB2MikgPT4ge1xyXG4gICAgICAgICAgICBpZiAoc3RhckxheWVyLnN0YXJSYWRpdXNMb3dlckJvcmRlci5nZXQoKSAhPSB2MSkge1xyXG4gICAgICAgICAgICAgICAgc3RhckxheWVyLnN0YXJSYWRpdXNMb3dlckJvcmRlci5zZXQodjEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzdGFyTGF5ZXIuc3RhclJhZGl1c1VwcGVyQm9yZGVyLmdldCgpICE9IHYyKSB7XHJcbiAgICAgICAgICAgICAgICBzdGFyTGF5ZXIuc3RhclJhZGl1c1VwcGVyQm9yZGVyLnNldCh2Mik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBzdGFyTGF5ZXIuc3RhclJhZGl1c0xvd2VyQm9yZGVyLk9uQ2hhbmdlZC5hZGRFdmVudExpc3RlbmVyKChvbGRWYWx1ZTogbnVtYmVyLCBuZXdWYWx1ZTogbnVtYmVyKSA9PiB7IHNpemVWYWx1ZUxibC50ZXh0ID0gdGhpcy5yb3VuZChuZXdWYWx1ZSkgKyBcIiAtIFwiICsgdGhpcy5yb3VuZChzdGFyTGF5ZXIuc3RhclJhZGl1c1VwcGVyQm9yZGVyLmdldCgpKSB9KTtcclxuICAgICAgICBzdGFyTGF5ZXIuc3RhclJhZGl1c1VwcGVyQm9yZGVyLk9uQ2hhbmdlZC5hZGRFdmVudExpc3RlbmVyKChvbGRWYWx1ZTogbnVtYmVyLCBuZXdWYWx1ZTogbnVtYmVyKSA9PiB7IHNpemVWYWx1ZUxibC50ZXh0ID0gdGhpcy5yb3VuZChzdGFyTGF5ZXIuc3RhclJhZGl1c0xvd2VyQm9yZGVyLmdldCgpKSArIFwiIC0gXCIgKyB0aGlzLnJvdW5kKG5ld1ZhbHVlKSB9KTtcclxuXHJcbiAgICAgICAgdmFyIHJlbW92ZUxheWVyQnRuID0gbmV3IEJ1dHRvbigpO1xyXG4gICAgICAgIHJlbW92ZUxheWVyQnRuLnRleHQgPSBcIlJlbW92ZSBMYXllclwiO1xyXG4gICAgICAgIHJlbW92ZUxheWVyQnRuLnByb3BlcnRpZXMuZmlsbFN0eWxlID0gU3R5bGUuZmlsbFN0eWxlO1xyXG4gICAgICAgIHJlbW92ZUxheWVyQnRuLnByb3BlcnRpZXMubW91c2VPdmVyRmlsbFN0eWxlID0gU3R5bGUubW91c092ZXI7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QuYWRkSXRlbShyZW1vdmVMYXllckJ0bik7XHJcbiAgICAgICAgcmVtb3ZlTGF5ZXJCdG4uY2xpY2tlZC5hZGRFdmVudExpc3RlbmVyKChzZW5kZXI6IENvbnRyb2wpID0+IHtcclxuICAgICAgICAgICAgQXBwLnZpc3VhbGl6YXRpb25Nb2RlbC5zdGFyTGF5ZXJzLnJlbW92ZSh0aGlzLnN0YXJMYXllcik7XHJcbiAgICAgICAgICAgIHRoaXMubmF2aWdhdGlvblZpZXcub25Hb0JhY2suZGlzcGF0Y2hFdmVudCgpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2godGhpcy5zZXR0aW5nc0xpc3QpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcm91bmQgPSAodmFsdWU6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKHZhbHVlICogMTAwKSAvIDEwMDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNyZWF0ZUhlYWQoc2V0dGluZ05hbWU6IHN0cmluZywgbnVtYmVyT2ZTdGFyc1ZhbHVlTGJsOiBMYWJlbCwgdmFsdWVUZXh0OiBzdHJpbmcpIHtcclxuICAgICAgICB2YXIgbnVtYmVyT2ZTdGFyc0xibCA9IG5ldyBMYWJlbCgpO1xyXG4gICAgICAgIG51bWJlck9mU3RhcnNMYmwudGV4dCA9IHNldHRpbmdOYW1lO1xyXG4gICAgICAgIG51bWJlck9mU3RhcnNMYmwucHJvcGVydGllcy5maWxsU3R5bGUgPSBTdHlsZS5saWdodDI7XHJcbiAgICAgICAgbnVtYmVyT2ZTdGFyc0xibC5wcm9wZXJ0aWVzLmZvbnRTaXplID0gMjI7XHJcbiAgICAgICAgbnVtYmVyT2ZTdGFyc0xibC5hbGlnbmVtZW50Lmhvcml6b250YWxBbGlnbiA9IEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uLkNlbnRlcjtcclxuICAgICAgICBudW1iZXJPZlN0YXJzTGJsLmFsaWduZW1lbnQudmVydGljYWxBbGlnbiA9IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi5DZW50ZXI7XHJcbiAgICAgICAgbnVtYmVyT2ZTdGFyc1ZhbHVlTGJsLnRleHQgPSB2YWx1ZVRleHQ7XHJcbiAgICAgICAgbnVtYmVyT2ZTdGFyc1ZhbHVlTGJsLnByb3BlcnRpZXMuZmlsbFN0eWxlID0gU3R5bGUubGlnaHQyO1xyXG4gICAgICAgIG51bWJlck9mU3RhcnNWYWx1ZUxibC5wcm9wZXJ0aWVzLmZvbnRTaXplID0gMjI7XHJcbiAgICAgICAgdmFyIG51bWJlck9mU3RhcnNIZWFkID0gbmV3IExpc3RWaWV3KCk7XHJcbiAgICAgICAgbnVtYmVyT2ZTdGFyc0hlYWQucHJvcGVydGllcy5vcmllbnRhdGlvbiA9IE9yaWVudGF0aW9uLkhvcml6b250YWw7XHJcbiAgICAgICAgbnVtYmVyT2ZTdGFyc0hlYWQuYWRkSXRlbShudW1iZXJPZlN0YXJzTGJsKTtcclxuICAgICAgICBudW1iZXJPZlN0YXJzSGVhZC5hZGRJdGVtKG51bWJlck9mU3RhcnNWYWx1ZUxibCk7XHJcbiAgICAgICAgcmV0dXJuIG51bWJlck9mU3RhcnNIZWFkO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVMYXlvdXQoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGJvdW5kczogUmVjdGFuZ2xlKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5uYXZpZ2F0aW9uVmlldy51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG4gICAgICAgIHZhciBzcGFjZSA9IHRoaXMubmF2aWdhdGlvblZpZXcuZGltZW5zaW9ucy5oZWlnaHQgKiAxLjU7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QudXBkYXRlTGF5b3V0KGN0eCwgbmV3IFJlY3RhbmdsZShib3VuZHMueCwgYm91bmRzLnkgKyBzcGFjZSwgYm91bmRzLndpZHRoLCBib3VuZHMuaGVpZ2h0IC0gc3BhY2UpKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IExheW91dFZpZXcgfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9sYXlvdXRDb250cm9scy9sYXlvdXRWaWV3XCI7XHJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2J1dHRvblwiO1xyXG5pbXBvcnQgeyBTdHlsZSB9IGZyb20gXCIuLi8uLi92aWV3L3N0eWxlXCI7XHJcbmltcG9ydCB7IENvbnRyb2wgfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9jb250cm9scy9jb250cm9sXCI7XHJcbmltcG9ydCB7IEFwcCB9IGZyb20gXCIuLi8uLi9hcHBcIjtcclxuaW1wb3J0IHsgU3RhckxheWVyIH0gZnJvbSBcIi4uLy4uL21vZGVscy9zdGFyTGF5ZXJcIjtcclxuaW1wb3J0IHsgRUV2ZW50IH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvZUV2ZW50XCI7XHJcbmltcG9ydCB7IE5hdmlnYXRpb25WaWV3IH0gZnJvbSBcIi4vbmF2aWdhdGlvblZpZXdcIjtcclxuaW1wb3J0IHsgTGlzdFZpZXcgfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9sYXlvdXRDb250cm9scy9saXN0Vmlld1wiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgVmVydGljYWxBbGlnbmVtZW50T3B0aW9uIH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvYWxpZ25lbWVudC92ZXJ0aWNhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuaW1wb3J0IHsgSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24gfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9hbGlnbmVtZW50L2hvcml6b250YWxBbGlnbmVtZW50T3B0aW9uXCI7XHJcbmltcG9ydCB7IFN0YXJMYXllclNldHRpbmdzVmlldyB9IGZyb20gXCIuL3N0YXJMYXllclNldHRpbmdzVmlld1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFN0YXJMYXllcnNTZXR0aW5nc1ZpZXcgZXh0ZW5kcyBOYXZpZ2F0aW9uVmlldyB7XHJcblxyXG4gICAgcHJpdmF0ZSBhZGRMYXllckJ0bjogQnV0dG9uO1xyXG4gICAgcHJpdmF0ZSBsYXllckJ1dHRvbnM6IEJ1dHRvbltdID0gW107XHJcbiAgICBsYXllckxpc3Q6IExpc3RWaWV3O1xyXG4gICAgc3ViVmlldzogU3RhckxheWVyU2V0dGluZ3NWaWV3O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKFwiU3RhciBMYXllcnNcIik7XHJcblxyXG4gICAgICAgIHRoaXMubGF5ZXJMaXN0ID0gbmV3IExpc3RWaWV3KCk7XHJcbiAgICAgICAgdGhpcy5sYXllckxpc3QuYWxpZ25lbWVudC5ob3Jpem9udGFsQWxpZ24gPSBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbi5MZWZ0O1xyXG4gICAgICAgIHRoaXMubGF5ZXJMaXN0LmFsaWduZW1lbnQudmVydGljYWxBbGlnbiA9IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi5Ub3A7XHJcblxyXG4gICAgICAgIGZvciAoY29uc3Qgc3RhckxheWVyIG9mIEFwcC52aXN1YWxpemF0aW9uTW9kZWwuc3RhckxheWVycy5pdGVtcykge1xyXG4gICAgICAgICAgICB0aGlzLmxheWVyTGlzdC5hZGRJdGVtKHRoaXMuY3JlYXRlRWRpdExheWVyQnRuKHN0YXJMYXllcikpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGJ0bk5ld0xheWVyID0gbmV3IEJ1dHRvbigpO1xyXG4gICAgICAgIGJ0bk5ld0xheWVyLnRleHQgPSBcIkFkZCBMYXllclwiO1xyXG4gICAgICAgIGJ0bk5ld0xheWVyLnByb3BlcnRpZXMuZmlsbFN0eWxlID0gU3R5bGUuZmlsbFN0eWxlO1xyXG4gICAgICAgIGJ0bk5ld0xheWVyLnByb3BlcnRpZXMubW91c2VPdmVyRmlsbFN0eWxlID0gU3R5bGUubW91c092ZXI7XHJcbiAgICAgICAgYnRuTmV3TGF5ZXIuY2xpY2tlZC5hZGRFdmVudExpc3RlbmVyKChzZW5kZXI6IENvbnRyb2wpID0+IHtcclxuICAgICAgICAgICAgdmFyIG5ld1N0YXJMYXllciA9IG5ldyBTdGFyTGF5ZXIoKTtcclxuICAgICAgICAgICAgbmV3U3RhckxheWVyLm5hbWUuc2V0KFwiU3RhcnMgXCIgKyAoQXBwLnZpc3VhbGl6YXRpb25Nb2RlbC5zdGFyTGF5ZXJzLml0ZW1zLmxlbmd0aCArIDEpKTtcclxuICAgICAgICAgICAgQXBwLnZpc3VhbGl6YXRpb25Nb2RlbC5zdGFyTGF5ZXJzLmFkZChuZXdTdGFyTGF5ZXIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYWRkTGF5ZXJCdG4gPSBidG5OZXdMYXllcjtcclxuICAgICAgICB0aGlzLmxheWVyTGlzdC5hZGRJdGVtKGJ0bk5ld0xheWVyKTtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2godGhpcy5sYXllckxpc3QpO1xyXG5cclxuICAgICAgICBBcHAudmlzdWFsaXphdGlvbk1vZGVsLnN0YXJMYXllcnMub25BZGQuYWRkRXZlbnRMaXN0ZW5lcigoc3RhckxheWVyKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubGF5ZXJMaXN0LnJlbW92ZUl0ZW0odGhpcy5hZGRMYXllckJ0bik7XHJcbiAgICAgICAgICAgIHRoaXMubGF5ZXJMaXN0LmFkZEl0ZW0odGhpcy5jcmVhdGVFZGl0TGF5ZXJCdG4oc3RhckxheWVyKSk7XHJcbiAgICAgICAgICAgIHRoaXMubGF5ZXJMaXN0LmFkZEl0ZW0odGhpcy5hZGRMYXllckJ0bik7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIEFwcC52aXN1YWxpemF0aW9uTW9kZWwuc3RhckxheWVycy5vblJlbW92ZS5hZGRFdmVudExpc3RlbmVyKChzdGFyTGF5ZXIpID0+IHtcclxuICAgICAgICAgICAgdmFyIGxheWVyQnRuID0gdGhpcy5sYXllckxpc3QuaXRlbXMuZmlyc3RPckRlZmF1bHQoeCA9PiB4LnRhZyA9PSBzdGFyTGF5ZXIpO1xyXG4gICAgICAgICAgICBpZiAobGF5ZXJCdG4pIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubGF5ZXJMaXN0LnJlbW92ZUl0ZW0obGF5ZXJCdG4pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNyZWF0ZUVkaXRMYXllckJ0bihzdGFyTGF5ZXI6IFN0YXJMYXllcikge1xyXG4gICAgICAgIHZhciBlZGl0TGF5ZXJCdG4gPSBuZXcgQnV0dG9uKCk7XHJcbiAgICAgICAgZWRpdExheWVyQnRuLnRleHQgPSBzdGFyTGF5ZXIubmFtZS5nZXQoKTtcclxuICAgICAgICBlZGl0TGF5ZXJCdG4udGFnID0gc3RhckxheWVyO1xyXG4gICAgICAgIGVkaXRMYXllckJ0bi5wcm9wZXJ0aWVzLmZpbGxTdHlsZSA9IFN0eWxlLmZpbGxTdHlsZTtcclxuICAgICAgICBlZGl0TGF5ZXJCdG4ucHJvcGVydGllcy5tb3VzZU92ZXJGaWxsU3R5bGUgPSBTdHlsZS5tb3VzT3ZlcjtcclxuICAgICAgICBlZGl0TGF5ZXJCdG4uY2xpY2tlZC5hZGRFdmVudExpc3RlbmVyKChzZW5kZXI6IENvbnRyb2wpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5lZGl0TGF5ZXIoc3RhckxheWVyKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gZWRpdExheWVyQnRuO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZWRpdExheWVyKHN0YXJMYXllcjogU3RhckxheWVyKSB7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5yZW1vdmVJdGVtKHRoaXMubmF2aWdhdGlvblZpZXcpO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucmVtb3ZlSXRlbSh0aGlzLmxheWVyTGlzdCk7XHJcbiAgICAgICAgdGhpcy5zdWJWaWV3ID0gbmV3IFN0YXJMYXllclNldHRpbmdzVmlldyhzdGFyTGF5ZXIpO1xyXG4gICAgICAgIHRoaXMuc3ViVmlldy5uYXZpZ2F0aW9uVmlldy5vbkdvQmFjay5hZGRFdmVudExpc3RlbmVyKCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5yZW1vdmVJdGVtKHRoaXMuc3ViVmlldyk7XHJcbiAgICAgICAgICAgIHRoaXMuc3ViVmlldyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHRoaXMubmF2aWdhdGlvblZpZXcpO1xyXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2godGhpcy5sYXllckxpc3QpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaCh0aGlzLnN1YlZpZXcpO1xyXG4gICAgICAgIHRoaXMudHJpZ2dlclVwZGF0ZUxheW91dCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVMYXlvdXQoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGJvdW5kczogUmVjdGFuZ2xlKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIudXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuICAgICAgICB0aGlzLm5hdmlnYXRpb25WaWV3LnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcbiAgICAgICAgdmFyIHNwYWNlID0gdGhpcy5uYXZpZ2F0aW9uVmlldy5kaW1lbnNpb25zLmhlaWdodCAqIDEuNTtcclxuICAgICAgICB0aGlzLmxheWVyTGlzdC51cGRhdGVMYXlvdXQoY3R4LCBuZXcgUmVjdGFuZ2xlKGJvdW5kcy54LCBib3VuZHMueSArIHNwYWNlLCBib3VuZHMud2lkdGgsIGJvdW5kcy5oZWlnaHQgLSBzcGFjZSkpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5zdWJWaWV3KSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3ViVmlldy51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IExheW91dFZpZXcgfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9sYXlvdXRDb250cm9scy9sYXlvdXRWaWV3XCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBTZXR0aW5nc1Zpc2liaWxpdHlTdGF0ZSB9IGZyb20gXCIuLi9tb2RlbHMvc2V0dGluZ3NWaXNpYmlsaXR5U3RhdGVcIjtcclxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvY29udHJvbHMvYnV0dG9uXCI7XHJcbmltcG9ydCB7IENvbnRyb2wgfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9jb250cm9scy9jb250cm9sXCI7XHJcbmltcG9ydCB7IExpc3RWaWV3IH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGlzdFZpZXdcIjtcclxuaW1wb3J0IHsgVmVydGljYWxBbGlnbmVtZW50T3B0aW9uIH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvYWxpZ25lbWVudC92ZXJ0aWNhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuaW1wb3J0IHsgSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24gfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9hbGlnbmVtZW50L2hvcml6b250YWxBbGlnbmVtZW50T3B0aW9uXCI7XHJcbmltcG9ydCB7IFN0eWxlIH0gZnJvbSBcIi4uLy4uL3ZpZXcvc3R5bGVcIjtcclxuaW1wb3J0IHsgU3RhckxheWVyc1NldHRpbmdzVmlldyB9IGZyb20gXCIuL3N0YXJMYXllcnNTZXR0aW5nc1ZpZXdcIjtcclxuaW1wb3J0IHsgTmF2aWdhdGlvblZpZXcgfSBmcm9tIFwiLi9uYXZpZ2F0aW9uVmlld1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNldHRpbmdzVmlldyBleHRlbmRzIExheW91dFZpZXcge1xyXG4gICAgcHJpdmF0ZSBzZXR0aW5nc0xpc3Q6IExpc3RWaWV3O1xyXG4gICAgcHJpdmF0ZSBzdWJWaWV3OiBOYXZpZ2F0aW9uVmlldztcclxuICAgIHN0YXJMYXllcnNCdG46IEJ1dHRvbjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuY3JlYXRlU2hvd0hpZGVTZXR0aW5nc0J0bigpO1xyXG5cclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdCA9IG5ldyBMaXN0VmlldygpO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LmFsaWduZW1lbnQuaG9yaXpvbnRhbEFsaWduID0gSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24uTGVmdDtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5hbGlnbmVtZW50LnZlcnRpY2FsQWxpZ24gPSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24uVG9wO1xyXG5cclxuICAgICAgICB0aGlzLnN0YXJMYXllcnNCdG4gPSBuZXcgQnV0dG9uKCk7XHJcbiAgICAgICAgdGhpcy5zdGFyTGF5ZXJzQnRuLnRleHQgPSBcIlN0YXIgTGF5ZXJzXCI7XHJcbiAgICAgICAgdGhpcy5zdGFyTGF5ZXJzQnRuLnByb3BlcnRpZXMuZmlsbFN0eWxlID0gU3R5bGUuZmlsbFN0eWxlO1xyXG4gICAgICAgIHRoaXMuc3RhckxheWVyc0J0bi5wcm9wZXJ0aWVzLm1vdXNlT3ZlckZpbGxTdHlsZSA9IFN0eWxlLm1vdXNPdmVyO1xyXG4gICAgICAgIHRoaXMuc3RhckxheWVyc0J0bi5jbGlja2VkLmFkZEV2ZW50TGlzdGVuZXIoKHNlbmRlcjogQ29udHJvbCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5yZW1vdmVJdGVtKHRoaXMuc3RhckxheWVyc0J0bik7XHJcbiAgICAgICAgICAgIHRoaXMuc3ViVmlldyA9IG5ldyBTdGFyTGF5ZXJzU2V0dGluZ3NWaWV3KCk7XHJcbiAgICAgICAgICAgIHRoaXMuc3ViVmlldy5uYXZpZ2F0aW9uVmlldy5vbkdvQmFjay5hZGRFdmVudExpc3RlbmVyKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LnJlbW92ZUl0ZW0odGhpcy5zdWJWaWV3KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3ViVmlldyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LmFkZEl0ZW0odGhpcy5zdGFyTGF5ZXJzQnRuKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LmFkZEl0ZW0odGhpcy5zdWJWaWV3KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5hZGRJdGVtKHRoaXMuc3RhckxheWVyc0J0bik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdXBlclN1cGVyUmVuZGVyID0gdGhpcy5yZW5kZXI7XHJcbiAgICBwdWJsaWMgcmVuZGVyID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3NWaXNpYmlsaXR5U3RhdGUgPT0gU2V0dGluZ3NWaXNpYmlsaXR5U3RhdGUudmlzaWJsZSkge1xyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gXCJyZ2JhKDAsMCwwLDAuOClcIlxyXG4gICAgICAgICAgICBjdHguZmlsbFJlY3QodGhpcy5ib3VuZHMueCwgdGhpcy5ib3VuZHMueSwgdGhpcy5ib3VuZHMud2lkdGggKiAzIC8gNCwgdGhpcy5ib3VuZHMuaGVpZ2h0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zdXBlclN1cGVyUmVuZGVyKGN0eCk7XHJcbiAgICB9O1xyXG4gICAgLy8gI3JlZ2lvbiAtLS0gc2hvdyBoaWRlIHNldHRpbmdzXHJcblxyXG4gICAgcHJpdmF0ZSBsYXN0TW92ZWQgPSBEYXRlLm5vdygpO1xyXG4gICAgcHJpdmF0ZSBpbmFjdGl2aXR5VGltZW91dCA9IDIwMDA7XHJcbiAgICBwcml2YXRlIHNob3dIaWRlU2V0dGluZ3NCdG46IEJ1dHRvbjtcclxuICAgIHByaXZhdGUgc2V0dGluZ3NJY29uVGV4dCA9IFwiXFx1ZjAxM1wiXHJcbiAgICBwcml2YXRlIHNldHRpbmdzQ2xvc2VJY29uVGV4dCA9IFwiXFx1ZjAwZFwiXHJcbiAgICBwcml2YXRlIHNldHRpbmdzVmlzaWJpbGl0eVN0YXRlOiBTZXR0aW5nc1Zpc2liaWxpdHlTdGF0ZSA9IFNldHRpbmdzVmlzaWJpbGl0eVN0YXRlLmhpZGRlbjtcclxuXHJcbiAgICBwcml2YXRlIGNyZWF0ZVNob3dIaWRlU2V0dGluZ3NCdG4oKSB7XHJcbiAgICAgICAgdGhpcy5zaG93SGlkZVNldHRpbmdzQnRuID0gbmV3IEJ1dHRvbigpO1xyXG4gICAgICAgIHRoaXMuc2hvd0hpZGVTZXR0aW5nc0J0bi5wcm9wZXJ0aWVzLmZvbnRQcmVmaXggPSBcIjkwMFwiO1xyXG4gICAgICAgIHRoaXMuc2hvd0hpZGVTZXR0aW5nc0J0bi5wcm9wZXJ0aWVzLmZvbnRGYW1pbHkgPSBcIidGb250IEF3ZXNvbWUgNSBGcmVlJ1wiO1xyXG4gICAgICAgIHRoaXMuc2hvd0hpZGVTZXR0aW5nc0J0bi50ZXh0ID0gdGhpcy5zZXR0aW5nc0ljb25UZXh0O1xyXG4gICAgICAgIHRoaXMuc2hvd0hpZGVTZXR0aW5nc0J0bi5hbGlnbmVtZW50LnZlcnRpY2FsQWxpZ24gPSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24uVG9wO1xyXG4gICAgICAgIHRoaXMuc2hvd0hpZGVTZXR0aW5nc0J0bi5hbGlnbmVtZW50Lmhvcml6b250YWxBbGlnbiA9IEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uLkxlZnQ7XHJcbiAgICAgICAgdGhpcy5zaG93SGlkZVNldHRpbmdzQnRuLnByb3BlcnRpZXMuZmlsbFN0eWxlID0gU3R5bGUuZmlsbFN0eWxlO1xyXG4gICAgICAgIHRoaXMuc2hvd0hpZGVTZXR0aW5nc0J0bi5wcm9wZXJ0aWVzLm1vdXNlT3ZlckZpbGxTdHlsZSA9IFN0eWxlLm1vdXNPdmVyO1xyXG4gICAgICAgIHRoaXMuc2hvd0hpZGVTZXR0aW5nc0J0bi5jbGlja2VkLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5zaG93SGlkZU92ZXJsYXlDbGlja2VkKTtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2godGhpcy5zaG93SGlkZVNldHRpbmdzQnRuKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNob3dIaWRlT3ZlcmxheUNsaWNrZWQgPSAoc2VuZGVyOiBDb250cm9sKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3NWaXNpYmlsaXR5U3RhdGUgPT0gU2V0dGluZ3NWaXNpYmlsaXR5U3RhdGUudmlzaWJsZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFNldHRpbmdzVmlzaWJpbGl0eVN0YXRlKFNldHRpbmdzVmlzaWJpbGl0eVN0YXRlLmJlZm9yZVZpc2libGUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U2V0dGluZ3NWaXNpYmlsaXR5U3RhdGUoU2V0dGluZ3NWaXNpYmlsaXR5U3RhdGUudmlzaWJsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtb3VzZUluYWN0aXZpdHlIYW5kbGVyID0gKCkgPT4ge1xyXG4gICAgICAgIGlmIChEYXRlLm5vdygpIC0gdGhpcy5sYXN0TW92ZWQgPj0gdGhpcy5pbmFjdGl2aXR5VGltZW91dCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5nc1Zpc2liaWxpdHlTdGF0ZSA9PSBTZXR0aW5nc1Zpc2liaWxpdHlTdGF0ZS5iZWZvcmVWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFNldHRpbmdzVmlzaWJpbGl0eVN0YXRlKFNldHRpbmdzVmlzaWJpbGl0eVN0YXRlLmhpZGRlbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMubW91c2VJbmFjdGl2aXR5SGFuZGxlciwgdGhpcy5pbmFjdGl2aXR5VGltZW91dCAtIChEYXRlLm5vdygpIC0gdGhpcy5sYXN0TW92ZWQpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXRTZXR0aW5nc1Zpc2liaWxpdHlTdGF0ZSA9IChzdGF0ZTogU2V0dGluZ3NWaXNpYmlsaXR5U3RhdGUpID0+IHtcclxuICAgICAgICBzd2l0Y2ggKHN0YXRlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgU2V0dGluZ3NWaXNpYmlsaXR5U3RhdGUuaGlkZGVuOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93SGlkZVNldHRpbmdzQnRuLnRleHQgPSB0aGlzLnNldHRpbmdzSWNvblRleHQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dIaWRlU2V0dGluZ3NCdG4ucHJvcGVydGllcy5iYWNrZ3JvdW5kRmlsbFN0eWxlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5yZW1vdmVJdGVtKHRoaXMuc2hvd0hpZGVTZXR0aW5nc0J0bik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzVmlzaWJpbGl0eVN0YXRlID0gU2V0dGluZ3NWaXNpYmlsaXR5U3RhdGUuaGlkZGVuO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgU2V0dGluZ3NWaXNpYmlsaXR5U3RhdGUuYmVmb3JlVmlzaWJsZTpcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0hpZGVTZXR0aW5nc0J0bi50ZXh0ID0gdGhpcy5zZXR0aW5nc0ljb25UZXh0O1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93SGlkZVNldHRpbmdzQnRuLnByb3BlcnRpZXMuYmFja2dyb3VuZEZpbGxTdHlsZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIHRoaXMubGFzdE1vdmVkID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzVmlzaWJpbGl0eVN0YXRlID09IFNldHRpbmdzVmlzaWJpbGl0eVN0YXRlLmhpZGRlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQodGhpcy5tb3VzZUluYWN0aXZpdHlIYW5kbGVyLCB0aGlzLmluYWN0aXZpdHlUaW1lb3V0KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuLmFkZEl0ZW1JZk5vdEV4aXN0cyh0aGlzLnNob3dIaWRlU2V0dGluZ3NCdG4pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3NWaXNpYmlsaXR5U3RhdGUgPT0gU2V0dGluZ3NWaXNpYmlsaXR5U3RhdGUudmlzaWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQodGhpcy5tb3VzZUluYWN0aXZpdHlIYW5kbGVyLCB0aGlzLmluYWN0aXZpdHlUaW1lb3V0KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdWJWaWV3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LnJlbW92ZUl0ZW0odGhpcy5zdWJWaWV3KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdWJWaWV3ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QuYWRkSXRlbSh0aGlzLnN0YXJMYXllcnNCdG4pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnJlbW92ZUl0ZW1JZkV4aXN0cyh0aGlzLnNldHRpbmdzTGlzdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzVmlzaWJpbGl0eVN0YXRlID0gU2V0dGluZ3NWaXNpYmlsaXR5U3RhdGUuYmVmb3JlVmlzaWJsZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFNldHRpbmdzVmlzaWJpbGl0eVN0YXRlLnZpc2libGU6XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5nc1Zpc2liaWxpdHlTdGF0ZSA9PSBTZXR0aW5nc1Zpc2liaWxpdHlTdGF0ZS5iZWZvcmVWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHRoaXMuc2V0dGluZ3NMaXN0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0hpZGVTZXR0aW5nc0J0bi50ZXh0ID0gdGhpcy5zZXR0aW5nc0Nsb3NlSWNvblRleHQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dIaWRlU2V0dGluZ3NCdG4ucHJvcGVydGllcy5iYWNrZ3JvdW5kRmlsbFN0eWxlID0gXCJyZ2JhKDAsMCwwLDAuNSlcIjtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3NWaXNpYmlsaXR5U3RhdGUgPSBTZXR0aW5nc1Zpc2liaWxpdHlTdGF0ZS52aXNpYmxlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbW91c2VDbGlja1Nob3dIaWRlU2V0dGluZ3MoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3NWaXNpYmlsaXR5U3RhdGUgPT0gU2V0dGluZ3NWaXNpYmlsaXR5U3RhdGUuaGlkZGVuIHx8IHRoaXMuc2V0dGluZ3NWaXNpYmlsaXR5U3RhdGUgPT0gU2V0dGluZ3NWaXNpYmlsaXR5U3RhdGUuYmVmb3JlVmlzaWJsZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFNldHRpbmdzVmlzaWJpbGl0eVN0YXRlKFNldHRpbmdzVmlzaWJpbGl0eVN0YXRlLmJlZm9yZVZpc2libGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG1vdXNlTW92ZVNob3dIaWRlU2V0dGluZ3MoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3NWaXNpYmlsaXR5U3RhdGUgPT0gU2V0dGluZ3NWaXNpYmlsaXR5U3RhdGUuaGlkZGVuIHx8IHRoaXMuc2V0dGluZ3NWaXNpYmlsaXR5U3RhdGUgPT0gU2V0dGluZ3NWaXNpYmlsaXR5U3RhdGUuYmVmb3JlVmlzaWJsZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFNldHRpbmdzVmlzaWJpbGl0eVN0YXRlKFNldHRpbmdzVmlzaWJpbGl0eVN0YXRlLmJlZm9yZVZpc2libGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyAjZW5kcmVnaW9uXHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUxheW91dChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG4gICAgICAgIHRoaXMuc2hvd0hpZGVTZXR0aW5nc0J0bi51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG4gICAgICAgIHZhciBzcGFjZSA9IHRoaXMuc2hvd0hpZGVTZXR0aW5nc0J0bi5kaW1lbnNpb25zLmhlaWdodCAqIDI7XHJcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3NMaXN0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LnVwZGF0ZUxheW91dChjdHgsIG5ldyBSZWN0YW5nbGUoYm91bmRzLngsIGJvdW5kcy55ICsgc3BhY2UsIGJvdW5kcy53aWR0aCwgYm91bmRzLmhlaWdodCAtIHNwYWNlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLnN1YlZpZXcpIHtcclxuICAgICAgICAgICAgdGhpcy5zdWJWaWV3LnVwZGF0ZUxheW91dChjdHgsIG5ldyBSZWN0YW5nbGUoYm91bmRzLngsIGJvdW5kcy55ICsgc3BhY2UsIGJvdW5kcy53aWR0aCwgYm91bmRzLmhlaWdodCAtIHNwYWNlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtb3VzZU1vdmUgPSAoZXY6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICB0aGlzLm1vdXNlTW92ZVNob3dIaWRlU2V0dGluZ3MoKTtcclxuICAgICAgICBzdXBlci5tb3VzZU1vdmUoZXYpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjbGljayA9IChldjogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIHRoaXMubW91c2VDbGlja1Nob3dIaWRlU2V0dGluZ3MoKTtcclxuICAgICAgICBzdXBlci5jbGljayhldik7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgRGluamVjdCB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZXM6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPSB7fVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgYWRkSW5zdGFuY2UgPSAobmFtZTogc3RyaW5nLCBpbnN0YW5jZTogYW55KSA9PiB7XHJcbiAgICAgICAgRGluamVjdC5pbnN0YW5jZXNbbmFtZV0gPSBpbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlID0gPFQ+KG5hbWU6IHN0cmluZyk6IFQgPT4ge1xyXG4gICAgICAgIHJldHVybiA8VD5EaW5qZWN0Lmluc3RhbmNlc1tuYW1lXTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IExheW91dFZpZXcgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9sYXlvdXRDb250cm9scy9sYXlvdXRWaWV3XCI7XHJcblxyXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9jb250cm9scy9idXR0b25cIjtcclxuaW1wb3J0IHsgVmVydGljYWxBbGlnbmVtZW50T3B0aW9uIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvYWxpZ25lbWVudC92ZXJ0aWNhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IExpc3RWaWV3IH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGlzdFZpZXdcIjtcclxuaW1wb3J0IHsgT3JpZW50YXRpb24gfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9hbGlnbmVtZW50L29yaWVudGF0aW9uXCI7XHJcbmltcG9ydCB7IERpbmplY3QgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9kaW5qZWN0XCI7XHJcbmltcG9ydCB7IEF1ZGlvTWFuYWdlciB9IGZyb20gXCIuLi9hdWRpb01hbmFnZXJcIjtcclxuaW1wb3J0IHsgU3R5bGUgfSBmcm9tIFwiLi9zdHlsZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBsYXllckNvbnRyb2xzVmlldyBleHRlbmRzIExheW91dFZpZXcge1xyXG5cclxuICAgIHByaXZhdGUgcGxheUljb25UZXh0ID0gXCJcXHVmMDRiXCIgLy8gXCJwbGF5XCJcclxuICAgIHByaXZhdGUgcGF1c2VJY29uVGV4dCA9IFwiXFx1ZjA0Y1wiIC8vIFwicGF1c2VcIlxyXG4gICAgcHJpdmF0ZSBzdG9wSWNvblRleHQgPSBcIlxcdWYwNGRcIiAvLyBcInN0b3BcIlxyXG4gICAgcHJpdmF0ZSBuZXh0SWNvblRleHQgPSBcIlxcdWYwNTFcIiAvLyBcIm5leHRcIlxyXG4gICAgcHJpdmF0ZSBwcmV2aW91c0ljb25UZXh0ID0gXCJcXHVmMDQ4XCIgLy8gXCJwcmV2aW91c1wiXHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuXHJcbiAgICAgICAgdmFyIGF1ZGlvTWFuYWdlcjogQXVkaW9NYW5hZ2VyID0gRGluamVjdC5nZXRJbnN0YW5jZShcImF1ZGlvXCIpO1xyXG5cclxuICAgICAgICB2YXIgbGlzdFZpZXcgPSBuZXcgTGlzdFZpZXcoKTtcclxuICAgICAgICBsaXN0Vmlldy5hbGlnbmVtZW50LnZlcnRpY2FsQWxpZ24gPSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24uQm90dG9tO1xyXG4gICAgICAgIGxpc3RWaWV3LmFsaWduZW1lbnQubWFyZ2luLmJvdHRvbSA9IDIwO1xyXG4gICAgICAgIGxpc3RWaWV3LnByb3BlcnRpZXMub3JpZW50YXRpb24gPSBPcmllbnRhdGlvbi5Ib3Jpem9udGFsO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChsaXN0Vmlldyk7XHJcblxyXG4gICAgICAgIHZhciBwbGF5UGF1c2VCdG4gPSB0aGlzLmNyZWF0ZUJ0bih0aGlzLnBsYXlJY29uVGV4dCwgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocGxheVBhdXNlQnRuLnRleHQgPT0gdGhpcy5wbGF5SWNvblRleHQpIHtcclxuICAgICAgICAgICAgICAgIGF1ZGlvTWFuYWdlci5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICBwbGF5UGF1c2VCdG4udGV4dCA9IHRoaXMucGF1c2VJY29uVGV4dDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGF1ZGlvTWFuYWdlci5wYXVzZSgpO1xyXG4gICAgICAgICAgICAgICAgcGxheVBhdXNlQnRuLnRleHQgPSB0aGlzLnBsYXlJY29uVGV4dDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJVcGRhdGVMYXlvdXQoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBsaXN0Vmlldy5hZGRJdGVtKHBsYXlQYXVzZUJ0bik7XHJcblxyXG4gICAgICAgIHZhciBzdG9wQnRuID0gdGhpcy5jcmVhdGVCdG4odGhpcy5zdG9wSWNvblRleHQsICgpID0+IHtcclxuICAgICAgICAgICAgYXVkaW9NYW5hZ2VyLnN0b3AoKTtcclxuICAgICAgICAgICAgaWYgKHBsYXlQYXVzZUJ0bi50ZXh0ID09IHRoaXMucGF1c2VJY29uVGV4dCkge1xyXG4gICAgICAgICAgICAgICAgcGxheVBhdXNlQnRuLnRleHQgPSB0aGlzLnBsYXlJY29uVGV4dDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJVcGRhdGVMYXlvdXQoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBsaXN0Vmlldy5hZGRJdGVtKHN0b3BCdG4pO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHZhciBwcmV2aW91c0J0biA9IHRoaXMuY3JlYXRlQnRuKHRoaXMucHJldmlvdXNJY29uVGV4dCwgKCkgPT4ge1xyXG4gICAgICAgICAgICBhdWRpb01hbmFnZXIucHJldmlvdXMoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBsaXN0Vmlldy5hZGRJdGVtKHByZXZpb3VzQnRuKTtcclxuICAgICAgICBcclxuICAgICAgICB2YXIgbmV4dEJ0biA9IHRoaXMuY3JlYXRlQnRuKHRoaXMubmV4dEljb25UZXh0LCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGF1ZGlvTWFuYWdlci5uZXh0KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbGlzdFZpZXcuYWRkSXRlbShuZXh0QnRuKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNyZWF0ZUJ0bihpY29uVGV4dDogc3RyaW5nLCBldmVudDogKCkgPT4gdm9pZCkge1xyXG4gICAgICAgIHZhciBwbGF5UGF1c2VCdG4gPSBuZXcgQnV0dG9uKCk7XHJcbiAgICAgICAgcGxheVBhdXNlQnRuLnByb3BlcnRpZXMuZm9udFByZWZpeCA9IFwiOTAwXCI7XHJcbiAgICAgICAgcGxheVBhdXNlQnRuLnByb3BlcnRpZXMuZm9udEZhbWlseSA9IFwiJ0ZvbnQgQXdlc29tZSA1IEZyZWUnXCI7XHJcbiAgICAgICAgcGxheVBhdXNlQnRuLnRleHQgPSBpY29uVGV4dDtcclxuICAgICAgICBwbGF5UGF1c2VCdG4ucHJvcGVydGllcy5maWxsU3R5bGUgPSBTdHlsZS5maWxsU3R5bGU7XHJcbiAgICAgICAgcGxheVBhdXNlQnRuLnByb3BlcnRpZXMubW91c2VPdmVyRmlsbFN0eWxlID0gU3R5bGUubW91c092ZXI7XHJcbiAgICAgICAgcGxheVBhdXNlQnRuLmNsaWNrZWQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCk7XHJcbiAgICAgICAgcmV0dXJuIHBsYXlQYXVzZUJ0bjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSkge1xyXG4gICAgICAgIHN1cGVyLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGNoaWxkLnVwZGF0ZUxheW91dChjdHgsIHRoaXMuYm91bmRzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBJbWFnZVNjYWxpbmdNb2RlIH0gZnJvbSBcIi4vaW1hZ2VTY2FsaW5nTW9kZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEltYWdlUHJvcGVydGllcyB7XHJcbiAgICBwdWJsaWMgaW1hZ2VTY2FsaW5nTW9kZSA9IEltYWdlU2NhbGluZ01vZGUuRml0QW5kU3BhY2U7XHJcbiAgICBwdWJsaWMgc2NhbGUgPSAxO1xyXG59IiwiaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBDb250cm9sIH0gZnJvbSBcIi4vY29udHJvbFwiO1xyXG5pbXBvcnQgeyBJbWFnZVByb3BlcnRpZXMgfSBmcm9tIFwiLi9pbWFnZVByb3BlcnRpZXNcIjtcclxuaW1wb3J0IHsgSW1hZ2VTY2FsaW5nTW9kZSB9IGZyb20gXCIuL2ltYWdlU2NhbGluZ01vZGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBFSW1hZ2UgZXh0ZW5kcyBDb250cm9sIHtcclxuICAgIHByaXZhdGUgaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQ7XHJcbiAgICBwdWJsaWMgcHJvcGVydGllcyA9IG5ldyBJbWFnZVByb3BlcnRpZXMoKTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihpbWFnZTogSFRNTEltYWdlRWxlbWVudCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5pbWFnZSA9IGltYWdlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlRnJvbVVybCA9IChpbWFnZVVybDogc3RyaW5nKTogUHJvbWlzZTxFSW1hZ2U+ID0+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICAgICAgaW1hZ2Uuc3JjID0gaW1hZ2VVcmw7XHJcbiAgICAgICAgICAgIGltYWdlLm9ubG9hZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUobmV3IEVJbWFnZShpbWFnZSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdXBlclJlbmRlciA9IHRoaXMucmVuZGVyO1xyXG4gICAgcHVibGljIHJlbmRlciA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc3VwZXJSZW5kZXIoY3R4KTtcclxuXHJcbiAgICAgICAgY3R4LmRyYXdJbWFnZSh0aGlzLmltYWdlLCB0aGlzLmRpbWVuc2lvbnMueCwgdGhpcy5kaW1lbnNpb25zLnksIHRoaXMuZGltZW5zaW9ucy53aWR0aCwgdGhpcy5kaW1lbnNpb25zLmhlaWdodCk7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNNb3VzZU92ZXIgJiYgdGhpcy5pc0VuYWJsZWQpIHtcclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwicmdiYSgyNTUsMjU1LDI1NSwwLjUpXCI7XHJcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdCh0aGlzLmRpbWVuc2lvbnMueCwgdGhpcy5kaW1lbnNpb25zLnksIHRoaXMuZGltZW5zaW9ucy53aWR0aCwgdGhpcy5kaW1lbnNpb25zLmhlaWdodCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVMYXlvdXQoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGJvdW5kczogUmVjdGFuZ2xlKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIudXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuXHJcbiAgICAgICAgdmFyIGZpdFNjYWxlID0gMTtcclxuXHJcbiAgICAgICAgdmFyIGltYWdlU2l6aW5nID0gdGhpcy5pbWFnZS5uYXR1cmFsV2lkdGggLyB0aGlzLmltYWdlLm5hdHVyYWxIZWlnaHQ7XHJcbiAgICAgICAgdmFyIHN0YWdlU2l6aW5nID0gYm91bmRzLndpZHRoIC8gYm91bmRzLmhlaWdodDtcclxuXHJcbiAgICAgICAgdmFyIGlzSW1hZ2VXaWRlciA9IGltYWdlU2l6aW5nID4gc3RhZ2VTaXppbmc7XHJcblxyXG4gICAgICAgIHN3aXRjaCAodGhpcy5wcm9wZXJ0aWVzLmltYWdlU2NhbGluZ01vZGUpIHtcclxuICAgICAgICAgICAgY2FzZSBJbWFnZVNjYWxpbmdNb2RlLkZpdEFuZE92ZXJmaWxsOlxyXG4gICAgICAgICAgICAgICAgaWYgKGlzSW1hZ2VXaWRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpdFNjYWxlID0gYm91bmRzLmhlaWdodCAvIHRoaXMuaW1hZ2UuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBmaXRTY2FsZSA9IGJvdW5kcy53aWR0aCAvIHRoaXMuaW1hZ2Uud2lkdGg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBJbWFnZVNjYWxpbmdNb2RlLkZpdEFuZFNwYWNlOlxyXG4gICAgICAgICAgICAgICAgaWYgKGlzSW1hZ2VXaWRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpdFNjYWxlID0gYm91bmRzLndpZHRoIC8gdGhpcy5pbWFnZS53aWR0aDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZml0U2NhbGUgPSBib3VuZHMuaGVpZ2h0IC8gdGhpcy5pbWFnZS5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMuaW1hZ2UubmF0dXJhbFdpZHRoICogZml0U2NhbGU7XHJcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuaW1hZ2UubmF0dXJhbEhlaWdodCAqIGZpdFNjYWxlO1xyXG5cclxuICAgICAgICB0aGlzLmRpbWVuc2lvbnMueCA9IHRoaXMuYWxpZ25lbWVudC5jYWxjdWxhdGVEaW1lbnNpb25zWChib3VuZHMsIHdpZHRoKTtcclxuICAgICAgICB0aGlzLmRpbWVuc2lvbnMueSA9IHRoaXMuYWxpZ25lbWVudC5jYWxjdWxhdGVEaW1lbnNpb25zWShib3VuZHMsIHdpZHRoKTtcclxuICAgICAgICB0aGlzLmRpbWVuc2lvbnMud2lkdGggPSB3aWR0aDtcclxuICAgICAgICB0aGlzLmRpbWVuc2lvbnMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgTGF5b3V0VmlldyB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xheW91dFZpZXdcIjtcclxuaW1wb3J0IHsgRGluamVjdCB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL2RpbmplY3RcIjtcclxuaW1wb3J0IHsgQXNzZXRNYW5hZ2VyIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvYXNzZXRNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IEVJbWFnZSB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2ltYWdlXCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBJbWFnZVNjYWxpbmdNb2RlIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvY29udHJvbHMvaW1hZ2VTY2FsaW5nTW9kZVwiO1xyXG5pbXBvcnQgeyBBdWRpb01hbmFnZXIgfSBmcm9tIFwiLi4vYXVkaW9NYW5hZ2VyXCI7XHJcbmltcG9ydCB7IEF1ZGlvR3JhcGhOb2RlQW5hbHlzZXIgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9hdWRpby9hdWRpb0dyYXBoTm9kZUFuYWx5c2VyXCI7XHJcbmltcG9ydCB7IExhYmVsIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvY29udHJvbHMvbGFiZWxcIjtcclxuaW1wb3J0IHsgU3R5bGUgfSBmcm9tIFwiLi9zdHlsZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1haW5WaWV3IGV4dGVuZHMgTGF5b3V0VmlldyB7XHJcbiAgICBhbmFseXNlcjogQXVkaW9HcmFwaE5vZGVBbmFseXNlcjtcclxuXHJcbiAgICBwcml2YXRlIGZyZXF1ZW5jeUluZGV4ID0gNztcclxuICAgIHByaXZhdGUgbG93ZXJCb3JkZXIgPSAwLjQ7XHJcbiAgICBwcml2YXRlIHVwcGVyQm9yZGVyID0gMC45O1xyXG4gICAgc29uZ05hbWU6IExhYmVsO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdmFyIGFzc2V0TWFuYWdlciA9IERpbmplY3QuZ2V0SW5zdGFuY2UoXCJhc3NldHNcIikgYXMgQXNzZXRNYW5hZ2VyO1xyXG5cclxuICAgICAgICB2YXIgYXVkaW9NYW5hZ2VyID0gRGluamVjdC5nZXRJbnN0YW5jZShcImF1ZGlvXCIpIGFzIEF1ZGlvTWFuYWdlcjtcclxuICAgICAgICB0aGlzLmFuYWx5c2VyID0gYXVkaW9NYW5hZ2VyLmdldEFuYWx5c2VyKCk7XHJcblxyXG4gICAgICAgIHZhciBsb2dvID0gYXNzZXRNYW5hZ2VyLmdldEltYWdlKFwibG9nb1wiKTtcclxuICAgICAgICB2YXIgbG9nb05vdmEgPSBhc3NldE1hbmFnZXIuZ2V0SW1hZ2UoXCJsb2dvLW5vdmFcIik7XHJcblxyXG4gICAgICAgIHRoaXMuZGlzYWJsZU1vdXNlRXZlbnRzKCk7XHJcblxyXG4gICAgICAgIHZhciBsb2dvTm92YUVJbWFnZSA9IG5ldyBFSW1hZ2UobG9nb05vdmEpO1xyXG4gICAgICAgIGxvZ29Ob3ZhRUltYWdlLnByb3BlcnRpZXMuaW1hZ2VTY2FsaW5nTW9kZSA9IEltYWdlU2NhbGluZ01vZGUuRml0QW5kU3BhY2U7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGxvZ29Ob3ZhRUltYWdlKTtcclxuXHJcbiAgICAgICAgdmFyIGZ1bmMgPSBsb2dvTm92YUVJbWFnZS5yZW5kZXJcclxuXHJcbiAgICAgICAgbG9nb05vdmFFSW1hZ2UucmVuZGVyID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PiB7XHJcbiAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5hbmFseXNlci5nZXRTcGVjdHJ1bSgpO1xyXG4gICAgICAgICAgICB2YXIgcmVsRGF0YVZhbHVlID0gdGhpcy5jYWxjdWxhdGVSZWxEYXRhVmFsdWUoZGF0YVt0aGlzLmZyZXF1ZW5jeUluZGV4XSk7XHJcblxyXG4gICAgICAgICAgICBjdHguc2F2ZSgpO1xyXG4gICAgICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSByZWxEYXRhVmFsdWU7XHJcbiAgICAgICAgICAgIGZ1bmMoY3R4KTtcclxuICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBsb2dvRnJvbnQgPSBuZXcgRUltYWdlKGxvZ28pO1xyXG4gICAgICAgIGxvZ29Gcm9udC5wcm9wZXJ0aWVzLmltYWdlU2NhbGluZ01vZGUgPSBJbWFnZVNjYWxpbmdNb2RlLkZpdEFuZFNwYWNlO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChsb2dvRnJvbnQpO1xyXG5cclxuICAgICAgICBhdWRpb01hbmFnZXIuc29uZ0NoYW5nZWQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLnNvbmdDaGFuZ2VkKTtcclxuICAgICAgICB0aGlzLnNvbmdOYW1lID0gbmV3IExhYmVsKCk7XHJcbiAgICAgICAgdGhpcy5zb25nTmFtZS50ZXh0ID0gYXVkaW9NYW5hZ2VyLmN1cnJlbnRTb25nTmFtZTtcclxuICAgICAgICB0aGlzLm5ld1NvbmdOYW1lID0gYXVkaW9NYW5hZ2VyLmN1cnJlbnRTb25nTmFtZTtcclxuICAgICAgICB0aGlzLnNvbmdOYW1lLnByb3BlcnRpZXMuZm9udFNpemUgPSA0MDtcclxuICAgICAgICB0aGlzLnNvbmdOYW1lLnByb3BlcnRpZXMuZmlsbFN0eWxlID0gU3R5bGUubW91c092ZXI7XHJcbiAgICAgICAgdGhpcy5zb25nTmFtZS5wcm9wZXJ0aWVzLmZvbnRGYW1pbHkgPSBcIkdlb3JnaWFcIjtcclxuICAgICAgICB0aGlzLnNvbmdOYW1lLmFsaWduZW1lbnQudmVydGljYWxBbGlnbm1lbnRSYXRpbyA9IDAuNjtcclxuICAgICAgICAoZG9jdW1lbnQgYXMgYW55KS54ID0gdGhpcy5zb25nTmFtZTtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2godGhpcy5zb25nTmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpc1NvbmdBbmltYXRpbmcgPSBmYWxzZTtcclxuICAgIHByaXZhdGUgbmV3U29uZ05hbWU6IHN0cmluZztcclxuICAgIHByaXZhdGUgc29uZ0NoYW5nZWQgPSAoc29uZ05hbWU6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIHRoaXMubmV3U29uZ05hbWUgPSBzb25nTmFtZTtcclxuICAgICAgICBpZiAoIXRoaXMuaXNTb25nQW5pbWF0aW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNTb25nQW5pbWF0aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5zb25nTmFtZS5kZWFjdGl2YXRlKDAuOCk7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb25nTmFtZS50ZXh0ID0gdGhpcy5uZXdTb25nTmFtZTtcclxuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlclVwZGF0ZUxheW91dCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb25nTmFtZS5hY3RpdmF0ZSgwLjgpO1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1NvbmdBbmltYXRpbmcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0sIDkwMCk7XHJcbiAgICAgICAgICAgIH0sIDkwMCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5uZXdTb25nTmFtZSA9PSBzb25nTmFtZSAmJiB0aGlzLnNvbmdOYW1lLnRleHQgIT0gc29uZ05hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNvbmdDaGFuZ2VkKHNvbmdOYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgMTAwMCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2FsY3VsYXRlUmVsRGF0YVZhbHVlKGRhdGFWYWx1ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgdmFyIHJlbERhdGFWYWx1ZSA9IGRhdGFWYWx1ZSAvIDI1NTtcclxuICAgICAgICBpZiAocmVsRGF0YVZhbHVlIDwgdGhpcy5sb3dlckJvcmRlcikge1xyXG4gICAgICAgICAgICByZWxEYXRhVmFsdWUgPSB0aGlzLmxvd2VyQm9yZGVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmVsRGF0YVZhbHVlID4gdGhpcy51cHBlckJvcmRlcikge1xyXG4gICAgICAgICAgICByZWxEYXRhVmFsdWUgPSB0aGlzLnVwcGVyQm9yZGVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZmluYWxSZWxEYXRhVmFsdWUgPSAocmVsRGF0YVZhbHVlIC0gdGhpcy5sb3dlckJvcmRlcikgLyAodGhpcy51cHBlckJvcmRlciAtIHRoaXMubG93ZXJCb3JkZXIpO1xyXG4gICAgICAgIHJldHVybiBmaW5hbFJlbERhdGFWYWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGNoaWxkLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgUmVuZGVyT2JqZWN0IH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvcmVuZGVyT2JqZWN0XCI7XHJcbmltcG9ydCB7IFN0YXJMYXllciB9IGZyb20gXCIuLi8uLi9tb2RlbHMvc3RhckxheWVyXCI7XHJcbmltcG9ydCB7IFN0YXIgfSBmcm9tIFwiLi4vLi4vbW9kZWxzL3N0YXJcIjtcclxuaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4uLy4uL2FwcFwiO1xyXG5pbXBvcnQgeyBFQW5pbWF0aW9uIH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvZUFuaW1hdGlvblwiO1xyXG5pbXBvcnQgeyBEaW5qZWN0IH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvZGluamVjdFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFN0YXJMYXllclZpZXcgZXh0ZW5kcyBSZW5kZXJPYmplY3Qge1xyXG4gICAgcHJpdmF0ZSBzdGFyczogU3RhcltdID0gW107XHJcbiAgICBwcml2YXRlIGFuaW1hdGlvbjogRUFuaW1hdGlvbjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHN0YXJMYXllcjogU3RhckxheWVyKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLnRhZyA9IHN0YXJMYXllcjtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbiA9IERpbmplY3QuZ2V0SW5zdGFuY2UoXCJhbmltYXRpb25cIik7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb24uYWRkVXBkYXRlRnVuY3Rpb24odGhpcy51cGRhdGUpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0YXJMYXllci5udW1iZXJPZlN0YXJzLmdldCgpOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5hZGRTdGFyKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzdGFyTGF5ZXIubnVtYmVyT2ZTdGFycy5PbkNoYW5nZWQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLm51bWJlck9mU3RhcnNDaGFuZ2VkKTtcclxuICAgICAgICBzdGFyTGF5ZXIuc3RhclJhZGl1c0xvd2VyQm9yZGVyLk9uQ2hhbmdlZC5hZGRFdmVudExpc3RlbmVyKChvbGRWYWx1ZSwgbmV3VmFsdWUpID0+IHsgdGhpcy5zaXplQ2hhbmdlZChvbGRWYWx1ZSwgdGhpcy5zdGFyTGF5ZXIuc3RhclJhZGl1c1VwcGVyQm9yZGVyLmdldCgpKSB9KTtcclxuICAgICAgICBzdGFyTGF5ZXIuc3RhclJhZGl1c1VwcGVyQm9yZGVyLk9uQ2hhbmdlZC5hZGRFdmVudExpc3RlbmVyKChvbGRWYWx1ZSwgbmV3VmFsdWUpID0+IHsgdGhpcy5zaXplQ2hhbmdlZCh0aGlzLnN0YXJMYXllci5zdGFyUmFkaXVzTG93ZXJCb3JkZXIuZ2V0KCksIG9sZFZhbHVlKSB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNpemVDaGFuZ2VkID0gKGxvd2VyVmFsdWU6IG51bWJlciwgdXBwZXJWYWx1ZTogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRWYWx1ZUxvdyA9IGxvd2VyVmFsdWU7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRWYWx1ZUhpZ2ggPSB1cHBlclZhbHVlO1xyXG5cclxuICAgICAgICB2YXIgbWluRml4ID0gKGN1cnJlbnRWYWx1ZUhpZ2ggLSBjdXJyZW50VmFsdWVMb3cpO1xyXG4gICAgICAgIGlmIChtaW5GaXggPD0gMCkge1xyXG4gICAgICAgICAgICBtaW5GaXggPSAwLjAwMDFcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHJhdGlvID0gKHRoaXMuc3RhckxheWVyLnN0YXJSYWRpdXNVcHBlckJvcmRlci5nZXQoKSAtIHRoaXMuc3RhckxheWVyLnN0YXJSYWRpdXNMb3dlckJvcmRlci5nZXQoKSkgLyBtaW5GaXg7XHJcbiAgICAgICAgZm9yIChjb25zdCBzdGFyIG9mIHRoaXMuc3RhcnMpIHtcclxuICAgICAgICAgICAgc3Rhci5yID0gKHN0YXIuciAtIGN1cnJlbnRWYWx1ZUxvdykgKiByYXRpbyArIHRoaXMuc3RhckxheWVyLnN0YXJSYWRpdXNMb3dlckJvcmRlci5nZXQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBudW1iZXJPZlN0YXJzQ2hhbmdlZCA9IChvbGRWYWx1ZTogbnVtYmVyLCBuZXdWYWx1ZTogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgdmFyIGRpZmYgPSBuZXdWYWx1ZSAtIHRoaXMuc3RhcnMubGVuZ3RoO1xyXG4gICAgICAgIGlmIChkaWZmID4gMCkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRpZmY7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRTdGFyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IC1kaWZmOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMuc3RhcnMubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhcnMucmVtb3ZlSXRlbSh0aGlzLnN0YXJzW2ldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlID0gKHRpbWVEaWZmOiBudW1iZXIpID0+IHtcclxuICAgICAgICBmb3IgKGNvbnN0IHN0YXIgb2YgdGhpcy5zdGFycykge1xyXG4gICAgICAgICAgICBzdGFyLnggKz0gdGhpcy5zdGFyTGF5ZXIuc3BlZWQuZ2V0KCkgKiB0aW1lRGlmZjtcclxuICAgICAgICAgICAgc3Rhci55ICs9IHRoaXMuc3RhckxheWVyLnNwZWVkLmdldCgpICogdGltZURpZmY7XHJcbiAgICAgICAgICAgIGlmIChzdGFyLnggPiBBcHAudmlzdWFsaXphdGlvbk1vZGVsLndpZHRoLmdldCgpKSB7XHJcbiAgICAgICAgICAgICAgICBzdGFyLnggLT0gQXBwLnZpc3VhbGl6YXRpb25Nb2RlbC53aWR0aC5nZXQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc3Rhci55ID4gQXBwLnZpc3VhbGl6YXRpb25Nb2RlbC5oZWlnaHQuZ2V0KCkpIHtcclxuICAgICAgICAgICAgICAgIHN0YXIueSAtPSBBcHAudmlzdWFsaXphdGlvbk1vZGVsLmhlaWdodC5nZXQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVuZGVyID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCA9PiB7XHJcbiAgICAgICAgZm9yIChjb25zdCBzdGFyIG9mIHRoaXMuc3RhcnMpIHtcclxuICAgICAgICAgICAgdmFyIGVuZCA9IHN0YXIuciAqIDM7XHJcbiAgICAgICAgICAgIHZhciBncmFkID0gY3R4LmNyZWF0ZVJhZGlhbEdyYWRpZW50KHN0YXIueCwgc3Rhci55LCBzdGFyLnIsIHN0YXIueCwgc3Rhci55LCBlbmQpO1xyXG4gICAgICAgICAgICBncmFkLmFkZENvbG9yU3RvcCgwLCAncmdiYSgyNTUsIDI1NSwgMjU1LCAwLjIpJyk7XHJcbiAgICAgICAgICAgIGdyYWQuYWRkQ29sb3JTdG9wKDEsICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDApJyk7XHJcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBncmFkO1xyXG4gICAgICAgICAgICBjdHguYXJjKHN0YXIueCwgc3Rhci55LCBlbmQsIDAsIE1hdGguUEkgKiAyKTtcclxuICAgICAgICAgICAgY3R4LmZpbGwoKTtcclxuXHJcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBcIndoaXRlXCI7XHJcbiAgICAgICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICAgICAgY3R4LmFyYyhzdGFyLngsIHN0YXIueSwgc3Rhci5yLCAwLCBNYXRoLlBJICogMik7XHJcbiAgICAgICAgICAgIGN0eC5maWxsKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYWRkU3RhcigpIHtcclxuICAgICAgICB0aGlzLnN0YXJzLnB1c2goe1xyXG4gICAgICAgICAgICB4OiBNYXRoLnJhbmRvbSgpICogQXBwLnZpc3VhbGl6YXRpb25Nb2RlbC53aWR0aC5nZXQoKSxcclxuICAgICAgICAgICAgeTogTWF0aC5yYW5kb20oKSAqIEFwcC52aXN1YWxpemF0aW9uTW9kZWwuaGVpZ2h0LmdldCgpLFxyXG4gICAgICAgICAgICByOiBNYXRoLnJhbmRvbSgpICogKHRoaXMuc3RhckxheWVyLnN0YXJSYWRpdXNVcHBlckJvcmRlci5nZXQoKSAtIHRoaXMuc3RhckxheWVyLnN0YXJSYWRpdXNMb3dlckJvcmRlci5nZXQoKSkgKyB0aGlzLnN0YXJMYXllci5zdGFyUmFkaXVzTG93ZXJCb3JkZXIuZ2V0KClcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBtb3VzZURvd24oZXY6IE1vdXNlRXZlbnQpOiB2b2lkIHtcclxuICAgIH1cclxuICAgIG1vdXNlVXAoZXY6IE1vdXNlRXZlbnQpOiB2b2lkIHtcclxuICAgIH1cclxuICAgIG1vdXNlTW92ZShldjogTW91c2VFdmVudCk6IHZvaWQge1xyXG4gICAgfVxyXG4gICAgY2xpY2soZXY6IE1vdXNlRXZlbnQpOiB2b2lkIHtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEFwcCB9IGZyb20gXCIuLi8uLi9hcHBcIjtcclxuaW1wb3J0IHsgU3RhckxheWVyIH0gZnJvbSBcIi4uLy4uL21vZGVscy9zdGFyTGF5ZXJcIjtcclxuaW1wb3J0IHsgU3RhckxheWVyVmlldyB9IGZyb20gXCIuL3N0YXJMYXllclZpZXdcIjtcclxuaW1wb3J0IHsgTGF5b3V0VmlldyB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xheW91dFZpZXdcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTdGFyTGF5ZXJNYW5hZ2VyVmlldyBleHRlbmRzIExheW91dFZpZXcge1xyXG4gICAgcHJpdmF0ZSBzdGFyTGF5ZXJWaWV3czogU3RhckxheWVyVmlld1tdID0gW107XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmRpc2FibGVNb3VzZUV2ZW50cygpO1xyXG4gICAgICAgIEFwcC52aXN1YWxpemF0aW9uTW9kZWwuc3RhckxheWVycy5vbkFkZC5hZGRFdmVudExpc3RlbmVyKHRoaXMuYWRkU3RhckxheWVyKTtcclxuICAgICAgICBBcHAudmlzdWFsaXphdGlvbk1vZGVsLnN0YXJMYXllcnMub25SZW1vdmUuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLnJlbW92ZVN0YXJMYXllcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhZGRTdGFyTGF5ZXIgPSAoc3RhckxheWVyOiBTdGFyTGF5ZXIpID0+IHtcclxuICAgICAgICB2YXIgc3RhckxheWVyVmlldyA9IG5ldyBTdGFyTGF5ZXJWaWV3KHN0YXJMYXllcik7XHJcbiAgICAgICAgdGhpcy5zdGFyTGF5ZXJWaWV3cy5wdXNoKHN0YXJMYXllclZpZXcpO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChzdGFyTGF5ZXJWaWV3KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlbW92ZVN0YXJMYXllciA9IChzdGFyTGF5ZXI6IFN0YXJMYXllcikgPT4ge1xyXG4gICAgICAgIHZhciBzdGFyTGF5ZXJWaWV3ID0gdGhpcy5zdGFyTGF5ZXJWaWV3cy5maXJzdE9yRGVmYXVsdCh4ID0+IHgudGFnID09IHN0YXJMYXllcik7XHJcbiAgICAgICAgaWYgKHN0YXJMYXllclZpZXcpIHtcclxuICAgICAgICAgICAgdGhpcy5zdGFyTGF5ZXJWaWV3cy5yZW1vdmVJdGVtKHN0YXJMYXllclZpZXcpO1xyXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnJlbW92ZUl0ZW0oc3RhckxheWVyVmlldyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgTGF5b3V0VmlldyB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xheW91dFZpZXdcIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IFNldHRpbmdzVmlldyB9IGZyb20gXCIuLi9zZXR0aW5ncy92aWV3L3NldHRpbmdzVmlld1wiO1xyXG5pbXBvcnQgeyBFQW5pbWF0aW9uIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvZUFuaW1hdGlvblwiO1xyXG5pbXBvcnQgeyBEaW5qZWN0IH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvZGluamVjdFwiO1xyXG5pbXBvcnQgeyBQbGF5ZXJDb250cm9sc1ZpZXcgfSBmcm9tIFwiLi9wbGF5ZXJDb250cm9sc1ZpZXdcIjtcclxuaW1wb3J0IHsgTWFpblZpZXcgfSBmcm9tIFwiLi9tYWluVmlld1wiO1xyXG5pbXBvcnQgeyBBc3NldE1hbmFnZXIgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9hc3NldE1hbmFnZXJcIjtcclxuaW1wb3J0IHsgRUltYWdlIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvY29udHJvbHMvaW1hZ2VcIjtcclxuaW1wb3J0IHsgSW1hZ2VTY2FsaW5nTW9kZSB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2ltYWdlU2NhbGluZ01vZGVcIjtcclxuaW1wb3J0IHsgU3RhckxheWVyTWFuYWdlclZpZXcgfSBmcm9tIFwiLi9zdGFyTGF5ZXJzL3N0YXJMYXllck1hbmFnZXJWaWV3XCI7XHJcbmltcG9ydCB7IEFwcCB9IGZyb20gXCIuLi9hcHBcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBSb290VmlldyBleHRlbmRzIExheW91dFZpZXcge1xyXG4gICAgcHJpdmF0ZSBhbmltYXRpb246IEVBbmltYXRpb247XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltYXRpb24gPSBEaW5qZWN0LmdldEluc3RhbmNlKFwiYW5pbWF0aW9uXCIpO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uLmxvd1BlcmZvcm1hbmNlLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5vbkxvd1BlcmZvcm1hbmNlKTtcclxuICAgICAgICAvLyBBcHAuc2V0dGluZ01hbmFnZXIudXBkYXRlLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5hcHBTZXR0aW5nc1VwZGF0ZWQpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWRCYWNrZ3JvdW5kKCk7XHJcblxyXG4gICAgICAgIHZhciBzdGFyTGF5ZXJNYW5hZ2VyVmlldyA9IG5ldyBTdGFyTGF5ZXJNYW5hZ2VyVmlldygpO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChzdGFyTGF5ZXJNYW5hZ2VyVmlldyk7XHJcblxyXG4gICAgICAgIHZhciBmcm9udCA9IG5ldyBNYWluVmlldygpO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChmcm9udCk7XHJcblxyXG4gICAgICAgIHZhciBwbGF5ZXJWaWV3ID0gbmV3IFBsYXllckNvbnRyb2xzVmlldygpO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChwbGF5ZXJWaWV3KTtcclxuXHJcbiAgICAgICAgdmFyIHNldHRpbmdzT3ZlcmxheSA9IG5ldyBTZXR0aW5nc1ZpZXcoKTtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goc2V0dGluZ3NPdmVybGF5KTtcclxuXHJcbiAgICAgICAgdGhpcy50cmlnZ2VyVXBkYXRlTGF5b3V0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBvbkxvd1BlcmZvcm1hbmNlID0gKCkgPT4ge1xyXG4gICAgICAgIGZvciAoY29uc3Qgc3RhckxheWVyIG9mIEFwcC52aXN1YWxpemF0aW9uTW9kZWwuc3RhckxheWVycy5pdGVtcykge1xyXG4gICAgICAgICAgICBzdGFyTGF5ZXIubnVtYmVyT2ZTdGFycy5zZXQoc3RhckxheWVyLm51bWJlck9mU3RhcnMuZ2V0KCkgKiAwLjkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGxvYWRCYWNrZ3JvdW5kKCkge1xyXG4gICAgICAgIHZhciBhc3NldE1hbmFnZXIgPSBEaW5qZWN0LmdldEluc3RhbmNlKFwiYXNzZXRzXCIpIGFzIEFzc2V0TWFuYWdlcjtcclxuICAgICAgICB2YXIgYmFja2dyb3VuZCA9IGFzc2V0TWFuYWdlci5nZXRJbWFnZShcImJhY2tncm91bmRcIik7XHJcbiAgICAgICAgdmFyIGJhY2tncm91bmRJbWFnZSA9IG5ldyBFSW1hZ2UoYmFja2dyb3VuZCk7XHJcbiAgICAgICAgYmFja2dyb3VuZEltYWdlLmRpc2FibGVNb3VzZUV2ZW50cygpO1xyXG4gICAgICAgIGJhY2tncm91bmRJbWFnZS5wcm9wZXJ0aWVzLmltYWdlU2NhbGluZ01vZGUgPSBJbWFnZVNjYWxpbmdNb2RlLkZpdEFuZE92ZXJmaWxsO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChiYWNrZ3JvdW5kSW1hZ2UpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVMYXlvdXQoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGJvdW5kczogUmVjdGFuZ2xlKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIudXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgY2hpbGQudXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBFRXZlbnQgfSBmcm9tIFwiLi9lRXZlbnRcIjtcclxuXHJcbmV4cG9ydCB0eXBlIFVwZGF0ZUZ1bmN0aW9uID0gKHRpbWVEaWZmOiBudW1iZXIpID0+IHZvaWQ7XHJcblxyXG5leHBvcnQgY2xhc3MgRUFuaW1hdGlvbiB7XHJcbiAgICBwcml2YXRlIHVwZGF0ZUZ1bmN0aW9uczogVXBkYXRlRnVuY3Rpb25bXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBpc1J1bm5pbmcgPSBmYWxzZTtcclxuICAgIHByaXZhdGUgbGFzdEZyYW1lVGltZTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBmcHM6IG51bWJlcjtcclxuICAgIHByaXZhdGUgZnBzSW50ZXJ2YWw6IG51bWJlcjtcclxuICAgIHByaXZhdGUgcGVyZm9ybWFuY2VXYXJuaW5nVGhyZXNob2xkID0gMS4yO1xyXG4gICAgcHJpdmF0ZSBwZXJmb3JtYW5jZVdhcm5pbmdEZWxheVJ1bnMgPSA4O1xyXG4gICAgcHJpdmF0ZSBjdXJyZW50UGVyZm9ybWFuY2VXYXJuaW5nRGVsYXlSdW4gPSAwO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnNldEZwcygzMCk7XHJcbiAgICAgICAgdGhpcy5wbGF5KCk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gODApIHsgLy8gcFxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5UGF1c2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBsb3dQZXJmb3JtYW5jZTogRUV2ZW50ID0gbmV3IEVFdmVudCgpO1xyXG5cclxuICAgIHB1YmxpYyBwbGF5KCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc1J1bm5pbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5pc1J1bm5pbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RGcmFtZVRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbkxvb3AoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBhdXNlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzUnVubmluZykge1xyXG4gICAgICAgICAgICB0aGlzLmlzUnVubmluZyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGxheVBhdXNlKCkge1xyXG4gICAgICAgIHRoaXMuaXNSdW5uaW5nID8gdGhpcy5wYXVzZSgpIDogdGhpcy5wbGF5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZFVwZGF0ZUZ1bmN0aW9uID0gKGZ1bmM6IFVwZGF0ZUZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVGdW5jdGlvbnMucHVzaChmdW5jKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlVXBkYXRlRnVuY3Rpb24gPSAoZnVuYzogVXBkYXRlRnVuY3Rpb24pID0+IHtcclxuICAgICAgICB0aGlzLnVwZGF0ZUZ1bmN0aW9ucy5zcGxpY2UodGhpcy51cGRhdGVGdW5jdGlvbnMuaW5kZXhPZihmdW5jKSwgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldEZwcyA9IChmcHM6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIHRoaXMuZnBzID0gZnBzO1xyXG4gICAgICAgIHRoaXMuZnBzSW50ZXJ2YWwgPSAxMDAwIC8gdGhpcy5mcHM7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhbmltYXRpb25Mb29wID0gKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmlzUnVubmluZykge1xyXG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRpb25Mb29wKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBub3cgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIHZhciBlbGFwc2VkID0gbm93IC0gdGhpcy5sYXN0RnJhbWVUaW1lO1xyXG5cclxuICAgICAgICBpZiAoZWxhcHNlZCA+IHRoaXMuZnBzSW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgdGhpcy5sYXN0RnJhbWVUaW1lID0gbm93O1xyXG4gICAgICAgICAgICB2YXIgdGltZURpZmYgPSBlbGFwc2VkIC8gMTAwMDtcclxuXHJcbiAgICAgICAgICAgIGlmICgoZWxhcHNlZCAvIHRoaXMuZnBzSW50ZXJ2YWwpIC0gMSA+IHRoaXMucGVyZm9ybWFuY2VXYXJuaW5nVGhyZXNob2xkKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIldhcm5pbmc6IGxvdyBwZXJmb3JtYW5jZVwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBlcmZvcm1hbmNlV2FybmluZ0RlbGF5UnVuKys7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jdXJyZW50UGVyZm9ybWFuY2VXYXJuaW5nRGVsYXlSdW4gPiB0aGlzLnBlcmZvcm1hbmNlV2FybmluZ0RlbGF5UnVucykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG93UGVyZm9ybWFuY2UuZGlzcGF0Y2hFdmVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBlcmZvcm1hbmNlV2FybmluZ0RlbGF5UnVuID0gMDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmN1cnJlbnRQZXJmb3JtYW5jZVdhcm5pbmdEZWxheVJ1biA+IDApIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFBlcmZvcm1hbmNlV2FybmluZ0RlbGF5UnVuID0gMDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZm9yIChjb25zdCB1cGRhdGVGdW5jdGlvbiBvZiB0aGlzLnVwZGF0ZUZ1bmN0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlRnVuY3Rpb24odGltZURpZmYpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIENhbnZhc0hlbHBlciB7XHJcbiAgICBwdWJsaWMgbG9hZEZvbnRhd2Vzb21lRnJlZSA9ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5sb2FkRm9udChcIlxcdWYyNDRcIiwgXCJcXHVmMjQwXCIsIFwiOTAwIDIwcHggJ0ZvbnQgQXdlc29tZSA1IEZyZWUnXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBsb2FkRm9udGF3ZXNvbWVCcmFuZHMgPSAoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZEZvbnQoXCJcXHVmM2QzXCIsIFwiXFx1ZjNiOFwiLCBcIjQwMCAyMHB4ICdGb250IEF3ZXNvbWUgNSBCcmFuZHMnXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY291bnRQaXhlbHMgPSAoaW1hZ2VEYXRhOiBJbWFnZURhdGEpID0+IHtcclxuICAgICAgICB2YXIgcGl4ZWxDb3VudCA9IDA7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbWFnZURhdGEuZGF0YS5sZW5ndGg7IGkgPSBpICsgNCkge1xyXG4gICAgICAgICAgICB2YXIgciA9IGltYWdlRGF0YS5kYXRhW2ldO1xyXG4gICAgICAgICAgICB2YXIgZyA9IGltYWdlRGF0YS5kYXRhW2kgKyAxXTtcclxuICAgICAgICAgICAgdmFyIGIgPSBpbWFnZURhdGEuZGF0YVtpICsgMl07XHJcbiAgICAgICAgICAgIHZhciBhID0gaW1hZ2VEYXRhLmRhdGFbaSArIDNdO1xyXG5cclxuICAgICAgICAgICAgaWYgKHIgPCA1MCAmJiBnIDwgNTAgJiYgYiA8IDUwICYmIGEgPiAwLjkpIHtcclxuICAgICAgICAgICAgICAgIHBpeGVsQ291bnQrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcGl4ZWxDb3VudFxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0SWNvblBpeGVscyA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCwgaWNvbjogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xyXG4gICAgICAgIGN0eC5maWxsVGV4dChpY29uLCAwLCAwKTtcclxuICAgICAgICB2YXIgaW1hZ2VEYXRhID0gY3R4LmdldEltYWdlRGF0YSgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xyXG4gICAgICAgIHZhciBpY29uMVBpeGVsQ291bnQgPSB0aGlzLmNvdW50UGl4ZWxzKGltYWdlRGF0YSk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJpY29uIDEgcGl4ZWwgY291bnQ6IFwiICsgaWNvbjFQaXhlbENvdW50KTtcclxuICAgICAgICByZXR1cm4gaWNvbjFQaXhlbENvdW50O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbG9hZEZvbnQgPSAoaWNvbjE6IHN0cmluZywgaWNvbjI6IHN0cmluZywgZm9udDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgdmFyIHJldHJ5RGVsYXlNcyA9IDUwMDtcclxuICAgICAgICB2YXIgcmV0cmllcyA9IDEwXHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwibG9hZGluZyBmb250IFxcXCJcIiArIGZvbnQgKyBcIlxcXCJcIik7XHJcblxyXG4gICAgICAgICAgICB2YXIgdGVtcENhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG4gICAgICAgICAgICB0ZW1wQ2FudmFzLndpZHRoID0gMjA7XHJcbiAgICAgICAgICAgIHRlbXBDYW52YXMuaGVpZ2h0ID0gMjA7XHJcbiAgICAgICAgICAgIHZhciB0ZW1wQ3R4ID0gdGVtcENhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgICAgICB0ZW1wQ3R4LmZvbnQgPSBmb250O1xyXG4gICAgICAgICAgICB0ZW1wQ3R4LmZpbGxTdHlsZSA9IFwiYmxhY2tcIjtcclxuICAgICAgICAgICAgdGVtcEN0eC50ZXh0QWxpZ24gPSBcImxlZnRcIjtcclxuICAgICAgICAgICAgdGVtcEN0eC50ZXh0QmFzZWxpbmUgPSBcInRvcFwiO1xyXG5cclxuICAgICAgICAgICAgdmFyIGNoZWNrTG9hZGVkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIGljb24xUGl4ZWxDb3VudCA9IHRoaXMuZ2V0SWNvblBpeGVscyh0ZW1wQ3R4LCB0ZW1wQ2FudmFzLCBpY29uMSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgaWNvbjJQaXhlbENvdW50ID0gdGhpcy5nZXRJY29uUGl4ZWxzKHRlbXBDdHgsIHRlbXBDYW52YXMsIGljb24yKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZGlmZlBpeGVscyA9IE1hdGguYWJzKGljb24yUGl4ZWxDb3VudCAtIGljb24xUGl4ZWxDb3VudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGRpZmZQaXhlbHMgPiA1KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJsb2FkZWQgZm9udCBcXFwiXCIgKyBmb250ICsgXCJcXFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0cmllcy0tO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXRyaWVzID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJzdG9wIGxvYWRpbmcgZm9udCBhZnRlciBcIiArIHJldHJpZXMgKyBcIiByZXRyaWVzIHdpdGggXCIgKyByZXRyeURlbGF5TXMgKyBcIm1zIGRlbGF5XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJ3YWl0aW5nIGEgd2hpbGUgKFwiICsgcmV0cnlEZWxheU1zICsgXCJtcylcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tMb2FkZWQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmV0cnlEZWxheU1zKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2hlY2tMb2FkZWQoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBdWRpb0dyYXBoTm9kZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgbmFtZTogc3RyaW5nLCBwcm90ZWN0ZWQgYXVkaW9DdHg6IEF1ZGlvQ29udGV4dCkgeyB9XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IGdldEF1ZGlvTm9kZSgpOiBBdWRpb05vZGU7XHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgcmVsb2FkKCk6IFByb21pc2U8dm9pZD47XHJcbn0iLCJpbXBvcnQgeyBBdWRpb0dyYXBoTm9kZSB9IGZyb20gXCIuL2F1ZGlvR3JhcGhOb2RlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQXVkaW9HcmFwaE5vZGVBbmFseXNlciBleHRlbmRzIEF1ZGlvR3JhcGhOb2RlIHtcclxuICAgIGFuYWx5c2VyTm9kZTogQW5hbHlzZXJOb2RlO1xyXG4gICAgYnVmZmVyTGVuZ3RoOiBudW1iZXI7XHJcbiAgICBkYXRhQXJyYXk6IFVpbnQ4QXJyYXk7XHJcblxyXG4gICAgcHVibGljIGdldEF1ZGlvTm9kZSA9ICgpOiBBdWRpb05vZGUgPT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFuYWx5c2VyTm9kZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVsb2FkKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5hbmFseXNlck5vZGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYW5hbHlzZXJOb2RlID0gdGhpcy5hdWRpb0N0eC5jcmVhdGVBbmFseXNlcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuYW5hbHlzZXJOb2RlLmZmdFNpemUgPSAzMjtcclxuICAgICAgICAgICAgdGhpcy5hbmFseXNlck5vZGUuc21vb3RoaW5nVGltZUNvbnN0YW50ID0gMC45O1xyXG4gICAgICAgICAgICB0aGlzLmJ1ZmZlckxlbmd0aCA9IHRoaXMuYW5hbHlzZXJOb2RlLmZyZXF1ZW5jeUJpbkNvdW50O1xyXG4gICAgICAgICAgICB0aGlzLmRhdGFBcnJheSA9IG5ldyBVaW50OEFycmF5KHRoaXMuYnVmZmVyTGVuZ3RoKTtcclxuICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRTcGVjdHJ1bSgpIHtcclxuICAgICAgICBpZiAodGhpcy5hbmFseXNlck5vZGUpIHtcclxuICAgICAgICAgICAgdGhpcy5hbmFseXNlck5vZGUuZ2V0Qnl0ZUZyZXF1ZW5jeURhdGEodGhpcy5kYXRhQXJyYXkpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhQXJyYXk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheSgwKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0V2F2ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5hbmFseXNlck5vZGUpIHtcclxuICAgICAgICAgICAgdGhpcy5hbmFseXNlck5vZGUuZ2V0Qnl0ZVRpbWVEb21haW5EYXRhKHRoaXMuZGF0YUFycmF5KTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YUFycmF5O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoMCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBBdWRpb0dyYXBoTm9kZSB9IGZyb20gXCIuL2F1ZGlvR3JhcGhOb2RlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQXVkaW9HcmFwaE5vZGVEZXN0aW5hdGlvbiBleHRlbmRzIEF1ZGlvR3JhcGhOb2RlIHtcclxuICAgIHB1YmxpYyBnZXRBdWRpb05vZGUgPSAoKTogQXVkaW9Ob2RlID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hdWRpb0N0eC5kZXN0aW5hdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVsb2FkKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEF1ZGlvR3JhcGhOb2RlIH0gZnJvbSBcIi4vYXVkaW9HcmFwaE5vZGVcIjtcclxuaW1wb3J0IHsgRUV2ZW50IH0gZnJvbSBcIi4uL2VFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEF1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZSBleHRlbmRzIEF1ZGlvR3JhcGhOb2RlIHtcclxuICAgIHB1YmxpYyB1cmw6IHN0cmluZztcclxuICAgIHB1YmxpYyBhdWRpb0VuZGVkID0gbmV3IEVFdmVudCgpO1xyXG5cclxuICAgIHByaXZhdGUgc291cmNlOiBNZWRpYUVsZW1lbnRBdWRpb1NvdXJjZU5vZGU7XHJcbiAgICBwcml2YXRlIGF1ZGlvOiBIVE1MQXVkaW9FbGVtZW50O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgYXVkaW9DdHg6IEF1ZGlvQ29udGV4dCwgdXJsOiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcihuYW1lLCBhdWRpb0N0eCk7XHJcbiAgICAgICAgdGhpcy51cmwgPSB1cmw7XHJcblxyXG4gICAgICAgIHRoaXMuYXVkaW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhdWRpbycpO1xyXG4gICAgICAgIHRoaXMuYXVkaW8uY29udHJvbHMgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuYXVkaW8uc3JjID0gdGhpcy51cmw7XHJcbiAgICAgICAgdGhpcy5hdWRpby5hZGRFdmVudExpc3RlbmVyKFwiZW5kZWRcIiwgdGhpcy5hdWRpb0VuZGVkRXZlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXVkaW9FbmRlZEV2ZW50ID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuYXVkaW9FbmRlZC5kaXNwYXRjaEV2ZW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEF1ZGlvTm9kZSA9ICgpOiBBdWRpb05vZGUgPT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNvdXJjZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVsb2FkKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5zb3VyY2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc291cmNlID0gdGhpcy5hdWRpb0N0eC5jcmVhdGVNZWRpYUVsZW1lbnRTb3VyY2UodGhpcy5hdWRpbyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwbGF5ID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuYXVkaW8ucGxheSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwYXVzZSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmF1ZGlvLnBhdXNlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0b3AgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5hdWRpby5wYXVzZSgpO1xyXG4gICAgICAgIHRoaXMuYXVkaW8uY3VycmVudFRpbWUgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRVcmwgPSAodXJsOiBzdHJpbmcpID0+IHtcclxuICAgICAgICB2YXIgcGxheSA9ICF0aGlzLmF1ZGlvLnBhdXNlZDtcclxuICAgICAgICB0aGlzLnVybCA9IHVybDtcclxuICAgICAgICB0aGlzLmF1ZGlvLnNyYyA9IHVybDtcclxuICAgICAgICB0aGlzLmF1ZGlvLmxvYWQoKTtcclxuICAgICAgICBpZiAocGxheSkge1xyXG4gICAgICAgICAgICB0aGlzLmF1ZGlvLnBsYXkoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBBdWRpb0dyYXBoTm9kZSB9IGZyb20gXCIuL2F1ZGlvR3JhcGhOb2RlXCI7XHJcbmltcG9ydCB7IEF1ZGlvR3JhcGhOb2RlQW5hbHlzZXIgfSBmcm9tIFwiLi9hdWRpb0dyYXBoTm9kZUFuYWx5c2VyXCI7XHJcbmltcG9ydCB7IEF1ZGlvR3JhcGhOb2RlRGVzdGluYXRpb24gfSBmcm9tIFwiLi9hdWRpb0dyYXBoTm9kZURlc3RpbmF0aW9uXCI7XHJcbmltcG9ydCB7IEF1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZSB9IGZyb20gXCIuL2F1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZVwiO1xyXG5pbXBvcnQgeyBBdWRpb0dyYXBoTm9kZVN0cmVhbVNvdXJjZSB9IGZyb20gXCIuL2F1ZGlvR3JhcGhOb2RlU3RyZWFtU291cmNlXCI7XHJcbmltcG9ydCB7IEVFdmVudFQgfSBmcm9tIFwiLi4vZUV2ZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQXVkaW9HcmFwaCB7XHJcbiAgICBwdWJsaWMgYXVkaW9DdHg6IEF1ZGlvQ29udGV4dDtcclxuXHJcbiAgICAvLyBwcml2YXRlIHNvdXJjZU5vZGU6IEF1ZGlvR3JhcGhOb2RlPEF1ZGlvTm9kZT47XHJcbiAgICAvLyBwcml2YXRlIGFuYWx5emVyTm9kZTogQXVkaW9HcmFwaE5vZGVBbmFseXNlcjtcclxuXHJcbiAgICAvLyByZW1vdmUgZ2VuZXJpYyBUP1xyXG4gICAgcHJpdmF0ZSBhdWRpb05vZGVzOiBBdWRpb0dyYXBoTm9kZVtdID0gW107XHJcblxyXG4gICAgcHVibGljIGRlc3RpbmF0aW9uTm9kZTogQXVkaW9HcmFwaE5vZGU7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5hdWRpb0N0eCA9IG5ldyAoKHdpbmRvdyBhcyBhbnkpLkF1ZGlvQ29udGV4dCB8fCAod2luZG93IGFzIGFueSkud2Via2l0QXVkaW9Db250ZXh0KSgpO1xyXG4gICAgICAgICAgICB0aGlzLmF1ZGlvQ3R4LmFkZEV2ZW50TGlzdGVuZXIoXCJzdGF0ZWNoYW5nZVwiLCB0aGlzLmF1ZGlvQ29udGV4dFN0YXRlQ2hhbmdlZEV2YWx1YXRvcik7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmF1ZGlvQ3R4LnN0YXRlID09PSBcInN1c3BlbmRlZFwiKSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5kb2N1bWVudENsaWNrKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQXVkaW8gY29udGV4dCBpcyBzdXNwZW5kZWQuIENsaWNrIHRoZSBkb20gdG8gbWFrZSBpdCBydW5uaW5nLlwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uTm9kZSA9IG5ldyBBdWRpb0dyYXBoTm9kZURlc3RpbmF0aW9uKFwiZGVzdGluYXRpb25cIiwgdGhpcy5hdWRpb0N0eCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJJdCBsb29rcyBsaWtlIHlvdXIgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHdlYiBhdWRpbyBBUEkgOihcIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZE1lZGlhRWxlbWVudFNvdXJjZSA9IChuYW1lOiBzdHJpbmcsIHVybDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgdmFyIHNvdXJjZU5vZGUgPSBuZXcgQXVkaW9HcmFwaE5vZGVFbGVtZW50U291cmNlKG5hbWUsIHRoaXMuYXVkaW9DdHgsIHVybCk7XHJcbiAgICAgICAgdGhpcy5hdWRpb05vZGVzLnB1c2goc291cmNlTm9kZSk7XHJcbiAgICAgICAgcmV0dXJuIHNvdXJjZU5vZGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZEFuYWx5emVyID0gKG5hbWU6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIHZhciBhbmFseXplck5vZGUgPSBuZXcgQXVkaW9HcmFwaE5vZGVBbmFseXNlcihuYW1lLCB0aGlzLmF1ZGlvQ3R4KTtcclxuICAgICAgICB0aGlzLmF1ZGlvTm9kZXMucHVzaChhbmFseXplck5vZGUpO1xyXG4gICAgICAgIHJldHVybiBhbmFseXplck5vZGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEF1ZGlvR3JhcGhOb2RlID0gKG5hbWU6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmF1ZGlvTm9kZXMuZmlyc3QoeCA9PiB4Lm5hbWUgPT0gbmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcHVibGljIHBsYXlVcmwgPSAodXJsOiBzdHJpbmcpID0+IHtcclxuICAgIC8vICAgICB0aGlzLnNvdXJjZU5vZGUgPSBuZXcgQXVkaW9HcmFwaE5vZGVFbGVtZW50U291cmNlKHRoaXMuYXVkaW9DdHgsIHVybCk7XHJcbiAgICAvLyAgICAgaWYgKHRoaXMuYXVkaW9DdHguc3RhdGUgPT09IFwicnVubmluZ1wiKSB7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuYnVpbGRHcmFwaCgpO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBwdWJsaWMgcGxheVN0cmVhbSA9ICgpID0+IHtcclxuICAgIC8vICAgICB0aGlzLnNvdXJjZU5vZGUgPSBuZXcgQXVkaW9HcmFwaE5vZGVTdHJlYW1Tb3VyY2UodGhpcy5hdWRpb0N0eCk7XHJcbiAgICAvLyAgICAgaWYgKHRoaXMuYXVkaW9DdHguc3RhdGUgPT09IFwicnVubmluZ1wiKSB7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuYnVpbGRHcmFwaCgpO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH1cclxuXHJcbiAgICBwdWJsaWMgYXVkaW9Db250ZXh0U3RhdGVDaGFuZ2VkID0gbmV3IEVFdmVudFQ8c3RyaW5nPigpO1xyXG5cclxuICAgIHByaXZhdGUgZG9jdW1lbnRDbGljayA9ICgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5hdWRpb0N0eC5zdGF0ZSA9PT0gXCJzdXNwZW5kZWRcIikge1xyXG4gICAgICAgICAgICB0aGlzLmF1ZGlvQ3R4LnJlc3VtZSgpO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5kb2N1bWVudENsaWNrKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhdWRpb0NvbnRleHRTdGF0ZUNoYW5nZWRFdmFsdWF0b3IgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuYXVkaW9DdHguc3RhdGUgPT09IFwicnVubmluZ1wiKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiYXVkaW8gY29udGV4dCBzdGF0ZSBjaGFuZ2VkXCIpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hdWRpb0N0eC5yZW1vdmVFdmVudExpc3RlbmVyKFwic3RhdGVjaGFuZ2VcIiwgdGhpcy5hdWRpb0NvbnRleHRTdGF0ZUNoYW5nZWRFdmFsdWF0b3IpO1xyXG4gICAgICAgICAgICB0aGlzLnJlbG9hZCgpXHJcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdWRpb0NvbnRleHRTdGF0ZUNoYW5nZWQuZGlzcGF0Y2hFdmVudCh0aGlzLmF1ZGlvQ3R4LnN0YXRlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVsb2FkID0gKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmVhbG9hZGluZyBhdWRpbyBncmFwaFwiKTtcclxuICAgICAgICAgICAgUHJvbWlzZS5hbGwodGhpcy5hdWRpb05vZGVzLm1hcCh4ID0+IHgucmVsb2FkKCkpKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmVsb2FkZWQgYXVkaW8gZ3JhcGhcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmF1ZGlvTm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXVkaW9Ob2RlID0gdGhpcy5hdWRpb05vZGVzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdWRpb05vZGUuZ2V0QXVkaW9Ob2RlKCkuZGlzY29ubmVjdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPCB0aGlzLmF1ZGlvTm9kZXMubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW9Ob2RlLmdldEF1ZGlvTm9kZSgpLmNvbm5lY3QodGhpcy5hdWRpb05vZGVzW2kgKyAxXS5nZXRBdWRpb05vZGUoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdWRpb05vZGUuZ2V0QXVkaW9Ob2RlKCkuY29ubmVjdCh0aGlzLmRlc3RpbmF0aW9uTm9kZS5nZXRBdWRpb05vZGUoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcHJpdmF0ZSBidWlsZEdyYXBoKCkge1xyXG4gICAgLy8gICAgIGNvbnNvbGUubG9nKFwiQnVpbGRpbmcgYXVkaW8gZ3JhcGguXCIpO1xyXG5cclxuICAgIC8vICAgICBpZiAodGhpcy5zb3VyY2VOb2RlLmdldEF1ZGlvTm9kZSgpKSB7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuc291cmNlTm9kZS5nZXRBdWRpb05vZGUoKS5kaXNjb25uZWN0KCk7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuYW5hbHl6ZXJOb2RlLmdldEF1ZGlvTm9kZSgpLmRpc2Nvbm5lY3QoKTtcclxuICAgIC8vICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbk5vZGUuZ2V0QXVkaW9Ob2RlKCkuZGlzY29ubmVjdCgpO1xyXG4gICAgLy8gICAgICAgICB0aGlzLnNvdXJjZU5vZGUuZ2V0QXVkaW9Ob2RlKCkuY29ubmVjdCh0aGlzLmFuYWx5emVyTm9kZS5nZXRBdWRpb05vZGUoKSk7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuYW5hbHl6ZXJOb2RlLmdldEF1ZGlvTm9kZSgpLmNvbm5lY3QodGhpcy5kZXN0aW5hdGlvbk5vZGUuZ2V0QXVkaW9Ob2RlKCkpO1xyXG4gICAgLy8gICAgIH0gZWxzZSB7XHJcbiAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKFwiQXVkaW8gc291cmNlIG5vdCBhdmFpbGFibGUuIFdhaXRpbmcgc29tZSB0aW1lLlwiKTtcclxuICAgIC8vICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAvLyAgICAgICAgICAgICB0aGlzLmJ1aWxkR3JhcGgoKTtcclxuICAgIC8vICAgICAgICAgfSwgMTAwMCk7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIHB1YmxpYyBnZXRTcGVjdHJ1bSgpIHtcclxuICAgIC8vICAgICByZXR1cm4gdGhpcy5hbmFseXplck5vZGUuZ2V0U3BlY3RydW0oKTtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBwdWJsaWMgZ2V0V2F2ZSgpIHtcclxuICAgIC8vICAgICByZXR1cm4gdGhpcy5hbmFseXplck5vZGUuZ2V0V2F2ZSgpO1xyXG4gICAgLy8gfVxyXG59IiwiaW1wb3J0IHsgQXVkaW9HcmFwaCB9IGZyb20gXCIuLi9lbmMvc3JjL2F1ZGlvL2F1ZGlvR3JhcGhcIjtcclxuaW1wb3J0IHsgQXVkaW9HcmFwaE5vZGVFbGVtZW50U291cmNlIH0gZnJvbSBcIi4uL2VuYy9zcmMvYXVkaW8vYXVkaW9HcmFwaE5vZGVFbGVtZW50U291cmNlXCI7XHJcbmltcG9ydCB7IEF1ZGlvR3JhcGhOb2RlQW5hbHlzZXIgfSBmcm9tIFwiLi4vZW5jL3NyYy9hdWRpby9hdWRpb0dyYXBoTm9kZUFuYWx5c2VyXCI7XHJcblxyXG4vLyBpbXBvcnQgRmFpbnRBc3NldE1QMyBmcm9tIFwiLi9hc3NldHMvbXAzLWRlbW8vZGVtb18xX2ZhaW50X2NvbG9yLm1wM1wiXHJcbi8vIGltcG9ydCBQcmlzbUFzc2V0TVAzIGZyb20gXCIuL2Fzc2V0cy9tcDMtZGVtby9kZW1vXzJfcHJpc20ubXAzXCJcclxuLy8gaW1wb3J0IEhvcGVmdWxBc3NldE1QMyBmcm9tIFwiLi9hc3NldHMvbXAzLWRlbW8vZGVtb18zX2hvcGVmdWwubXAzXCJcclxuLy8gaW1wb3J0IERlZXBBc3NldE1QMyBmcm9tIFwiLi9hc3NldHMvbXAzLWRlbW8vZGVtb180X2RlZXBfZmllbGQubXAzXCJcclxuLy8gaW1wb3J0IEdyYXZpdHlBc3NldE1QMyBmcm9tIFwiLi9hc3NldHMvbXAzLWRlbW8vZGVtb181X2dyYXZpdHkubXAzXCJcclxuLy8gaW1wb3J0IEpvdXJuZXlBc3NldE1QMyBmcm9tIFwiLi9hc3NldHMvbXAzLWRlbW8vZGVtb182X2pvdXJuZXlfdG9fdGhlX3BsYW5ldHMubXAzXCJcclxuLy8gaW1wb3J0IERyaWZ0aW5nQXNzZXRNUDMgZnJvbSBcIi4vYXNzZXRzL21wMy1kZW1vL2RlbW9fN19kcmlmdGluZ19pbnRvX3RoZV9hdG1vc3BoZXJlLm1wM1wiXHJcblxyXG5pbXBvcnQgRmFpbnRBc3NldE1QMyBmcm9tIFwiLi9hc3NldHMvZGVtby9UcmFpbGVyX2ZhaW50Q29sb3IubXAzXCJcclxuaW1wb3J0IERlZXBBc3NldE1QMyBmcm9tIFwiLi9hc3NldHMvZGVtby9UcmFpbGVyX0RlZXBGaWVsZC5tcDNcIlxyXG5pbXBvcnQgRHJpZnRpbmdBc3NldE1QMyBmcm9tIFwiLi9hc3NldHMvZGVtby9UcmFpbGVyX0RyaWZ0aW5nSW50b1RoZUF0bW9zcGhlcmUubXAzXCJcclxuaW1wb3J0IHsgRUV2ZW50VCB9IGZyb20gXCIuLi9lbmMvc3JjL2VFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEF1ZGlvTWFuYWdlciB7XHJcbiAgICBwcml2YXRlIGF1ZGlvR3JhcGg6IEF1ZGlvR3JhcGg7XHJcbiAgICBwcml2YXRlIHNvdXJjZTogQXVkaW9HcmFwaE5vZGVFbGVtZW50U291cmNlO1xyXG4gICAgcHJpdmF0ZSBhbmFseXNlcjogQXVkaW9HcmFwaE5vZGVBbmFseXNlcjtcclxuXHJcbiAgICBwcml2YXRlIHNvbmdzID0gW1xyXG4gICAgICAgIFtcIkZhaW50IENvbG9yXCIsIEZhaW50QXNzZXRNUDNdLFxyXG4gICAgICAgIC8vIFtcIlByaXNtQXNzZXRcIiwgUHJpc21Bc3NldE1QM10sXHJcbiAgICAgICAgLy8gW1wiSG9wZWZ1bEFzc2V0XCIsIEhvcGVmdWxBc3NldE1QM10sXHJcbiAgICAgICAgW1wiRGVlcCBmaWVsZFwiLCBEZWVwQXNzZXRNUDNdLFxyXG4gICAgICAgIC8vIFtcIkdyYXZpdHlBc3NldFwiLCBHcmF2aXR5QXNzZXRNUDNdLFxyXG4gICAgICAgIC8vIFtcIkpvdXJuZXlBc3NldFwiLCBKb3VybmV5QXNzZXRNUDNdLFxyXG4gICAgICAgIFtcIkRyaWZ0aW5nIGludG8gdGhlIEF0bW9zcGhlcmVcIiwgRHJpZnRpbmdBc3NldE1QM11cclxuICAgIF1cclxuXHJcbiAgICBwdWJsaWMgc29uZ0NoYW5nZWQgPSBuZXcgRUV2ZW50VDxzdHJpbmc+KCk7XHJcblxyXG4gICAgXHJcbiAgICBwdWJsaWMgZ2V0IGN1cnJlbnRTb25nTmFtZSgpIDogc3RyaW5nIHtcclxuICAgICAgICB2YXIgY3VycmVudFNvbmdJbmRleCA9IHRoaXMuc29uZ3MubWFwKHggPT4geFsxXSkuaW5kZXhPZih0aGlzLnNvdXJjZS51cmwpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNvbmdzW2N1cnJlbnRTb25nSW5kZXhdWzBdO1xyXG4gICAgfVxyXG4gICAgXHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5hdWRpb0dyYXBoID0gbmV3IEF1ZGlvR3JhcGgoKTtcclxuICAgICAgICB0aGlzLnNvdXJjZSA9IHRoaXMuYXVkaW9HcmFwaC5hZGRNZWRpYUVsZW1lbnRTb3VyY2UoXCJzb3VyY2VcIiwgdGhpcy5zb25nc1swXVsxXSk7XHJcbiAgICAgICAgdGhpcy5zb3VyY2UuYXVkaW9FbmRlZC5hZGRFdmVudExpc3RlbmVyKHRoaXMuZW5kZWROZXh0KCkpO1xyXG4gICAgICAgIHRoaXMuYW5hbHlzZXIgPSB0aGlzLmF1ZGlvR3JhcGguYWRkQW5hbHl6ZXIoXCJhbmFseXNlclwiKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVsb2FkID0gKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmF1ZGlvR3JhcGgucmVsb2FkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBsYXkgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zb3VyY2UucGxheSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwYXVzZSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNvdXJjZS5wYXVzZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBuZXh0ID0gKCkgPT4ge1xyXG4gICAgICAgIHZhciBjdXJyZW50U29uZ0luZGV4ID0gdGhpcy5zb25ncy5tYXAoeCA9PiB4WzFdKS5pbmRleE9mKHRoaXMuc291cmNlLnVybCk7XHJcbiAgICAgICAgdmFyIG5leHRTb25nSW5kZXggPSBjdXJyZW50U29uZ0luZGV4ICsgMTtcclxuICAgICAgICBpZiAobmV4dFNvbmdJbmRleCA9PSB0aGlzLnNvbmdzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBuZXh0U29uZ0luZGV4ID0gMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc291cmNlLnNldFVybCh0aGlzLnNvbmdzW25leHRTb25nSW5kZXhdWzFdKTtcclxuICAgICAgICB0aGlzLnNvbmdDaGFuZ2VkLmRpc3BhdGNoRXZlbnQodGhpcy5zb25nc1tuZXh0U29uZ0luZGV4XVswXSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHByZXZpb3VzID0gKCkgPT4ge1xyXG4gICAgICAgIHZhciBjdXJyZW50U29uZ0luZGV4ID0gdGhpcy5zb25ncy5tYXAoeCA9PiB4WzFdKS5pbmRleE9mKHRoaXMuc291cmNlLnVybCk7XHJcbiAgICAgICAgdmFyIHByZXZpb3VzU29uZ0luZGV4ID0gY3VycmVudFNvbmdJbmRleCAtIDE7XHJcbiAgICAgICAgaWYgKHByZXZpb3VzU29uZ0luZGV4ID09IC0xKSB7XHJcbiAgICAgICAgICAgIHByZXZpb3VzU29uZ0luZGV4ID0gdGhpcy5zb25ncy5sZW5ndGggLSAxO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zb3VyY2Uuc2V0VXJsKHRoaXMuc29uZ3NbcHJldmlvdXNTb25nSW5kZXhdWzFdKTtcclxuICAgICAgICB0aGlzLnNvbmdDaGFuZ2VkLmRpc3BhdGNoRXZlbnQodGhpcy5zb25nc1twcmV2aW91c1NvbmdJbmRleF1bMF0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRBbmFseXNlciA9ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hbmFseXNlcjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RvcCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNvdXJjZS5zdG9wKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBlbmRlZE5leHQoKTogKCkgPT4gdm9pZCB7XHJcbiAgICAgICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5uZXh0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuc291cmNlLnBsYXkoKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIEFzc2V0TWFuYWdlciB7XHJcbiAgICBwcml2YXRlIGltYWdlQXNzZXRzOiB7IG5hbWU6IHN0cmluZywgdXJsOiBzdHJpbmcsIGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50IH1bXSA9IFtdO1xyXG5cclxuICAgIHB1YmxpYyBhZGRJbWFnZSA9IChuYW1lOiBzdHJpbmcsIHVybDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgdGhpcy5pbWFnZUFzc2V0cy5wdXNoKHtcclxuICAgICAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICAgICAgdXJsOiB1cmwsXHJcbiAgICAgICAgICAgIGltYWdlOiB1bmRlZmluZWRcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0SW1hZ2UgPSAobmFtZTogc3RyaW5nKTogSFRNTEltYWdlRWxlbWVudCA9PiB7XHJcbiAgICAgICAgdmFyIGltYWdlQXNzZXQgPSB0aGlzLmltYWdlQXNzZXRzLmZpcnN0T3JEZWZhdWx0KHggPT4geC5uYW1lID09IG5hbWUpO1xyXG4gICAgICAgIGlmIChpbWFnZUFzc2V0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpbWFnZUFzc2V0LmltYWdlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBsb2FkID0gKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbCh0aGlzLmltYWdlQXNzZXRzLm1hcCh4ID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICgheC5pbWFnZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGltYWdlLnNyYyA9IHgudXJsO1xyXG4gICAgICAgICAgICAgICAgICAgIGltYWdlLm9ubG9hZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeC5pbWFnZSA9IGltYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IExheW91dFZpZXcgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9sYXlvdXRDb250cm9scy9sYXlvdXRWaWV3XCI7XHJcbmltcG9ydCB7IExhYmVsIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvY29udHJvbHMvbGFiZWxcIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTG9hZGluZ1ZpZXcgZXh0ZW5kcyBMYXlvdXRWaWV3IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdmFyIGxvYWRpbmdMYWJlbCA9IG5ldyBMYWJlbCgpO1xyXG4gICAgICAgIGxvYWRpbmdMYWJlbC50ZXh0ID0gXCJMb2FkaW5nLi4uXCI7XHJcbiAgICAgICAgbG9hZGluZ0xhYmVsLnByb3BlcnRpZXMuZmlsbFN0eWxlID0gXCJ3aGl0ZVwiXHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGxvYWRpbmdMYWJlbCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUxheW91dChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpIHtcclxuICAgICAgICBzdXBlci51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICBjaGlsZC51cGRhdGVMYXlvdXQoY3R4LCB0aGlzLmJvdW5kcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgRUV2ZW50VCB9IGZyb20gXCIuLi9lRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBPYnNlcnZhYmxlQXJyYXk8VD4ge1xyXG4gICAgcHVibGljIGl0ZW1zOiBUW10gPSBbXTtcclxuXHJcbiAgICBwdWJsaWMgb25BZGQgPSBuZXcgRUV2ZW50VDxUPigpO1xyXG4gICAgcHVibGljIG9uUmVtb3ZlID0gbmV3IEVFdmVudFQ8VD4oKTtcclxuXHJcbiAgICBwdWJsaWMgYWRkID0gKGl0ZW06IFQpID0+IHtcclxuICAgICAgICB0aGlzLml0ZW1zLnB1c2goaXRlbSk7XHJcbiAgICAgICAgdGhpcy5vbkFkZC5kaXNwYXRjaEV2ZW50KGl0ZW0pO1xyXG4gICAgfVxyXG4gICAgcHVibGljIHJlbW92ZSA9IChpdGVtOiBUKSA9PiB7XHJcbiAgICAgICAgdGhpcy5pdGVtcy5yZW1vdmVJdGVtKGl0ZW0pO1xyXG4gICAgICAgIHRoaXMub25SZW1vdmUuZGlzcGF0Y2hFdmVudChpdGVtKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFN0YWdlIH0gZnJvbSBcIi4uL2VuYy9zcmMvdWkvc3RhZ2VcIjtcclxuaW1wb3J0IHsgUm9vdFZpZXcgfSBmcm9tIFwiLi92aWV3L3Jvb3RWaWV3XCI7XHJcbmltcG9ydCB7IERpbmplY3QgfSBmcm9tIFwiLi4vZW5jL3NyYy9kaW5qZWN0XCI7XHJcbmltcG9ydCB7IEVBbmltYXRpb24gfSBmcm9tIFwiLi4vZW5jL3NyYy9lQW5pbWF0aW9uXCI7XHJcbmltcG9ydCB7IEVDYW52YXMgfSBmcm9tIFwiLi4vZW5jL3NyYy91aS9lQ2FudmFzXCI7XHJcbmltcG9ydCB7IENhbnZhc0hlbHBlciB9IGZyb20gXCIuLi9lbmMvc3JjL3VpL2NhbnZhc0hlbHBlclwiO1xyXG5pbXBvcnQgeyBBdWRpb01hbmFnZXIgfSBmcm9tIFwiLi9hdWRpb01hbmFnZXJcIjtcclxuaW1wb3J0IHsgQXNzZXRNYW5hZ2VyIH0gZnJvbSBcIi4uL2VuYy9zcmMvYXNzZXRNYW5hZ2VyXCI7XHJcblxyXG5pbXBvcnQgYmFja2dyb3VuZFBuZyBmcm9tIFwiLi9hc3NldHMvYmFja2dyb3VuZC5wbmdcIlxyXG5pbXBvcnQgbG9nb0Zyb250UG5nIGZyb20gXCIuL2Fzc2V0cy9sb2dvLWZyb250LnBuZ1wiXHJcbmltcG9ydCBsb2dvTm92YVBuZyBmcm9tIFwiLi9hc3NldHMvbG9nby1ub3ZhLnBuZ1wiXHJcbmltcG9ydCB7IExvYWRpbmdWaWV3IH0gZnJvbSBcIi4vdmlldy9sb2FkaW5nVmlld1wiO1xyXG5pbXBvcnQgeyBWaXN1YWxpemF0aW9uTW9kZWwgfSBmcm9tIFwiLi9tb2RlbHMvdmlzdWFsaXphdGlvbk1vZGVsXCI7XHJcbmltcG9ydCB7IFN0YXJMYXllciB9IGZyb20gXCIuL21vZGVscy9zdGFyTGF5ZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBcHAge1xyXG4gICAgcHVibGljIHN0YXRpYyB2aXN1YWxpemF0aW9uTW9kZWwgPSBuZXcgVmlzdWFsaXphdGlvbk1vZGVsKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xyXG5cclxuICAgIHB1YmxpYyBydW4gPSAoKSA9PiB7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImJsYWNrXCI7XHJcblxyXG4gICAgICAgIHZhciBjYW52YXMgPSBFQ2FudmFzLmNyZWF0ZUZ1bGxTY3JlZW4oKTtcclxuICAgICAgICB2YXIgc3RhZ2UgPSBuZXcgU3RhZ2UoY2FudmFzKTtcclxuICAgICAgICB2YXIgYW5pbWF0aW9uID0gbmV3IEVBbmltYXRpb24oKTtcclxuICAgICAgICBhbmltYXRpb24uYWRkVXBkYXRlRnVuY3Rpb24oY2FudmFzLmRyYXcpO1xyXG5cclxuICAgICAgICBEaW5qZWN0LmFkZEluc3RhbmNlKFwiY2FudmFzXCIsIGNhbnZhcyk7XHJcbiAgICAgICAgRGluamVjdC5hZGRJbnN0YW5jZShcInN0YWdlXCIsIHN0YWdlKTtcclxuICAgICAgICBEaW5qZWN0LmFkZEluc3RhbmNlKFwiYW5pbWF0aW9uXCIsIGFuaW1hdGlvbik7XHJcblxyXG4gICAgICAgIHZhciBsb2FkaW5nVmlldyA9IG5ldyBMb2FkaW5nVmlldygpO1xyXG4gICAgICAgIGxvYWRpbmdWaWV3LmRlYWN0aXZhdGVkKCk7XHJcbiAgICAgICAgc3RhZ2Uuc2V0Vmlldyhsb2FkaW5nVmlldyk7XHJcbiAgICAgICAgbG9hZGluZ1ZpZXcuYWN0aXZhdGUoMC43KTtcclxuXHJcbiAgICAgICAgdmFyIGluc3BpZXJ0eVBsYXllclZpZXc6IFJvb3RWaWV3O1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhcImxvYWRpbmcgYXBwXCIpO1xyXG4gICAgICAgIFByb21pc2UuYWxsKFtcclxuICAgICAgICAgICAgbmV3IENhbnZhc0hlbHBlcigpLmxvYWRGb250YXdlc29tZUZyZWUoKSxcclxuICAgICAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIGF1ZGlvTWFuYWdlciA9IG5ldyBBdWRpb01hbmFnZXIoKTtcclxuICAgICAgICAgICAgICAgIGF1ZGlvTWFuYWdlci5yZWxvYWQoKVxyXG4gICAgICAgICAgICAgICAgRGluamVjdC5hZGRJbnN0YW5jZShcImF1ZGlvXCIsIGF1ZGlvTWFuYWdlcik7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICB9LCAyMDAwKTtcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBhc3NldE1hbmFnZXIgPSBuZXcgQXNzZXRNYW5hZ2VyKCk7XHJcbiAgICAgICAgICAgICAgICBEaW5qZWN0LmFkZEluc3RhbmNlKFwiYXNzZXRzXCIsIGFzc2V0TWFuYWdlcik7XHJcbiAgICAgICAgICAgICAgICBhc3NldE1hbmFnZXIuYWRkSW1hZ2UoXCJiYWNrZ3JvdW5kXCIsIGJhY2tncm91bmRQbmcpO1xyXG4gICAgICAgICAgICAgICAgYXNzZXRNYW5hZ2VyLmFkZEltYWdlKFwibG9nb1wiLCBsb2dvRnJvbnRQbmcpO1xyXG4gICAgICAgICAgICAgICAgYXNzZXRNYW5hZ2VyLmFkZEltYWdlKFwibG9nby1ub3ZhXCIsIGxvZ29Ob3ZhUG5nKTtcclxuICAgICAgICAgICAgICAgIGFzc2V0TWFuYWdlci5sb2FkKClcclxuICAgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnNwaWVydHlQbGF5ZXJWaWV3ID0gbmV3IFJvb3RWaWV3KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3BpZXJ0eVBsYXllclZpZXcuZGVhY3RpdmF0ZWQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3RhckxheWVyID0gbmV3IFN0YXJMYXllcigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhckxheWVyLm5hbWUuc2V0KFwiU3RhcnMgXCIgKyAoaSArIDEpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFwcC52aXN1YWxpemF0aW9uTW9kZWwuc3RhckxheWVycy5hZGQoc3RhckxheWVyKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgXSkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIGxvYWRpbmdWaWV3LmRlYWN0aXZhdGUoMC43KTtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzdGFnZS5zZXRWaWV3KGluc3BpZXJ0eVBsYXllclZpZXcpO1xyXG4gICAgICAgICAgICAgICAgaW5zcGllcnR5UGxheWVyVmlldy5hY3RpdmF0ZSgwLjcpO1xyXG4gICAgICAgICAgICB9LCA4MDApO1xyXG4gICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XHJcbiAgICAgICAgICAgIGFsZXJ0KGVycm9yKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFN0YXJMYXllciB9IGZyb20gXCIuL3N0YXJMYXllclwiO1xyXG5pbXBvcnQgeyBPYnNlcnZhYmxlQXJyYXkgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9vYnNlcnZhYmxlQXJyYXlcIjtcclxuaW1wb3J0IHsgT2JzZXJ2YWJsZVByb3BlcnR5IH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvb2JzZXJ2YWJsZVByb3BlcnR5XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgVmlzdWFsaXphdGlvbk1vZGVsIHtcclxuICAgIHB1YmxpYyB3aWR0aDogT2JzZXJ2YWJsZVByb3BlcnR5PG51bWJlcj47XHJcbiAgICBwdWJsaWMgaGVpZ2h0OiBPYnNlcnZhYmxlUHJvcGVydHk8bnVtYmVyPjtcclxuICAgIGNvbnN0cnVjdG9yKHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IG5ldyBPYnNlcnZhYmxlUHJvcGVydHk8bnVtYmVyPih3aWR0aCk7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBuZXcgT2JzZXJ2YWJsZVByb3BlcnR5PG51bWJlcj4oaGVpZ2h0KTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBzdGFyTGF5ZXJzID0gbmV3IE9ic2VydmFibGVBcnJheTxTdGFyTGF5ZXI+KCk7XHJcbn0iLCJpbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi9hcHBcIjtcclxuaW1wb3J0IFwiLi4vZW5jL3NyYy9leHRlbnNpb25zXCI7XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgbWFpbiwgZmFsc2UpO1xyXG5cclxuZnVuY3Rpb24gbWFpbigpIHtcclxuICAgIHZhciBhcHAgPSBuZXcgQXBwKCk7XHJcbiAgICBhcHAucnVuKCk7XHJcbn1cclxuXHJcbmlmICgnc2VydmljZVdvcmtlcicgaW4gbmF2aWdhdG9yKSB7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcclxuICAgICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3Rlcignc2VydmljZS13b3JrZXIuanMnKVxyXG4gICAgICAgICAgICAudGhlbihyZWdpc3RyYXRpb24gPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1NXIHJlZ2lzdGVyZWQ6ICcsIHJlZ2lzdHJhdGlvbik7XHJcbiAgICAgICAgICAgIH0pLmNhdGNoKHJlZ2lzdHJhdGlvbkVycm9yID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTVyByZWdpc3RyYXRpb24gZmFpbGVkOiAnLCByZWdpc3RyYXRpb25FcnJvcik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==