!function(t){var e={};function s(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(i,r,function(e){return t[e]}.bind(null,r));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=1)}([function(t,e){Array.prototype.firstOrDefault=function(t){for(const e of this)if(t(e))return e;return null},Array.prototype.first=function(t){for(const e of this)if(t(e))return e;throw console.log("item not found"),console.log(this),"item not found"},Array.prototype.getNext=function(t,e){var s=e(t)+1,i=this.firstOrDefault(t=>e(t)==s);return i||(i=this.first(t=>1==e(t))),i},Array.prototype.removeItem=function(t){var e=this.indexOf(t);if(-1==e)throw"item not found";this.splice(e,1)},Array.prototype.contains=function(t){return-1!==this.indexOf(t)},Array.prototype.removeItemIfExists=function(t){var e=this.indexOf(t);-1!=e&&this.splice(e,1)},Array.prototype.addItemIfNotExists=function(t){-1==this.indexOf(t)&&this.push(t)},Array.prototype.remove=function(t){this.removeItem(this.first(t))},Array.prototype.toList=function(){return this.filter(t=>!0)}},function(t,e,s){"use strict";s.r(e);class i{constructor(){this.drawFunctions=[],this.resize=(()=>{console.log("canvas.resize()"),this.canvas.width=this.canvas.clientWidth,this.canvas.height=this.canvas.clientHeight}),this.draw=(()=>{for(const t of this.drawFunctions)t(this.ctx,this.width,this.height)}),this.addDrawFunction=(t=>{this.drawFunctions.push(t)}),this.removeDrawFunction=(t=>{this.drawFunctions.splice(this.drawFunctions.indexOf(t),1)})}get width(){return this.canvas.width}get height(){return this.canvas.height}static createFullScreen(){document.body.parentElement.style.height="100%",document.body.style.height="100%",document.body.style.margin="0",document.body.style.overflow="hidden";var t=document.createElement("canvas");document.body.appendChild(t),t.style.width="100%",t.style.height="100%";var e=new i;return e.canvas=t,e.ctx=t.getContext("2d"),window.addEventListener("resize",e.resize),e.resize(),e}}i.cursorLock=null,i.SetCursor=((t,e)=>{e?(document.body.style.cursor="pointer",i.cursorLock=t):t==i.cursorLock&&(document.body.style.cursor="default",i.cursorLock=null)});class r{constructor(t,e,s,i){this.x=t,this.y=e,this.width=s,this.height=i,this.collidesWith=(t=>{var e=!1,s=!1;return this.x<=t.x?this.x<=t.x&&this.x+this.width>t.x&&(e=!0):t.x<=this.x&&t.x+t.width>this.x&&(e=!0),e&&(this.y<=t.y?this.y<=t.y&&this.y+this.width>t.y&&(s=!0):t.y<=this.y&&t.y+t.width>this.y&&(s=!0)),e&&s}),this.isHitBy=((t,e)=>t>this.x&&t<this.x+this.width&&e>this.y&&e<this.y+this.height)}}class n{constructor(){this.updateFunctions=[],this.isRunning=!1,this.addUpdateFunction=(t=>{this.updateFunctions.push(t)}),this.removeUpdateFunction=(t=>{this.updateFunctions.splice(this.updateFunctions.indexOf(t),1)}),this.setFps=(t=>{this.fps=t,this.fpsInterval=1e3/this.fps}),this.animationLoop=(()=>{this.isRunning&&requestAnimationFrame(this.animationLoop);var t=Date.now(),e=t-this.lastFrameTime;if(e>this.fpsInterval){this.lastFrameTime=t;var s=e/1e3;for(const t of this.updateFunctions)t(s)}}),this.setFps(30),this.play(),document.addEventListener("keyup",t=>{80==t.keyCode&&this.playPause()})}play(){this.isRunning||(console.log("play"),this.isRunning=!0,this.lastFrameTime=Date.now(),this.animationLoop())}pause(){this.isRunning&&(console.log("pause"),this.isRunning=!1)}playPause(){this.isRunning?this.pause():this.play()}}class o{constructor(t){this.canvas=t,this.mouseMove=(t=>{this.view.mouseMove(t)}),this.click=(t=>{this.view&&this.view.click(t)}),this.render=((t,e,s)=>{this.view&&(this.shouldUpdateLayout&&(this.view.updateLayout(t,new r(0,0,e,s)),this.shouldUpdateLayout=!1),t.clearRect(0,0,e,s),this.view.render(t))}),this.setView=(t=>{this.view=t,this.shouldUpdateLayout=!0}),t.addDrawFunction(this.render),document.addEventListener("mousemove",this.mouseMove),document.addEventListener("click",this.click)}static create(){var t=i.createFullScreen(),e=new o(t);return(new n).addUpdateFunction(t.draw),e}}class a{constructor(){this.generateNewId=(()=>(a.idCounter++,a.idCounter)),this.bounds=new r(0,0,0,0),this.id=this.generateNewId(),this.name="object "+this.id}}var h,d,l,u;a.idCounter=0,function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right"}(h||(h={})),function(t){t[t.Top=0]="Top",t[t.Center=1]="Center",t[t.Bottom=2]="Bottom"}(d||(d={}));class c{constructor(){this.horizontalAlign=h.Center,this.verticalAlign=d.Center}}class y extends a{constructor(){super(...arguments),this.children=[],this.shouldUpdateLayout=!1,this.alignement=new c,this.triggerUpdateLayout=(()=>{this.shouldUpdateLayout=!0})}render(t){this.shouldUpdateLayout&&(this.updateLayout(t,this.bounds),this.shouldUpdateLayout=!1);for(const e of this.children)e.render(t)}mouseMove(t){for(const e of this.children)e.mouseMove(t)}click(t){for(const e of this.children.toList())e.click(t)}}class p extends a{constructor(t){super(),this.star=t}render(t){t.fillStyle="white",t.beginPath(),t.arc(this.star.x,this.star.y,this.star.r,0,2*Math.PI),t.fill()}mouseMove(t){throw new Error("Method not implemented.")}click(t){throw new Error("Method not implemented.")}}!function(t){t[t.AddStarLayer=0]="AddStarLayer",t[t.RemoveStarLayer=1]="RemoveStarLayer",t[t.ChangeNumberOfStars=2]="ChangeNumberOfStars"}(l||(l={}));class g extends y{constructor(t){super(),this.starLayer=t,this.settingsUpdated=(t=>{switch(t){case l.ChangeNumberOfStars:this.updateNumberOfStars()}}),this.updateNumberOfStars=(()=>{this.starLayer.stars.length!=this.children.length&&this.triggerUpdateLayout()}),C.settingManager.update.addEventListener(this.settingsUpdated),this.triggerUpdateLayout()}updateLayout(t,e){this.children=[];for(const t of this.starLayer.stars)this.children.push(new p(t))}mouseMove(t){}click(t){}}!function(t){t[t.hidden=0]="hidden",t[t.beforeVisible=1]="beforeVisible",t[t.visible=2]="visible"}(u||(u={}));class v{constructor(){this.state=u.hidden}}class f{constructor(){this.listeners=[],this.addEventListener=(t=>{if(!t||this.listeners.indexOf(t)>=0)throw"listener already added";this.listeners.push(t)}),this.dispatchEvent=(t=>{for(let e=0;e<this.listeners.length;e++){(0,this.listeners[e])(t)}}),this.removeEventListener=(t=>{if(!t||this.listeners.indexOf(t)<0)throw"listener not found";this.listeners.splice(this.listeners.indexOf(t),1)})}}class m extends a{constructor(){super(...arguments),this.isMouseOver=!1,this.isEnabled=!0,this.clicked=new f,this.alignement=new c,this.mouseMove=(t=>{this.isEnabled&&(this.bounds.isHitBy(t.clientX,t.clientY)?(this.isMouseOver=!0,i.SetCursor(this.name,!0)):(this.isMouseOver=!1,i.SetCursor(this.name,!1)))}),this.click=(t=>{this.isEnabled&&this.bounds.isHitBy(t.clientX,t.clientY)&&this.clicked.dispatchEvent(this)})}}class w{constructor(){this.fontSize=40,this.fillStyle="black",this.mouseOverFillStyle="red",this.backgroundFillStyle=void 0}}class L extends m{constructor(){super(...arguments),this.properties=new w,this.isVisible=!0,this.render=(t=>{this.isVisible&&(this.properties.backgroundFillStyle&&(t.fillStyle=this.properties.backgroundFillStyle,t.fillRect(this.bounds.x,this.bounds.y,this.bounds.width,this.bounds.height)),this.isMouseOver?t.fillStyle=this.properties.mouseOverFillStyle:t.fillStyle=this.properties.fillStyle,t.font=this.properties.fontSize+"px Arial",t.textAlign="left",t.textBaseline="top",t.fillText(this.text,this.bounds.x,this.bounds.y))}),this.align=((t,e)=>{t.font=this.properties.fontSize+"px Arial",t.textAlign="left",t.textBaseline="top";var s=t.measureText(this.text),i=new r(0,0,s.width,this.properties.fontSize);switch(console.log(this.alignement),this.alignement.horizontalAlign){case h.Left:i.x=e.x;break;case h.Center:i.x=e.x-s.width/2;break;case h.Right:i.x=e.x-s.width}switch(this.alignement.verticalAlign){case d.Top:i.y=e.y;break;case d.Center:i.y=e.y-this.properties.fontSize/2;break;case d.Bottom:i.y=e.y-this.properties.fontSize}this.bounds=i})}}class b{constructor(t,e){this.x=t,this.y=e}}class x{constructor(t,e){this.x=t,this.y=e}}class S extends y{constructor(){super(...arguments),this.spacing=30,this.controls=[],this.layoutViews=[],this.addControl=(t=>{t.alignement=this.alignement,this.controls.push(t),this.children.push(t),this.triggerUpdateLayout()}),this.removeControl=(t=>{this.controls.removeItem(t),this.children.removeItem(t),this.triggerUpdateLayout()}),this.addLayoutView=(t=>{t.alignement=this.alignement,this.layoutViews.push(t),this.children.push(t),this.triggerUpdateLayout()}),this.removeLayoutView=(t=>{this.layoutViews.removeItem(t),this.children.removeItem(t),this.triggerUpdateLayout()})}updateLayout(t,e){var s=0;switch(this.alignement.horizontalAlign){case h.Left:s=e.x;break;case h.Center:s=e.x-e.width/2;break;case h.Right:s=e.x-e.width}this.bounds.x=s;var i=0;switch(this.alignement.verticalAlign){case d.Top:i=e.y;break;case d.Center:i=e.y-e.height/2;break;case d.Bottom:i=e.y-e.height}this.bounds.y=i;var n=0,o=0;for(const e of this.children)if(this.children.indexOf(e)>0&&(i+=this.spacing,o+=this.spacing),this.controls.contains(e)){var a=e;console.log(i),a.align(t,new x(s,i)),i+=a.bounds.height,o+=a.bounds.height,n=Math.max(n,a.bounds.width)}else{if(!this.layoutViews.contains(e))throw new Error("Error: 280420191625");var l=e;l.updateLayout(t,new r(s,i,0,0)),i+=l.bounds.height,o+=a.bounds.height,n=Math.max(n,l.bounds.width)}o==this.bounds.height&&n==this.bounds.width||(this.bounds.height=o,this.bounds.width=n,this.updateLayout(t,new r(e.x,e.y,this.bounds.width,this.bounds.height)))}}class M extends y{constructor(){super(),this.viewModel=new v,this.lastMoved=Date.now(),this.inactivityTimeout=2e3,this.layerButtons=[],this.settingsUpdated=(t=>{switch(t){case l.AddStarLayer:for(const t of C.settings.starLayers)if(!this.layerButtons.map(t=>t.tag).contains(t)){this.settingsList.removeControl(this.addLayerBtn);var e=new L;e.text="Remove Layer",e.tag=t,e.properties.fillStyle="white",this.settingsList.addControl(e),this.layerButtons.push(e),e.clicked.addEventListener(e=>{C.settingManager.removeStarLayer(t)}),this.settingsList.addControl(this.addLayerBtn);break}break;case l.RemoveStarLayer:for(const t of this.layerButtons)if(!C.settings.starLayers.contains(t.tag)){this.settingsList.removeControl(t),this.layerButtons.removeItem(t);break}}}),this.showHideOverlayClicked=(t=>{this.viewModel.state==u.visible?this.setState(u.beforeVisible):this.setState(u.visible)}),this.mouseMove=(t=>{this.viewModel.state!=u.hidden&&this.viewModel.state!=u.beforeVisible||this.setState(u.beforeVisible),super.mouseMove(t)}),this.mouseInactivityHandler=(()=>{Date.now()-this.lastMoved>=this.inactivityTimeout?this.viewModel.state==u.beforeVisible&&this.setState(u.hidden):setTimeout(this.mouseInactivityHandler,this.inactivityTimeout-(Date.now()-this.lastMoved))}),this.setState=(t=>{switch(t){case u.hidden:this.showOverLayerButton.isVisible=!1,this.viewModel.state=u.hidden;break;case u.beforeVisible:this.lastMoved=Date.now(),this.viewModel.state==u.hidden&&(setTimeout(this.mouseInactivityHandler,this.inactivityTimeout),this.showOverLayerButton.isVisible=!0),this.viewModel.state==u.visible&&(setTimeout(this.mouseInactivityHandler,this.inactivityTimeout),this.children.removeItemIfExists(this.settingsList)),this.viewModel.state=u.beforeVisible;break;case u.visible:this.viewModel.state==u.beforeVisible&&this.children.push(this.settingsList),this.viewModel.state=u.visible}}),this.showOverLayerButton=new L,this.showOverLayerButton.text="Show/Hide Settings",this.showOverLayerButton.properties.fillStyle="green",this.showOverLayerButton.alignement.verticalAlign=d.Top,this.showOverLayerButton.alignement.horizontalAlign=h.Left,this.showOverLayerButton.clicked.addEventListener(this.showHideOverlayClicked),this.showOverLayerButton.properties.backgroundFillStyle="rgba(0, 0, 0, 0.5)",this.children.push(this.showOverLayerButton),this.settingsList=new S,this.settingsList.alignement.horizontalAlign=h.Left,this.settingsList.alignement.verticalAlign=d.Top;var t=new L;t.text="Add Layer",t.properties.fillStyle="white",this.settingsList.addControl(t),t.clicked.addEventListener(t=>{C.settingManager.addStarLayer()}),this.addLayerBtn=t,C.settingManager.update.addEventListener(this.settingsUpdated)}updateLayout(t,e){this.showOverLayerButton.align(t,new b(e.x,e.y)),console.log(this.showOverLayerButton.bounds.height),this.settingsList.updateLayout(t,new r(0,2*this.showOverLayerButton.bounds.height,0,0))}}class O{constructor(t){this.starLayer=t,this.update=(t=>{for(const e of this.starLayer.stars)e.x+=this.starLayer.speed*t,e.x>C.settings.width&&(e.x-=C.settings.width)})}}class k extends y{constructor(){super(),this.starLayers=[],this.starAnimators=[],this.appSettingsUpdated=(t=>{switch(t){case l.AddStarLayer:this.addStarLayer();break;case l.RemoveStarLayer:this.removeStarLayer()}}),this.addStarLayer=(()=>{for(const s of C.settings.starLayers)if(null==this.starLayers.firstOrDefault(t=>t.starLayer==s)){var t=new g(s);this.starLayers.push(t),this.children.splice(0,0,t),this.triggerUpdateLayout();var e=new O(s);this.anim.addUpdateFunction(e.update),this.starAnimators.push(e);break}}),this.removeStarLayer=(()=>{for(const s of C.settings.starLayers)if(null==this.starLayers.firstOrDefault(t=>t.starLayer==s)){var t=this.starLayers.first(t=>t.starLayer==s);this.children.remove(e=>e==t),this.starLayers.remove(e=>e==t),this.triggerUpdateLayout();var e=this.starAnimators.first(t=>t.starLayer==s);this.anim.removeUpdateFunction(e.update),this.starAnimators.removeItem(e)}}),this.settingsOverlay=new M,this.children.push(this.settingsOverlay),this.anim=new n,C.settingManager.update.addEventListener(this.appSettingsUpdated)}updateLayout(t,e){for(const s of this.starLayers)s.updateLayout(t,e);this.settingsOverlay.updateLayout(t,e)}}class A{constructor(){this.stars=[],this.speed=20*Math.random()+5}}class C{constructor(){this.run=(()=>{console.log("hi"),document.body.style.backgroundColor="black";var t=o.create(),e=new k;t.setView(e)})}}C.settings=new class{constructor(t,e){this.width=t,this.height=e,this.starLayers=[]}}(window.innerWidth,window.innerHeight),C.settingManager=new class{constructor(){this.update=new f,this.addStarLayer=(()=>{var t=new A;for(let e=0;e<100;e++)t.stars.push({x:Math.random()*C.settings.width,y:Math.random()*C.settings.height,r:2*Math.random()+.05});C.settings.starLayers.push(t),this.update.dispatchEvent(l.AddStarLayer)}),this.removeStarLayer=(t=>{C.settings.starLayers.removeItem(t),this.update.dispatchEvent(l.RemoveStarLayer)}),this.changeNumberOfStars=((t,e)=>{if(e>0){var s=e-t.stars.length;if(s>0)for(let e=0;e<s;e++)t.stars.push({x:Math.random()*C.settings.width,y:Math.random()*C.settings.height,r:2*Math.random()+.05});else if(s<0)for(let e=0;e<s;e++)t.stars.splice(Math.floor(Math.random()*t.stars.length),1);this.update.dispatchEvent(l.ChangeNumberOfStars)}})}};s(0);document.addEventListener("DOMContentLoaded",function(){(new C).run()},!1)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy9leHRlbnNpb25zLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvZUNhbnZhcy50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL2dlb21ldHJ5L3JlY3RhbmdsZS50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL2VBbmltYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9zdGFnZS50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL3JlbmRlck9iamVjdC50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvaG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9hbGlnbmVtZW50L3ZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2V0dGluZ3Mvc2V0dGluZ09wZXJhdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvb3ZlcmxheS9zZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvYWxpZ25lbWVudC50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xheW91dFZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0YXJSZW5kZXJPYmplY3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0YXJMYXllckRyYXdlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvb3ZlcmxheS9zZXR0aW5nc092ZXJsYXlWaWV3TW9kZWwudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy9lRXZlbnQudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9jb250cm9scy9jb250cm9sLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvY29udHJvbHMvcHJpbWl0aXZlcy9idXR0b25Qcm9wZXJ0aWVzLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvY29udHJvbHMvYnV0dG9uLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvZ2VvbWV0cnkvcG9pbnQudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy9nZW9tZXRyeS9Qb2ludC50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xpc3RWaWV3LnRzIiwid2VicGFjazovLy8uL3NyYy9vdmVybGF5L3NldHRpbmdzT3ZlcmxheVZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0YXJMYXllckFuaW1hdG9yLnRzIiwid2VicGFjazovLy8uL3NyYy9pbnNwaWVydHlQbGF5ZXJWaWV3LnRzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvc3RhckxheWVyLnRzIiwid2VicGFjazovLy8uL3NyYy9hcHAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9zZXR0aW5ncy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2V0dGluZ3Mvc2V0dGluZ3NNYW5hZ2VyLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkFycmF5IiwiZmlyc3RPckRlZmF1bHQiLCJmdW5jIiwiYXJyYXlJdGVtIiwidGhpcyIsImZpcnN0IiwiY29uc29sZSIsImxvZyIsImdldE5leHQiLCJjdXJyZW50Iiwic2VsZWN0b3IiLCJuZXh0UG9zaXRpb24iLCJuZXh0IiwieCIsInJlbW92ZUl0ZW0iLCJpdGVtIiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwiY29udGFpbnMiLCJyZW1vdmVJdGVtSWZFeGlzdHMiLCJhZGRJdGVtSWZOb3RFeGlzdHMiLCJwdXNoIiwicmVtb3ZlIiwidG9MaXN0IiwiZmlsdGVyIiwiRUNhbnZhcyIsIltvYmplY3QgT2JqZWN0XSIsImRyYXdGdW5jdGlvbnMiLCJyZXNpemUiLCJjYW52YXMiLCJ3aWR0aCIsImNsaWVudFdpZHRoIiwiaGVpZ2h0IiwiY2xpZW50SGVpZ2h0IiwiZHJhdyIsImRyYXdGdW5jdGlvbiIsImN0eCIsImFkZERyYXdGdW5jdGlvbiIsInJlbW92ZURyYXdGdW5jdGlvbiIsImRvY3VtZW50IiwiYm9keSIsInBhcmVudEVsZW1lbnQiLCJzdHlsZSIsIm1hcmdpbiIsIm92ZXJmbG93IiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZENoaWxkIiwiZW5DYW52YXMiLCJnZXRDb250ZXh0Iiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsImN1cnNvckxvY2siLCJTZXRDdXJzb3IiLCJwb2ludGVyIiwiY3Vyc29yIiwiUmVjdGFuZ2xlIiwieSIsImNvbGxpZGVzV2l0aCIsInJlY3RhbmdsZSIsImhpdHgiLCJoaXR5IiwiaXNIaXRCeSIsIkVBbmltYXRpb24iLCJ1cGRhdGVGdW5jdGlvbnMiLCJpc1J1bm5pbmciLCJhZGRVcGRhdGVGdW5jdGlvbiIsInJlbW92ZVVwZGF0ZUZ1bmN0aW9uIiwic2V0RnBzIiwiZnBzIiwiZnBzSW50ZXJ2YWwiLCJhbmltYXRpb25Mb29wIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibm93IiwiRGF0ZSIsImVsYXBzZWQiLCJsYXN0RnJhbWVUaW1lIiwidGltZURpZmYiLCJ1cGRhdGVGdW5jdGlvbiIsInBsYXkiLCJldmVudCIsImtleUNvZGUiLCJwbGF5UGF1c2UiLCJwYXVzZSIsInN0YWdlX1N0YWdlIiwibW91c2VNb3ZlIiwiZXYiLCJ2aWV3IiwiY2xpY2siLCJyZW5kZXIiLCJzaG91bGRVcGRhdGVMYXlvdXQiLCJ1cGRhdGVMYXlvdXQiLCJjbGVhclJlY3QiLCJzZXRWaWV3IiwiY3JlYXRlRnVsbFNjcmVlbiIsInN0YWdlIiwicmVuZGVyT2JqZWN0X1JlbmRlck9iamVjdCIsImdlbmVyYXRlTmV3SWQiLCJpZENvdW50ZXIiLCJib3VuZHMiLCJpZCIsIkhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uIiwiVmVydGljYWxBbGlnbmVtZW50T3B0aW9uIiwiU2V0dGluZ09wZXJhdGlvbiIsIlNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlIiwiYWxpZ25lbWVudF9BbGlnbmVtZW50IiwiaG9yaXpvbnRhbEFsaWduIiwiQ2VudGVyIiwidmVydGljYWxBbGlnbiIsImxheW91dFZpZXdfTGF5b3V0VmlldyIsImNoaWxkcmVuIiwiYWxpZ25lbWVudCIsInRyaWdnZXJVcGRhdGVMYXlvdXQiLCJjaGlsZCIsInN0YXJSZW5kZXJPYmplY3RfU3RhclJlbmRlck9iamVjdCIsInN0YXIiLCJzdXBlciIsImZpbGxTdHlsZSIsImJlZ2luUGF0aCIsImFyYyIsIk1hdGgiLCJQSSIsImZpbGwiLCJFcnJvciIsInN0YXJMYXllckRyYXdlcl9TdGFyTGF5ZXJEcmF3ZXIiLCJzdGFyTGF5ZXIiLCJzZXR0aW5nc1VwZGF0ZWQiLCJvcGVyYXRpb24iLCJDaGFuZ2VOdW1iZXJPZlN0YXJzIiwidXBkYXRlTnVtYmVyT2ZTdGFycyIsInN0YXJzIiwibGVuZ3RoIiwiYXBwX0FwcCIsInNldHRpbmdNYW5hZ2VyIiwidXBkYXRlIiwic2V0dGluZ3NPdmVybGF5Vmlld01vZGVsX1NldHRpbmdzT3ZlcmxheVZpZXdNb2RlbCIsInN0YXRlIiwiaGlkZGVuIiwiRUV2ZW50VCIsImxpc3RlbmVycyIsImxpc3RlbmVyIiwiZGlzcGF0Y2hFdmVudCIsImFyZyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjb250cm9sX0NvbnRyb2wiLCJpc01vdXNlT3ZlciIsImlzRW5hYmxlZCIsImNsaWNrZWQiLCJjbGllbnRYIiwiY2xpZW50WSIsIkJ1dHRvblByb3BlcnRpZXMiLCJmb250U2l6ZSIsIm1vdXNlT3ZlckZpbGxTdHlsZSIsImJhY2tncm91bmRGaWxsU3R5bGUiLCJ1bmRlZmluZWQiLCJidXR0b25fQnV0dG9uIiwicHJvcGVydGllcyIsImlzVmlzaWJsZSIsImZpbGxSZWN0IiwiZm9udCIsInRleHRBbGlnbiIsInRleHRCYXNlbGluZSIsImZpbGxUZXh0IiwidGV4dCIsImFsaWduIiwicG9zaXRpb24iLCJzaXplIiwibWVhc3VyZVRleHQiLCJMZWZ0IiwiUmlnaHQiLCJUb3AiLCJCb3R0b20iLCJQb2ludCIsIlBvaW50X1BvaW50IiwibGlzdFZpZXdfTGlzdFZpZXciLCJzcGFjaW5nIiwiY29udHJvbHMiLCJsYXlvdXRWaWV3cyIsImFkZENvbnRyb2wiLCJjb250cm9sIiwicmVtb3ZlQ29udHJvbCIsImFkZExheW91dFZpZXciLCJsYXlvdXRWaWV3IiwicmVtb3ZlTGF5b3V0VmlldyIsIm1heCIsInNldHRpbmdzT3ZlcmxheVZpZXdfU2V0dGluZ3NPdmVybGF5VmlldyIsInZpZXdNb2RlbCIsImxhc3RNb3ZlZCIsImluYWN0aXZpdHlUaW1lb3V0IiwibGF5ZXJCdXR0b25zIiwiQWRkU3RhckxheWVyIiwic2V0dGluZ3MiLCJzdGFyTGF5ZXJzIiwibWFwIiwidGFnIiwic2V0dGluZ3NMaXN0IiwiYWRkTGF5ZXJCdG4iLCJidG5Gb3JMYXllciIsInNlbmRlciIsInJlbW92ZVN0YXJMYXllciIsIlJlbW92ZVN0YXJMYXllciIsInNldHRpbmdzTGF5ZXIiLCJzaG93SGlkZU92ZXJsYXlDbGlja2VkIiwidmlzaWJsZSIsInNldFN0YXRlIiwiYmVmb3JlVmlzaWJsZSIsIm1vdXNlSW5hY3Rpdml0eUhhbmRsZXIiLCJzZXRUaW1lb3V0Iiwic2hvd092ZXJMYXllckJ1dHRvbiIsImJ0bkZvck5ld0xheWVyIiwiYWRkU3RhckxheWVyIiwic3RhckxheWVyQW5pbWF0b3JfU3RhckxheWVyQW5pbWF0b3IiLCJzcGVlZCIsImluc3BpZXJ0eVBsYXllclZpZXdfSW5zcGllcnR5UGxheWVyVmlldyIsInN0YXJBbmltYXRvcnMiLCJhcHBTZXR0aW5nc1VwZGF0ZWQiLCJsYXllciIsImFuaW1hdG9yIiwiYW5pbSIsInNldHRpbmdzT3ZlcmxheSIsIlN0YXJMYXllciIsInJhbmRvbSIsInJ1biIsImJhY2tncm91bmRDb2xvciIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImNoYW5nZU51bWJlck9mU3RhcnMiLCJudW1iZXJPZlN0YXJzIiwiZGlmZiIsImZsb29yIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFFBQUEsSUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsRUFBQSxDQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsWUFBQSxDQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLE9BQUEsS0FRakRyQixFQUFBc0IsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdBREEsRUFBQUEsSUFBQUYsRUFBQXJCLEVBQUFxQixJQUNBLEVBQUFFLEVBQUEsT0FBQUYsRUFDQSxLQUFBRSxH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QyxXQUFXbEwsV0FBVytHLEdBQ25DekgsS0FBS2tJLE9BQU9PLGNBQWN0QyxFQUFpQmlHLG1CQUd4Q3BNLEtBQUE4TixvQkFBc0IsRUFBQ3JHLEVBQXNCc0csS0FDaEQsR0FBSUEsRUFBZ0IsRUFBRyxDQUNuQixJQUFJQyxFQUFPRCxFQUFnQnRHLEVBQVVLLE1BQU1DLE9BQzNDLEdBQUlpRyxFQUFPLEVBQ1AsSUFBSyxJQUFJcFEsRUFBSSxFQUFHQSxFQUFJb1EsRUFBTXBRLElBQ3RCNkosRUFBVUssTUFBTTVHLEtBQUssQ0FDakJULEVBQUcyRyxLQUFLcUcsU0FBV3pGLEVBQUkyRCxTQUFTaEssTUFDaEMwQixFQUFHK0QsS0FBS3FHLFNBQVd6RixFQUFJMkQsU0FBUzlKLE9BQ2hDbkQsRUFBbUIsRUFBaEIwSSxLQUFLcUcsU0FBZSxXQUc1QixHQUFJTyxFQUFPLEVBQ2QsSUFBSyxJQUFJcFEsRUFBSSxFQUFHQSxFQUFJb1EsRUFBTXBRLElBQ3RCNkosRUFBVUssTUFBTWhILE9BQU9zRyxLQUFLNkcsTUFBTTdHLEtBQUtxRyxTQUFXaEcsRUFBVUssTUFBTUMsUUFBUyxHQUduRi9ILEtBQUtrSSxPQUFPTyxjQUFjdEMsRUFBaUJ5QiwrQkN6Q3ZEeEYsU0FBU1csaUJBQWlCLG1CQUUxQixZQUNjLElBQUlpRixHQUNWMEYsUUFKNEMiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxKTtcbiIsImludGVyZmFjZSBBcnJheTxUPiB7XHJcbiAgICByZW1vdmVJdGVtSWZFeGlzdHMoaXRlbTogVCk6IHZvaWQ7XHJcbiAgICBjb250YWlucyhpdGVtOiBUKTogYm9vbGVhbjtcclxuICAgIHJlbW92ZUl0ZW0oaXRlbTogVCk6IHZvaWQ7XHJcbiAgICByZW1vdmUoc2VsZWN0b3I6IChpdGVtOiBUKSA9PiBib29sZWFuKTogdm9pZDtcclxuICAgIGFkZEl0ZW1JZk5vdEV4aXN0cyhpdGVtOiBUKTogdm9pZDtcclxuICAgIHRvTGlzdCgpOiBUW107XHJcbiAgICBnZXROZXh0KGN1cnJlbnQ6IFQsIHNlbGVjdG9yOiAoaXRlbTogVCkgPT4gbnVtYmVyKTogVDtcclxuICAgIGZpcnN0KHNlbGVjdG9yOiAoaXRlbTogVCkgPT4gYm9vbGVhbik6IFQ7XHJcbiAgICBmaXJzdE9yRGVmYXVsdChzZWxlY3RvcjogKGl0ZW06IFQpID0+IGJvb2xlYW4pOiBUO1xyXG59XHJcblxyXG5BcnJheS5wcm90b3R5cGUuZmlyc3RPckRlZmF1bHQgPSBmdW5jdGlvbiAoZnVuYykge1xyXG4gICAgZm9yIChjb25zdCBhcnJheUl0ZW0gb2YgdGhpcykge1xyXG4gICAgICAgIGlmIChmdW5jKGFycmF5SXRlbSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFycmF5SXRlbTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxufVxyXG5cclxuQXJyYXkucHJvdG90eXBlLmZpcnN0ID0gZnVuY3Rpb24gKGZ1bmMpIHtcclxuICAgIGZvciAoY29uc3QgYXJyYXlJdGVtIG9mIHRoaXMpIHtcclxuICAgICAgICBpZiAoZnVuYyhhcnJheUl0ZW0pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhcnJheUl0ZW07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2coXCJpdGVtIG5vdCBmb3VuZFwiKTtcclxuICAgIGNvbnNvbGUubG9nKHRoaXMpO1xyXG4gICAgdGhyb3cgXCJpdGVtIG5vdCBmb3VuZFwiO1xyXG59XHJcblxyXG5BcnJheS5wcm90b3R5cGUuZ2V0TmV4dCA9IGZ1bmN0aW9uIDxUPihjdXJyZW50OiBULCBzZWxlY3RvcjogKGl0ZW06IFQpID0+IG51bWJlcik6IFQge1xyXG4gICAgdmFyIG5leHRQb3NpdGlvbiA9IHNlbGVjdG9yKGN1cnJlbnQpICsgMTtcclxuICAgIHZhciBuZXh0ID0gKHRoaXMgYXMgVFtdKS5maXJzdE9yRGVmYXVsdCgoeCkgPT4gc2VsZWN0b3IoeCkgPT0gbmV4dFBvc2l0aW9uKTtcclxuICAgIGlmICghbmV4dCkge1xyXG4gICAgICAgIG5leHQgPSAodGhpcyBhcyBUW10pLmZpcnN0KHggPT4gc2VsZWN0b3IoeCkgPT0gMSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG5leHQ7XHJcbn1cclxuXHJcbkFycmF5LnByb3RvdHlwZS5yZW1vdmVJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXhPZihpdGVtKTtcclxuICAgIGlmIChpbmRleCAhPSAtMSkge1xyXG4gICAgICAgIHRoaXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhyb3cgXCJpdGVtIG5vdCBmb3VuZFwiO1xyXG4gICAgfVxyXG59XHJcblxyXG5BcnJheS5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiA8VD4oaXRlbTogVCkge1xyXG4gICAgcmV0dXJuIHRoaXMuaW5kZXhPZihpdGVtKSAhPT0gLTE7XHJcbn1cclxuXHJcbkFycmF5LnByb3RvdHlwZS5yZW1vdmVJdGVtSWZFeGlzdHMgPSBmdW5jdGlvbiA8VD4oaXRlbTogVCkge1xyXG4gICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleE9mKGl0ZW0pO1xyXG4gICAgaWYgKGluZGV4ICE9IC0xKSB7XHJcbiAgICAgICAgdGhpcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgfVxyXG59XHJcblxyXG5BcnJheS5wcm90b3R5cGUuYWRkSXRlbUlmTm90RXhpc3RzID0gZnVuY3Rpb24gPFQ+KGl0ZW06IFQpIHtcclxuICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXhPZihpdGVtKTtcclxuICAgIGlmIChpbmRleCA9PSAtMSkge1xyXG4gICAgICAgICh0aGlzIGFzIFRbXSkucHVzaChpdGVtKTtcclxuICAgIH1cclxufVxyXG5cclxuQXJyYXkucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIDxUPihzZWxlY3RvcjogKGl0ZW06IFQpID0+IGJvb2xlYW4pIHtcclxuICAgICh0aGlzIGFzIFRbXSkucmVtb3ZlSXRlbSgodGhpcyBhcyBUW10pLmZpcnN0KHNlbGVjdG9yKSk7XHJcbn1cclxuXHJcbkFycmF5LnByb3RvdHlwZS50b0xpc3QgPSBmdW5jdGlvbiA8VD4oKTogVFtdIHtcclxuICAgIHJldHVybiAodGhpcyBhcyBUW10pLmZpbHRlcih4ID0+IHRydWUpO1xyXG59XHJcbiIsImltcG9ydCB7IEVBbmltYXRpb24gfSBmcm9tIFwiLi4vZUFuaW1hdGlvblwiO1xyXG5cclxuZXhwb3J0IHR5cGUgRHJhd0Z1bmN0aW9uID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB3aWR0aD86IG51bWJlciwgaGVpZ2h0PzogbnVtYmVyKSA9PiB2b2lkO1xyXG5cclxuZXhwb3J0IGNsYXNzIEVDYW52YXMge1xyXG4gICAgcHJpdmF0ZSBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuXHJcbiAgICBwcml2YXRlIGRyYXdGdW5jdGlvbnM6IERyYXdGdW5jdGlvbltdID0gW107XHJcblxyXG4gICAgcHVibGljIGdldCB3aWR0aCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhcy53aWR0aDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGhlaWdodCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhcy5oZWlnaHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHsgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlRnVsbFNjcmVlbigpOiBFQ2FudmFzIHtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnBhcmVudEVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm1hcmdpbiA9IFwiMFwiO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xyXG5cclxuICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjYW52YXMpO1xyXG4gICAgICAgIGNhbnZhcy5zdHlsZS53aWR0aCA9IFwiMTAwJVwiXHJcbiAgICAgICAgY2FudmFzLnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiO1xyXG5cclxuICAgICAgICB2YXIgZW5DYW52YXMgPSBuZXcgRUNhbnZhcygpO1xyXG4gICAgICAgIGVuQ2FudmFzLmNhbnZhcyA9IGNhbnZhcztcclxuICAgICAgICBlbkNhbnZhcy5jdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBlbkNhbnZhcy5yZXNpemUpO1xyXG4gICAgICAgIGVuQ2FudmFzLnJlc2l6ZSgpO1xyXG4gICAgICAgIHJldHVybiBlbkNhbnZhcztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBjdXJzb3JMb2NrOiBzdHJpbmcgPSBudWxsO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgU2V0Q3Vyc29yID0gKG5hbWU6IHN0cmluZywgcG9pbnRlcjogYm9vbGVhbikgPT4ge1xyXG4gICAgICAgIGlmIChwb2ludGVyKSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gXCJwb2ludGVyXCI7XHJcbiAgICAgICAgICAgIEVDYW52YXMuY3Vyc29yTG9jayA9IG5hbWU7XHJcbiAgICAgICAgfSBlbHNlIGlmIChuYW1lID09IEVDYW52YXMuY3Vyc29yTG9jaykge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwiZGVmYXVsdFwiO1xyXG4gICAgICAgICAgICBFQ2FudmFzLmN1cnNvckxvY2sgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVzaXplID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiY2FudmFzLnJlc2l6ZSgpXCIpO1xyXG4gICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gdGhpcy5jYW52YXMuY2xpZW50V2lkdGg7XHJcbiAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdGhpcy5jYW52YXMuY2xpZW50SGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkcmF3ID0gKCkgPT4ge1xyXG4gICAgICAgIGZvciAoY29uc3QgZHJhd0Z1bmN0aW9uIG9mIHRoaXMuZHJhd0Z1bmN0aW9ucykge1xyXG4gICAgICAgICAgICBkcmF3RnVuY3Rpb24odGhpcy5jdHgsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZERyYXdGdW5jdGlvbiA9IChmdW5jOiBEcmF3RnVuY3Rpb24pID0+IHtcclxuICAgICAgICB0aGlzLmRyYXdGdW5jdGlvbnMucHVzaChmdW5jKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlRHJhd0Z1bmN0aW9uID0gKGZ1bmM6IERyYXdGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgIHRoaXMuZHJhd0Z1bmN0aW9ucy5zcGxpY2UodGhpcy5kcmF3RnVuY3Rpb25zLmluZGV4T2YoZnVuYyksIDEpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIFJlY3RhbmdsZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgeDogbnVtYmVyLCBwdWJsaWMgeTogbnVtYmVyLCBwdWJsaWMgd2lkdGg6IG51bWJlciwgcHVibGljIGhlaWdodDogbnVtYmVyKSB7IH1cclxuXHJcbiAgICBwdWJsaWMgY29sbGlkZXNXaXRoID0gKHJlY3RhbmdsZTogUmVjdGFuZ2xlKSA9PiB7XHJcbiAgICAgICAgdmFyIGhpdHggPSBmYWxzZTtcclxuICAgICAgICB2YXIgaGl0eSA9IGZhbHNlO1xyXG4gICAgICAgIGlmICh0aGlzLnggPD0gcmVjdGFuZ2xlLngpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMueCA8PSByZWN0YW5nbGUueCAmJiB0aGlzLnggKyB0aGlzLndpZHRoID4gcmVjdGFuZ2xlLngpIHtcclxuICAgICAgICAgICAgICAgIGhpdHggPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHJlY3RhbmdsZS54IDw9IHRoaXMueCAmJiByZWN0YW5nbGUueCArIHJlY3RhbmdsZS53aWR0aCA+IHRoaXMueCkge1xyXG4gICAgICAgICAgICAgICAgaGl0eCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChoaXR4KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnkgPD0gcmVjdGFuZ2xlLnkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnkgPD0gcmVjdGFuZ2xlLnkgJiYgdGhpcy55ICsgdGhpcy53aWR0aCA+IHJlY3RhbmdsZS55KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGl0eSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVjdGFuZ2xlLnkgPD0gdGhpcy55ICYmIHJlY3RhbmdsZS55ICsgcmVjdGFuZ2xlLndpZHRoID4gdGhpcy55KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGl0eSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBoaXR4ICYmIGhpdHk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzSGl0QnkgPSAoeDogbnVtYmVyLCB5OiBudW1iZXIpID0+IHtcclxuICAgICAgICByZXR1cm4geCA+IHRoaXMueCAmJiB4IDwgdGhpcy54ICsgdGhpcy53aWR0aFxyXG4gICAgICAgICAgICAmJiB5ID4gdGhpcy55ICYmIHkgPCB0aGlzLnkgKyB0aGlzLmhlaWdodDtcclxuICAgIH1cclxufSIsImV4cG9ydCB0eXBlIFVwZGF0ZUZ1bmN0aW9uID0gKHRpbWVEaWZmOiBudW1iZXIpID0+IHZvaWQ7XHJcblxyXG5leHBvcnQgY2xhc3MgRUFuaW1hdGlvbiB7XHJcbiAgICBwcml2YXRlIHVwZGF0ZUZ1bmN0aW9uczogVXBkYXRlRnVuY3Rpb25bXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBpc1J1bm5pbmcgPSBmYWxzZTtcclxuICAgIHByaXZhdGUgbGFzdEZyYW1lVGltZTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBmcHM6IG51bWJlcjtcclxuICAgIHByaXZhdGUgZnBzSW50ZXJ2YWw6IG51bWJlcjtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRGcHMoMzApO1xyXG4gICAgICAgIHRoaXMucGxheSgpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IDgwKSB7IC8vIHBcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheVBhdXNlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGxheSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNSdW5uaW5nKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicGxheVwiKTtcclxuICAgICAgICAgICAgdGhpcy5pc1J1bm5pbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RGcmFtZVRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbkxvb3AoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBhdXNlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzUnVubmluZykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInBhdXNlXCIpO1xyXG4gICAgICAgICAgICB0aGlzLmlzUnVubmluZyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGxheVBhdXNlKCkge1xyXG4gICAgICAgIHRoaXMuaXNSdW5uaW5nID8gdGhpcy5wYXVzZSgpIDogdGhpcy5wbGF5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZFVwZGF0ZUZ1bmN0aW9uID0gKGZ1bmM6IFVwZGF0ZUZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVGdW5jdGlvbnMucHVzaChmdW5jKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlVXBkYXRlRnVuY3Rpb24gPSAoZnVuYzogVXBkYXRlRnVuY3Rpb24pID0+IHtcclxuICAgICAgICB0aGlzLnVwZGF0ZUZ1bmN0aW9ucy5zcGxpY2UodGhpcy51cGRhdGVGdW5jdGlvbnMuaW5kZXhPZihmdW5jKSwgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldEZwcyA9IChmcHM6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIHRoaXMuZnBzID0gZnBzO1xyXG4gICAgICAgIHRoaXMuZnBzSW50ZXJ2YWwgPSAxMDAwIC8gdGhpcy5mcHM7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhbmltYXRpb25Mb29wID0gKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmlzUnVubmluZykge1xyXG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRpb25Mb29wKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBub3cgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIHZhciBlbGFwc2VkID0gbm93IC0gdGhpcy5sYXN0RnJhbWVUaW1lO1xyXG5cclxuICAgICAgICBpZiAoZWxhcHNlZCA+IHRoaXMuZnBzSW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgdGhpcy5sYXN0RnJhbWVUaW1lID0gbm93O1xyXG4gICAgICAgICAgICB2YXIgdGltZURpZmYgPSBlbGFwc2VkIC8gMTAwMDtcclxuXHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgdXBkYXRlRnVuY3Rpb24gb2YgdGhpcy51cGRhdGVGdW5jdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZUZ1bmN0aW9uKHRpbWVEaWZmKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IEVDYW52YXMgfSBmcm9tIFwiLi9lQ2FudmFzXCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgTGF5b3V0VmlldyB9IGZyb20gXCIuL2xheW91dENvbnRyb2xzL2xheW91dFZpZXdcIjtcclxuaW1wb3J0IHsgRUFuaW1hdGlvbiB9IGZyb20gXCIuLi9lQW5pbWF0aW9uXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU3RhZ2Uge1xyXG4gICAgcHJpdmF0ZSB2aWV3OiBMYXlvdXRWaWV3O1xyXG4gICAgcHJpdmF0ZSBzaG91bGRVcGRhdGVMYXlvdXQ6IGJvb2xlYW47XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBjYW52YXM6IEVDYW52YXMpIHtcclxuICAgICAgICBjYW52YXMuYWRkRHJhd0Z1bmN0aW9uKHRoaXMucmVuZGVyKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMubW91c2VNb3ZlKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5jbGljayk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGUoKTogU3RhZ2Uge1xyXG4gICAgICAgIHZhciBjYW52YXMgPSBFQ2FudmFzLmNyZWF0ZUZ1bGxTY3JlZW4oKTtcclxuICAgICAgICB2YXIgc3RhZ2UgPSBuZXcgU3RhZ2UoY2FudmFzKTtcclxuICAgICAgICB2YXIgYW5pbWF0aW9uID0gbmV3IEVBbmltYXRpb24oKTtcclxuICAgICAgICBhbmltYXRpb24uYWRkVXBkYXRlRnVuY3Rpb24oY2FudmFzLmRyYXcpO1xyXG4gICAgICAgIHJldHVybiBzdGFnZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG1vdXNlTW92ZSA9IChldjogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIHRoaXMudmlldy5tb3VzZU1vdmUoZXYpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2xpY2sgPSAoZXY6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICBpZiAodGhpcy52aWV3KSB7XHJcbiAgICAgICAgICAgIHRoaXMudmlldy5jbGljayhldik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVuZGVyID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB3aWR0aD86IG51bWJlciwgaGVpZ2h0PzogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMudmlldykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zaG91bGRVcGRhdGVMYXlvdXQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudmlldy51cGRhdGVMYXlvdXQoY3R4LCBuZXcgUmVjdGFuZ2xlKDAsIDAsIHdpZHRoLCBoZWlnaHQpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvdWxkVXBkYXRlTGF5b3V0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICAgICAgdGhpcy52aWV3LnJlbmRlcihjdHgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0VmlldyA9ICh2aWV3OiBMYXlvdXRWaWV3KSA9PiB7XHJcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcclxuICAgICAgICB0aGlzLnNob3VsZFVwZGF0ZUxheW91dCA9IHRydWU7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgUmVuZGVyT2JqZWN0IHtcclxuICAgIHByaXZhdGUgc3RhdGljIGlkQ291bnRlciA9IDA7XHJcbiAgICBwcml2YXRlIGdlbmVyYXRlTmV3SWQgPSAoKSA9PiB7XHJcbiAgICAgICAgUmVuZGVyT2JqZWN0LmlkQ291bnRlcisrO1xyXG4gICAgICAgIHJldHVybiBSZW5kZXJPYmplY3QuaWRDb3VudGVyO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuaWQgPSB0aGlzLmdlbmVyYXRlTmV3SWQoKTtcclxuICAgICAgICB0aGlzLm5hbWUgPSBcIm9iamVjdCBcIiArIHRoaXMuaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlkOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgbmFtZTogc3RyaW5nO1xyXG4gICAgcHVibGljIHRhZzogYW55O1xyXG5cclxuICAgIHB1YmxpYyBib3VuZHM6IFJlY3RhbmdsZSA9IG5ldyBSZWN0YW5nbGUoMCwgMCwgMCwgMCk7XHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgcmVuZGVyKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZDtcclxuXHJcbiAgICBhYnN0cmFjdCBtb3VzZU1vdmUoZXY6IE1vdXNlRXZlbnQpOiB2b2lkO1xyXG4gICAgYWJzdHJhY3QgY2xpY2soZXY6IE1vdXNlRXZlbnQpOiB2b2lkO1xyXG59IiwiZXhwb3J0IGVudW0gSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24ge1xyXG4gICAgTGVmdCxcclxuICAgIENlbnRlcixcclxuICAgIFJpZ2h0LFxyXG59IiwiZXhwb3J0IGVudW0gVmVydGljYWxBbGlnbmVtZW50T3B0aW9uIHtcclxuICAgIFRvcCxcclxuICAgIENlbnRlcixcclxuICAgIEJvdHRvbSxcclxufSIsImV4cG9ydCBlbnVtIFNldHRpbmdPcGVyYXRpb24ge1xyXG4gICAgQWRkU3RhckxheWVyLFxyXG4gICAgUmVtb3ZlU3RhckxheWVyLFxyXG4gICAgQ2hhbmdlTnVtYmVyT2ZTdGFyc1xyXG59IiwiZXhwb3J0IGVudW0gU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUge1xyXG4gICAgaGlkZGVuLFxyXG4gICAgYmVmb3JlVmlzaWJsZSxcclxuICAgIHZpc2libGVcclxufSIsImltcG9ydCB7IEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uIH0gZnJvbSBcIi4vaG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuaW1wb3J0IHsgVmVydGljYWxBbGlnbmVtZW50T3B0aW9uIH0gZnJvbSBcIi4vdmVydGljYWxBbGlnbmVtZW50T3B0aW9uXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQWxpZ25lbWVudCB7XHJcbiAgICBwdWJsaWMgaG9yaXpvbnRhbEFsaWduID0gSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24uQ2VudGVyO1xyXG4gICAgcHVibGljIHZlcnRpY2FsQWxpZ24gPSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24uQ2VudGVyO1xyXG59IiwiaW1wb3J0IHsgUmVuZGVyT2JqZWN0IH0gZnJvbSBcIi4uL3JlbmRlck9iamVjdFwiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IEFsaWduZW1lbnQgfSBmcm9tIFwiLi4vYWxpZ25lbWVudC9hbGlnbmVtZW50XCI7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgTGF5b3V0VmlldyBleHRlbmRzIFJlbmRlck9iamVjdCB7XHJcbiAgICBwcm90ZWN0ZWQgY2hpbGRyZW46IFJlbmRlck9iamVjdFtdID0gW107XHJcbiAgICBwcml2YXRlIHNob3VsZFVwZGF0ZUxheW91dCA9IGZhbHNlO1xyXG4gICAgXHJcbiAgICBwdWJsaWMgYWxpZ25lbWVudCA9IG5ldyBBbGlnbmVtZW50KCk7XHJcblxyXG4gICAgcHVibGljIHJlbmRlcihjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNob3VsZFVwZGF0ZUxheW91dCkge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUxheW91dChjdHgsIHRoaXMuYm91bmRzKTtcclxuICAgICAgICAgICAgdGhpcy5zaG91bGRVcGRhdGVMYXlvdXQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGNoaWxkLnJlbmRlcihjdHgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IHVwZGF0ZUxheW91dChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpOiB2b2lkO1xyXG5cclxuICAgIHB1YmxpYyB0cmlnZ2VyVXBkYXRlTGF5b3V0ID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2hvdWxkVXBkYXRlTGF5b3V0ID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbW91c2VNb3ZlKGV2OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGNoaWxkLm1vdXNlTW92ZShldik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjbGljayhldjogTW91c2VFdmVudCkge1xyXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbi50b0xpc3QoKSkge1xyXG4gICAgICAgICAgICBjaGlsZC5jbGljayhldik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgUmVuZGVyT2JqZWN0IH0gZnJvbSBcIi4uL2VuYy9zcmMvdWkvcmVuZGVyT2JqZWN0XCI7XHJcbmltcG9ydCB7IFN0YXIgfSBmcm9tIFwiLi9tb2RlbHMvc3RhclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFN0YXJSZW5kZXJPYmplY3QgZXh0ZW5kcyBSZW5kZXJPYmplY3Qge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgc3RhcjogU3Rhcikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbmRlcihjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiZHJhd2luZ1wiKTtcclxuICAgICAgICBcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gXCJ3aGl0ZVwiO1xyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdHguYXJjKHRoaXMuc3Rhci54LCB0aGlzLnN0YXIueSwgdGhpcy5zdGFyLnIsIDAsIE1hdGguUEkgKiAyKTtcclxuICAgICAgICBjdHguZmlsbCgpO1xyXG4gICAgfVxyXG4gICAgbW91c2VNb3ZlKGV2OiBNb3VzZUV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbiAgICB9XHJcbiAgICBjbGljayhldjogTW91c2VFdmVudCk6IHZvaWQge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgUmVuZGVyT2JqZWN0IH0gZnJvbSBcIi4uL2VuYy9zcmMvdWkvcmVuZGVyT2JqZWN0XCI7XHJcbmltcG9ydCB7IExheW91dFZpZXcgfSBmcm9tIFwiLi4vZW5jL3NyYy91aS9sYXlvdXRDb250cm9scy9sYXlvdXRWaWV3XCI7XHJcbmltcG9ydCB7IFN0YXJSZW5kZXJPYmplY3QgfSBmcm9tIFwiLi9zdGFyUmVuZGVyT2JqZWN0XCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi9lbmMvc3JjL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBTdGFyTGF5ZXIgfSBmcm9tIFwiLi9tb2RlbHMvc3RhckxheWVyXCI7XHJcbmltcG9ydCB7IEFwcCB9IGZyb20gXCIuL2FwcFwiO1xyXG5pbXBvcnQgeyBTZXR0aW5nT3BlcmF0aW9uIH0gZnJvbSBcIi4vc2V0dGluZ3Mvc2V0dGluZ09wZXJhdGlvblwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFN0YXJMYXllckRyYXdlciBleHRlbmRzIExheW91dFZpZXcge1xyXG4gICAgY29uc3RydWN0b3IocHVibGljIHN0YXJMYXllcjogU3RhckxheWVyKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICBBcHAuc2V0dGluZ01hbmFnZXIudXBkYXRlLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5zZXR0aW5nc1VwZGF0ZWQpXHJcbiAgICAgICAgdGhpcy50cmlnZ2VyVXBkYXRlTGF5b3V0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXR0aW5nc1VwZGF0ZWQgPSAob3BlcmF0aW9uOiBTZXR0aW5nT3BlcmF0aW9uKSA9PiB7XHJcbiAgICAgICAgc3dpdGNoIChvcGVyYXRpb24pIHtcclxuICAgICAgICAgICAgY2FzZSBTZXR0aW5nT3BlcmF0aW9uLkNoYW5nZU51bWJlck9mU3RhcnM6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZU51bWJlck9mU3RhcnMoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHVwZGF0ZU51bWJlck9mU3RhcnMgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RhckxheWVyLnN0YXJzLmxlbmd0aCAhPSB0aGlzLmNoaWxkcmVuLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJVcGRhdGVMYXlvdXQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUxheW91dChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107XHJcbiAgICAgICAgZm9yIChjb25zdCBzdGFyIG9mIHRoaXMuc3RhckxheWVyLnN0YXJzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChuZXcgU3RhclJlbmRlck9iamVjdChzdGFyKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgbW91c2VNb3ZlKGV2OiBNb3VzZUV2ZW50KSB7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNsaWNrKGV2OiBNb3VzZUV2ZW50KSB7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZSB9IGZyb20gXCIuL3NldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsIHtcclxuICAgIHB1YmxpYyBzdGF0ZTogU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUgPSBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS5oaWRkZW47XHJcbn0iLCJleHBvcnQgY2xhc3MgRUV2ZW50IHtcclxuICAgIHByaXZhdGUgbGlzdGVuZXJzOiAoKCkgPT4gdm9pZClbXSA9IFtdO1xyXG5cclxuICAgIHB1YmxpYyBhZGRFdmVudExpc3RlbmVyID0gKGxpc3RlbmVyOiAoKSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgLy8gdmFsaWRhdGlvblxyXG4gICAgICAgIGlmICghbGlzdGVuZXIgfHwgdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcikgPj0gMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBcImxpc3RlbmVyIGFscmVhZHkgYWRkZWRcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRFdmVudExpc3RlbmVySWZOb3RFeGlzdHMgPSAobGlzdGVuZXI6ICgpID0+IHZvaWQpID0+IHtcclxuICAgICAgICAvLyB2YWxpZGF0aW9uXHJcbiAgICAgICAgaWYgKCFsaXN0ZW5lciB8fCB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkaXNwYXRjaEV2ZW50ID0gKCkgPT4ge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5saXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSB0aGlzLmxpc3RlbmVyc1tpXTtcclxuICAgICAgICAgICAgZXZlbnQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZUV2ZW50TGlzdGVuZXIgPSAobGlzdGVuZXI6ICgpID0+IHZvaWQpID0+IHtcclxuICAgICAgICAvLyB2YWxpZGF0aW9uXHJcbiAgICAgICAgaWYgKCFsaXN0ZW5lciB8fCB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSA8IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJsaXN0ZW5lciBub3QgZm91bmRcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnNwbGljZSh0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSwgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZUV2ZW50TGlzdGVuZXJJZkV4aXN0cyA9IChsaXN0ZW5lcjogKCkgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIC8vIHZhbGlkYXRpb25cclxuICAgICAgICBpZiAoIWxpc3RlbmVyIHx8IHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpIDwgMCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5zcGxpY2UodGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lciksIDEpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRUV2ZW50VDxUPiB7XHJcbiAgICBwcml2YXRlIGxpc3RlbmVyczogKChhcmc6IFQpID0+IHZvaWQpW10gPSBbXTtcclxuXHJcbiAgICBwdWJsaWMgYWRkRXZlbnRMaXN0ZW5lciA9IChsaXN0ZW5lcjogKGFyZzogVCkgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIC8vIHZhbGlkYXRpb25cclxuICAgICAgICBpZiAoIWxpc3RlbmVyIHx8IHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpID49IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJsaXN0ZW5lciBhbHJlYWR5IGFkZGVkXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGlzcGF0Y2hFdmVudCA9IChhcmc6IFQpID0+IHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5saXN0ZW5lcnNbaV07XHJcbiAgICAgICAgICAgIGV2ZW50KGFyZyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVFdmVudExpc3RlbmVyID0gKGxpc3RlbmVyOiAoYXJnOiBUKSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgLy8gdmFsaWRhdGlvblxyXG4gICAgICAgIGlmICghbGlzdGVuZXIgfHwgdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcikgPCAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IFwibGlzdGVuZXIgbm90IGZvdW5kXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5zcGxpY2UodGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lciksIDEpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgRUV2ZW50VFQ8VDEsIFQyPiB7XHJcbiAgICBwcml2YXRlIGxpc3RlbmVyczogKChhcmcxOiBUMSwgYXJnMjogVDIpID0+IHZvaWQpW10gPSBbXTtcclxuXHJcbiAgICBwdWJsaWMgYWRkRXZlbnRMaXN0ZW5lciA9IChsaXN0ZW5lcjogKGFyZzE6IFQxLCBhcmcyOiBUMikgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIC8vIHZhbGlkYXRpb25cclxuICAgICAgICBpZiAoIWxpc3RlbmVyIHx8IHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpID49IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJsaXN0ZW5lciBhbHJlYWR5IGFkZGVkXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGlzcGF0Y2hFdmVudCA9IChhcmcxOiBUMSwgYXJnMjogVDIpID0+IHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5saXN0ZW5lcnNbaV07XHJcbiAgICAgICAgICAgIGV2ZW50KGFyZzEsIGFyZzIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlRXZlbnRMaXN0ZW5lciA9IChsaXN0ZW5lcjogKGFyZzE6IFQxLCBhcmcyOiBUMikgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIC8vIHZhbGlkYXRpb25cclxuICAgICAgICBpZiAoIWxpc3RlbmVyIHx8IHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpIDwgMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBcImxpc3RlbmVyIG5vdCBmb3VuZFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuc3BsaWNlKHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpLCAxKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFJlbmRlck9iamVjdCB9IGZyb20gXCIuLi9yZW5kZXJPYmplY3RcIjtcclxuaW1wb3J0IHsgUG9pbnQgfSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvUG9pbnRcIjtcclxuaW1wb3J0IHsgRUNhbnZhcyB9IGZyb20gXCIuLi9lQ2FudmFzXCI7XHJcbmltcG9ydCB7IEVFdmVudFQgfSBmcm9tIFwiLi4vLi4vZUV2ZW50XCI7XHJcbmltcG9ydCB7IEFsaWduZW1lbnQgfSBmcm9tIFwiLi4vYWxpZ25lbWVudC9hbGlnbmVtZW50XCI7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQ29udHJvbCBleHRlbmRzIFJlbmRlck9iamVjdCB7XHJcbiAgICBwcm90ZWN0ZWQgaXNNb3VzZU92ZXIgPSBmYWxzZTtcclxuICAgIHB1YmxpYyBpc0VuYWJsZWQgPSB0cnVlO1xyXG4gICAgcHVibGljIGNsaWNrZWQgPSBuZXcgRUV2ZW50VDxDb250cm9sPigpO1xyXG5cclxuICAgIHB1YmxpYyBhbGlnbmVtZW50ID0gbmV3IEFsaWduZW1lbnQoKTtcclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgYWxpZ24oY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHBvc2l0aW9uOiBQb2ludCk6IHZvaWQ7XHJcblxyXG4gICAgcHVibGljIG1vdXNlTW92ZSA9IChldjogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmlzRW5hYmxlZCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5ib3VuZHMuaXNIaXRCeShldi5jbGllbnRYLCBldi5jbGllbnRZKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc01vdXNlT3ZlciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBFQ2FudmFzLlNldEN1cnNvcih0aGlzLm5hbWUsIHRydWUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc01vdXNlT3ZlciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgRUNhbnZhcy5TZXRDdXJzb3IodGhpcy5uYW1lLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNsaWNrID0gKGV2OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNFbmFibGVkKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmJvdW5kcy5pc0hpdEJ5KGV2LmNsaWVudFgsIGV2LmNsaWVudFkpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsaWNrZWQuZGlzcGF0Y2hFdmVudCh0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBCdXR0b25Qcm9wZXJ0aWVzIHtcclxuICAgIHB1YmxpYyBmb250U2l6ZSA9IDQwO1xyXG4gICAgcHVibGljIGZpbGxTdHlsZSA9IFwiYmxhY2tcIjtcclxuICAgIHB1YmxpYyBtb3VzZU92ZXJGaWxsU3R5bGUgPSBcInJlZFwiO1xyXG4gICAgcHVibGljIGJhY2tncm91bmRGaWxsU3R5bGU6IHN0cmluZyA9IHVuZGVmaW5lZDtcclxufSIsImltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgQ29udHJvbCB9IGZyb20gXCIuL2NvbnRyb2xcIjtcclxuaW1wb3J0IHsgUG9pbnQgfSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvUG9pbnRcIjtcclxuaW1wb3J0IHsgQnV0dG9uUHJvcGVydGllcyB9IGZyb20gXCIuL3ByaW1pdGl2ZXMvYnV0dG9uUHJvcGVydGllc1wiO1xyXG5pbXBvcnQgeyBBbGlnbmVtZW50IH0gZnJvbSBcIi4uL2FsaWduZW1lbnQvYWxpZ25lbWVudFwiO1xyXG5pbXBvcnQgeyBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbiB9IGZyb20gXCIuLi9hbGlnbmVtZW50L2hvcml6b250YWxBbGlnbmVtZW50T3B0aW9uXCI7XHJcbmltcG9ydCB7IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbiB9IGZyb20gXCIuLi9hbGlnbmVtZW50L3ZlcnRpY2FsQWxpZ25lbWVudE9wdGlvblwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJ1dHRvbiBleHRlbmRzIENvbnRyb2wge1xyXG4gICAgcHVibGljIHByb3BlcnRpZXMgPSBuZXcgQnV0dG9uUHJvcGVydGllcygpO1xyXG4gICAgcHVibGljIHRleHQ6IHN0cmluZztcclxuICAgIHB1YmxpYyBpc1Zpc2libGUgPSB0cnVlO1xyXG5cclxuICAgIHB1YmxpYyByZW5kZXIgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5pc1Zpc2libGUpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5iYWNrZ3JvdW5kRmlsbFN0eWxlKSB7XHJcbiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5wcm9wZXJ0aWVzLmJhY2tncm91bmRGaWxsU3R5bGU7XHJcbiAgICAgICAgICAgICAgICBjdHguZmlsbFJlY3QodGhpcy5ib3VuZHMueCwgdGhpcy5ib3VuZHMueSwgdGhpcy5ib3VuZHMud2lkdGgsIHRoaXMuYm91bmRzLmhlaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzTW91c2VPdmVyKSB7XHJcbiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5wcm9wZXJ0aWVzLm1vdXNlT3ZlckZpbGxTdHlsZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLnByb3BlcnRpZXMuZmlsbFN0eWxlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjdHguZm9udCA9IHRoaXMucHJvcGVydGllcy5mb250U2l6ZSArIFwicHggQXJpYWxcIjtcclxuICAgICAgICAgICAgY3R4LnRleHRBbGlnbiA9IFwibGVmdFwiO1xyXG4gICAgICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gXCJ0b3BcIjtcclxuICAgICAgICAgICAgY3R4LmZpbGxUZXh0KHRoaXMudGV4dCwgdGhpcy5ib3VuZHMueCwgdGhpcy5ib3VuZHMueSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhbGlnbiA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgcG9zaXRpb246IFBvaW50KSA9PiB7XHJcbiAgICAgICAgY3R4LmZvbnQgPSB0aGlzLnByb3BlcnRpZXMuZm9udFNpemUgKyBcInB4IEFyaWFsXCI7XHJcbiAgICAgICAgY3R4LnRleHRBbGlnbiA9IFwibGVmdFwiO1xyXG4gICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSBcInRvcFwiO1xyXG4gICAgICAgIHZhciBzaXplID0gY3R4Lm1lYXN1cmVUZXh0KHRoaXMudGV4dCk7XHJcblxyXG4gICAgICAgIHZhciBib3VuZHMgPSBuZXcgUmVjdGFuZ2xlKDAsIDAsIHNpemUud2lkdGgsIHRoaXMucHJvcGVydGllcy5mb250U2l6ZSk7XHJcbiAgICAgICAgY29uc29sZS5sb2codGhpcy5hbGlnbmVtZW50KTtcclxuICAgICAgICBcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuYWxpZ25lbWVudC5ob3Jpem9udGFsQWxpZ24pIHtcclxuICAgICAgICAgICAgY2FzZSBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbi5MZWZ0OlxyXG4gICAgICAgICAgICAgICAgYm91bmRzLnggPSBwb3NpdGlvbi54O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24uQ2VudGVyOlxyXG4gICAgICAgICAgICAgICAgYm91bmRzLnggPSBwb3NpdGlvbi54IC0gc2l6ZS53aWR0aCAvIDI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbi5SaWdodDpcclxuICAgICAgICAgICAgICAgIGJvdW5kcy54ID0gcG9zaXRpb24ueCAtIHNpemUud2lkdGg7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLmFsaWduZW1lbnQudmVydGljYWxBbGlnbikge1xyXG4gICAgICAgICAgICBjYXNlIFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi5Ub3A6XHJcbiAgICAgICAgICAgICAgICBib3VuZHMueSA9IHBvc2l0aW9uLnk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24uQ2VudGVyOlxyXG4gICAgICAgICAgICAgICAgYm91bmRzLnkgPSBwb3NpdGlvbi55IC0gdGhpcy5wcm9wZXJ0aWVzLmZvbnRTaXplIC8gMjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi5Cb3R0b206XHJcbiAgICAgICAgICAgICAgICBib3VuZHMueSA9IHBvc2l0aW9uLnkgLSB0aGlzLnByb3BlcnRpZXMuZm9udFNpemU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5ib3VuZHMgPSBib3VuZHM7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgUG9pbnQge1xyXG4gICAgY29uc3RydWN0b3IocHVibGljIHg6IG51bWJlciwgcHVibGljIHk6IG51bWJlcikgeyB9XHJcbn0iLCJleHBvcnQgY2xhc3MgUG9pbnQge1xyXG4gICAgY29uc3RydWN0b3IocHVibGljIHg6IG51bWJlciwgcHVibGljIHk6IG51bWJlcikgeyB9XHJcbn0iLCJpbXBvcnQgeyBMYXlvdXRWaWV3IH0gZnJvbSBcIi4vbGF5b3V0Vmlld1wiO1xyXG5pbXBvcnQgeyBDb250cm9sIH0gZnJvbSBcIi4uL2NvbnRyb2xzL2NvbnRyb2xcIjtcclxuaW1wb3J0IHsgUG9pbnQgfSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvUG9pbnRcIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBBbGlnbmVtZW50IH0gZnJvbSBcIi4uL2FsaWduZW1lbnQvYWxpZ25lbWVudFwiO1xyXG5pbXBvcnQgeyBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbiB9IGZyb20gXCIuLi9hbGlnbmVtZW50L2hvcml6b250YWxBbGlnbmVtZW50T3B0aW9uXCI7XHJcbmltcG9ydCB7IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbiB9IGZyb20gXCIuLi9hbGlnbmVtZW50L3ZlcnRpY2FsQWxpZ25lbWVudE9wdGlvblwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIExpc3RWaWV3IGV4dGVuZHMgTGF5b3V0VmlldyB7XHJcbiAgICBwdWJsaWMgc3BhY2luZyA9IDMwO1xyXG5cclxuICAgIHByaXZhdGUgY29udHJvbHM6IENvbnRyb2xbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBsYXlvdXRWaWV3czogTGF5b3V0Vmlld1tdID0gW107XHJcblxyXG4gICAgcHVibGljIGFkZENvbnRyb2wgPSAoY29udHJvbDogQ29udHJvbCkgPT4ge1xyXG4gICAgICAgIGNvbnRyb2wuYWxpZ25lbWVudCA9IHRoaXMuYWxpZ25lbWVudDtcclxuICAgICAgICB0aGlzLmNvbnRyb2xzLnB1c2goY29udHJvbCk7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGNvbnRyb2wpO1xyXG4gICAgICAgIHRoaXMudHJpZ2dlclVwZGF0ZUxheW91dCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVDb250cm9sID0gKGNvbnRyb2w6IENvbnRyb2wpID0+IHtcclxuICAgICAgICB0aGlzLmNvbnRyb2xzLnJlbW92ZUl0ZW0oY29udHJvbCk7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5yZW1vdmVJdGVtKGNvbnRyb2wpO1xyXG4gICAgICAgIHRoaXMudHJpZ2dlclVwZGF0ZUxheW91dCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRMYXlvdXRWaWV3ID0gKGxheW91dFZpZXc6IExheW91dFZpZXcpID0+IHtcclxuICAgICAgICBsYXlvdXRWaWV3LmFsaWduZW1lbnQgPSB0aGlzLmFsaWduZW1lbnQ7XHJcbiAgICAgICAgdGhpcy5sYXlvdXRWaWV3cy5wdXNoKGxheW91dFZpZXcpO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChsYXlvdXRWaWV3KTtcclxuICAgICAgICB0aGlzLnRyaWdnZXJVcGRhdGVMYXlvdXQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlTGF5b3V0VmlldyA9IChsYXlvdXRWaWV3OiBMYXlvdXRWaWV3KSA9PiB7XHJcbiAgICAgICAgdGhpcy5sYXlvdXRWaWV3cy5yZW1vdmVJdGVtKGxheW91dFZpZXcpO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucmVtb3ZlSXRlbShsYXlvdXRWaWV3KTtcclxuICAgICAgICB0aGlzLnRyaWdnZXJVcGRhdGVMYXlvdXQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSk6IHZvaWQge1xyXG4gICAgICAgIHZhciB4ID0gMDtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuYWxpZ25lbWVudC5ob3Jpem9udGFsQWxpZ24pIHtcclxuICAgICAgICAgICAgY2FzZSBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbi5MZWZ0OlxyXG4gICAgICAgICAgICAgICAgeCA9IGJvdW5kcy54O1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24uQ2VudGVyOlxyXG4gICAgICAgICAgICAgICAgeCA9IGJvdW5kcy54IC0gYm91bmRzLndpZHRoIC8gMjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uLlJpZ2h0OlxyXG4gICAgICAgICAgICAgICAgeCA9IGJvdW5kcy54IC0gYm91bmRzLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYm91bmRzLnggPSB4O1xyXG5cclxuICAgICAgICB2YXIgeSA9IDA7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLmFsaWduZW1lbnQudmVydGljYWxBbGlnbikge1xyXG4gICAgICAgICAgICBjYXNlIFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi5Ub3A6XHJcbiAgICAgICAgICAgICAgICB5ID0gYm91bmRzLnk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24uQ2VudGVyOlxyXG4gICAgICAgICAgICAgICAgeSA9IGJvdW5kcy55IC0gYm91bmRzLmhlaWdodCAvIDI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24uQm90dG9tOlxyXG4gICAgICAgICAgICAgICAgeSA9IGJvdW5kcy55IC0gYm91bmRzLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmJvdW5kcy55ID0geTtcclxuXHJcbiAgICAgICAgdmFyIHdpZHRoID0gMDtcclxuICAgICAgICB2YXIgaGVpZ2h0ID0gMDtcclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNoaWxkcmVuLmluZGV4T2YoY2hpbGQpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgeSArPSB0aGlzLnNwYWNpbmc7XHJcbiAgICAgICAgICAgICAgICBoZWlnaHQgKz0gdGhpcy5zcGFjaW5nO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRyb2xzLmNvbnRhaW5zKGNoaWxkIGFzIENvbnRyb2wpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29udHJvbCA9IGNoaWxkIGFzIENvbnRyb2w7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh5KTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgY29udHJvbC5hbGlnbihjdHgsIG5ldyBQb2ludCh4LCB5KSlcclxuICAgICAgICAgICAgICAgIHkgKz0gY29udHJvbC5ib3VuZHMuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgaGVpZ2h0ICs9IGNvbnRyb2wuYm91bmRzLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIHdpZHRoID0gTWF0aC5tYXgod2lkdGgsIGNvbnRyb2wuYm91bmRzLndpZHRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmICh0aGlzLmxheW91dFZpZXdzLmNvbnRhaW5zKGNoaWxkIGFzIExheW91dFZpZXcpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGF5b3V0VmlldyA9IGNoaWxkIGFzIExheW91dFZpZXc7XHJcbiAgICAgICAgICAgICAgICBsYXlvdXRWaWV3LnVwZGF0ZUxheW91dChjdHgsIG5ldyBSZWN0YW5nbGUoeCwgeSwgMCwgMCkpO1xyXG4gICAgICAgICAgICAgICAgeSArPSBsYXlvdXRWaWV3LmJvdW5kcy5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICBoZWlnaHQgKz0gY29udHJvbC5ib3VuZHMuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgd2lkdGggPSBNYXRoLm1heCh3aWR0aCwgbGF5b3V0Vmlldy5ib3VuZHMud2lkdGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3I6IDI4MDQyMDE5MTYyNVwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGhlaWdodCAhPSB0aGlzLmJvdW5kcy5oZWlnaHQgfHwgd2lkdGggIT0gdGhpcy5ib3VuZHMud2lkdGgpIHtcclxuICAgICAgICAgICAgdGhpcy5ib3VuZHMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgICAgICB0aGlzLmJvdW5kcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUxheW91dChjdHgsIG5ldyBSZWN0YW5nbGUoYm91bmRzLngsIGJvdW5kcy55LCB0aGlzLmJvdW5kcy53aWR0aCwgdGhpcy5ib3VuZHMuaGVpZ2h0KSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgTGF5b3V0VmlldyB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xheW91dFZpZXdcIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbCB9IGZyb20gXCIuL3NldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFwiO1xyXG5pbXBvcnQgeyBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZSB9IGZyb20gXCIuL3NldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlXCI7XHJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2J1dHRvblwiO1xyXG5pbXBvcnQgeyBQb2ludCB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL2dlb21ldHJ5L3BvaW50XCI7XHJcbmltcG9ydCB7IENvbnRyb2wgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9jb250cm9scy9jb250cm9sXCI7XHJcbmltcG9ydCB7IExpc3RWaWV3IH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGlzdFZpZXdcIjtcclxuaW1wb3J0IHsgU3RhckxheWVyIH0gZnJvbSBcIi4uL21vZGVscy9zdGFyTGF5ZXJcIjtcclxuaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4uL2FwcFwiO1xyXG5pbXBvcnQgeyBTZXR0aW5nT3BlcmF0aW9uIH0gZnJvbSBcIi4uL3NldHRpbmdzL3NldHRpbmdPcGVyYXRpb25cIjtcclxuaW1wb3J0IHsgVmVydGljYWxBbGlnbmVtZW50T3B0aW9uIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvYWxpZ25lbWVudC92ZXJ0aWNhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuaW1wb3J0IHsgSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24gfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9hbGlnbmVtZW50L2hvcml6b250YWxBbGlnbmVtZW50T3B0aW9uXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU2V0dGluZ3NPdmVybGF5VmlldyBleHRlbmRzIExheW91dFZpZXcge1xyXG4gICAgcHJpdmF0ZSB2aWV3TW9kZWw6IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbCA9IG5ldyBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWwoKTtcclxuICAgIHByaXZhdGUgbGFzdE1vdmVkID0gRGF0ZS5ub3coKTtcclxuICAgIHByaXZhdGUgaW5hY3Rpdml0eVRpbWVvdXQgPSAyMDAwO1xyXG4gICAgcHJpdmF0ZSBzaG93T3ZlckxheWVyQnV0dG9uOiBCdXR0b247XHJcbiAgICBwcml2YXRlIHNldHRpbmdzTGlzdDogTGlzdFZpZXc7XHJcblxyXG4gICAgcHJpdmF0ZSBsYXllckJ1dHRvbnM6IEJ1dHRvbltdID0gW107XHJcbiAgICBwcml2YXRlIGFkZExheWVyQnRuOiBCdXR0b247XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLnNob3dPdmVyTGF5ZXJCdXR0b24gPSBuZXcgQnV0dG9uKCk7XHJcbiAgICAgICAgdGhpcy5zaG93T3ZlckxheWVyQnV0dG9uLnRleHQgPSBcIlNob3cvSGlkZSBTZXR0aW5nc1wiO1xyXG4gICAgICAgIHRoaXMuc2hvd092ZXJMYXllckJ1dHRvbi5wcm9wZXJ0aWVzLmZpbGxTdHlsZSA9IFwiZ3JlZW5cIjtcclxuICAgICAgICB0aGlzLnNob3dPdmVyTGF5ZXJCdXR0b24uYWxpZ25lbWVudC52ZXJ0aWNhbEFsaWduID0gVmVydGljYWxBbGlnbmVtZW50T3B0aW9uLlRvcDtcclxuICAgICAgICB0aGlzLnNob3dPdmVyTGF5ZXJCdXR0b24uYWxpZ25lbWVudC5ob3Jpem9udGFsQWxpZ24gPSBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbi5MZWZ0O1xyXG4gICAgICAgIHRoaXMuc2hvd092ZXJMYXllckJ1dHRvbi5jbGlja2VkLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5zaG93SGlkZU92ZXJsYXlDbGlja2VkKTtcclxuICAgICAgICB0aGlzLnNob3dPdmVyTGF5ZXJCdXR0b24ucHJvcGVydGllcy5iYWNrZ3JvdW5kRmlsbFN0eWxlID0gXCJyZ2JhKDAsIDAsIDAsIDAuNSlcIjtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2godGhpcy5zaG93T3ZlckxheWVyQnV0dG9uKTtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdCA9IG5ldyBMaXN0VmlldygpO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LmFsaWduZW1lbnQuaG9yaXpvbnRhbEFsaWduID0gSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24uTGVmdDtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5hbGlnbmVtZW50LnZlcnRpY2FsQWxpZ24gPSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24uVG9wO1xyXG5cclxuICAgICAgICB2YXIgYnRuRm9yTmV3TGF5ZXIgPSBuZXcgQnV0dG9uKCk7XHJcbiAgICAgICAgYnRuRm9yTmV3TGF5ZXIudGV4dCA9IFwiQWRkIExheWVyXCI7XHJcbiAgICAgICAgYnRuRm9yTmV3TGF5ZXIucHJvcGVydGllcy5maWxsU3R5bGUgPSBcIndoaXRlXCI7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QuYWRkQ29udHJvbChidG5Gb3JOZXdMYXllcik7XHJcbiAgICAgICAgYnRuRm9yTmV3TGF5ZXIuY2xpY2tlZC5hZGRFdmVudExpc3RlbmVyKChzZW5kZXI6IENvbnRyb2wpID0+IHtcclxuICAgICAgICAgICAgQXBwLnNldHRpbmdNYW5hZ2VyLmFkZFN0YXJMYXllcigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYWRkTGF5ZXJCdG4gPSBidG5Gb3JOZXdMYXllcjtcclxuXHJcblxyXG4gICAgICAgIEFwcC5zZXR0aW5nTWFuYWdlci51cGRhdGUuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLnNldHRpbmdzVXBkYXRlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXR0aW5nc1VwZGF0ZWQgPSAob3BlcmF0aW9uOiBTZXR0aW5nT3BlcmF0aW9uKSA9PiB7XHJcbiAgICAgICAgc3dpdGNoIChvcGVyYXRpb24pIHtcclxuICAgICAgICAgICAgY2FzZSBTZXR0aW5nT3BlcmF0aW9uLkFkZFN0YXJMYXllcjpcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc3RhckxheWVyIG9mIEFwcC5zZXR0aW5ncy5zdGFyTGF5ZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmxheWVyQnV0dG9ucy5tYXAoeCA9PiB4LnRhZykuY29udGFpbnMoc3RhckxheWVyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5yZW1vdmVDb250cm9sKHRoaXMuYWRkTGF5ZXJCdG4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYnRuRm9yTGF5ZXIgPSBuZXcgQnV0dG9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ0bkZvckxheWVyLnRleHQgPSBcIlJlbW92ZSBMYXllclwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidG5Gb3JMYXllci50YWcgPSBzdGFyTGF5ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ0bkZvckxheWVyLnByb3BlcnRpZXMuZmlsbFN0eWxlID0gXCJ3aGl0ZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5hZGRDb250cm9sKGJ0bkZvckxheWVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXllckJ1dHRvbnMucHVzaChidG5Gb3JMYXllcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ0bkZvckxheWVyLmNsaWNrZWQuYWRkRXZlbnRMaXN0ZW5lcigoc2VuZGVyOiBDb250cm9sKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBcHAuc2V0dGluZ01hbmFnZXIucmVtb3ZlU3RhckxheWVyKHN0YXJMYXllcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5hZGRDb250cm9sKHRoaXMuYWRkTGF5ZXJCdG4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBTZXR0aW5nT3BlcmF0aW9uLlJlbW92ZVN0YXJMYXllcjpcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc2V0dGluZ3NMYXllciBvZiB0aGlzLmxheWVyQnV0dG9ucykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghQXBwLnNldHRpbmdzLnN0YXJMYXllcnMuY29udGFpbnMoc2V0dGluZ3NMYXllci50YWcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LnJlbW92ZUNvbnRyb2woc2V0dGluZ3NMYXllcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGF5ZXJCdXR0b25zLnJlbW92ZUl0ZW0oc2V0dGluZ3NMYXllcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNob3dIaWRlT3ZlcmxheUNsaWNrZWQgPSAoc2VuZGVyOiBDb250cm9sKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMudmlld01vZGVsLnN0YXRlID09IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLnZpc2libGUpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS5iZWZvcmVWaXNpYmxlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLnZpc2libGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc2hvd092ZXJMYXllckJ1dHRvbi5hbGlnbihjdHgsIG5ldyBQb2ludChib3VuZHMueCwgYm91bmRzLnkpKTtcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnNob3dPdmVyTGF5ZXJCdXR0b24uYm91bmRzLmhlaWdodCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QudXBkYXRlTGF5b3V0KGN0eCwgbmV3IFJlY3RhbmdsZSgwLCB0aGlzLnNob3dPdmVyTGF5ZXJCdXR0b24uYm91bmRzLmhlaWdodCAqIDIsIDAsIDApKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbW91c2VNb3ZlID0gKGV2OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMudmlld01vZGVsLnN0YXRlID09IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLmhpZGRlbiB8fCB0aGlzLnZpZXdNb2RlbC5zdGF0ZSA9PSBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS5iZWZvcmVWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUuYmVmb3JlVmlzaWJsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN1cGVyLm1vdXNlTW92ZShldik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG1vdXNlSW5hY3Rpdml0eUhhbmRsZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKERhdGUubm93KCkgLSB0aGlzLmxhc3RNb3ZlZCA+PSB0aGlzLmluYWN0aXZpdHlUaW1lb3V0KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnZpZXdNb2RlbC5zdGF0ZSA9PSBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS5iZWZvcmVWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLmhpZGRlbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMubW91c2VJbmFjdGl2aXR5SGFuZGxlciwgdGhpcy5pbmFjdGl2aXR5VGltZW91dCAtIChEYXRlLm5vdygpIC0gdGhpcy5sYXN0TW92ZWQpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXRTdGF0ZSA9IChzdGF0ZTogU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUpID0+IHtcclxuICAgICAgICBzd2l0Y2ggKHN0YXRlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUuaGlkZGVuOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG93T3ZlckxheWVyQnV0dG9uLmlzVmlzaWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3TW9kZWwuc3RhdGUgPSBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS5oaWRkZW47XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS5iZWZvcmVWaXNpYmxlOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0TW92ZWQgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudmlld01vZGVsLnN0YXRlID09IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLmhpZGRlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQodGhpcy5tb3VzZUluYWN0aXZpdHlIYW5kbGVyLCB0aGlzLmluYWN0aXZpdHlUaW1lb3V0KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dPdmVyTGF5ZXJCdXR0b24uaXNWaXNpYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnZpZXdNb2RlbC5zdGF0ZSA9PSBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS52aXNpYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCh0aGlzLm1vdXNlSW5hY3Rpdml0eUhhbmRsZXIsIHRoaXMuaW5hY3Rpdml0eVRpbWVvdXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucmVtb3ZlSXRlbUlmRXhpc3RzKHRoaXMuc2V0dGluZ3NMaXN0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMudmlld01vZGVsLnN0YXRlID0gU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUuYmVmb3JlVmlzaWJsZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLnZpc2libGU6XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy52aWV3TW9kZWwuc3RhdGUgPT0gU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUuYmVmb3JlVmlzaWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaCh0aGlzLnNldHRpbmdzTGlzdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdNb2RlbC5zdGF0ZSA9IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLnZpc2libGU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi9hcHBcIjtcclxuaW1wb3J0IHsgU3RhckxheWVyIH0gZnJvbSBcIi4vbW9kZWxzL3N0YXJMYXllclwiO1xyXG5pbXBvcnQgeyBFQW5pbWF0aW9uIH0gZnJvbSBcIi4uL2VuYy9zcmMvZUFuaW1hdGlvblwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFN0YXJMYXllckFuaW1hdG9yIHtcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBzdGFyTGF5ZXI6IFN0YXJMYXllcikge1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUgPSAodGltZURpZmY6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGZvciAoY29uc3Qgc3RhciBvZiB0aGlzLnN0YXJMYXllci5zdGFycykge1xyXG4gICAgICAgICAgICBzdGFyLnggKz0gdGhpcy5zdGFyTGF5ZXIuc3BlZWQgKiB0aW1lRGlmZjtcclxuICAgICAgICAgICAgaWYgKHN0YXIueCA+IEFwcC5zZXR0aW5ncy53aWR0aCkge1xyXG4gICAgICAgICAgICAgICAgc3Rhci54IC09IEFwcC5zZXR0aW5ncy53aWR0aDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IExheW91dFZpZXcgfSBmcm9tIFwiLi4vZW5jL3NyYy91aS9sYXlvdXRDb250cm9scy9sYXlvdXRWaWV3XCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi9lbmMvc3JjL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBRdWlja0RyYXdWaWV3IH0gZnJvbSBcIi4uL2VuYy9zcmMvdWkvcXVpY2tEcmF3Vmlld1wiO1xyXG5pbXBvcnQgeyBTdGFyTGF5ZXJEcmF3ZXIgfSBmcm9tIFwiLi9zdGFyTGF5ZXJEcmF3ZXJcIjtcclxuaW1wb3J0IHsgU2V0dGluZ3NPdmVybGF5VmlldyB9IGZyb20gXCIuL292ZXJsYXkvc2V0dGluZ3NPdmVybGF5Vmlld1wiO1xyXG5pbXBvcnQgeyBTdGFyTGF5ZXIgfSBmcm9tIFwiLi9tb2RlbHMvc3RhckxheWVyXCI7XHJcbmltcG9ydCB7IEFwcCB9IGZyb20gXCIuL2FwcFwiO1xyXG5pbXBvcnQgeyBTdGFyTGF5ZXJBbmltYXRvciB9IGZyb20gXCIuL3N0YXJMYXllckFuaW1hdG9yXCI7XHJcbmltcG9ydCB7IEVBbmltYXRpb24gfSBmcm9tIFwiLi4vZW5jL3NyYy9lQW5pbWF0aW9uXCI7XHJcbmltcG9ydCB7IFNldHRpbmdPcGVyYXRpb24gfSBmcm9tIFwiLi9zZXR0aW5ncy9zZXR0aW5nT3BlcmF0aW9uXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgSW5zcGllcnR5UGxheWVyVmlldyBleHRlbmRzIExheW91dFZpZXcge1xyXG4gICAgcHJpdmF0ZSBzdGFyTGF5ZXJzOiBTdGFyTGF5ZXJEcmF3ZXJbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBzdGFyQW5pbWF0b3JzOiBTdGFyTGF5ZXJBbmltYXRvcltdID0gW107XHJcbiAgICBwcml2YXRlIHNldHRpbmdzT3ZlcmxheTogU2V0dGluZ3NPdmVybGF5VmlldztcclxuICAgIGFuaW06IEVBbmltYXRpb247XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc092ZXJsYXkgPSBuZXcgU2V0dGluZ3NPdmVybGF5VmlldygpO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaCh0aGlzLnNldHRpbmdzT3ZlcmxheSk7XHJcbiAgICAgICAgdGhpcy5hbmltID0gbmV3IEVBbmltYXRpb24oKTtcclxuICAgICAgICBBcHAuc2V0dGluZ01hbmFnZXIudXBkYXRlLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5hcHBTZXR0aW5nc1VwZGF0ZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXBwU2V0dGluZ3NVcGRhdGVkID0gKG9wZXJhdGlvbjogU2V0dGluZ09wZXJhdGlvbikgPT4ge1xyXG4gICAgICAgIHN3aXRjaCAob3BlcmF0aW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgU2V0dGluZ09wZXJhdGlvbi5BZGRTdGFyTGF5ZXI6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFN0YXJMYXllcigpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgU2V0dGluZ09wZXJhdGlvbi5SZW1vdmVTdGFyTGF5ZXI6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVN0YXJMYXllcigpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRTdGFyTGF5ZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgZm9yIChjb25zdCBzdGFyTGF5ZXIgb2YgQXBwLnNldHRpbmdzLnN0YXJMYXllcnMpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhckxheWVycy5maXJzdE9yRGVmYXVsdCh4ID0+IHguc3RhckxheWVyID09IHN0YXJMYXllcikgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxheWVyID0gbmV3IFN0YXJMYXllckRyYXdlcihzdGFyTGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFyTGF5ZXJzLnB1c2gobGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5zcGxpY2UoMCwgMCwgbGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyVXBkYXRlTGF5b3V0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGFuaW1hdG9yID0gbmV3IFN0YXJMYXllckFuaW1hdG9yKHN0YXJMYXllcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW0uYWRkVXBkYXRlRnVuY3Rpb24oYW5pbWF0b3IudXBkYXRlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhckFuaW1hdG9ycy5wdXNoKGFuaW1hdG9yKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVTdGFyTGF5ZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgZm9yIChjb25zdCBzdGFyTGF5ZXIgb2YgQXBwLnNldHRpbmdzLnN0YXJMYXllcnMpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhckxheWVycy5maXJzdE9yRGVmYXVsdCh4ID0+IHguc3RhckxheWVyID09IHN0YXJMYXllcikgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxheWVyID0gdGhpcy5zdGFyTGF5ZXJzLmZpcnN0KHggPT4geC5zdGFyTGF5ZXIgPT0gc3RhckxheWVyKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucmVtb3ZlKHggPT4geCA9PSBsYXllcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJMYXllcnMucmVtb3ZlKHggPT4geCA9PSBsYXllcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXJVcGRhdGVMYXlvdXQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgYW5pbWF0b3IgPSB0aGlzLnN0YXJBbmltYXRvcnMuZmlyc3QoeCA9PiB4LnN0YXJMYXllciA9PSBzdGFyTGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hbmltLnJlbW92ZVVwZGF0ZUZ1bmN0aW9uKGFuaW1hdG9yLnVwZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJBbmltYXRvcnMucmVtb3ZlSXRlbShhbmltYXRvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUxheW91dChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpOiB2b2lkIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGxheWVyIG9mIHRoaXMuc3RhckxheWVycykge1xyXG4gICAgICAgICAgICBsYXllci51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnNldHRpbmdzT3ZlcmxheS51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgU3RhciB9IGZyb20gXCIuL3N0YXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTdGFyTGF5ZXIge1xyXG4gICAgcHVibGljIHN0YXJzOiBTdGFyW10gPSBbXTtcclxuICAgIHB1YmxpYyBzcGVlZCA9IE1hdGgucmFuZG9tKCkgKiAyMCArIDU7XHJcbn0iLCJpbXBvcnQgeyBTdGFnZSB9IGZyb20gXCIuLi9lbmMvc3JjL3VpL3N0YWdlXCI7XHJcbmltcG9ydCB7IEluc3BpZXJ0eVBsYXllclZpZXcgfSBmcm9tIFwiLi9pbnNwaWVydHlQbGF5ZXJWaWV3XCI7XHJcbmltcG9ydCB7IFNldHRpbmdzIH0gZnJvbSBcIi4vbW9kZWxzL3NldHRpbmdzXCI7XHJcbmltcG9ydCB7IFNldHRpbmdzTWFuYWdlciB9IGZyb20gXCIuL3NldHRpbmdzL3NldHRpbmdzTWFuYWdlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEFwcCB7XHJcbiAgICBwdWJsaWMgc3RhdGljIHNldHRpbmdzID0gbmV3IFNldHRpbmdzKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xyXG4gICAgcHVibGljIHN0YXRpYyBzZXR0aW5nTWFuYWdlciA9IG5ldyBTZXR0aW5nc01hbmFnZXIoKTtcclxuXHJcbiAgICBwdWJsaWMgcnVuID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiaGlcIik7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJibGFja1wiO1xyXG4gICAgICAgIHZhciBzdGFnZSA9IFN0YWdlLmNyZWF0ZSgpO1xyXG5cclxuICAgICAgICB2YXIgdmlldyA9IG5ldyBJbnNwaWVydHlQbGF5ZXJWaWV3KCk7XHJcbiAgICAgICAgc3RhZ2Uuc2V0Vmlldyh2aWV3KTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFN0YXJMYXllciB9IGZyb20gXCIuL3N0YXJMYXllclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNldHRpbmdzIHtcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyB3aWR0aDogbnVtYmVyLCBwdWJsaWMgaGVpZ2h0OiBudW1iZXIpIHsgfVxyXG5cclxuICAgIHB1YmxpYyBzdGFyTGF5ZXJzOiBTdGFyTGF5ZXJbXSA9IFtdO1xyXG59XHJcbiIsImltcG9ydCB7IFNldHRpbmdPcGVyYXRpb24gfSBmcm9tIFwiLi9zZXR0aW5nT3BlcmF0aW9uXCI7XHJcbmltcG9ydCB7IEVFdmVudFQgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9lRXZlbnRcIjtcclxuaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4uL2FwcFwiO1xyXG5pbXBvcnQgeyBTdGFyTGF5ZXIgfSBmcm9tIFwiLi4vbW9kZWxzL3N0YXJMYXllclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNldHRpbmdzTWFuYWdlciB7XHJcbiAgICBwdWJsaWMgdXBkYXRlID0gbmV3IEVFdmVudFQ8U2V0dGluZ09wZXJhdGlvbj4oKTtcclxuXHJcbiAgICBwdWJsaWMgYWRkU3RhckxheWVyID0gKCkgPT4ge1xyXG4gICAgICAgIHZhciBsYXllciA9IG5ldyBTdGFyTGF5ZXIoKTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDA7IGkrKykge1xyXG4gICAgICAgICAgICBsYXllci5zdGFycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHg6IE1hdGgucmFuZG9tKCkgKiBBcHAuc2V0dGluZ3Mud2lkdGgsXHJcbiAgICAgICAgICAgICAgICB5OiBNYXRoLnJhbmRvbSgpICogQXBwLnNldHRpbmdzLmhlaWdodCxcclxuICAgICAgICAgICAgICAgIHI6IE1hdGgucmFuZG9tKCkgKiAyICsgMC4wNVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgQXBwLnNldHRpbmdzLnN0YXJMYXllcnMucHVzaChsYXllcik7XHJcbiAgICAgICAgdGhpcy51cGRhdGUuZGlzcGF0Y2hFdmVudChTZXR0aW5nT3BlcmF0aW9uLkFkZFN0YXJMYXllcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZVN0YXJMYXllciA9IChzdGFyTGF5ZXI6IFN0YXJMYXllcikgPT4ge1xyXG4gICAgICAgIEFwcC5zZXR0aW5ncy5zdGFyTGF5ZXJzLnJlbW92ZUl0ZW0oc3RhckxheWVyKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZS5kaXNwYXRjaEV2ZW50KFNldHRpbmdPcGVyYXRpb24uUmVtb3ZlU3RhckxheWVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2hhbmdlTnVtYmVyT2ZTdGFycyA9IChzdGFyTGF5ZXI6IFN0YXJMYXllciwgbnVtYmVyT2ZTdGFyczogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgaWYgKG51bWJlck9mU3RhcnMgPiAwKSB7XHJcbiAgICAgICAgICAgIHZhciBkaWZmID0gbnVtYmVyT2ZTdGFycyAtIHN0YXJMYXllci5zdGFycy5sZW5ndGg7XHJcbiAgICAgICAgICAgIGlmIChkaWZmID4gMCkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaWZmOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFyTGF5ZXIuc3RhcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IE1hdGgucmFuZG9tKCkgKiBBcHAuc2V0dGluZ3Mud2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IE1hdGgucmFuZG9tKCkgKiBBcHAuc2V0dGluZ3MuaGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByOiBNYXRoLnJhbmRvbSgpICogMiArIDAuMDVcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRpZmYgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRpZmY7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJMYXllci5zdGFycy5zcGxpY2UoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogc3RhckxheWVyLnN0YXJzLmxlbmd0aCksIDEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlLmRpc3BhdGNoRXZlbnQoU2V0dGluZ09wZXJhdGlvbi5DaGFuZ2VOdW1iZXJPZlN0YXJzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi9hcHBcIjtcclxuaW1wb3J0IFwiLi4vZW5jL3NyYy9leHRlbnNpb25zXCI7XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgbWFpbiwgZmFsc2UpO1xyXG5cclxuZnVuY3Rpb24gbWFpbigpIHtcclxuICAgIHZhciBhcHAgPSBuZXcgQXBwKCk7XHJcbiAgICBhcHAucnVuKCk7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9