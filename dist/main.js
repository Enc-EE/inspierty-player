!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=7)}([function(t,e,i){t.exports=i.p+"4548616750b49599e29ad31f27052fc7.mp3"},function(t,e,i){t.exports=i.p+"42e1c91573e0327cd3f17f251e8af2a6.mp3"},function(t,e,i){t.exports=i.p+"f1ceea5d555947c80281f368bfaf8fa8.mp3"},function(t,e,i){t.exports=i.p+"b5599f87dda55c2ca04eb255a9788fa5.png"},function(t,e,i){t.exports=i.p+"dec4bbd246838204460cee765e852465.png"},function(t,e,i){t.exports=i.p+"b78224d2549be6ccf64dc62f3973084e.png"},function(t,e){Array.prototype.firstOrDefault=function(t){for(const e of this)if(t(e))return e;return null},Array.prototype.first=function(t){for(const e of this)if(t(e))return e;throw console.log("item not found"),console.log(this),"item not found"},Array.prototype.getNext=function(t,e){var i=e(t)+1,s=this.firstOrDefault(t=>e(t)==i);return s||(s=this.first(t=>1==e(t))),s},Array.prototype.removeItem=function(t){var e=this.indexOf(t);if(-1==e)throw"item not found";this.splice(e,1)},Array.prototype.contains=function(t){return-1!==this.indexOf(t)},Array.prototype.removeItemIfExists=function(t){var e=this.indexOf(t);-1!=e&&this.splice(e,1)},Array.prototype.addItemIfNotExists=function(t){-1==this.indexOf(t)&&this.push(t)},Array.prototype.remove=function(t){this.removeItem(this.first(t))},Array.prototype.toList=function(){return this.filter(t=>!0)}},function(t,e,i){"use strict";i.r(e);class s{constructor(){this.listeners=[],this.addEventListener=t=>{if(!t||this.listeners.indexOf(t)>=0)throw"listener already added";this.listeners.push(t)},this.addEventListenerIfNotExists=t=>{!t||this.listeners.indexOf(t)>=0||this.listeners.push(t)},this.dispatchEvent=()=>{for(let t=0;t<this.listeners.length;t++){(0,this.listeners[t])()}},this.removeEventListener=t=>{if(!t||this.listeners.indexOf(t)<0)throw"listener not found";this.listeners.splice(this.listeners.indexOf(t),1)},this.removeEventListenerIfExists=t=>{!t||this.listeners.indexOf(t)<0||this.listeners.splice(this.listeners.indexOf(t),1)}}}class n{constructor(){this.listeners=[],this.addEventListener=t=>{if(!t||this.listeners.indexOf(t)>=0)throw"listener already added";this.listeners.push(t)},this.dispatchEvent=t=>{for(let e=0;e<this.listeners.length;e++){(0,this.listeners[e])(t)}},this.removeEventListener=t=>{if(!t||this.listeners.indexOf(t)<0)throw"listener not found";this.listeners.splice(this.listeners.indexOf(t),1)}}}class r{constructor(){this.listeners=[],this.addEventListener=t=>{if(!t||this.listeners.indexOf(t)>=0)throw"listener already added";this.listeners.push(t)},this.dispatchEvent=(t,e)=>{for(let i=0;i<this.listeners.length;i++){(0,this.listeners[i])(t,e)}},this.removeEventListener=t=>{if(!t||this.listeners.indexOf(t)<0)throw"listener not found";this.listeners.splice(this.listeners.indexOf(t),1)}}}class a{constructor(){this.drawFunctions=[],this.dpr=1,this.dprScalingEnabled=!1,this.enableDprScaling=()=>{this.dprScalingEnabled=!0,this.resize()},this.disableDprScaling=()=>{this.dprScalingEnabled=!1,this.resize()},this.resized=new s,this.resize=()=>{this.dpr=this.dprScalingEnabled&&window.devicePixelRatio||1,this.canvas.width=this.canvas.clientWidth,this.canvas.height=this.canvas.clientHeight,this.resized.dispatchEvent()},this.draw=()=>{this.ctx.save(),this.ctx.scale(this.dpr,this.dpr);for(const t of this.drawFunctions)t(this.ctx,this.width,this.height);this.ctx.restore()},this.addDrawFunction=t=>{this.drawFunctions.push(t)},this.removeDrawFunction=t=>{this.drawFunctions.splice(this.drawFunctions.indexOf(t),1)}}get width(){return this.canvas.clientWidth/this.dpr}get height(){return this.canvas.clientHeight/this.dpr}static createFullScreen(){document.body.parentElement.style.height="100%",document.body.style.height="100%",document.body.style.margin="0",document.body.style.overflow="hidden";var t=document.createElement("canvas");document.body.appendChild(t),t.style.width="100%",t.style.height="100%";var e=new a;return e.canvas=t,e.ctx=t.getContext("2d"),window.addEventListener("resize",e.resize),e.resize(),e}}a.cursorManipulation=!0,a.cursorLock=null,a.SetCursor=(t,e)=>{a.cursorManipulation&&(e?(document.body.style.cursor="pointer",a.cursorLock=t):t==a.cursorLock&&(document.body.style.cursor="default",a.cursorLock=null))};class o{constructor(t,e,i,s){this.x=t,this.y=e,this.width=i,this.height=s,this.collidesWith=t=>{var e=!1,i=!1;return this.x<=t.x?this.x<=t.x&&this.x+this.width>t.x&&(e=!0):t.x<=this.x&&t.x+t.width>this.x&&(e=!0),e&&(this.y<=t.y?this.y<=t.y&&this.y+this.width>t.y&&(i=!0):t.y<=this.y&&t.y+t.width>this.y&&(i=!0)),e&&i},this.isHitBy=(t,e)=>t>this.x&&t<this.x+this.width&&e>this.y&&e<this.y+this.height}}class h{constructor(t){this.canvas=t,this.isTouchMode=!1,this.canvasResized=()=>{this.shouldUpdateLayout=!0},this.touchMode=t=>{this.isTouchMode||(console.log("switching to touch mode"),a.cursorManipulation=!1,this.isTouchMode=!0,this.removeMouseListeners(),this.addTouchListeners(),document.body.addEventListener("mousedown",this.mouseMode),document.removeEventListener("touchstart",this.touchMode))},this.mouseMode=t=>{this.isTouchMode&&(console.log("switching to mouse mode"),a.cursorManipulation=!0,this.isTouchMode=!1,this.addMouseListeners(),this.removeTouchListeners(),document.addEventListener("touchstart",this.touchMode),document.removeEventListener("mousedown",this.mouseMode))},this.mouseDown=t=>{this.view&&this.view.mouseDown({clientX:t.clientX/this.canvas.dpr,clientY:t.clientY/this.canvas.dpr,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey})},this.mouseUp=t=>{this.view&&this.view.mouseUp({clientX:t.clientX/this.canvas.dpr,clientY:t.clientY/this.canvas.dpr,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey})},this.mouseMove=t=>{this.view&&this.view.mouseMove({clientX:t.clientX/this.canvas.dpr,clientY:t.clientY/this.canvas.dpr,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey})},this.click=t=>{this.view&&this.view.click({clientX:t.clientX/this.canvas.dpr,clientY:t.clientY/this.canvas.dpr,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey})},this.render=(t,e,i)=>{this.view&&(this.shouldUpdateLayout&&(this.view.updateLayout(t,new o(0,0,e,i)),this.shouldUpdateLayout=!1),t.clearRect(0,0,e,i),this.view.render(t))},this.setView=t=>{this.view=t,this.shouldUpdateLayout=!0},this.touchToMouse=t=>t.touches.length>0?{clientX:t.touches[0].clientX/this.canvas.dpr,clientY:t.touches[0].clientY/this.canvas.dpr,altKey:t.altKey,ctrlKey:!0,shiftKey:t.shiftKey}:{clientX:0,clientY:0,altKey:t.altKey,ctrlKey:!0,shiftKey:t.shiftKey},t.addDrawFunction(this.render),t.resized.addEventListener(this.canvasResized),document.addEventListener("touchstart",this.touchMode),this.addMouseListeners()}removeMouseListeners(){document.removeEventListener("mouseup",this.mouseUp),document.removeEventListener("mousemove",this.mouseMove),document.removeEventListener("mousedown",this.mouseDown),document.removeEventListener("click",this.click)}addMouseListeners(){document.addEventListener("mouseup",this.mouseUp),document.addEventListener("mousemove",this.mouseMove),document.addEventListener("mousedown",this.mouseDown),document.addEventListener("click",this.click)}removeTouchListeners(){document.removeEventListener("touchend",this.mouseUp),document.removeEventListener("touchmove",this.mouseMove),document.removeEventListener("touchstart",this.click)}addTouchListeners(){document.addEventListener("touchend",t=>{t.preventDefault(),this.mouseUp(this.touchToMouse(t))}),document.addEventListener("touchmove",t=>{t.touches.length>0&&this.mouseMove(this.touchToMouse(t))}),document.addEventListener("touchstart",t=>{t.touches.length>0&&this.click(this.touchToMouse(t))})}}var d,l,u,c,g;!function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right"}(d||(d={})),function(t){t[t.Top=0]="Top",t[t.Center=1]="Center",t[t.Bottom=2]="Bottom"}(l||(l={}));class m{constructor(){this.top=0,this.right=0,this.bottom=0,this.left=0}}class p{constructor(){this.horizontalAlign=d.Center,this.verticalAlignmentRatio=l.Center,this.margin=new m,this.calculateDimensionsX=(t,e)=>{switch(this.horizontalAlign){case d.Left:return t.x+this.margin.left;case d.Center:return t.x+t.width/2-e/2;case d.Right:return t.x+t.width-e-this.margin.right}},this.calculateDimensionsY=(t,e)=>t.y+t.height*this.verticalAlignmentRatio-e*this.verticalAlignmentRatio+(this.verticalAlignmentRatio>.5?-this.margin.bottom:this.margin.top),this.verticalAlign=l.Center}set verticalAlign(t){switch(t){case l.Bottom:this.verticalAlignmentRatio=1;break;case l.Center:this.verticalAlignmentRatio=.5;break;case l.Top:this.verticalAlignmentRatio=0}}}class v{constructor(t,e,i){this.executer=t,this.setMethod=i,this.methods=[],this.add=t=>{var e=t(this.methods[this.methods.length-1]);this.methods.push(e),this.setMethod(e)},this.remove=()=>{this.methods.pop(),this.setMethod(this.methods[this.methods.length-1])},this.reset=()=>{this.setMethod(this.methods[this.methods.length-1])},this.clear=()=>{this.setMethod(()=>{})},e.bind(this.executer),this.methods.push(e)}}class y{constructor(t){this.durationSeconds=t,this.getValue=()=>{return(Date.now()-this.startTime)/1e3/this.durationSeconds},this.ended=()=>{return(Date.now()-this.startTime)/1e3>this.durationSeconds},this.startTime=Date.now()}}class f{constructor(){this.generateNewId=()=>(f.idCounter++,f.idCounter),this.bounds=new o(0,0,0,0),this.dimensions=new o(0,0,0,0),this.alignement=new p,this.shouldUpdateLayout=!1,this.render=t=>{this.shouldUpdateLayout&&(this.updateLayout(t,this.bounds),this.shouldUpdateLayout=!1)},this.triggerUpdateLayout=()=>{this.shouldUpdateLayout=!0},this.isActive=!0,this.activate=t=>{this.renderMethodManipulation.reset();var e=new y(t);this.renderMethodManipulation.add(t=>i=>{e.ended()?(t(i),this.renderMethodManipulation.remove()):(i.save(),i.globalAlpha=e.getValue(),t(i),i.restore())})},this.deactivated=()=>{this.renderMethodManipulation.clear()},this.deactivate=t=>{var e=new y(t);this.renderMethodManipulation.add(t=>i=>{e.ended()?(this.renderMethodManipulation.remove(),this.renderMethodManipulation.clear()):(i.save(),i.globalAlpha=1-e.getValue(),t(i),i.restore())})},this.disableMouseEvents=()=>{this.mouseDown=()=>{},this.mouseUp=()=>{},this.mouseMove=()=>{},this.click=()=>{}},this.id=this.generateNewId(),this.name="object "+this.id}get renderMethodManipulation(){return this._renderMethodManipulation||(this._renderMethodManipulation=new v(this,this.render,t=>this.render=t)),this._renderMethodManipulation}updateLayout(t,e){this.bounds=e,this.shouldUpdateLayout=!1}}f.idCounter=0;class w extends f{constructor(){super(...arguments),this.children=[],this.superRender=this.render,this.render=t=>{this.superRender(t);for(const e of this.children)e.render(t)}}mouseDown(t){for(const e of this.children)e.mouseDown(t)}mouseUp(t){for(const e of this.children)e.mouseUp(t)}mouseMove(t){for(const e of this.children)e.mouseMove(t)}click(t){for(const e of this.children.toList())e.click(t)}}!function(t){t[t.hidden=0]="hidden",t[t.beforeVisible=1]="beforeVisible",t[t.visible=2]="visible"}(u||(u={}));class L extends f{constructor(){super(...arguments),this.isMouseOver=!1,this.isEnabled=!0,this.clicked=new n,this.click=t=>{this.isEnabled&&this.dimensions.isHitBy(t.clientX,t.clientY)&&this.clicked.dispatchEvent(this)}}mouseMove(t){this.isEnabled&&(this.dimensions.isHitBy(t.clientX,t.clientY)?(this.isMouseOver=!0,a.SetCursor(this.name,!0)):(this.isMouseOver=!1,a.SetCursor(this.name,!1)))}mouseDown(t){}mouseUp(t){}}class x{constructor(){this.fontSize=32,this.fontPrefix="",this.fontFamily="Georgia",this.fillStyle="grey",this.mouseOverFillStyle="red",this.backgroundFillStyle=void 0,this.getFont=()=>{var t="";return this.fontPrefix&&(t+=this.fontPrefix+" "),t+=this.fontSize+"px "+this.fontFamily}}}class S extends L{constructor(){super(...arguments),this.properties=new x,this.render=t=>{this.properties.backgroundFillStyle&&(t.fillStyle=this.properties.backgroundFillStyle,t.fillRect(this.dimensions.x,this.dimensions.y,this.dimensions.width,this.dimensions.height)),this.isMouseOver?t.fillStyle=this.properties.mouseOverFillStyle:t.fillStyle=this.properties.fillStyle,t.font=this.properties.getFont(),t.textAlign="left",t.textBaseline="top",t.fillText(this.text,this.dimensions.x,this.dimensions.y)},this.updateLayout=(t,e)=>{super.updateLayout(t,e),t.font=this.properties.getFont(),t.textAlign="left",t.textBaseline="top";var i=t.measureText(this.text),s=this.alignement.calculateDimensionsX(e,i.width),n=this.alignement.calculateDimensionsY(e,this.properties.fontSize);this.dimensions=new o(s,n,i.width,this.properties.fontSize)}}}!function(t){t[t.Horizontal=0]="Horizontal",t[t.Vertical=1]="Vertical"}(c||(c={}));class b{constructor(){this.itemSpacing=30,this.orientation=c.Vertical}}class V extends w{constructor(){super(...arguments),this.properties=new b,this.addItem=t=>{t.alignement.horizontalAlign=d.Left,t.alignement.verticalAlign=l.Top,this.children.push(t),this.triggerUpdateLayout()},this.removeItem=t=>{this.children.removeItem(t),this.triggerUpdateLayout()}}get items(){return this.children}updateLayout(t,e){super.updateLayout(t,e);var i=this.alignement.calculateDimensionsX(e,this.dimensions.width),s=this.alignement.calculateDimensionsY(e,this.dimensions.height),n=0,r=0;if(this.properties.orientation==c.Vertical)for(let e=0;e<this.children.length;e++){const a=this.children[e];e>0&&(s+=this.properties.itemSpacing,r+=this.properties.itemSpacing),a.updateLayout(t,new o(i,s,0,0)),s+=a.dimensions.height,r+=a.dimensions.height,n=Math.max(n,a.dimensions.width)}else for(let e=0;e<this.children.length;e++){const a=this.children[e];e>0&&(i+=this.properties.itemSpacing,n+=this.properties.itemSpacing),a.updateLayout(t,new o(i,s,0,0)),i+=a.dimensions.width,n+=a.dimensions.width,r=Math.max(r,a.dimensions.height)}this.dimensions.x==i&&this.dimensions.y==s&&this.dimensions.width==n&&this.dimensions.height==r||(this.dimensions.x=i,this.dimensions.y=s,this.dimensions.height=r,this.dimensions.width=n,this.updateLayout(t,e))}}class M{}M.fillStyle="rgb(0,100,128)",M.mousOver="rgb(0,201,255)",M.light2="rgb(77,216,255)",M.normal="rgb(0,160,204)";class B{constructor(t){this.value=t,this.OnChanged=new r,this.set=t=>{var e=this.value;this.value=t,this.OnChanged.dispatchEvent(e,this.value)},this.get=()=>this.value}}class E{constructor(){this.name=new B("Star Layer X"),this.speed=new B(1*Math.random()+.1),this.starRadiusLowerBorder=new B(.05),this.starRadiusUpperBorder=new B(.55),this.numberOfStars=new B(300)}}class I{constructor(){this.fontSize=40,this.fontPrefix="",this.fontFamily="Georgia",this.fillStyle="blue",this.backgroundFillStyle=void 0,this.getFont=()=>{var t="";return this.fontPrefix&&(t+=this.fontPrefix+" "),t+=this.fontSize+"px "+this.fontFamily}}}class A extends L{constructor(){super(),this.properties=new I,this.render=t=>{t.fillStyle=this.properties.fillStyle,t.font=this.properties.getFont(),t.textAlign="left",t.textBaseline="top",t.fillText(this.text,this.dimensions.x,this.dimensions.y)},this.updateLayout=(t,e)=>{super.updateLayout(t,e),t.font=this.properties.getFont(),t.textAlign="left",t.textBaseline="top";var i=t.measureText(this.text),s=this.alignement.calculateDimensionsX(e,i.width),n=this.alignement.calculateDimensionsY(e,this.properties.fontSize);this.dimensions=new o(s,n,i.width,this.properties.fontSize)},this.disableMouseEvents()}}class C extends w{constructor(t){super(),this.goBackBtnIconText="",this.onGoBack=new s,this.goBackBtn=new S,this.goBackBtn.properties.fontPrefix="900",this.goBackBtn.properties.fontFamily="'Font Awesome 5 Free'",this.goBackBtn.text=this.goBackBtnIconText,this.goBackBtn.alignement.verticalAlign=l.Top,this.goBackBtn.alignement.horizontalAlign=d.Left,this.goBackBtn.properties.fillStyle=M.fillStyle,this.goBackBtn.properties.mouseOverFillStyle=M.mousOver,this.goBackBtn.clicked.addEventListener(this.onGoBack.dispatchEvent);var e=new A;e.text=t,e.properties.fillStyle=M.normal,this.header=new V,this.header.alignement.horizontalAlign=d.Left,this.header.alignement.verticalAlign=l.Top,this.header.properties.orientation=c.Horizontal,this.header.addItem(this.goBackBtn),this.header.addItem(e),this.children.push(this.header)}updateLayout(t,e){super.updateLayout(t,e),this.header.updateLayout(t,e),this.dimensions=this.header.dimensions}}class k extends w{constructor(t){super(),this.navigationView=new C(t),this.navigationView.alignement.horizontalAlign=d.Left,this.navigationView.alignement.verticalAlign=l.Top,this.children.push(this.navigationView)}}class O{constructor(){this.color1="grey",this.color2="red"}}class T extends L{constructor(){super(),this.properties=new O,this.radius=10,this.minValue=0,this.maxValue=100,this.currentValue=50,this.valueChanged=new n,this.render=t=>{var e=this.dimensions.x,i=this.dimensions.y;t.strokeStyle=this.properties.color1,t.lineWidth=2,t.beginPath(),t.moveTo(e+this.radius,i+this.dimensions.height/2),t.lineTo(e+this.dimensions.width-this.radius,i+this.dimensions.height/2),t.stroke();var s=(this.currentValue-this.minValue)/(this.maxValue-this.minValue);t.fillStyle=this.properties.color2,t.beginPath(),t.arc(e+this.radius+(this.dimensions.width-2*this.radius)*s,i+this.dimensions.height/2,this.radius,0,2*Math.PI),t.closePath(),t.fill()},this.updateLayout=(t,e)=>{super.updateLayout(t,e),this.dimensions=new o(e.x,e.y,200,2*this.radius)},this.mouseDown=t=>{this.dimensions.isHitBy(t.clientX,t.clientY)&&(this.isDragging=!0,this.updateCurrentValue(t))},this.click=t=>{t.ctrlKey&&this.dimensions.isHitBy(t.clientX,t.clientY)&&(this.isDragging=!0,this.updateCurrentValue(t))},this.mouseUp=t=>{this.isDragging=!1}}mouseMove(t){super.mouseMove(t),this.isDragging&&this.updateCurrentValue(t)}updateCurrentValue(t){var e=t.clientX-this.dimensions.x-this.radius;(e=e/(this.dimensions.width-2*this.radius)*(this.maxValue-this.minValue)+this.minValue)>this.maxValue&&(e=this.maxValue),e<this.minValue&&(e=this.minValue),this.currentValue=e,this.valueChanged.dispatchEvent(this.currentValue)}}class F extends L{constructor(){super(),this.properties=new O,this.radius=10,this.minValue=0,this.maxValue=100,this.currentValueLow=25,this.currentValueHigh=75,this.minDiff=.1,this.valuesChanged=new r,this.render=t=>{var e=this.dimensions.x,i=this.dimensions.y;t.strokeStyle=this.properties.color1,t.lineWidth=2,t.beginPath(),t.moveTo(e+this.radius,i+this.dimensions.height/2),t.lineTo(e+this.dimensions.width-this.radius,i+this.dimensions.height/2),t.stroke(),t.fillStyle=this.properties.color2;var s=i+this.dimensions.height/2,n=(this.currentValueLow-this.minValue)/(this.maxValue-this.minValue),r=e+this.radius+(this.dimensions.width-2*this.radius)*n,a=(this.currentValueHigh-this.minValue)/(this.maxValue-this.minValue),o=e+this.radius+(this.dimensions.width-2*this.radius)*a;t.strokeStyle=this.properties.color2,t.lineWidth=2,t.beginPath(),t.moveTo(r,s),t.lineTo(o,s),t.stroke(),t.beginPath(),t.arc(r,s,this.radius,0,2*Math.PI),t.closePath(),t.fill(),t.beginPath(),t.arc(o,s,this.radius,0,2*Math.PI),t.closePath(),t.fill()},this.updateLayout=(t,e)=>{super.updateLayout(t,e),this.dimensions=new o(e.x,e.y,200,2*this.radius)},this.click=t=>{if(t.ctrlKey&&this.dimensions.isHitBy(t.clientX,t.clientY)){var e=this.getClickedValue(t),i=Math.abs(this.currentValueLow-e),s=Math.abs(this.currentValueHigh-e);i==s?e<this.currentValueLow?this.isDraggingLow=!0:this.isDraggingHigh=!0:i>s?this.isDraggingHigh=!0:this.isDraggingLow=!0,this.updateCurrentValues(t)}},this.mouseDown=t=>{if(this.dimensions.isHitBy(t.clientX,t.clientY)){var e=this.getClickedValue(t),i=Math.abs(this.currentValueLow-e),s=Math.abs(this.currentValueHigh-e);i==s?e<this.currentValueLow?this.isDraggingLow=!0:this.isDraggingHigh=!0:i>s?this.isDraggingHigh=!0:this.isDraggingLow=!0,this.updateCurrentValues(t)}},this.mouseUp=t=>{this.isDraggingHigh=!1,this.isDraggingLow=!1}}mouseMove(t){super.mouseMove(t),(this.isDraggingHigh||this.isDraggingLow)&&this.updateCurrentValues(t)}updateCurrentValues(t){var e=this.getClickedValue(t);this.isDraggingLow?e>this.currentValueHigh-this.minDiff&&(e=this.currentValueHigh-this.minDiff):e<this.currentValueLow+this.minDiff&&(e=this.currentValueLow+this.minDiff),this.isDraggingLow?this.currentValueLow=e:this.currentValueHigh=e,this.valuesChanged.dispatchEvent(this.currentValueLow,this.currentValueHigh)}getClickedValue(t){var e=t.clientX-this.dimensions.x-this.radius;return(e=e/(this.dimensions.width-2*this.radius)*(this.maxValue-this.minValue)+this.minValue)>this.maxValue&&(e=this.maxValue),e<this.minValue&&(e=this.minValue),e}}class D extends k{constructor(t){super(t.name.get()),this.starLayer=t,this.round=t=>Math.round(100*t)/100,this.settingsList=new V,this.settingsList.alignement.horizontalAlign=d.Left,this.settingsList.alignement.verticalAlign=l.Top;var e=new A,i=this.createHead("Number of Stars",e,Math.round(t.numberOfStars.get()).toString());this.settingsList.addItem(i);var s=new T;s.minValue=50,s.maxValue=800,s.properties.color1=M.fillStyle,s.properties.color2=M.mousOver,s.currentValue=t.numberOfStars.get(),this.settingsList.addItem(s),s.valueChanged.addEventListener(t=>{this.starLayer.numberOfStars.set(Math.round(t))}),t.numberOfStars.OnChanged.addEventListener((t,i)=>{e.text=Math.round(i).toString()});var n=new A,r=this.createHead("Speed",n,this.round(t.speed.get()).toString());this.settingsList.addItem(r);var a=new T;a.minValue=0,a.maxValue=20,a.properties.color1=M.fillStyle,a.properties.color2=M.mousOver,a.currentValue=t.speed.get(),this.settingsList.addItem(a),a.valueChanged.addEventListener(e=>{t.speed.set(e)}),t.speed.OnChanged.addEventListener((t,e)=>{n.text=this.round(e).toString()});var o=new A,h=this.createHead("Size",o,this.round(t.starRadiusLowerBorder.get())+" - "+this.round(t.starRadiusUpperBorder.get()));this.settingsList.addItem(h);var u=new F;u.minValue=.005,u.maxValue=2,u.currentValueLow=t.starRadiusLowerBorder.get(),u.currentValueHigh=t.starRadiusUpperBorder.get(),u.properties.color1=M.fillStyle,u.properties.color2=M.mousOver,this.settingsList.addItem(u),u.valuesChanged.addEventListener((e,i)=>{t.starRadiusLowerBorder.get()!=e&&t.starRadiusLowerBorder.set(e),t.starRadiusUpperBorder.get()!=i&&t.starRadiusUpperBorder.set(i)}),t.starRadiusLowerBorder.OnChanged.addEventListener((e,i)=>{o.text=this.round(i)+" - "+this.round(t.starRadiusUpperBorder.get())}),t.starRadiusUpperBorder.OnChanged.addEventListener((e,i)=>{o.text=this.round(t.starRadiusLowerBorder.get())+" - "+this.round(i)});var c=new S;c.text="Remove Layer",c.properties.fillStyle=M.fillStyle,c.properties.mouseOverFillStyle=M.mousOver,this.settingsList.addItem(c),c.clicked.addEventListener(t=>{pt.visualizationModel.starLayers.remove(this.starLayer),this.navigationView.onGoBack.dispatchEvent()}),this.children.push(this.settingsList)}createHead(t,e,i){var s=new A;s.text=t,s.properties.fillStyle=M.light2,s.properties.fontSize=22,s.alignement.horizontalAlign=d.Center,s.alignement.verticalAlign=l.Center,e.text=i,e.properties.fillStyle=M.light2,e.properties.fontSize=22;var n=new V;return n.properties.orientation=c.Horizontal,n.addItem(s),n.addItem(e),n}updateLayout(t,e){this.navigationView.updateLayout(t,e);var i=1.5*this.navigationView.dimensions.height;this.settingsList.updateLayout(t,new o(e.x,e.y+i,e.width,e.height-i))}}class R extends k{constructor(){super("Star Layers"),this.layerButtons=[],this.layerList=new V,this.layerList.alignement.horizontalAlign=d.Left,this.layerList.alignement.verticalAlign=l.Top;for(const t of pt.visualizationModel.starLayers.items)this.layerList.addItem(this.createEditLayerBtn(t));var t=new S;t.text="Add Layer",t.properties.fillStyle=M.fillStyle,t.properties.mouseOverFillStyle=M.mousOver,t.clicked.addEventListener(t=>{var e=new E;e.name.set("Stars "+(pt.visualizationModel.starLayers.items.length+1)),pt.visualizationModel.starLayers.add(e)}),this.addLayerBtn=t,this.layerList.addItem(t),this.children.push(this.layerList),pt.visualizationModel.starLayers.onAdd.addEventListener(t=>{this.layerList.removeItem(this.addLayerBtn),this.layerList.addItem(this.createEditLayerBtn(t)),this.layerList.addItem(this.addLayerBtn)}),pt.visualizationModel.starLayers.onRemove.addEventListener(t=>{var e=this.layerList.items.firstOrDefault(e=>e.tag==t);e&&this.layerList.removeItem(e)})}createEditLayerBtn(t){var e=new S;return e.text=t.name.get(),e.tag=t,e.properties.fillStyle=M.fillStyle,e.properties.mouseOverFillStyle=M.mousOver,e.clicked.addEventListener(e=>{this.editLayer(t)}),e}editLayer(t){this.children.removeItem(this.navigationView),this.children.removeItem(this.layerList),this.subView=new D(t),this.subView.navigationView.onGoBack.addEventListener(()=>{this.children.removeItem(this.subView),this.subView=void 0,this.children.push(this.navigationView),this.children.push(this.layerList)}),this.children.push(this.subView),this.triggerUpdateLayout()}updateLayout(t,e){super.updateLayout(t,e),this.navigationView.updateLayout(t,e);var i=1.5*this.navigationView.dimensions.height;this.layerList.updateLayout(t,new o(e.x,e.y+i,e.width,e.height-i)),this.subView&&this.subView.updateLayout(t,e)}}class H extends w{constructor(){super(),this.lastMoved=Date.now(),this.inactivityTimeout=2e3,this.settingsIconText="",this.settingsCloseIconText="",this.settingsVisibilityState=u.hidden,this.showHideOverlayClicked=t=>{this.settingsVisibilityState==u.visible?this.setSettingsVisibilityState(u.beforeVisible):this.setSettingsVisibilityState(u.visible)},this.mouseInactivityHandler=()=>{Date.now()-this.lastMoved>=this.inactivityTimeout?this.settingsVisibilityState==u.beforeVisible&&this.setSettingsVisibilityState(u.hidden):setTimeout(this.mouseInactivityHandler,this.inactivityTimeout-(Date.now()-this.lastMoved))},this.setSettingsVisibilityState=t=>{switch(t){case u.hidden:this.showHideSettingsBtn.text=this.settingsIconText,this.children.removeItem(this.showHideSettingsBtn),this.settingsVisibilityState=u.hidden;break;case u.beforeVisible:this.showHideSettingsBtn.text=this.settingsIconText,this.lastMoved=Date.now(),this.settingsVisibilityState==u.hidden&&(setTimeout(this.mouseInactivityHandler,this.inactivityTimeout),this.children.addItemIfNotExists(this.showHideSettingsBtn)),this.settingsVisibilityState==u.visible&&(setTimeout(this.mouseInactivityHandler,this.inactivityTimeout),this.subView&&(this.settingsList.removeItem(this.subView),this.subView=null,this.settingsList.addItem(this.starLayersBtn)),this.children.removeItemIfExists(this.settingsList)),this.settingsVisibilityState=u.beforeVisible;break;case u.visible:this.settingsVisibilityState==u.beforeVisible&&this.children.push(this.settingsList),this.showHideSettingsBtn.text=this.settingsCloseIconText,this.settingsVisibilityState=u.visible}},this.mouseMove=t=>{this.mouseMoveShowHideSettings(),super.mouseMove(t)},this.click=t=>{this.mouseClickShowHideSettings(),super.click(t)},this.createShowHideSettingsBtn(),this.settingsList=new V,this.settingsList.alignement.horizontalAlign=d.Left,this.settingsList.alignement.verticalAlign=l.Top,this.starLayersBtn=new S,this.starLayersBtn.text="Star Layers",this.starLayersBtn.properties.fillStyle=M.fillStyle,this.starLayersBtn.properties.mouseOverFillStyle=M.mousOver,this.starLayersBtn.clicked.addEventListener(t=>{this.settingsList.removeItem(this.starLayersBtn),this.subView=new R,this.subView.navigationView.onGoBack.addEventListener(()=>{this.settingsList.removeItem(this.subView),this.subView=void 0,this.settingsList.addItem(this.starLayersBtn)}),this.settingsList.addItem(this.subView)}),this.settingsList.addItem(this.starLayersBtn)}createShowHideSettingsBtn(){this.showHideSettingsBtn=new S,this.showHideSettingsBtn.properties.fontPrefix="900",this.showHideSettingsBtn.properties.fontFamily="'Font Awesome 5 Free'",this.showHideSettingsBtn.text=this.settingsIconText,this.showHideSettingsBtn.alignement.verticalAlign=l.Top,this.showHideSettingsBtn.alignement.horizontalAlign=d.Left,this.showHideSettingsBtn.properties.fillStyle=M.fillStyle,this.showHideSettingsBtn.properties.mouseOverFillStyle=M.mousOver,this.showHideSettingsBtn.clicked.addEventListener(this.showHideOverlayClicked),this.children.push(this.showHideSettingsBtn)}mouseClickShowHideSettings(){this.settingsVisibilityState!=u.hidden&&this.settingsVisibilityState!=u.beforeVisible||this.setSettingsVisibilityState(u.beforeVisible)}mouseMoveShowHideSettings(){this.settingsVisibilityState!=u.hidden&&this.settingsVisibilityState!=u.beforeVisible||this.setSettingsVisibilityState(u.beforeVisible)}updateLayout(t,e){super.updateLayout(t,e),this.showHideSettingsBtn.updateLayout(t,e);var i=2*this.showHideSettingsBtn.dimensions.height;this.settingsList&&this.settingsList.updateLayout(t,new o(e.x,e.y+i,e.width,e.height-i)),this.subView&&this.subView.updateLayout(t,new o(e.x,e.y+i,e.width,e.height-i))}}class z{}z.instances={},z.addInstance=(t,e)=>{z.instances[t]=e},z.getInstance=t=>z.instances[t];class P extends w{constructor(){super(),this.playIconText="",this.pauseIconText="",this.stopIconText="",this.nextIconText="",this.previousIconText="";var t=z.getInstance("audio"),e=new V;e.alignement.verticalAlign=l.Bottom,e.alignement.margin.bottom=20,e.properties.orientation=c.Horizontal,this.children.push(e);var i=this.createBtn(this.playIconText,()=>{i.text==this.playIconText?(t.play(),i.text=this.pauseIconText):(t.pause(),i.text=this.playIconText),this.triggerUpdateLayout()});e.addItem(i);var s=this.createBtn(this.stopIconText,()=>{t.stop(),i.text==this.pauseIconText&&(i.text=this.playIconText),this.triggerUpdateLayout()});e.addItem(s);var n=this.createBtn(this.previousIconText,()=>{t.previous()});e.addItem(n);var r=this.createBtn(this.nextIconText,()=>{t.next()});e.addItem(r)}createBtn(t,e){var i=new S;return i.properties.fontPrefix="900",i.properties.fontFamily="'Font Awesome 5 Free'",i.text=t,i.properties.fillStyle=M.fillStyle,i.properties.mouseOverFillStyle=M.mousOver,i.clicked.addEventListener(e),i}updateLayout(t,e){super.updateLayout(t,e);for(const e of this.children)e.updateLayout(t,this.bounds)}}!function(t){t[t.FitAndOverfill=0]="FitAndOverfill",t[t.FitAndSpace=1]="FitAndSpace"}(g||(g={}));class N{constructor(){this.imageScalingMode=g.FitAndSpace,this.scale=1}}class U extends L{constructor(t){super(),this.properties=new N,this.superRender=this.render,this.render=t=>{this.superRender(t),t.drawImage(this.image,this.dimensions.x,this.dimensions.y,this.dimensions.width,this.dimensions.height),this.isMouseOver&&this.isEnabled&&(t.fillStyle="rgba(255,255,255,0.5)",t.fillRect(this.dimensions.x,this.dimensions.y,this.dimensions.width,this.dimensions.height))},this.image=t}updateLayout(t,e){super.updateLayout(t,e);var i=1,s=this.image.naturalWidth/this.image.naturalHeight>e.width/e.height;switch(this.properties.imageScalingMode){case g.FitAndOverfill:i=s?e.height/this.image.height:e.width/this.image.width;break;case g.FitAndSpace:i=s?e.width/this.image.width:e.height/this.image.height}var n=this.image.naturalWidth*i,r=this.image.naturalHeight*i;this.dimensions.x=this.alignement.calculateDimensionsX(e,n),this.dimensions.y=this.alignement.calculateDimensionsY(e,n),this.dimensions.width=n,this.dimensions.height=r}}U.createFromUrl=t=>new Promise((e,i)=>{var s=new Image;s.src=t,s.onload=()=>{e(new U(s))}});class K extends w{constructor(){super(),this.frequencyIndex=7,this.lowerBorder=.4,this.upperBorder=.9,this.isSongAnimating=!1,this.songChanged=t=>{this.newSongName=t,this.isSongAnimating?setTimeout(()=>{this.newSongName==t&&this.songName.text!=t&&this.songChanged(t)},1e3):(this.isSongAnimating=!0,this.songName.deactivate(.8),setTimeout(()=>{this.songName.text=this.newSongName,this.triggerUpdateLayout(),this.songName.activate(.8),setTimeout(()=>{this.isSongAnimating=!1},900)},900))};var t=z.getInstance("assets"),e=z.getInstance("audio");this.analyser=e.getAnalyser();var i=t.getImage("logo"),s=t.getImage("logo-nova");this.disableMouseEvents();var n=new U(s);n.properties.imageScalingMode=g.FitAndSpace,this.children.push(n);var r=n.render;n.render=t=>{var e=this.analyser.getSpectrum(),i=this.calculateRelDataValue(e[this.frequencyIndex]);t.save(),t.globalAlpha=i,r(t),t.restore()};var a=new U(i);a.properties.imageScalingMode=g.FitAndSpace,this.children.push(a),e.songChanged.addEventListener(this.songChanged),this.songName=new A,this.songName.text=e.currentSongName,this.newSongName=e.currentSongName,this.songName.properties.fontSize=40,this.songName.properties.fillStyle=M.mousOver,this.songName.properties.fontFamily="Georgia",this.songName.alignement.verticalAlignmentRatio=.6,document.x=this.songName,this.children.push(this.songName)}calculateRelDataValue(t){var e=t/255;return e<this.lowerBorder&&(e=this.lowerBorder),e>this.upperBorder&&(e=this.upperBorder),(e-this.lowerBorder)/(this.upperBorder-this.lowerBorder)}updateLayout(t,e){super.updateLayout(t,e);for(const i of this.children)i.updateLayout(t,e)}}class W extends f{constructor(t){super(),this.starLayer=t,this.stars=[],this.sizeChanged=(t,e)=>{var i=t,s=e-i;s<=0&&(s=1e-4);var n=(this.starLayer.starRadiusUpperBorder.get()-this.starLayer.starRadiusLowerBorder.get())/s;for(const t of this.stars)t.r=(t.r-i)*n+this.starLayer.starRadiusLowerBorder.get()},this.numberOfStarsChanged=(t,e)=>{var i=e-this.stars.length;if(i>0)for(let t=0;t<i;t++)this.addStar();else for(let t=0;t<-i;t++){Math.floor(Math.random()*this.stars.length);this.stars.removeItem(this.stars[t])}},this.update=t=>{for(const e of this.stars)e.x+=this.starLayer.speed.get()*t,e.y+=this.starLayer.speed.get()*t,e.x>pt.visualizationModel.width.get()&&(e.x-=pt.visualizationModel.width.get()),e.y>pt.visualizationModel.height.get()&&(e.y-=pt.visualizationModel.height.get())},this.render=t=>{for(const s of this.stars){var e=3*s.r,i=t.createRadialGradient(s.x,s.y,s.r,s.x,s.y,e);i.addColorStop(0,"rgba(255, 255, 255, 0.2)"),i.addColorStop(1,"rgba(255, 255, 255, 0)"),t.fillStyle=i,t.arc(s.x,s.y,e,0,2*Math.PI),t.fill(),t.fillStyle="white",t.beginPath(),t.arc(s.x,s.y,s.r,0,2*Math.PI),t.fill()}},this.tag=t,this.animation=z.getInstance("animation"),this.animation.addUpdateFunction(this.update);for(let e=0;e<t.numberOfStars.get();e++)this.addStar();t.numberOfStars.OnChanged.addEventListener(this.numberOfStarsChanged),t.starRadiusLowerBorder.OnChanged.addEventListener((t,e)=>{this.sizeChanged(t,this.starLayer.starRadiusUpperBorder.get())}),t.starRadiusUpperBorder.OnChanged.addEventListener((t,e)=>{this.sizeChanged(this.starLayer.starRadiusLowerBorder.get(),t)})}addStar(){this.stars.push({x:Math.random()*pt.visualizationModel.width.get(),y:Math.random()*pt.visualizationModel.height.get(),r:Math.random()*(this.starLayer.starRadiusUpperBorder.get()-this.starLayer.starRadiusLowerBorder.get())+this.starLayer.starRadiusLowerBorder.get()})}mouseDown(t){}mouseUp(t){}mouseMove(t){}click(t){}}class X extends w{constructor(){super(),this.starLayerViews=[],this.addStarLayer=t=>{var e=new W(t);this.starLayerViews.push(e),this.children.push(e)},this.removeStarLayer=t=>{var e=this.starLayerViews.firstOrDefault(e=>e.tag==t);e&&(this.starLayerViews.removeItem(e),this.children.removeItem(e))},this.disableMouseEvents(),pt.visualizationModel.starLayers.onAdd.addEventListener(this.addStarLayer),pt.visualizationModel.starLayers.onRemove.addEventListener(this.removeStarLayer)}}class Y extends w{constructor(){super(),this.onLowPerformance=()=>{for(const t of pt.visualizationModel.starLayers.items)t.numberOfStars.set(.9*t.numberOfStars.get())},this.animation=z.getInstance("animation"),this.animation.lowPerformance.addEventListener(this.onLowPerformance),this.loadBackground();var t=new X;this.children.push(t);var e=new K;this.children.push(e);var i=new P;this.children.push(i);var s=new H;this.children.push(s),this.triggerUpdateLayout()}loadBackground(){var t=z.getInstance("assets").getImage("background"),e=new U(t);e.disableMouseEvents(),e.properties.imageScalingMode=g.FitAndOverfill,this.children.push(e)}updateLayout(t,e){super.updateLayout(t,e);for(const i of this.children)i.updateLayout(t,e)}}class G{constructor(){this.updateFunctions=[],this.isRunning=!1,this.performanceWarningThreshold=1.2,this.performanceWarningDelayRuns=8,this.currentPerformanceWarningDelayRun=0,this.lowPerformance=new s,this.addUpdateFunction=t=>{this.updateFunctions.push(t)},this.removeUpdateFunction=t=>{this.updateFunctions.splice(this.updateFunctions.indexOf(t),1)},this.setFps=t=>{this.fps=t,this.fpsInterval=1e3/this.fps},this.animationLoop=()=>{this.isRunning&&requestAnimationFrame(this.animationLoop);var t=Date.now(),e=t-this.lastFrameTime;if(e>this.fpsInterval){this.lastFrameTime=t;var i=e/1e3;e/this.fpsInterval-1>this.performanceWarningThreshold?(console.log("Warning: low performance"),this.currentPerformanceWarningDelayRun++,this.currentPerformanceWarningDelayRun>this.performanceWarningDelayRuns&&(this.lowPerformance.dispatchEvent(),this.currentPerformanceWarningDelayRun=0)):this.currentPerformanceWarningDelayRun>0&&(this.currentPerformanceWarningDelayRun=0);for(const t of this.updateFunctions)t(i)}},this.setFps(30),this.play(),document.addEventListener("keyup",t=>{80==t.keyCode&&this.playPause()})}play(){this.isRunning||(this.isRunning=!0,this.lastFrameTime=Date.now(),this.animationLoop())}pause(){this.isRunning&&(this.isRunning=!1)}playPause(){this.isRunning?this.pause():this.play()}}class j{constructor(){this.loadFontawesomeFree=()=>this.loadFont("","","900 20px 'Font Awesome 5 Free'"),this.loadFontawesomeBrands=()=>this.loadFont("","","400 20px 'Font Awesome 5 Brands'"),this.countPixels=t=>{var e=0;for(let a=0;a<t.data.length;a+=4){var i=t.data[a],s=t.data[a+1],n=t.data[a+2],r=t.data[a+3];i<50&&s<50&&n<50&&r>.9&&e++}return e},this.getIconPixels=(t,e,i)=>{t.clearRect(0,0,e.width,e.height),t.fillText(i,0,0);var s=t.getImageData(0,0,e.width,e.height);return this.countPixels(s)},this.loadFont=(t,e,i)=>{var s=10;return new Promise((n,r)=>{console.log('loading font "'+i+'"');var a=document.createElement("canvas");a.width=20,a.height=20;var o=a.getContext("2d");o.font=i,o.fillStyle="black",o.textAlign="left",o.textBaseline="top";var h=()=>{var r=this.getIconPixels(o,a,t),d=this.getIconPixels(o,a,e);Math.abs(d-r)>5?(console.log('loaded font "'+i+'"'),n()):0==--s?(console.log("stop loading font after "+s+" retries with 500ms delay"),n()):setTimeout(()=>{h()},500)};h()})}}}class _{constructor(t,e){this.name=t,this.audioCtx=e}}class q extends _{constructor(){super(...arguments),this.getAudioNode=()=>this.analyserNode}reload(){return new Promise((t,e)=>{this.analyserNode||(this.analyserNode=this.audioCtx.createAnalyser()),this.analyserNode.fftSize=32,this.analyserNode.smoothingTimeConstant=.9,this.bufferLength=this.analyserNode.frequencyBinCount,this.dataArray=new Uint8Array(this.bufferLength),t()})}getSpectrum(){return this.analyserNode?(this.analyserNode.getByteFrequencyData(this.dataArray),this.dataArray):new Uint8Array(0)}getWave(){return this.analyserNode?(this.analyserNode.getByteTimeDomainData(this.dataArray),this.dataArray):new Uint8Array(0)}}class J extends _{constructor(){super(...arguments),this.getAudioNode=()=>this.audioCtx.destination}reload(){}}class Q extends _{constructor(t,e,i){super(t,e),this.audioEnded=new s,this.audioEndedEvent=()=>{this.audioEnded.dispatchEvent()},this.getAudioNode=()=>this.source,this.play=()=>{this.audio.play()},this.pause=()=>{this.audio.pause()},this.stop=()=>{this.audio.pause(),this.audio.currentTime=0},this.setUrl=t=>{var e=!this.audio.paused;this.url=t,this.audio.src=t,this.audio.load(),e&&this.audio.play()},this.url=i,this.audio=document.createElement("audio"),this.audio.controls=!0,this.audio.src=this.url,this.audio.addEventListener("ended",this.audioEndedEvent)}reload(){return new Promise((t,e)=>{this.source||(this.source=this.audioCtx.createMediaElementSource(this.audio)),t()})}}class Z{constructor(){this.audioNodes=[],this.addMediaElementSource=(t,e)=>{var i=new Q(t,this.audioCtx,e);return this.audioNodes.push(i),i},this.addAnalyzer=t=>{var e=new q(t,this.audioCtx);return this.audioNodes.push(e),e},this.getAudioGraphNode=t=>this.audioNodes.first(e=>e.name==t),this.audioContextStateChanged=new n,this.documentClick=()=>{"suspended"===this.audioCtx.state&&(this.audioCtx.resume(),document.removeEventListener("click",this.documentClick))},this.audioContextStateChangedEvaluator=()=>{"running"===this.audioCtx.state&&(console.log("audio context state changed"),this.audioCtx.removeEventListener("statechange",this.audioContextStateChangedEvaluator),this.reload().then(()=>{this.audioContextStateChanged.dispatchEvent(this.audioCtx.state)}))},this.reload=()=>new Promise((t,e)=>{console.log("realoading audio graph"),Promise.all(this.audioNodes.map(t=>t.reload())).then(()=>{console.log("reloaded audio graph");for(let t=0;t<this.audioNodes.length;t++){const e=this.audioNodes[t];e.getAudioNode().disconnect(),t<this.audioNodes.length-1?e.getAudioNode().connect(this.audioNodes[t+1].getAudioNode()):e.getAudioNode().connect(this.destinationNode.getAudioNode())}t()})});try{this.audioCtx=new(window.AudioContext||window.webkitAudioContext),this.audioCtx.addEventListener("statechange",this.audioContextStateChangedEvaluator),"suspended"===this.audioCtx.state&&(document.addEventListener("click",this.documentClick),console.log("Audio context is suspended. Click the dom to make it running.")),this.destinationNode=new J("destination",this.audioCtx)}catch(t){throw"It looks like your browser does not support web audio API :("}}}var $=i(0),tt=i.n($),et=i(1),it=i.n(et),st=i(2),nt=i.n(st);class rt{constructor(){this.songs=[["Faint Color",tt.a],["Deep field",it.a],["Drifting into the Atmosphere",nt.a]],this.songChanged=new n,this.reload=()=>this.audioGraph.reload(),this.play=()=>{this.source.play()},this.pause=()=>{this.source.pause()},this.next=()=>{var t=this.songs.map(t=>t[1]).indexOf(this.source.url)+1;t==this.songs.length&&(t=0),this.source.setUrl(this.songs[t][1]),this.songChanged.dispatchEvent(this.songs[t][0])},this.previous=()=>{var t=this.songs.map(t=>t[1]).indexOf(this.source.url)-1;-1==t&&(t=this.songs.length-1),this.source.setUrl(this.songs[t][1]),this.songChanged.dispatchEvent(this.songs[t][0])},this.getAnalyser=()=>this.analyser,this.stop=()=>{this.source.stop()},this.audioGraph=new Z,this.source=this.audioGraph.addMediaElementSource("source",this.songs[0][1]),this.source.audioEnded.addEventListener(this.endedNext()),this.analyser=this.audioGraph.addAnalyzer("analyser")}get currentSongName(){var t=this.songs.map(t=>t[1]).indexOf(this.source.url);return this.songs[t][0]}endedNext(){return()=>{this.next(),this.source.play()}}}class at{constructor(){this.imageAssets=[],this.addImage=(t,e)=>{this.imageAssets.push({name:t,url:e,image:void 0})},this.getImage=t=>{var e=this.imageAssets.firstOrDefault(e=>e.name==t);return e?e.image:void 0},this.load=()=>Promise.all(this.imageAssets.map(t=>new Promise((e,i)=>{if(t.image)e();else{var s=new Image;s.src=t.url,s.onload=()=>{t.image=s,e()}}})))}}var ot=i(3),ht=i.n(ot),dt=i(4),lt=i.n(dt),ut=i(5),ct=i.n(ut);class gt extends w{constructor(){super();var t=new A;t.text="Loading...",t.properties.fillStyle="white",this.children.push(t)}updateLayout(t,e){super.updateLayout(t,e);for(const e of this.children)e.updateLayout(t,this.bounds)}}class mt{constructor(){this.items=[],this.onAdd=new n,this.onRemove=new n,this.add=t=>{this.items.push(t),this.onAdd.dispatchEvent(t)},this.remove=t=>{this.items.removeItem(t),this.onRemove.dispatchEvent(t)}}}class pt{constructor(){this.run=()=>{document.body.style.backgroundColor="black";var t=a.createFullScreen(),e=new h(t),i=new G;i.addUpdateFunction(t.draw),z.addInstance("canvas",t),z.addInstance("stage",e),z.addInstance("animation",i);var s,n=new gt;n.deactivated(),e.setView(n),n.activate(.7),console.log("loading app"),Promise.all([(new j).loadFontawesomeFree(),new Promise((t,e)=>{var i=new rt;i.reload(),z.addInstance("audio",i),t()}),new Promise((t,e)=>{setTimeout(()=>{t()},2e3)}),new Promise((t,e)=>{var i=new at;z.addInstance("assets",i),i.addImage("background",ht.a),i.addImage("logo",lt.a),i.addImage("logo-nova",ct.a),i.load().then(()=>{(s=new Y).deactivated();for(let t=0;t<4;t++){var e=new E;e.name.set("Stars "+(t+1)),pt.visualizationModel.starLayers.add(e)}t()})})]).then(()=>{n.deactivate(.7),setTimeout(()=>{e.setView(s),s.activate(.7)},800)}).catch(t=>{console.log(t),alert(t)})}}}pt.visualizationModel=new class{constructor(t,e){this.starLayers=new mt,this.width=new B(t),this.height=new B(e)}}(window.innerWidth,window.innerHeight);i(6);document.addEventListener("DOMContentLoaded",function(){(new pt).run()},!1),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("service-worker.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9kZW1vL1RyYWlsZXJfZmFpbnRDb2xvci5tcDMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9kZW1vL1RyYWlsZXJfRGVlcEZpZWxkLm1wMyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL2RlbW8vVHJhaWxlcl9EcmlmdGluZ0ludG9UaGVBdG1vc3BoZXJlLm1wMyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL2JhY2tncm91bmQucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvbG9nby1mcm9udC5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9sb2dvLW5vdmEucG5nIiwid2VicGFjazovLy8uL2VuYy9zcmMvZXh0ZW5zaW9ucy50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL2VFdmVudC50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2VDYW52YXMudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy9nZW9tZXRyeS9yZWN0YW5nbGUudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9zdGFnZS50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvaG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9hbGlnbmVtZW50L3ZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2V0dGluZ3MvbW9kZWxzL3NldHRpbmdzVmlzaWJpbGl0eVN0YXRlLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvYWxpZ25lbWVudC9vcmllbnRhdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2ltYWdlU2NhbGluZ01vZGUudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9hbGlnbmVtZW50L3NwYWNpbmcudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9hbGlnbmVtZW50L2FsaWduZW1lbnQudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy9tZXRob2RNYW5pcHVsYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS91aW1hdGlvbi91aW1hdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL3JlbmRlck9iamVjdC50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xheW91dFZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9jb250cm9scy9jb250cm9sLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvY29udHJvbHMvYnV0dG9uUHJvcGVydGllcy50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2J1dHRvbi50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xpc3RWaWV3UHJvcGVydGllcy50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xpc3RWaWV3LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3L3N0eWxlLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvb2JzZXJ2YWJsZVByb3BlcnR5LnRzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvc3RhckxheWVyLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvY29udHJvbHMvbGFiZWxQcm9wZXJ0aWVzLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvY29udHJvbHMvbGFiZWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NldHRpbmdzL3ZpZXcvbmF2aWdhdGlvbkhlYWRlclZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NldHRpbmdzL3ZpZXcvbmF2aWdhdGlvblZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9jb250cm9scy9zbGlkZXJQcm9wZXJ0aWVzLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvY29udHJvbHMvc2xpZGVyLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvY29udHJvbHMvcmFuZ2VTbGlkZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NldHRpbmdzL3ZpZXcvc3RhckxheWVyU2V0dGluZ3NWaWV3LnRzIiwid2VicGFjazovLy8uL3NyYy9zZXR0aW5ncy92aWV3L3N0YXJMYXllcnNTZXR0aW5nc1ZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NldHRpbmdzL3ZpZXcvc2V0dGluZ3NWaWV3LnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvZGluamVjdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy9wbGF5ZXJDb250cm9sc1ZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9jb250cm9scy9pbWFnZVByb3BlcnRpZXMudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9jb250cm9scy9pbWFnZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy9tYWluVmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy9zdGFyTGF5ZXJzL3N0YXJMYXllclZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXcvc3RhckxheWVycy9zdGFyTGF5ZXJNYW5hZ2VyVmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy9yb290Vmlldy50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL2VBbmltYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9jYW52YXNIZWxwZXIudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy9hdWRpby9hdWRpb0dyYXBoTm9kZS50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL2F1ZGlvL2F1ZGlvR3JhcGhOb2RlQW5hbHlzZXIudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy9hdWRpby9hdWRpb0dyYXBoTm9kZURlc3RpbmF0aW9uLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvYXVkaW8vYXVkaW9HcmFwaE5vZGVFbGVtZW50U291cmNlLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvYXVkaW8vYXVkaW9HcmFwaC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXVkaW9NYW5hZ2VyLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvYXNzZXRNYW5hZ2VyLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3L2xvYWRpbmdWaWV3LnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvb2JzZXJ2YWJsZUFycmF5LnRzIiwid2VicGFjazovLy8uL3NyYy9hcHAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy92aXN1YWxpemF0aW9uTW9kZWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiQXJyYXkiLCJmaXJzdE9yRGVmYXVsdCIsImZ1bmMiLCJhcnJheUl0ZW0iLCJ0aGlzIiwiZmlyc3QiLCJjb25zb2xlIiwibG9nIiwiZ2V0TmV4dCIsImN1cnJlbnQiLCJzZWxlY3RvciIsIm5leHRQb3NpdGlvbiIsIm5leHQiLCJ4IiwicmVtb3ZlSXRlbSIsIml0ZW0iLCJpbmRleCIsImluZGV4T2YiLCJzcGxpY2UiLCJjb250YWlucyIsInJlbW92ZUl0ZW1JZkV4aXN0cyIsImFkZEl0ZW1JZk5vdEV4aXN0cyIsInB1c2giLCJyZW1vdmUiLCJ0b0xpc3QiLCJmaWx0ZXIiLCJFRXZlbnQiLCJbb2JqZWN0IE9iamVjdF0iLCJsaXN0ZW5lcnMiLCJhZGRFdmVudExpc3RlbmVyIiwibGlzdGVuZXIiLCJhZGRFdmVudExpc3RlbmVySWZOb3RFeGlzdHMiLCJkaXNwYXRjaEV2ZW50IiwibGVuZ3RoIiwiZXZlbnQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcklmRXhpc3RzIiwiRUV2ZW50VCIsImFyZyIsIkVFdmVudFRUIiwiYXJnMSIsImFyZzIiLCJlQ2FudmFzX0VDYW52YXMiLCJkcmF3RnVuY3Rpb25zIiwiZHByIiwiZHByU2NhbGluZ0VuYWJsZWQiLCJlbmFibGVEcHJTY2FsaW5nIiwicmVzaXplIiwiZGlzYWJsZURwclNjYWxpbmciLCJyZXNpemVkIiwid2luZG93IiwiZGV2aWNlUGl4ZWxSYXRpbyIsImNhbnZhcyIsIndpZHRoIiwiY2xpZW50V2lkdGgiLCJoZWlnaHQiLCJjbGllbnRIZWlnaHQiLCJkcmF3IiwiY3R4Iiwic2F2ZSIsInNjYWxlIiwiZHJhd0Z1bmN0aW9uIiwicmVzdG9yZSIsImFkZERyYXdGdW5jdGlvbiIsInJlbW92ZURyYXdGdW5jdGlvbiIsImRvY3VtZW50IiwiYm9keSIsInBhcmVudEVsZW1lbnQiLCJzdHlsZSIsIm1hcmdpbiIsIm92ZXJmbG93IiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZENoaWxkIiwiZW5DYW52YXMiLCJnZXRDb250ZXh0IiwiY3Vyc29yTWFuaXB1bGF0aW9uIiwiY3Vyc29yTG9jayIsIlNldEN1cnNvciIsInBvaW50ZXIiLCJjdXJzb3IiLCJSZWN0YW5nbGUiLCJ5IiwiY29sbGlkZXNXaXRoIiwicmVjdGFuZ2xlIiwiaGl0eCIsImhpdHkiLCJpc0hpdEJ5Iiwic3RhZ2VfU3RhZ2UiLCJpc1RvdWNoTW9kZSIsImNhbnZhc1Jlc2l6ZWQiLCJzaG91bGRVcGRhdGVMYXlvdXQiLCJ0b3VjaE1vZGUiLCJldiIsInJlbW92ZU1vdXNlTGlzdGVuZXJzIiwiYWRkVG91Y2hMaXN0ZW5lcnMiLCJtb3VzZU1vZGUiLCJhZGRNb3VzZUxpc3RlbmVycyIsInJlbW92ZVRvdWNoTGlzdGVuZXJzIiwibW91c2VEb3duIiwidmlldyIsImNsaWVudFgiLCJjbGllbnRZIiwiYWx0S2V5IiwiY3RybEtleSIsInNoaWZ0S2V5IiwibW91c2VVcCIsIm1vdXNlTW92ZSIsImNsaWNrIiwicmVuZGVyIiwidXBkYXRlTGF5b3V0IiwiY2xlYXJSZWN0Iiwic2V0VmlldyIsInRvdWNoVG9Nb3VzZSIsInRvdWNoRXZlbnQiLCJ0b3VjaGVzIiwidG91Y2giLCJwcmV2ZW50RGVmYXVsdCIsIkhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uIiwiVmVydGljYWxBbGlnbmVtZW50T3B0aW9uIiwiU2V0dGluZ3NWaXNpYmlsaXR5U3RhdGUiLCJPcmllbnRhdGlvbiIsIkltYWdlU2NhbGluZ01vZGUiLCJTcGFjaW5nIiwidG9wIiwicmlnaHQiLCJib3R0b20iLCJsZWZ0IiwiYWxpZ25lbWVudF9BbGlnbmVtZW50IiwiaG9yaXpvbnRhbEFsaWduIiwiQ2VudGVyIiwidmVydGljYWxBbGlnbm1lbnRSYXRpbyIsImNhbGN1bGF0ZURpbWVuc2lvbnNYIiwiYm91bmRzIiwiTGVmdCIsIlJpZ2h0IiwiY2FsY3VsYXRlRGltZW5zaW9uc1kiLCJ2ZXJ0aWNhbEFsaWduIiwidiIsIkJvdHRvbSIsIlRvcCIsIk1ldGhvZE1hbmlwdWxhdGlvbiIsImV4ZWN1dGVyIiwiaW5pdGlhbE1ldGhvZCIsInNldE1ldGhvZCIsIm1ldGhvZHMiLCJhZGQiLCJidWlsZE1ldGhvZCIsIm5ld01ldGhvZCIsInBvcCIsInJlc2V0IiwiY2xlYXIiLCJVSW1hdGlvbiIsImR1cmF0aW9uU2Vjb25kcyIsImdldFZhbHVlIiwiRGF0ZSIsIm5vdyIsInN0YXJ0VGltZSIsImVuZGVkIiwicmVuZGVyT2JqZWN0X1JlbmRlck9iamVjdCIsImdlbmVyYXRlTmV3SWQiLCJpZENvdW50ZXIiLCJkaW1lbnNpb25zIiwiYWxpZ25lbWVudCIsInRyaWdnZXJVcGRhdGVMYXlvdXQiLCJpc0FjdGl2ZSIsImFjdGl2YXRlIiwicmVuZGVyTWV0aG9kTWFuaXB1bGF0aW9uIiwidWltYXRpb24iLCJjdXJyZW50TWV0aG9kIiwiZ2xvYmFsQWxwaGEiLCJkZWFjdGl2YXRlZCIsImRlYWN0aXZhdGUiLCJkaXNhYmxlTW91c2VFdmVudHMiLCJpZCIsIl9yZW5kZXJNZXRob2RNYW5pcHVsYXRpb24iLCJsYXlvdXRWaWV3X0xheW91dFZpZXciLCJjaGlsZHJlbiIsInN1cGVyUmVuZGVyIiwiY2hpbGQiLCJjb250cm9sX0NvbnRyb2wiLCJpc01vdXNlT3ZlciIsImlzRW5hYmxlZCIsImNsaWNrZWQiLCJCdXR0b25Qcm9wZXJ0aWVzIiwiZm9udFNpemUiLCJmb250UHJlZml4IiwiZm9udEZhbWlseSIsImZpbGxTdHlsZSIsIm1vdXNlT3ZlckZpbGxTdHlsZSIsImJhY2tncm91bmRGaWxsU3R5bGUiLCJ1bmRlZmluZWQiLCJnZXRGb250IiwiZm9udCIsImJ1dHRvbl9CdXR0b24iLCJwcm9wZXJ0aWVzIiwiZmlsbFJlY3QiLCJ0ZXh0QWxpZ24iLCJ0ZXh0QmFzZWxpbmUiLCJmaWxsVGV4dCIsInRleHQiLCJzdXBlciIsInNpemUiLCJtZWFzdXJlVGV4dCIsImxpc3RWaWV3UHJvcGVydGllc19MaXN0Vmlld1Byb3BlcnRpZXMiLCJpdGVtU3BhY2luZyIsIm9yaWVudGF0aW9uIiwiVmVydGljYWwiLCJsaXN0Vmlld19MaXN0VmlldyIsImFkZEl0ZW0iLCJsYXlvdXRWaWV3IiwiaXRlbXMiLCJNYXRoIiwibWF4IiwiU3R5bGUiLCJtb3VzT3ZlciIsImxpZ2h0MiIsIm5vcm1hbCIsIm9ic2VydmFibGVQcm9wZXJ0eV9PYnNlcnZhYmxlUHJvcGVydHkiLCJPbkNoYW5nZWQiLCJzZXQiLCJvbGRWYWx1ZSIsInN0YXJMYXllcl9TdGFyTGF5ZXIiLCJzcGVlZCIsInJhbmRvbSIsInN0YXJSYWRpdXNMb3dlckJvcmRlciIsInN0YXJSYWRpdXNVcHBlckJvcmRlciIsIm51bWJlck9mU3RhcnMiLCJMYWJlbFByb3BlcnRpZXMiLCJsYWJlbF9MYWJlbCIsIm5hdmlnYXRpb25IZWFkZXJWaWV3X05hdmlnYXRpb25IZWFkZXJWaWV3IiwidGl0bGUiLCJnb0JhY2tCdG5JY29uVGV4dCIsIm9uR29CYWNrIiwiZ29CYWNrQnRuIiwidGl0bGVMYmwiLCJoZWFkZXIiLCJIb3Jpem9udGFsIiwibmF2aWdhdGlvblZpZXdfTmF2aWdhdGlvblZpZXciLCJuYXZpZ2F0aW9uVmlldyIsIlNsaWRlclByb3BlcnRpZXMiLCJjb2xvcjEiLCJjb2xvcjIiLCJzbGlkZXJfU2xpZGVyIiwicmFkaXVzIiwibWluVmFsdWUiLCJtYXhWYWx1ZSIsImN1cnJlbnRWYWx1ZSIsInZhbHVlQ2hhbmdlZCIsInN0cm9rZVN0eWxlIiwibGluZVdpZHRoIiwiYmVnaW5QYXRoIiwibW92ZVRvIiwibGluZVRvIiwic3Ryb2tlIiwicmVsVmFsdWUiLCJhcmMiLCJQSSIsImNsb3NlUGF0aCIsImZpbGwiLCJpc0RyYWdnaW5nIiwidXBkYXRlQ3VycmVudFZhbHVlIiwidmFsIiwicmFuZ2VTbGlkZXJfUmFuZ2VTbGlkZXIiLCJjdXJyZW50VmFsdWVMb3ciLCJjdXJyZW50VmFsdWVIaWdoIiwibWluRGlmZiIsInZhbHVlc0NoYW5nZWQiLCJzbGlkZXJZIiwicmVsVmFsdWVMb3ciLCJsb3dYIiwicmVsVmFsdWVIaWdoIiwiaGlnaFgiLCJnZXRDbGlja2VkVmFsdWUiLCJkaWZmVG9Mb3ciLCJhYnMiLCJkaWZmVG9IaWdoIiwiaXNEcmFnZ2luZ0xvdyIsImlzRHJhZ2dpbmdIaWdoIiwidXBkYXRlQ3VycmVudFZhbHVlcyIsInN0YXJMYXllclNldHRpbmdzVmlld19TdGFyTGF5ZXJTZXR0aW5nc1ZpZXciLCJzdGFyTGF5ZXIiLCJyb3VuZCIsInNldHRpbmdzTGlzdCIsIm51bWJlck9mU3RhcnNWYWx1ZUxibCIsIm51bWJlck9mU3RhcnNIZWFkIiwiY3JlYXRlSGVhZCIsInRvU3RyaW5nIiwibnVtYmVyT2ZTdGFyc1NsZHIiLCJuZXdWYWx1ZSIsInNwZWVkVmFsdWVMYmwiLCJzcGVlZEhlYWQiLCJzcGVlZFNsZHIiLCJzaXplVmFsdWVMYmwiLCJzaXplSGVhZCIsInNpemVTbGRyIiwidjEiLCJ2MiIsInJlbW92ZUxheWVyQnRuIiwic2VuZGVyIiwiYXBwX0FwcCIsInZpc3VhbGl6YXRpb25Nb2RlbCIsInN0YXJMYXllcnMiLCJzZXR0aW5nTmFtZSIsInZhbHVlVGV4dCIsIm51bWJlck9mU3RhcnNMYmwiLCJzcGFjZSIsInN0YXJMYXllcnNTZXR0aW5nc1ZpZXdfU3RhckxheWVyc1NldHRpbmdzVmlldyIsImxheWVyQnV0dG9ucyIsImxheWVyTGlzdCIsImNyZWF0ZUVkaXRMYXllckJ0biIsImJ0bk5ld0xheWVyIiwibmV3U3RhckxheWVyIiwiYWRkTGF5ZXJCdG4iLCJvbkFkZCIsIm9uUmVtb3ZlIiwibGF5ZXJCdG4iLCJ0YWciLCJlZGl0TGF5ZXJCdG4iLCJlZGl0TGF5ZXIiLCJzdWJWaWV3Iiwic2V0dGluZ3NWaWV3X1NldHRpbmdzVmlldyIsImxhc3RNb3ZlZCIsImluYWN0aXZpdHlUaW1lb3V0Iiwic2V0dGluZ3NJY29uVGV4dCIsInNldHRpbmdzQ2xvc2VJY29uVGV4dCIsInNldHRpbmdzVmlzaWJpbGl0eVN0YXRlIiwiaGlkZGVuIiwic2hvd0hpZGVPdmVybGF5Q2xpY2tlZCIsInZpc2libGUiLCJzZXRTZXR0aW5nc1Zpc2liaWxpdHlTdGF0ZSIsImJlZm9yZVZpc2libGUiLCJtb3VzZUluYWN0aXZpdHlIYW5kbGVyIiwic2V0VGltZW91dCIsInN0YXRlIiwic2hvd0hpZGVTZXR0aW5nc0J0biIsInN0YXJMYXllcnNCdG4iLCJtb3VzZU1vdmVTaG93SGlkZVNldHRpbmdzIiwibW91c2VDbGlja1Nob3dIaWRlU2V0dGluZ3MiLCJjcmVhdGVTaG93SGlkZVNldHRpbmdzQnRuIiwiRGluamVjdCIsImluc3RhbmNlcyIsImFkZEluc3RhbmNlIiwiaW5zdGFuY2UiLCJnZXRJbnN0YW5jZSIsInBsYXllckNvbnRyb2xzVmlld19QbGF5ZXJDb250cm9sc1ZpZXciLCJwbGF5SWNvblRleHQiLCJwYXVzZUljb25UZXh0Iiwic3RvcEljb25UZXh0IiwibmV4dEljb25UZXh0IiwicHJldmlvdXNJY29uVGV4dCIsImF1ZGlvTWFuYWdlciIsImxpc3RWaWV3IiwicGxheVBhdXNlQnRuIiwiY3JlYXRlQnRuIiwicGxheSIsInBhdXNlIiwic3RvcEJ0biIsInN0b3AiLCJwcmV2aW91c0J0biIsInByZXZpb3VzIiwibmV4dEJ0biIsImljb25UZXh0IiwiaW1hZ2VQcm9wZXJ0aWVzX0ltYWdlUHJvcGVydGllcyIsImltYWdlU2NhbGluZ01vZGUiLCJGaXRBbmRTcGFjZSIsImltYWdlX0VJbWFnZSIsImltYWdlIiwiZHJhd0ltYWdlIiwiZml0U2NhbGUiLCJpc0ltYWdlV2lkZXIiLCJuYXR1cmFsV2lkdGgiLCJuYXR1cmFsSGVpZ2h0IiwiRml0QW5kT3ZlcmZpbGwiLCJjcmVhdGVGcm9tVXJsIiwiaW1hZ2VVcmwiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIkltYWdlIiwic3JjIiwib25sb2FkIiwibWFpblZpZXdfTWFpblZpZXciLCJmcmVxdWVuY3lJbmRleCIsImxvd2VyQm9yZGVyIiwidXBwZXJCb3JkZXIiLCJpc1NvbmdBbmltYXRpbmciLCJzb25nQ2hhbmdlZCIsInNvbmdOYW1lIiwibmV3U29uZ05hbWUiLCJhc3NldE1hbmFnZXIiLCJhbmFseXNlciIsImdldEFuYWx5c2VyIiwibG9nbyIsImdldEltYWdlIiwibG9nb05vdmEiLCJsb2dvTm92YUVJbWFnZSIsImRhdGEiLCJnZXRTcGVjdHJ1bSIsInJlbERhdGFWYWx1ZSIsImNhbGN1bGF0ZVJlbERhdGFWYWx1ZSIsImxvZ29Gcm9udCIsImN1cnJlbnRTb25nTmFtZSIsImRhdGFWYWx1ZSIsInN0YXJMYXllclZpZXdfU3RhckxheWVyVmlldyIsInN0YXJzIiwic2l6ZUNoYW5nZWQiLCJsb3dlclZhbHVlIiwidXBwZXJWYWx1ZSIsIm1pbkZpeCIsInJhdGlvIiwic3RhciIsIm51bWJlck9mU3RhcnNDaGFuZ2VkIiwiZGlmZiIsImFkZFN0YXIiLCJmbG9vciIsInVwZGF0ZSIsInRpbWVEaWZmIiwiZW5kIiwiZ3JhZCIsImNyZWF0ZVJhZGlhbEdyYWRpZW50IiwiYWRkQ29sb3JTdG9wIiwiYW5pbWF0aW9uIiwiYWRkVXBkYXRlRnVuY3Rpb24iLCJzdGFyTGF5ZXJNYW5hZ2VyVmlld19TdGFyTGF5ZXJNYW5hZ2VyVmlldyIsInN0YXJMYXllclZpZXdzIiwiYWRkU3RhckxheWVyIiwic3RhckxheWVyVmlldyIsInJlbW92ZVN0YXJMYXllciIsInJvb3RWaWV3X1Jvb3RWaWV3Iiwib25Mb3dQZXJmb3JtYW5jZSIsImxvd1BlcmZvcm1hbmNlIiwibG9hZEJhY2tncm91bmQiLCJzdGFyTGF5ZXJNYW5hZ2VyVmlldyIsImZyb250IiwicGxheWVyVmlldyIsInNldHRpbmdzT3ZlcmxheSIsImJhY2tncm91bmQiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJlQW5pbWF0aW9uX0VBbmltYXRpb24iLCJ1cGRhdGVGdW5jdGlvbnMiLCJpc1J1bm5pbmciLCJwZXJmb3JtYW5jZVdhcm5pbmdUaHJlc2hvbGQiLCJwZXJmb3JtYW5jZVdhcm5pbmdEZWxheVJ1bnMiLCJjdXJyZW50UGVyZm9ybWFuY2VXYXJuaW5nRGVsYXlSdW4iLCJyZW1vdmVVcGRhdGVGdW5jdGlvbiIsInNldEZwcyIsImZwcyIsImZwc0ludGVydmFsIiwiYW5pbWF0aW9uTG9vcCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImVsYXBzZWQiLCJsYXN0RnJhbWVUaW1lIiwidXBkYXRlRnVuY3Rpb24iLCJrZXlDb2RlIiwicGxheVBhdXNlIiwiQ2FudmFzSGVscGVyIiwibG9hZEZvbnRhd2Vzb21lRnJlZSIsImxvYWRGb250IiwibG9hZEZvbnRhd2Vzb21lQnJhbmRzIiwiY291bnRQaXhlbHMiLCJpbWFnZURhdGEiLCJwaXhlbENvdW50IiwiZyIsImIiLCJhIiwiZ2V0SWNvblBpeGVscyIsImljb24iLCJnZXRJbWFnZURhdGEiLCJpY29uMSIsImljb24yIiwicmV0cmllcyIsInRlbXBDYW52YXMiLCJ0ZW1wQ3R4IiwiY2hlY2tMb2FkZWQiLCJpY29uMVBpeGVsQ291bnQiLCJpY29uMlBpeGVsQ291bnQiLCJBdWRpb0dyYXBoTm9kZSIsImF1ZGlvQ3R4IiwiYXVkaW9HcmFwaE5vZGVBbmFseXNlcl9BdWRpb0dyYXBoTm9kZUFuYWx5c2VyIiwiZ2V0QXVkaW9Ob2RlIiwiYW5hbHlzZXJOb2RlIiwiY3JlYXRlQW5hbHlzZXIiLCJmZnRTaXplIiwic21vb3RoaW5nVGltZUNvbnN0YW50IiwiYnVmZmVyTGVuZ3RoIiwiZnJlcXVlbmN5QmluQ291bnQiLCJkYXRhQXJyYXkiLCJVaW50OEFycmF5IiwiZ2V0Qnl0ZUZyZXF1ZW5jeURhdGEiLCJnZXRCeXRlVGltZURvbWFpbkRhdGEiLCJhdWRpb0dyYXBoTm9kZURlc3RpbmF0aW9uX0F1ZGlvR3JhcGhOb2RlRGVzdGluYXRpb24iLCJkZXN0aW5hdGlvbiIsImF1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZV9BdWRpb0dyYXBoTm9kZUVsZW1lbnRTb3VyY2UiLCJ1cmwiLCJhdWRpb0VuZGVkIiwiYXVkaW9FbmRlZEV2ZW50Iiwic291cmNlIiwiYXVkaW8iLCJjdXJyZW50VGltZSIsInNldFVybCIsInBhdXNlZCIsImxvYWQiLCJjb250cm9scyIsImNyZWF0ZU1lZGlhRWxlbWVudFNvdXJjZSIsImF1ZGlvR3JhcGhfQXVkaW9HcmFwaCIsImF1ZGlvTm9kZXMiLCJhZGRNZWRpYUVsZW1lbnRTb3VyY2UiLCJzb3VyY2VOb2RlIiwiYWRkQW5hbHl6ZXIiLCJhbmFseXplck5vZGUiLCJnZXRBdWRpb0dyYXBoTm9kZSIsImF1ZGlvQ29udGV4dFN0YXRlQ2hhbmdlZCIsImRvY3VtZW50Q2xpY2siLCJyZXN1bWUiLCJhdWRpb0NvbnRleHRTdGF0ZUNoYW5nZWRFdmFsdWF0b3IiLCJyZWxvYWQiLCJ0aGVuIiwiYWxsIiwibWFwIiwiYXVkaW9Ob2RlIiwiZGlzY29ubmVjdCIsImNvbm5lY3QiLCJkZXN0aW5hdGlvbk5vZGUiLCJBdWRpb0NvbnRleHQiLCJ3ZWJraXRBdWRpb0NvbnRleHQiLCJlcnJvciIsImF1ZGlvTWFuYWdlcl9BdWRpb01hbmFnZXIiLCJzb25ncyIsIlRyYWlsZXJfZmFpbnRDb2xvcl9kZWZhdWx0IiwiVHJhaWxlcl9EZWVwRmllbGRfZGVmYXVsdCIsIlRyYWlsZXJfRHJpZnRpbmdJbnRvVGhlQXRtb3NwaGVyZV9kZWZhdWx0IiwiYXVkaW9HcmFwaCIsIm5leHRTb25nSW5kZXgiLCJwcmV2aW91c1NvbmdJbmRleCIsImVuZGVkTmV4dCIsImN1cnJlbnRTb25nSW5kZXgiLCJBc3NldE1hbmFnZXIiLCJpbWFnZUFzc2V0cyIsImFkZEltYWdlIiwiaW1hZ2VBc3NldCIsImxvYWRpbmdWaWV3X0xvYWRpbmdWaWV3IiwibG9hZGluZ0xhYmVsIiwib2JzZXJ2YWJsZUFycmF5X09ic2VydmFibGVBcnJheSIsInJ1biIsImJhY2tncm91bmRDb2xvciIsImNyZWF0ZUZ1bGxTY3JlZW4iLCJzdGFnZSIsImluc3BpZXJ0eVBsYXllclZpZXciLCJsb2FkaW5nVmlldyIsImJhY2tncm91bmRfZGVmYXVsdCIsImxvZ29fZnJvbnRfZGVmYXVsdCIsImxvZ29fbm92YV9kZWZhdWx0IiwiY2F0Y2giLCJhbGVydCIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsIm5hdmlnYXRvciIsInNlcnZpY2VXb3JrZXIiLCJyZWdpc3RlciIsInJlZ2lzdHJhdGlvbiIsInJlZ2lzdHJhdGlvbkVycm9yIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFFBQUEsSUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEs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c2dCLEdBQ1o0QixNQUFNNUIsT0FoRUFsTyxHQUFBQyxtQkFBcUIsSUNiaEMsTUFHSGpSLFlBQVkwQixFQUFlRSxHQUlwQm5ELEtBQUF5UyxXQUFhLElBQUlpUCxHQUhwQjFoQixLQUFLaUQsTUFBUSxJQUFJb0ssRUFBMkJwSyxHQUM1Q2pELEtBQUttRCxPQUFTLElBQUlrSyxFQUEyQmxLLEtEUVNMLE9BQU93ZixXQUFZeGYsT0FBT3lmLGtCRWR4RjFlLFNBQVNwQyxpQkFBaUIsbUJBRTFCLFlBQ2MsSUFBSThRLElBQ1ZvUCxRQUo0QyxHQU9oRCxrQkFBbUJhLFdBQ25CMWYsT0FBT3JCLGlCQUFpQixPQUFRLEtBQzVCK2dCLFVBQVVDLGNBQWNDLFNBQVMscUJBQzVCMUMsS0FBSzJDLElBQ0Z6aUIsUUFBUUMsSUFBSSxrQkFBbUJ3aUIsS0FDaENQLE1BQU1RLElBQ0wxaUIsUUFBUUMsSUFBSSwyQkFBNEJ5aUIiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA3KTtcbiIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjQ1NDg2MTY3NTBiNDk1OTllMjlhZDMxZjI3MDUyZmM3Lm1wM1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjQyZTFjOTE1NzNlMDMyN2NkM2YxN2YyNTFlOGFmMmE2Lm1wM1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImYxY2VlYTVkNTU1OTQ3YzgwMjgxZjM2OGJmYWY4ZmE4Lm1wM1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImI1NTk5Zjg3ZGRhNTVjMmNhMDRlYjI1NWE5Nzg4ZmE1LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImRlYzRiYmQyNDY4MzgyMDQ0NjBjZWU3NjVlODUyNDY1LnBuZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImI3ODIyNGQyNTQ5YmU2Y2NmNjRkYzYyZjM5NzMwODRlLnBuZ1wiOyIsImludGVyZmFjZSBBcnJheTxUPiB7XHJcbiAgICByZW1vdmVJdGVtSWZFeGlzdHMoaXRlbTogVCk6IHZvaWQ7XHJcbiAgICBjb250YWlucyhpdGVtOiBUKTogYm9vbGVhbjtcclxuICAgIHJlbW92ZUl0ZW0oaXRlbTogVCk6IHZvaWQ7XHJcbiAgICByZW1vdmUoc2VsZWN0b3I6IChpdGVtOiBUKSA9PiBib29sZWFuKTogdm9pZDtcclxuICAgIGFkZEl0ZW1JZk5vdEV4aXN0cyhpdGVtOiBUKTogdm9pZDtcclxuICAgIHRvTGlzdCgpOiBUW107XHJcbiAgICBnZXROZXh0KGN1cnJlbnQ6IFQsIHNlbGVjdG9yOiAoaXRlbTogVCkgPT4gbnVtYmVyKTogVDtcclxuICAgIGZpcnN0KHNlbGVjdG9yOiAoaXRlbTogVCkgPT4gYm9vbGVhbik6IFQ7XHJcbiAgICBmaXJzdE9yRGVmYXVsdChzZWxlY3RvcjogKGl0ZW06IFQpID0+IGJvb2xlYW4pOiBUO1xyXG59XHJcblxyXG5BcnJheS5wcm90b3R5cGUuZmlyc3RPckRlZmF1bHQgPSBmdW5jdGlvbiAoZnVuYykge1xyXG4gICAgZm9yIChjb25zdCBhcnJheUl0ZW0gb2YgdGhpcykge1xyXG4gICAgICAgIGlmIChmdW5jKGFycmF5SXRlbSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFycmF5SXRlbTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxufVxyXG5cclxuQXJyYXkucHJvdG90eXBlLmZpcnN0ID0gZnVuY3Rpb24gKGZ1bmMpIHtcclxuICAgIGZvciAoY29uc3QgYXJyYXlJdGVtIG9mIHRoaXMpIHtcclxuICAgICAgICBpZiAoZnVuYyhhcnJheUl0ZW0pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhcnJheUl0ZW07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2coXCJpdGVtIG5vdCBmb3VuZFwiKTtcclxuICAgIGNvbnNvbGUubG9nKHRoaXMpO1xyXG4gICAgdGhyb3cgXCJpdGVtIG5vdCBmb3VuZFwiO1xyXG59XHJcblxyXG5BcnJheS5wcm90b3R5cGUuZ2V0TmV4dCA9IGZ1bmN0aW9uIDxUPihjdXJyZW50OiBULCBzZWxlY3RvcjogKGl0ZW06IFQpID0+IG51bWJlcik6IFQge1xyXG4gICAgdmFyIG5leHRQb3NpdGlvbiA9IHNlbGVjdG9yKGN1cnJlbnQpICsgMTtcclxuICAgIHZhciBuZXh0ID0gKHRoaXMgYXMgVFtdKS5maXJzdE9yRGVmYXVsdCgoeCkgPT4gc2VsZWN0b3IoeCkgPT0gbmV4dFBvc2l0aW9uKTtcclxuICAgIGlmICghbmV4dCkge1xyXG4gICAgICAgIG5leHQgPSAodGhpcyBhcyBUW10pLmZpcnN0KHggPT4gc2VsZWN0b3IoeCkgPT0gMSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG5leHQ7XHJcbn1cclxuXHJcbkFycmF5LnByb3RvdHlwZS5yZW1vdmVJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXhPZihpdGVtKTtcclxuICAgIGlmIChpbmRleCAhPSAtMSkge1xyXG4gICAgICAgIHRoaXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhyb3cgXCJpdGVtIG5vdCBmb3VuZFwiO1xyXG4gICAgfVxyXG59XHJcblxyXG5BcnJheS5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiA8VD4oaXRlbTogVCkge1xyXG4gICAgcmV0dXJuIHRoaXMuaW5kZXhPZihpdGVtKSAhPT0gLTE7XHJcbn1cclxuXHJcbkFycmF5LnByb3RvdHlwZS5yZW1vdmVJdGVtSWZFeGlzdHMgPSBmdW5jdGlvbiA8VD4oaXRlbTogVCkge1xyXG4gICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleE9mKGl0ZW0pO1xyXG4gICAgaWYgKGluZGV4ICE9IC0xKSB7XHJcbiAgICAgICAgdGhpcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgfVxyXG59XHJcblxyXG5BcnJheS5wcm90b3R5cGUuYWRkSXRlbUlmTm90RXhpc3RzID0gZnVuY3Rpb24gPFQ+KGl0ZW06IFQpIHtcclxuICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXhPZihpdGVtKTtcclxuICAgIGlmIChpbmRleCA9PSAtMSkge1xyXG4gICAgICAgICh0aGlzIGFzIFRbXSkucHVzaChpdGVtKTtcclxuICAgIH1cclxufVxyXG5cclxuQXJyYXkucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIDxUPihzZWxlY3RvcjogKGl0ZW06IFQpID0+IGJvb2xlYW4pIHtcclxuICAgICh0aGlzIGFzIFRbXSkucmVtb3ZlSXRlbSgodGhpcyBhcyBUW10pLmZpcnN0KHNlbGVjdG9yKSk7XHJcbn1cclxuXHJcbkFycmF5LnByb3RvdHlwZS50b0xpc3QgPSBmdW5jdGlvbiA8VD4oKTogVFtdIHtcclxuICAgIHJldHVybiAodGhpcyBhcyBUW10pLmZpbHRlcih4ID0+IHRydWUpO1xyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBFRXZlbnQge1xyXG4gICAgcHJpdmF0ZSBsaXN0ZW5lcnM6ICgoKSA9PiB2b2lkKVtdID0gW107XHJcblxyXG4gICAgcHVibGljIGFkZEV2ZW50TGlzdGVuZXIgPSAobGlzdGVuZXI6ICgpID0+IHZvaWQpID0+IHtcclxuICAgICAgICAvLyB2YWxpZGF0aW9uXHJcbiAgICAgICAgaWYgKCFsaXN0ZW5lciB8fCB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IFwibGlzdGVuZXIgYWxyZWFkeSBhZGRlZFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZEV2ZW50TGlzdGVuZXJJZk5vdEV4aXN0cyA9IChsaXN0ZW5lcjogKCkgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIC8vIHZhbGlkYXRpb25cclxuICAgICAgICBpZiAoIWxpc3RlbmVyIHx8IHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpID49IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRpc3BhdGNoRXZlbnQgPSAoKSA9PiB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBldmVudCA9IHRoaXMubGlzdGVuZXJzW2ldO1xyXG4gICAgICAgICAgICBldmVudCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlRXZlbnRMaXN0ZW5lciA9IChsaXN0ZW5lcjogKCkgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIC8vIHZhbGlkYXRpb25cclxuICAgICAgICBpZiAoIWxpc3RlbmVyIHx8IHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpIDwgMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBcImxpc3RlbmVyIG5vdCBmb3VuZFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuc3BsaWNlKHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpLCAxKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlRXZlbnRMaXN0ZW5lcklmRXhpc3RzID0gKGxpc3RlbmVyOiAoKSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgLy8gdmFsaWRhdGlvblxyXG4gICAgICAgIGlmICghbGlzdGVuZXIgfHwgdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcikgPCAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnNwbGljZSh0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSwgMSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBFRXZlbnRUPFQ+IHtcclxuICAgIHByaXZhdGUgbGlzdGVuZXJzOiAoKGFyZzogVCkgPT4gdm9pZClbXSA9IFtdO1xyXG5cclxuICAgIHB1YmxpYyBhZGRFdmVudExpc3RlbmVyID0gKGxpc3RlbmVyOiAoYXJnOiBUKSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgLy8gdmFsaWRhdGlvblxyXG4gICAgICAgIGlmICghbGlzdGVuZXIgfHwgdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcikgPj0gMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBcImxpc3RlbmVyIGFscmVhZHkgYWRkZWRcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkaXNwYXRjaEV2ZW50ID0gKGFyZzogVCkgPT4ge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5saXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSB0aGlzLmxpc3RlbmVyc1tpXTtcclxuICAgICAgICAgICAgZXZlbnQoYXJnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZUV2ZW50TGlzdGVuZXIgPSAobGlzdGVuZXI6IChhcmc6IFQpID0+IHZvaWQpID0+IHtcclxuICAgICAgICAvLyB2YWxpZGF0aW9uXHJcbiAgICAgICAgaWYgKCFsaXN0ZW5lciB8fCB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSA8IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJsaXN0ZW5lciBub3QgZm91bmRcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnNwbGljZSh0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSwgMSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBFRXZlbnRUVDxUMSwgVDI+IHtcclxuICAgIHByaXZhdGUgbGlzdGVuZXJzOiAoKGFyZzE6IFQxLCBhcmcyOiBUMikgPT4gdm9pZClbXSA9IFtdO1xyXG5cclxuICAgIHB1YmxpYyBhZGRFdmVudExpc3RlbmVyID0gKGxpc3RlbmVyOiAoYXJnMTogVDEsIGFyZzI6IFQyKSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgLy8gdmFsaWRhdGlvblxyXG4gICAgICAgIGlmICghbGlzdGVuZXIgfHwgdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcikgPj0gMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBcImxpc3RlbmVyIGFscmVhZHkgYWRkZWRcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkaXNwYXRjaEV2ZW50ID0gKGFyZzE6IFQxLCBhcmcyOiBUMikgPT4ge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5saXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSB0aGlzLmxpc3RlbmVyc1tpXTtcclxuICAgICAgICAgICAgZXZlbnQoYXJnMSwgYXJnMik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVFdmVudExpc3RlbmVyID0gKGxpc3RlbmVyOiAoYXJnMTogVDEsIGFyZzI6IFQyKSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgLy8gdmFsaWRhdGlvblxyXG4gICAgICAgIGlmICghbGlzdGVuZXIgfHwgdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcikgPCAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IFwibGlzdGVuZXIgbm90IGZvdW5kXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5zcGxpY2UodGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lciksIDEpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgRUFuaW1hdGlvbiB9IGZyb20gXCIuLi9lQW5pbWF0aW9uXCI7XHJcbmltcG9ydCB7IEVFdmVudCB9IGZyb20gXCIuLi9lRXZlbnRcIjtcclxuXHJcbmV4cG9ydCB0eXBlIERyYXdGdW5jdGlvbiA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgd2lkdGg/OiBudW1iZXIsIGhlaWdodD86IG51bWJlcikgPT4gdm9pZDtcclxuXHJcbmV4cG9ydCBjbGFzcyBFQ2FudmFzIHtcclxuICAgIHByaXZhdGUgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgIHByaXZhdGUgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XHJcblxyXG4gICAgcHJpdmF0ZSBkcmF3RnVuY3Rpb25zOiBEcmF3RnVuY3Rpb25bXSA9IFtdO1xyXG4gICAgcHVibGljIGRwciA9IDE7XHJcbiAgICBwdWJsaWMgc3RhdGljIGN1cnNvck1hbmlwdWxhdGlvbiA9IHRydWU7XHJcblxyXG4gICAgcHVibGljIGdldCB3aWR0aCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhcy5jbGllbnRXaWR0aCAvIHRoaXMuZHByO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgaGVpZ2h0KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzLmNsaWVudEhlaWdodCAvIHRoaXMuZHByO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZHByU2NhbGluZ0VuYWJsZWQgPSBmYWxzZTtcclxuICAgIHB1YmxpYyBlbmFibGVEcHJTY2FsaW5nID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuZHByU2NhbGluZ0VuYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMucmVzaXplKCk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgZGlzYWJsZURwclNjYWxpbmcgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5kcHJTY2FsaW5nRW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucmVzaXplKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlc2l6ZWQgPSBuZXcgRUV2ZW50KClcclxuXHJcbiAgICBwcml2YXRlIGNvbnN0cnVjdG9yKCkgeyB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGVGdWxsU2NyZWVuKCk6IEVDYW52YXMge1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkucGFyZW50RWxlbWVudC5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUubWFyZ2luID0gXCIwXCI7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdyA9IFwiaGlkZGVuXCI7XHJcblxyXG4gICAgICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNhbnZhcyk7XHJcbiAgICAgICAgY2FudmFzLnN0eWxlLndpZHRoID0gXCIxMDAlXCJcclxuICAgICAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XHJcblxyXG4gICAgICAgIHZhciBlbkNhbnZhcyA9IG5ldyBFQ2FudmFzKCk7XHJcbiAgICAgICAgZW5DYW52YXMuY2FudmFzID0gY2FudmFzO1xyXG4gICAgICAgIGVuQ2FudmFzLmN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIGVuQ2FudmFzLnJlc2l6ZSk7XHJcbiAgICAgICAgZW5DYW52YXMucmVzaXplKCk7XHJcbiAgICAgICAgcmV0dXJuIGVuQ2FudmFzO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3RhdGljIGN1cnNvckxvY2s6IHN0cmluZyA9IG51bGw7XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBTZXRDdXJzb3IgPSAobmFtZTogc3RyaW5nLCBwb2ludGVyOiBib29sZWFuKSA9PiB7XHJcbiAgICAgICAgaWYgKEVDYW52YXMuY3Vyc29yTWFuaXB1bGF0aW9uKSB7XHJcbiAgICAgICAgICAgIGlmIChwb2ludGVyKSB7XHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwicG9pbnRlclwiO1xyXG4gICAgICAgICAgICAgICAgRUNhbnZhcy5jdXJzb3JMb2NrID0gbmFtZTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChuYW1lID09IEVDYW52YXMuY3Vyc29yTG9jaykge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSBcImRlZmF1bHRcIjtcclxuICAgICAgICAgICAgICAgIEVDYW52YXMuY3Vyc29yTG9jayA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlc2l6ZSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmRwciA9IHRoaXMuZHByU2NhbGluZ0VuYWJsZWQgPyB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxIDogMTtcclxuXHJcbiAgICAgICAgdGhpcy5jYW52YXMud2lkdGggPSB0aGlzLmNhbnZhcy5jbGllbnRXaWR0aDtcclxuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB0aGlzLmNhbnZhcy5jbGllbnRIZWlnaHQ7XHJcblxyXG4gICAgICAgIHRoaXMucmVzaXplZC5kaXNwYXRjaEV2ZW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRyYXcgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5jdHguc2F2ZSgpO1xyXG4gICAgICAgIHRoaXMuY3R4LnNjYWxlKHRoaXMuZHByLCB0aGlzLmRwcik7XHJcbiAgICAgICAgZm9yIChjb25zdCBkcmF3RnVuY3Rpb24gb2YgdGhpcy5kcmF3RnVuY3Rpb25zKSB7XHJcbiAgICAgICAgICAgIGRyYXdGdW5jdGlvbih0aGlzLmN0eCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZERyYXdGdW5jdGlvbiA9IChmdW5jOiBEcmF3RnVuY3Rpb24pID0+IHtcclxuICAgICAgICB0aGlzLmRyYXdGdW5jdGlvbnMucHVzaChmdW5jKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlRHJhd0Z1bmN0aW9uID0gKGZ1bmM6IERyYXdGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgIHRoaXMuZHJhd0Z1bmN0aW9ucy5zcGxpY2UodGhpcy5kcmF3RnVuY3Rpb25zLmluZGV4T2YoZnVuYyksIDEpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIFJlY3RhbmdsZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgeDogbnVtYmVyLCBwdWJsaWMgeTogbnVtYmVyLCBwdWJsaWMgd2lkdGg6IG51bWJlciwgcHVibGljIGhlaWdodDogbnVtYmVyKSB7IH1cclxuXHJcbiAgICBwdWJsaWMgY29sbGlkZXNXaXRoID0gKHJlY3RhbmdsZTogUmVjdGFuZ2xlKSA9PiB7XHJcbiAgICAgICAgdmFyIGhpdHggPSBmYWxzZTtcclxuICAgICAgICB2YXIgaGl0eSA9IGZhbHNlO1xyXG4gICAgICAgIGlmICh0aGlzLnggPD0gcmVjdGFuZ2xlLngpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMueCA8PSByZWN0YW5nbGUueCAmJiB0aGlzLnggKyB0aGlzLndpZHRoID4gcmVjdGFuZ2xlLngpIHtcclxuICAgICAgICAgICAgICAgIGhpdHggPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHJlY3RhbmdsZS54IDw9IHRoaXMueCAmJiByZWN0YW5nbGUueCArIHJlY3RhbmdsZS53aWR0aCA+IHRoaXMueCkge1xyXG4gICAgICAgICAgICAgICAgaGl0eCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChoaXR4KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnkgPD0gcmVjdGFuZ2xlLnkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnkgPD0gcmVjdGFuZ2xlLnkgJiYgdGhpcy55ICsgdGhpcy53aWR0aCA+IHJlY3RhbmdsZS55KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGl0eSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVjdGFuZ2xlLnkgPD0gdGhpcy55ICYmIHJlY3RhbmdsZS55ICsgcmVjdGFuZ2xlLndpZHRoID4gdGhpcy55KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGl0eSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBoaXR4ICYmIGhpdHk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzSGl0QnkgPSAoeDogbnVtYmVyLCB5OiBudW1iZXIpID0+IHtcclxuICAgICAgICByZXR1cm4geCA+IHRoaXMueCAmJiB4IDwgdGhpcy54ICsgdGhpcy53aWR0aFxyXG4gICAgICAgICAgICAmJiB5ID4gdGhpcy55ICYmIHkgPCB0aGlzLnkgKyB0aGlzLmhlaWdodDtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEVDYW52YXMgfSBmcm9tIFwiLi9lQ2FudmFzXCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgTGF5b3V0VmlldyB9IGZyb20gXCIuL2xheW91dENvbnRyb2xzL2xheW91dFZpZXdcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTdGFnZSB7XHJcbiAgICBwcml2YXRlIHZpZXc6IExheW91dFZpZXc7XHJcbiAgICBwcml2YXRlIHNob3VsZFVwZGF0ZUxheW91dDogYm9vbGVhbjtcclxuICAgIHByaXZhdGUgaXNUb3VjaE1vZGUgPSBmYWxzZTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNhbnZhczogRUNhbnZhcykge1xyXG4gICAgICAgIGNhbnZhcy5hZGREcmF3RnVuY3Rpb24odGhpcy5yZW5kZXIpO1xyXG4gICAgICAgIGNhbnZhcy5yZXNpemVkLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5jYW52YXNSZXNpemVkKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCB0aGlzLnRvdWNoTW9kZSk7XHJcbiAgICAgICAgdGhpcy5hZGRNb3VzZUxpc3RlbmVycygpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2FudmFzUmVzaXplZCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNob3VsZFVwZGF0ZUxheW91dCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB0b3VjaE1vZGUgPSAoZXY6IFRvdWNoRXZlbnQpID0+IHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNUb3VjaE1vZGUpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJzd2l0Y2hpbmcgdG8gdG91Y2ggbW9kZVwiKTtcclxuICAgICAgICAgICAgRUNhbnZhcy5jdXJzb3JNYW5pcHVsYXRpb24gPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5pc1RvdWNoTW9kZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlTW91c2VMaXN0ZW5lcnMoKTtcclxuICAgICAgICAgICAgdGhpcy5hZGRUb3VjaExpc3RlbmVycygpO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5tb3VzZU1vZGUpO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCB0aGlzLnRvdWNoTW9kZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbW91c2VNb2RlID0gKGV2OiBUb3VjaEV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNUb3VjaE1vZGUpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJzd2l0Y2hpbmcgdG8gbW91c2UgbW9kZVwiKTtcclxuICAgICAgICAgICAgRUNhbnZhcy5jdXJzb3JNYW5pcHVsYXRpb24gPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmlzVG91Y2hNb2RlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkTW91c2VMaXN0ZW5lcnMoKTtcclxuICAgICAgICAgICAgdGhpcy5yZW1vdmVUb3VjaExpc3RlbmVycygpO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCB0aGlzLnRvdWNoTW9kZSk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5tb3VzZU1vZGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG1vdXNlRG93biA9IChldjogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnZpZXcpIHtcclxuICAgICAgICAgICAgdGhpcy52aWV3Lm1vdXNlRG93bih7XHJcbiAgICAgICAgICAgICAgICBjbGllbnRYOiBldi5jbGllbnRYIC8gdGhpcy5jYW52YXMuZHByLFxyXG4gICAgICAgICAgICAgICAgY2xpZW50WTogZXYuY2xpZW50WSAvIHRoaXMuY2FudmFzLmRwcixcclxuICAgICAgICAgICAgICAgIGFsdEtleTogZXYuYWx0S2V5LFxyXG4gICAgICAgICAgICAgICAgY3RybEtleTogZXYuY3RybEtleSxcclxuICAgICAgICAgICAgICAgIHNoaWZ0S2V5OiBldi5zaGlmdEtleVxyXG4gICAgICAgICAgICB9IGFzIE1vdXNlRXZlbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG1vdXNlVXAgPSAoZXY6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICBpZiAodGhpcy52aWV3KSB7XHJcbiAgICAgICAgICAgIHRoaXMudmlldy5tb3VzZVVwKHtcclxuICAgICAgICAgICAgICAgIGNsaWVudFg6IGV2LmNsaWVudFggLyB0aGlzLmNhbnZhcy5kcHIsXHJcbiAgICAgICAgICAgICAgICBjbGllbnRZOiBldi5jbGllbnRZIC8gdGhpcy5jYW52YXMuZHByLFxyXG4gICAgICAgICAgICAgICAgYWx0S2V5OiBldi5hbHRLZXksXHJcbiAgICAgICAgICAgICAgICBjdHJsS2V5OiBldi5jdHJsS2V5LFxyXG4gICAgICAgICAgICAgICAgc2hpZnRLZXk6IGV2LnNoaWZ0S2V5XHJcbiAgICAgICAgICAgIH0gYXMgTW91c2VFdmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbW91c2VNb3ZlID0gKGV2OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMudmlldykge1xyXG4gICAgICAgICAgICB0aGlzLnZpZXcubW91c2VNb3ZlKHtcclxuICAgICAgICAgICAgICAgIGNsaWVudFg6IGV2LmNsaWVudFggLyB0aGlzLmNhbnZhcy5kcHIsXHJcbiAgICAgICAgICAgICAgICBjbGllbnRZOiBldi5jbGllbnRZIC8gdGhpcy5jYW52YXMuZHByLFxyXG4gICAgICAgICAgICAgICAgYWx0S2V5OiBldi5hbHRLZXksXHJcbiAgICAgICAgICAgICAgICBjdHJsS2V5OiBldi5jdHJsS2V5LFxyXG4gICAgICAgICAgICAgICAgc2hpZnRLZXk6IGV2LnNoaWZ0S2V5XHJcbiAgICAgICAgICAgIH0gYXMgTW91c2VFdmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2xpY2sgPSAoZXY6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICBpZiAodGhpcy52aWV3KSB7XHJcbiAgICAgICAgICAgIHRoaXMudmlldy5jbGljayh7XHJcbiAgICAgICAgICAgICAgICBjbGllbnRYOiBldi5jbGllbnRYIC8gdGhpcy5jYW52YXMuZHByLFxyXG4gICAgICAgICAgICAgICAgY2xpZW50WTogZXYuY2xpZW50WSAvIHRoaXMuY2FudmFzLmRwcixcclxuICAgICAgICAgICAgICAgIGFsdEtleTogZXYuYWx0S2V5LFxyXG4gICAgICAgICAgICAgICAgY3RybEtleTogZXYuY3RybEtleSxcclxuICAgICAgICAgICAgICAgIHNoaWZ0S2V5OiBldi5zaGlmdEtleVxyXG4gICAgICAgICAgICB9IGFzIE1vdXNlRXZlbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlbmRlciA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgd2lkdGg/OiBudW1iZXIsIGhlaWdodD86IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnZpZXcpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2hvdWxkVXBkYXRlTGF5b3V0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcudXBkYXRlTGF5b3V0KGN0eCwgbmV3IFJlY3RhbmdsZSgwLCAwLCB3aWR0aCwgaGVpZ2h0KSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3VsZFVwZGF0ZUxheW91dCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgIHRoaXMudmlldy5yZW5kZXIoY3R4KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFZpZXcgPSAodmlldzogTGF5b3V0VmlldykgPT4ge1xyXG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XHJcbiAgICAgICAgdGhpcy5zaG91bGRVcGRhdGVMYXlvdXQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVtb3ZlTW91c2VMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5tb3VzZVVwKTtcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMubW91c2VNb3ZlKTtcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMubW91c2VEb3duKTtcclxuICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5jbGljayk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhZGRNb3VzZUxpc3RlbmVycygpIHtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLm1vdXNlVXApO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5tb3VzZU1vdmUpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5tb3VzZURvd24pO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmNsaWNrKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlbW92ZVRvdWNoTGlzdGVuZXJzKCkge1xyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaGVuZFwiLCB0aGlzLm1vdXNlVXApO1xyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaG1vdmVcIiwgdGhpcy5tb3VzZU1vdmUpO1xyXG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsIHRoaXMuY2xpY2spO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYWRkVG91Y2hMaXN0ZW5lcnMoKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoZW5kXCIsICh0b3VjaCkgPT4geyB0b3VjaC5wcmV2ZW50RGVmYXVsdCgpOyB0aGlzLm1vdXNlVXAodGhpcy50b3VjaFRvTW91c2UodG91Y2gpKSB9KTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2htb3ZlXCIsICh0b3VjaCkgPT4geyBpZiAodG91Y2gudG91Y2hlcy5sZW5ndGggPiAwKSB7IHRoaXMubW91c2VNb3ZlKHRoaXMudG91Y2hUb01vdXNlKHRvdWNoKSkgfSB9KTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLCAodG91Y2gpID0+IHsgaWYgKHRvdWNoLnRvdWNoZXMubGVuZ3RoID4gMCkgeyB0aGlzLmNsaWNrKHRoaXMudG91Y2hUb01vdXNlKHRvdWNoKSk7IH0gfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB0b3VjaFRvTW91c2UgPSAodG91Y2hFdmVudDogVG91Y2hFdmVudCk6IE1vdXNlRXZlbnQgPT4ge1xyXG4gICAgICAgIGlmICh0b3VjaEV2ZW50LnRvdWNoZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgY2xpZW50WDogdG91Y2hFdmVudC50b3VjaGVzWzBdLmNsaWVudFggLyB0aGlzLmNhbnZhcy5kcHIsXHJcbiAgICAgICAgICAgICAgICBjbGllbnRZOiB0b3VjaEV2ZW50LnRvdWNoZXNbMF0uY2xpZW50WSAvIHRoaXMuY2FudmFzLmRwcixcclxuICAgICAgICAgICAgICAgIGFsdEtleTogdG91Y2hFdmVudC5hbHRLZXksXHJcbiAgICAgICAgICAgICAgICBjdHJsS2V5OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgc2hpZnRLZXk6IHRvdWNoRXZlbnQuc2hpZnRLZXlcclxuICAgICAgICAgICAgfSBhcyBNb3VzZUV2ZW50O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgICBjbGllbnRYOiAwLFxyXG4gICAgICAgICAgICAgICAgY2xpZW50WTogMCxcclxuICAgICAgICAgICAgICAgIGFsdEtleTogdG91Y2hFdmVudC5hbHRLZXksXHJcbiAgICAgICAgICAgICAgICBjdHJsS2V5OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgc2hpZnRLZXk6IHRvdWNoRXZlbnQuc2hpZnRLZXlcclxuICAgICAgICAgICAgfSBhcyBNb3VzZUV2ZW50O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImV4cG9ydCBlbnVtIEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uIHtcclxuICAgIExlZnQsXHJcbiAgICBDZW50ZXIsXHJcbiAgICBSaWdodCxcclxufSIsImV4cG9ydCBlbnVtIFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbiB7XHJcbiAgICBUb3AsXHJcbiAgICBDZW50ZXIsXHJcbiAgICBCb3R0b20sXHJcbn0iLCJleHBvcnQgZW51bSBTZXR0aW5nc1Zpc2liaWxpdHlTdGF0ZSB7XHJcbiAgICBoaWRkZW4sXHJcbiAgICBiZWZvcmVWaXNpYmxlLFxyXG4gICAgdmlzaWJsZVxyXG59IiwiZXhwb3J0IGVudW0gT3JpZW50YXRpb24ge1xyXG4gICAgSG9yaXpvbnRhbCxcclxuICAgIFZlcnRpY2FsXHJcbn0iLCJleHBvcnQgZW51bSBJbWFnZVNjYWxpbmdNb2Rle1xyXG4gICAgRml0QW5kT3ZlcmZpbGwsXHJcbiAgICBGaXRBbmRTcGFjZVxyXG59IiwiZXhwb3J0IGNsYXNzIFNwYWNpbmcge1xyXG4gICAgcHVibGljIHRvcDogbnVtYmVyID0gMDtcclxuICAgIHB1YmxpYyByaWdodDogbnVtYmVyID0gMDtcclxuICAgIHB1YmxpYyBib3R0b206IG51bWJlciA9IDA7XHJcbiAgICBwdWJsaWMgbGVmdDogbnVtYmVyID0gMDtcclxufSIsImltcG9ydCB7IEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uIH0gZnJvbSBcIi4vaG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuaW1wb3J0IHsgVmVydGljYWxBbGlnbmVtZW50T3B0aW9uIH0gZnJvbSBcIi4vdmVydGljYWxBbGlnbmVtZW50T3B0aW9uXCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgU3BhY2luZyB9IGZyb20gXCIuL3NwYWNpbmdcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBbGlnbmVtZW50IHtcclxuICAgIHB1YmxpYyBob3Jpem9udGFsQWxpZ24gPSBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbi5DZW50ZXI7XHJcblxyXG4gICAgcHVibGljIHNldCB2ZXJ0aWNhbEFsaWduKHY6IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbikge1xyXG4gICAgICAgIHN3aXRjaCAodikge1xyXG4gICAgICAgICAgICBjYXNlIFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi5Cb3R0b206XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRpY2FsQWxpZ25tZW50UmF0aW8gPSAxO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgVmVydGljYWxBbGlnbmVtZW50T3B0aW9uLkNlbnRlcjpcclxuICAgICAgICAgICAgICAgIHRoaXMudmVydGljYWxBbGlnbm1lbnRSYXRpbyA9IDAuNTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi5Ub3A6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZlcnRpY2FsQWxpZ25tZW50UmF0aW8gPSAwO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB2ZXJ0aWNhbEFsaWdubWVudFJhdGlvID0gVmVydGljYWxBbGlnbmVtZW50T3B0aW9uLkNlbnRlcjtcclxuXHJcbiAgICBwdWJsaWMgbWFyZ2luID0gbmV3IFNwYWNpbmcoKTtcclxuICAgIC8vIHB1YmxpYyBwYWRkaW5nID0gbmV3IFNwYWNpbmcoKTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnZlcnRpY2FsQWxpZ24gPSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24uQ2VudGVyO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjYWxjdWxhdGVEaW1lbnNpb25zWCA9IChib3VuZHM6IFJlY3RhbmdsZSwgd2lkdGg6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIHN3aXRjaCAodGhpcy5ob3Jpem9udGFsQWxpZ24pIHtcclxuICAgICAgICAgICAgY2FzZSBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbi5MZWZ0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJvdW5kcy54ICsgdGhpcy5tYXJnaW4ubGVmdDtcclxuICAgICAgICAgICAgY2FzZSBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbi5DZW50ZXI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYm91bmRzLnggKyBib3VuZHMud2lkdGggLyAyIC0gd2lkdGggLyAyO1xyXG4gICAgICAgICAgICBjYXNlIEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uLlJpZ2h0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJvdW5kcy54ICsgYm91bmRzLndpZHRoIC0gd2lkdGggLSB0aGlzLm1hcmdpbi5yaWdodDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNhbGN1bGF0ZURpbWVuc2lvbnNZID0gKGJvdW5kczogUmVjdGFuZ2xlLCBoZWlnaHQ6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIHJldHVybiBib3VuZHMueVxyXG4gICAgICAgICAgICArIGJvdW5kcy5oZWlnaHQgKiB0aGlzLnZlcnRpY2FsQWxpZ25tZW50UmF0aW9cclxuICAgICAgICAgICAgLSBoZWlnaHQgKiB0aGlzLnZlcnRpY2FsQWxpZ25tZW50UmF0aW9cclxuICAgICAgICAgICAgKyAodGhpcy52ZXJ0aWNhbEFsaWdubWVudFJhdGlvID4gMC41ID8gLXRoaXMubWFyZ2luLmJvdHRvbSA6IHRoaXMubWFyZ2luLnRvcCk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgTWV0aG9kTWFuaXB1bGF0aW9uPFQgZXh0ZW5kcyAoLi4uYXJnczogYW55W10pID0+IGFueT4ge1xyXG4gICAgcHJpdmF0ZSBtZXRob2RzOiBUW10gPSBbXTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGV4ZWN1dGVyOiBhbnksIGluaXRpYWxNZXRob2Q6IFQsIHByaXZhdGUgc2V0TWV0aG9kOiAobWV0aG9kOiBUKSA9PiB2b2lkKSB7XHJcbiAgICAgICAgaW5pdGlhbE1ldGhvZC5iaW5kKHRoaXMuZXhlY3V0ZXIpO1xyXG4gICAgICAgIHRoaXMubWV0aG9kcy5wdXNoKGluaXRpYWxNZXRob2QpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGQgPSAoYnVpbGRNZXRob2Q6IChjdXJyZW50TWV0aG9kOiBUKSA9PiBUKSA9PiB7XHJcbiAgICAgICAgdmFyIG9sZCA9IHRoaXMubWV0aG9kc1t0aGlzLm1ldGhvZHMubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgdmFyIG5ld01ldGhvZCA9IGJ1aWxkTWV0aG9kKG9sZCk7XHJcbiAgICAgICAgdGhpcy5tZXRob2RzLnB1c2gobmV3TWV0aG9kKTtcclxuICAgICAgICB0aGlzLnNldE1ldGhvZChuZXdNZXRob2QpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmUgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5tZXRob2RzLnBvcCgpO1xyXG4gICAgICAgIHRoaXMuc2V0TWV0aG9kKHRoaXMubWV0aG9kc1t0aGlzLm1ldGhvZHMubGVuZ3RoIC0gMV0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZXNldCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldE1ldGhvZCh0aGlzLm1ldGhvZHNbdGhpcy5tZXRob2RzLmxlbmd0aCAtIDFdKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2xlYXIgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRNZXRob2QoPFQ+KCgpID0+IHsgfSkpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIFVJbWF0aW9uIHtcclxuICAgIHByaXZhdGUgc3RhcnRUaW1lOiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBkdXJhdGlvblNlY29uZHM6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMuc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0VmFsdWUgPSAoKSA9PiB7XHJcbiAgICAgICAgdmFyIGN1cnJlbnQgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIHZhciBkaWZmID0gKGN1cnJlbnQgLSB0aGlzLnN0YXJ0VGltZSkgLyAxMDAwO1xyXG4gICAgICAgIHJldHVybiBkaWZmIC8gdGhpcy5kdXJhdGlvblNlY29uZHM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGVuZGVkID0gKCkgPT4ge1xyXG4gICAgICAgIHZhciBjdXJyZW50ID0gRGF0ZS5ub3coKTtcclxuICAgICAgICB2YXIgZGlmZiA9IChjdXJyZW50IC0gdGhpcy5zdGFydFRpbWUpIC8gMTAwMDtcclxuICAgICAgICByZXR1cm4gZGlmZiA+IHRoaXMuZHVyYXRpb25TZWNvbmRzO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBBbGlnbmVtZW50IH0gZnJvbSBcIi4vYWxpZ25lbWVudC9hbGlnbmVtZW50XCI7XHJcbmltcG9ydCB7IE1ldGhvZE1hbmlwdWxhdGlvbiB9IGZyb20gXCIuLi9tZXRob2RNYW5pcHVsYXRpb25cIjtcclxuaW1wb3J0IHsgVUltYXRpb24gfSBmcm9tIFwiLi91aW1hdGlvbi91aW1hdGlvblwiO1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFJlbmRlck9iamVjdCB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBpZENvdW50ZXIgPSAwO1xyXG4gICAgcHJpdmF0ZSBnZW5lcmF0ZU5ld0lkID0gKCkgPT4ge1xyXG4gICAgICAgIFJlbmRlck9iamVjdC5pZENvdW50ZXIrKztcclxuICAgICAgICByZXR1cm4gUmVuZGVyT2JqZWN0LmlkQ291bnRlcjtcclxuICAgIH1cclxuICAgIHN0YXJ0VGltZTogbnVtYmVyO1xyXG4gICAgZHVyYXRpb246IG51bWJlcjtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmlkID0gdGhpcy5nZW5lcmF0ZU5ld0lkKCk7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gXCJvYmplY3QgXCIgKyB0aGlzLmlkO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpZDogbnVtYmVyO1xyXG4gICAgcHVibGljIG5hbWU6IHN0cmluZztcclxuICAgIHB1YmxpYyB0YWc6IGFueTtcclxuXHJcbiAgICBwdWJsaWMgYm91bmRzOiBSZWN0YW5nbGUgPSBuZXcgUmVjdGFuZ2xlKDAsIDAsIDAsIDApO1xyXG4gICAgcHVibGljIGRpbWVuc2lvbnM6IFJlY3RhbmdsZSA9IG5ldyBSZWN0YW5nbGUoMCwgMCwgMCwgMCk7XHJcblxyXG4gICAgcHVibGljIGFsaWduZW1lbnQgPSBuZXcgQWxpZ25lbWVudCgpO1xyXG5cclxuICAgIHByaXZhdGUgc2hvdWxkVXBkYXRlTGF5b3V0ID0gZmFsc2U7XHJcblxyXG4gICAgcHJpdmF0ZSBfcmVuZGVyTWV0aG9kTWFuaXB1bGF0aW9uOiBNZXRob2RNYW5pcHVsYXRpb248KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PiB2b2lkPjtcclxuICAgIHB1YmxpYyBnZXQgcmVuZGVyTWV0aG9kTWFuaXB1bGF0aW9uKCk6IE1ldGhvZE1hbmlwdWxhdGlvbjwoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpID0+IHZvaWQ+IHtcclxuICAgICAgICBpZiAoIXRoaXMuX3JlbmRlck1ldGhvZE1hbmlwdWxhdGlvbikge1xyXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJNZXRob2RNYW5pcHVsYXRpb24gPSBuZXcgTWV0aG9kTWFuaXB1bGF0aW9uKHRoaXMsIHRoaXMucmVuZGVyLCAocmVuZGVyKSA9PiB0aGlzLnJlbmRlciA9IHJlbmRlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9yZW5kZXJNZXRob2RNYW5pcHVsYXRpb247XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbmRlciA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnNob3VsZFVwZGF0ZUxheW91dCkge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUxheW91dChjdHgsIHRoaXMuYm91bmRzKTtcclxuICAgICAgICAgICAgdGhpcy5zaG91bGRVcGRhdGVMYXlvdXQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVMYXlvdXQoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGJvdW5kczogUmVjdGFuZ2xlKSB7XHJcbiAgICAgICAgdGhpcy5ib3VuZHMgPSBib3VuZHM7XHJcbiAgICAgICAgdGhpcy5zaG91bGRVcGRhdGVMYXlvdXQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdHJpZ2dlclVwZGF0ZUxheW91dCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNob3VsZFVwZGF0ZUxheW91dCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpc0FjdGl2ZSA9IHRydWU7XHJcbiAgICBwdWJsaWMgYWN0aXZhdGUgPSAoZHVyYXRpb25TZWNvbmRzOiBudW1iZXIpID0+IHtcclxuICAgICAgICB0aGlzLnJlbmRlck1ldGhvZE1hbmlwdWxhdGlvbi5yZXNldCgpO1xyXG4gICAgICAgIHZhciB1aW1hdGlvbiA9IG5ldyBVSW1hdGlvbihkdXJhdGlvblNlY29uZHMpO1xyXG5cclxuICAgICAgICB0aGlzLnJlbmRlck1ldGhvZE1hbmlwdWxhdGlvbi5hZGQoKGN1cnJlbnRNZXRob2QpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHVpbWF0aW9uLmVuZGVkKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50TWV0aG9kKGN0eCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJNZXRob2RNYW5pcHVsYXRpb24ucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gdWltYXRpb24uZ2V0VmFsdWUoKTtcclxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50TWV0aG9kKGN0eCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBkZWFjdGl2YXRlZCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnJlbmRlck1ldGhvZE1hbmlwdWxhdGlvbi5jbGVhcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZWFjdGl2YXRlID0gKGR1cmF0aW9uU2Vjb25kczogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgdmFyIHVpbWF0aW9uID0gbmV3IFVJbWF0aW9uKGR1cmF0aW9uU2Vjb25kcyk7XHJcblxyXG4gICAgICAgIHRoaXMucmVuZGVyTWV0aG9kTWFuaXB1bGF0aW9uLmFkZCgoY3VycmVudE1ldGhvZCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAodWltYXRpb24uZW5kZWQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyTWV0aG9kTWFuaXB1bGF0aW9uLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyTWV0aG9kTWFuaXB1bGF0aW9uLmNsZWFyKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gMSAtIHVpbWF0aW9uLmdldFZhbHVlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE1ldGhvZChjdHgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGlzYWJsZU1vdXNlRXZlbnRzID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMubW91c2VEb3duID0gKCkgPT4geyB9O1xyXG4gICAgICAgIHRoaXMubW91c2VVcCA9ICgpID0+IHsgfTtcclxuICAgICAgICB0aGlzLm1vdXNlTW92ZSA9ICgpID0+IHsgfTtcclxuICAgICAgICB0aGlzLmNsaWNrID0gKCkgPT4geyB9O1xyXG4gICAgfVxyXG5cclxuICAgIGFic3RyYWN0IG1vdXNlRG93bihldjogTW91c2VFdmVudCk6IHZvaWQ7XHJcbiAgICBhYnN0cmFjdCBtb3VzZVVwKGV2OiBNb3VzZUV2ZW50KTogdm9pZDtcclxuICAgIGFic3RyYWN0IG1vdXNlTW92ZShldjogTW91c2VFdmVudCk6IHZvaWQ7XHJcbiAgICBhYnN0cmFjdCBjbGljayhldjogTW91c2VFdmVudCk6IHZvaWQ7XHJcbn0iLCJpbXBvcnQgeyBSZW5kZXJPYmplY3QgfSBmcm9tIFwiLi4vcmVuZGVyT2JqZWN0XCI7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgTGF5b3V0VmlldyBleHRlbmRzIFJlbmRlck9iamVjdCB7XHJcbiAgICBwcm90ZWN0ZWQgY2hpbGRyZW46IFJlbmRlck9iamVjdFtdID0gW107XHJcblxyXG4gICAgcHJpdmF0ZSBzdXBlclJlbmRlciA9IHRoaXMucmVuZGVyO1xyXG4gICAgcHVibGljIHJlbmRlciA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc3VwZXJSZW5kZXIoY3R4KTtcclxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgY2hpbGQucmVuZGVyKGN0eCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBwdWJsaWMgbW91c2VEb3duKGV2OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGNoaWxkLm1vdXNlRG93bihldik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtb3VzZVVwKGV2OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGNoaWxkLm1vdXNlVXAoZXYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbW91c2VNb3ZlKGV2OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGNoaWxkLm1vdXNlTW92ZShldik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjbGljayhldjogTW91c2VFdmVudCkge1xyXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbi50b0xpc3QoKSkge1xyXG4gICAgICAgICAgICBjaGlsZC5jbGljayhldik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgUmVuZGVyT2JqZWN0IH0gZnJvbSBcIi4uL3JlbmRlck9iamVjdFwiO1xyXG5pbXBvcnQgeyBFQ2FudmFzIH0gZnJvbSBcIi4uL2VDYW52YXNcIjtcclxuaW1wb3J0IHsgRUV2ZW50VCB9IGZyb20gXCIuLi8uLi9lRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBDb250cm9sIGV4dGVuZHMgUmVuZGVyT2JqZWN0IHtcclxuICAgIHByb3RlY3RlZCBpc01vdXNlT3ZlciA9IGZhbHNlO1xyXG4gICAgcHVibGljIGlzRW5hYmxlZCA9IHRydWU7XHJcblxyXG4gICAgcHVibGljIGNsaWNrZWQgPSBuZXcgRUV2ZW50VDxDb250cm9sPigpO1xyXG5cclxuICAgIHB1YmxpYyBtb3VzZU1vdmUoZXY6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICBpZiAodGhpcy5pc0VuYWJsZWQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZGltZW5zaW9ucy5pc0hpdEJ5KGV2LmNsaWVudFgsIGV2LmNsaWVudFkpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzTW91c2VPdmVyID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIEVDYW52YXMuU2V0Q3Vyc29yKHRoaXMubmFtZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzTW91c2VPdmVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBFQ2FudmFzLlNldEN1cnNvcih0aGlzLm5hbWUsIGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2xpY2sgPSAoZXY6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5pc0VuYWJsZWQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZGltZW5zaW9ucy5pc0hpdEJ5KGV2LmNsaWVudFgsIGV2LmNsaWVudFkpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsaWNrZWQuZGlzcGF0Y2hFdmVudCh0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbW91c2VEb3duKGV2OiBNb3VzZUV2ZW50KTogdm9pZCB7IH1cclxuICAgIHB1YmxpYyBtb3VzZVVwKGV2OiBNb3VzZUV2ZW50KTogdm9pZCB7IH1cclxufSIsImV4cG9ydCBjbGFzcyBCdXR0b25Qcm9wZXJ0aWVzIHtcclxuICAgIHB1YmxpYyBmb250U2l6ZSA9IDMyO1xyXG4gICAgcHVibGljIGZvbnRQcmVmaXggPSBcIlwiO1xyXG4gICAgcHVibGljIGZvbnRGYW1pbHkgPSBcIkdlb3JnaWFcIlxyXG4gICAgcHVibGljIGZpbGxTdHlsZSA9IFwiZ3JleVwiO1xyXG4gICAgcHVibGljIG1vdXNlT3ZlckZpbGxTdHlsZSA9IFwicmVkXCI7XHJcbiAgICBwdWJsaWMgYmFja2dyb3VuZEZpbGxTdHlsZTogc3RyaW5nID0gdW5kZWZpbmVkO1xyXG5cclxuICAgIHB1YmxpYyBnZXRGb250ID0gKCkgPT4ge1xyXG4gICAgICAgIHZhciBmb250ID0gXCJcIjtcclxuICAgICAgICBpZiAodGhpcy5mb250UHJlZml4KSB7XHJcbiAgICAgICAgICAgIGZvbnQgKz0gdGhpcy5mb250UHJlZml4ICsgXCIgXCJcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9udCArPSB0aGlzLmZvbnRTaXplICsgXCJweFwiICsgXCIgXCIgKyB0aGlzLmZvbnRGYW1pbHk7XHJcbiAgICAgICAgcmV0dXJuIGZvbnQ7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IENvbnRyb2wgfSBmcm9tIFwiLi9jb250cm9sXCI7XHJcbmltcG9ydCB7IEJ1dHRvblByb3BlcnRpZXMgfSBmcm9tIFwiLi9idXR0b25Qcm9wZXJ0aWVzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQnV0dG9uIGV4dGVuZHMgQ29udHJvbCB7XHJcblxyXG4gICAgcHVibGljIHByb3BlcnRpZXMgPSBuZXcgQnV0dG9uUHJvcGVydGllcygpO1xyXG4gICAgcHVibGljIHRleHQ6IHN0cmluZztcclxuXHJcbiAgICBwdWJsaWMgcmVuZGVyID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5iYWNrZ3JvdW5kRmlsbFN0eWxlKSB7XHJcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLnByb3BlcnRpZXMuYmFja2dyb3VuZEZpbGxTdHlsZTtcclxuICAgICAgICAgICAgY3R4LmZpbGxSZWN0KHRoaXMuZGltZW5zaW9ucy54LCB0aGlzLmRpbWVuc2lvbnMueSwgdGhpcy5kaW1lbnNpb25zLndpZHRoLCB0aGlzLmRpbWVuc2lvbnMuaGVpZ2h0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzTW91c2VPdmVyKSB7XHJcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLnByb3BlcnRpZXMubW91c2VPdmVyRmlsbFN0eWxlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLnByb3BlcnRpZXMuZmlsbFN0eWxlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY3R4LmZvbnQgPSB0aGlzLnByb3BlcnRpZXMuZ2V0Rm9udCgpO1xyXG4gICAgICAgIGN0eC50ZXh0QWxpZ24gPSBcImxlZnRcIjtcclxuICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gXCJ0b3BcIjtcclxuICAgICAgICBjdHguZmlsbFRleHQodGhpcy50ZXh0LCB0aGlzLmRpbWVuc2lvbnMueCwgdGhpcy5kaW1lbnNpb25zLnkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVMYXlvdXQgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGJvdW5kczogUmVjdGFuZ2xlKTogdm9pZCA9PiB7XHJcbiAgICAgICAgc3VwZXIudXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuXHJcbiAgICAgICAgY3R4LmZvbnQgPSB0aGlzLnByb3BlcnRpZXMuZ2V0Rm9udCgpO1xyXG4gICAgICAgIGN0eC50ZXh0QWxpZ24gPSBcImxlZnRcIjtcclxuICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gXCJ0b3BcIjtcclxuICAgICAgICB2YXIgc2l6ZSA9IGN0eC5tZWFzdXJlVGV4dCh0aGlzLnRleHQpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHZhciB4ID0gdGhpcy5hbGlnbmVtZW50LmNhbGN1bGF0ZURpbWVuc2lvbnNYKGJvdW5kcywgc2l6ZS53aWR0aCk7XHJcbiAgICAgICAgdmFyIHkgPSB0aGlzLmFsaWduZW1lbnQuY2FsY3VsYXRlRGltZW5zaW9uc1koYm91bmRzLCB0aGlzLnByb3BlcnRpZXMuZm9udFNpemUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuZGltZW5zaW9ucyA9IG5ldyBSZWN0YW5nbGUoeCwgeSwgc2l6ZS53aWR0aCwgdGhpcy5wcm9wZXJ0aWVzLmZvbnRTaXplKVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgT3JpZW50YXRpb24gfSBmcm9tIFwiLi4vYWxpZ25lbWVudC9vcmllbnRhdGlvblwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIExpc3RWaWV3UHJvcGVydGllcyB7XHJcbiAgICBwdWJsaWMgaXRlbVNwYWNpbmcgPSAzMDtcclxuICAgIHB1YmxpYyBvcmllbnRhdGlvbiA9IE9yaWVudGF0aW9uLlZlcnRpY2FsO1xyXG59IiwiaW1wb3J0IHsgTGF5b3V0VmlldyB9IGZyb20gXCIuL2xheW91dFZpZXdcIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBSZW5kZXJPYmplY3QgfSBmcm9tIFwiLi4vcmVuZGVyT2JqZWN0XCI7XHJcbmltcG9ydCB7IExpc3RWaWV3UHJvcGVydGllcyB9IGZyb20gXCIuL2xpc3RWaWV3UHJvcGVydGllc1wiO1xyXG5pbXBvcnQgeyBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbiB9IGZyb20gXCIuLi9hbGlnbmVtZW50L2hvcml6b250YWxBbGlnbmVtZW50T3B0aW9uXCI7XHJcbmltcG9ydCB7IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbiB9IGZyb20gXCIuLi9hbGlnbmVtZW50L3ZlcnRpY2FsQWxpZ25lbWVudE9wdGlvblwiO1xyXG5pbXBvcnQgeyBPcmllbnRhdGlvbiB9IGZyb20gXCIuLi9hbGlnbmVtZW50L29yaWVudGF0aW9uXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTGlzdFZpZXcgZXh0ZW5kcyBMYXlvdXRWaWV3IHtcclxuICAgIHB1YmxpYyBwcm9wZXJ0aWVzID0gbmV3IExpc3RWaWV3UHJvcGVydGllcygpO1xyXG5cclxuICAgIHB1YmxpYyBnZXQgaXRlbXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hpbGRyZW47XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZEl0ZW0gPSAobGF5b3V0VmlldzogUmVuZGVyT2JqZWN0KSA9PiB7XHJcbiAgICAgICAgbGF5b3V0Vmlldy5hbGlnbmVtZW50Lmhvcml6b250YWxBbGlnbiA9IEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uLkxlZnQ7XHJcbiAgICAgICAgbGF5b3V0Vmlldy5hbGlnbmVtZW50LnZlcnRpY2FsQWxpZ24gPSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24uVG9wO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChsYXlvdXRWaWV3KTtcclxuICAgICAgICB0aGlzLnRyaWdnZXJVcGRhdGVMYXlvdXQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlSXRlbSA9IChsYXlvdXRWaWV3OiBSZW5kZXJPYmplY3QpID0+IHtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnJlbW92ZUl0ZW0obGF5b3V0Vmlldyk7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyVXBkYXRlTGF5b3V0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUxheW91dChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG5cclxuICAgICAgICB2YXIgeCA9IHRoaXMuYWxpZ25lbWVudC5jYWxjdWxhdGVEaW1lbnNpb25zWChib3VuZHMsIHRoaXMuZGltZW5zaW9ucy53aWR0aCk7XHJcbiAgICAgICAgdmFyIHkgPSB0aGlzLmFsaWduZW1lbnQuY2FsY3VsYXRlRGltZW5zaW9uc1koYm91bmRzLCB0aGlzLmRpbWVuc2lvbnMuaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgdmFyIHdpZHRoID0gMDtcclxuICAgICAgICB2YXIgaGVpZ2h0ID0gMDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5vcmllbnRhdGlvbiA9PSBPcmllbnRhdGlvbi5WZXJ0aWNhbCkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcclxuICAgICAgICAgICAgICAgIGlmIChpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHkgKz0gdGhpcy5wcm9wZXJ0aWVzLml0ZW1TcGFjaW5nO1xyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCArPSB0aGlzLnByb3BlcnRpZXMuaXRlbVNwYWNpbmc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjaGlsZC51cGRhdGVMYXlvdXQoY3R4LCBuZXcgUmVjdGFuZ2xlKHgsIHksIDAsIDApKTtcclxuICAgICAgICAgICAgICAgIHkgKz0gY2hpbGQuZGltZW5zaW9ucy5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICBoZWlnaHQgKz0gY2hpbGQuZGltZW5zaW9ucy5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICB3aWR0aCA9IE1hdGgubWF4KHdpZHRoLCBjaGlsZC5kaW1lbnNpb25zLndpZHRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKGkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeCArPSB0aGlzLnByb3BlcnRpZXMuaXRlbVNwYWNpbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggKz0gdGhpcy5wcm9wZXJ0aWVzLml0ZW1TcGFjaW5nO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2hpbGQudXBkYXRlTGF5b3V0KGN0eCwgbmV3IFJlY3RhbmdsZSh4LCB5LCAwLCAwKSk7XHJcbiAgICAgICAgICAgICAgICB4ICs9IGNoaWxkLmRpbWVuc2lvbnMud2lkdGg7XHJcbiAgICAgICAgICAgICAgICB3aWR0aCArPSBjaGlsZC5kaW1lbnNpb25zLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gTWF0aC5tYXgoaGVpZ2h0LCBjaGlsZC5kaW1lbnNpb25zLmhlaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmRpbWVuc2lvbnMueCAhPSB4IHx8IHRoaXMuZGltZW5zaW9ucy55ICE9IHkgfHwgdGhpcy5kaW1lbnNpb25zLndpZHRoICE9IHdpZHRoIHx8IHRoaXMuZGltZW5zaW9ucy5oZWlnaHQgIT0gaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGltZW5zaW9ucy54ID0geDtcclxuICAgICAgICAgICAgdGhpcy5kaW1lbnNpb25zLnkgPSB5O1xyXG4gICAgICAgICAgICB0aGlzLmRpbWVuc2lvbnMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgICAgICB0aGlzLmRpbWVuc2lvbnMud2lkdGggPSB3aWR0aDtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBTdHlsZSB7XHJcbiAgICBwdWJsaWMgc3RhdGljIGZpbGxTdHlsZSA9IFwicmdiKDAsMTAwLDEyOClcIjtcclxuICAgIHB1YmxpYyBzdGF0aWMgbW91c092ZXIgPSBcInJnYigwLDIwMSwyNTUpXCI7IC8vICMwMEM5RkZcclxuICAgIHB1YmxpYyBzdGF0aWMgbGlnaHQyID0gXCJyZ2IoNzcsMjE2LDI1NSlcIjtcclxuICAgIHB1YmxpYyBzdGF0aWMgbm9ybWFsID0gXCJyZ2IoMCwxNjAsMjA0KVwiO1xyXG4gICAgLy8gcHVibGljIHN0YXRpYyBmaWxsU3R5bGUgPSBcInJnYigwLDIwMSwyNTUpXCI7XHJcbiAgICAvLyBwdWJsaWMgc3RhdGljIGZpbGxTdHlsZSA9IFwicmdiKDAsMjAxLDI1NSlcIjtcclxufSIsImltcG9ydCB7IEVFdmVudFQsIEVFdmVudFRUIH0gZnJvbSBcIi4uL2VFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIE9ic2VydmFibGVQcm9wZXJ0eTxUPiB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHZhbHVlOiBUKSB7IH1cclxuXHJcbiAgICBwdWJsaWMgT25DaGFuZ2VkID0gbmV3IEVFdmVudFRUPFQsIFQ+KCk7XHJcblxyXG4gICAgcHVibGljIHNldCA9ICh2YWx1ZTogVCkgPT4ge1xyXG4gICAgICAgIHZhciBvbGRWYWx1ZSA9IHRoaXMudmFsdWU7XHJcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgIHRoaXMuT25DaGFuZ2VkLmRpc3BhdGNoRXZlbnQob2xkVmFsdWUsIHRoaXMudmFsdWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgPSAoKTogVCA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBTdGFyIH0gZnJvbSBcIi4vc3RhclwiO1xyXG5pbXBvcnQgeyBPYnNlcnZhYmxlUHJvcGVydHkgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9vYnNlcnZhYmxlUHJvcGVydHlcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTdGFyTGF5ZXIge1xyXG4gICAgcHVibGljIG5hbWUgPSBuZXcgT2JzZXJ2YWJsZVByb3BlcnR5PHN0cmluZz4oXCJTdGFyIExheWVyIFhcIik7XHJcbiAgICBwdWJsaWMgc3BlZWQgPSBuZXcgT2JzZXJ2YWJsZVByb3BlcnR5PG51bWJlcj4oTWF0aC5yYW5kb20oKSAqIDEgKyAwLjEpO1xyXG4gICAgcHVibGljIHN0YXJSYWRpdXNMb3dlckJvcmRlciA9IG5ldyBPYnNlcnZhYmxlUHJvcGVydHk8bnVtYmVyPigwLjA1KTtcclxuICAgIHB1YmxpYyBzdGFyUmFkaXVzVXBwZXJCb3JkZXIgPSBuZXcgT2JzZXJ2YWJsZVByb3BlcnR5PG51bWJlcj4oMC41NSk7XHJcbiAgICBwdWJsaWMgbnVtYmVyT2ZTdGFycyA9IG5ldyBPYnNlcnZhYmxlUHJvcGVydHk8bnVtYmVyPigzMDApO1xyXG59IiwiZXhwb3J0IGNsYXNzIExhYmVsUHJvcGVydGllcyB7XHJcbiAgICBwdWJsaWMgZm9udFNpemUgPSA0MDtcclxuICAgIHB1YmxpYyBmb250UHJlZml4ID0gXCJcIjtcclxuICAgIHB1YmxpYyBmb250RmFtaWx5ID0gXCJHZW9yZ2lhXCI7XHJcbiAgICBwdWJsaWMgZmlsbFN0eWxlID0gXCJibHVlXCI7XHJcbiAgICBwdWJsaWMgYmFja2dyb3VuZEZpbGxTdHlsZTogc3RyaW5nID0gdW5kZWZpbmVkO1xyXG5cclxuICAgIHB1YmxpYyBnZXRGb250ID0gKCkgPT4ge1xyXG4gICAgICAgIHZhciBmb250ID0gXCJcIjtcclxuICAgICAgICBpZiAodGhpcy5mb250UHJlZml4KSB7XHJcbiAgICAgICAgICAgIGZvbnQgKz0gdGhpcy5mb250UHJlZml4ICsgXCIgXCJcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9udCArPSB0aGlzLmZvbnRTaXplICsgXCJweFwiICsgXCIgXCIgKyB0aGlzLmZvbnRGYW1pbHk7XHJcbiAgICAgICAgcmV0dXJuIGZvbnQ7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBDb250cm9sIH0gZnJvbSBcIi4vY29udHJvbFwiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IExhYmVsUHJvcGVydGllcyB9IGZyb20gXCIuL2xhYmVsUHJvcGVydGllc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIExhYmVsIGV4dGVuZHMgQ29udHJvbCB7XHJcbiAgICBwdWJsaWMgcHJvcGVydGllcyA9IG5ldyBMYWJlbFByb3BlcnRpZXMoKTtcclxuXHJcbiAgICBwdWJsaWMgdGV4dDogc3RyaW5nO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5kaXNhYmxlTW91c2VFdmVudHMoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVuZGVyID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PiB7XHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMucHJvcGVydGllcy5maWxsU3R5bGU7XHJcbiAgICAgICAgY3R4LmZvbnQgPSB0aGlzLnByb3BlcnRpZXMuZ2V0Rm9udCgpO1xyXG4gICAgICAgIGN0eC50ZXh0QWxpZ24gPSBcImxlZnRcIjtcclxuICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gXCJ0b3BcIjtcclxuICAgICAgICBjdHguZmlsbFRleHQodGhpcy50ZXh0LCB0aGlzLmRpbWVuc2lvbnMueCwgdGhpcy5kaW1lbnNpb25zLnkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVMYXlvdXQgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGJvdW5kczogUmVjdGFuZ2xlKTogdm9pZCA9PiB7XHJcbiAgICAgICAgc3VwZXIudXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuXHJcbiAgICAgICAgY3R4LmZvbnQgPSB0aGlzLnByb3BlcnRpZXMuZ2V0Rm9udCgpO1xyXG4gICAgICAgIGN0eC50ZXh0QWxpZ24gPSBcImxlZnRcIjtcclxuICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gXCJ0b3BcIjtcclxuICAgICAgICB2YXIgc2l6ZSA9IGN0eC5tZWFzdXJlVGV4dCh0aGlzLnRleHQpO1xyXG5cclxuICAgICAgICB2YXIgeCA9IHRoaXMuYWxpZ25lbWVudC5jYWxjdWxhdGVEaW1lbnNpb25zWChib3VuZHMsIHNpemUud2lkdGgpO1xyXG4gICAgICAgIHZhciB5ID0gdGhpcy5hbGlnbmVtZW50LmNhbGN1bGF0ZURpbWVuc2lvbnNZKGJvdW5kcywgdGhpcy5wcm9wZXJ0aWVzLmZvbnRTaXplKTtcclxuXHJcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zID0gbmV3IFJlY3RhbmdsZSh4LCB5LCBzaXplLndpZHRoLCB0aGlzLnByb3BlcnRpZXMuZm9udFNpemUpXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBMYXlvdXRWaWV3IH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGF5b3V0Vmlld1wiO1xyXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9jb250cm9scy9idXR0b25cIjtcclxuaW1wb3J0IHsgTGlzdFZpZXcgfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9sYXlvdXRDb250cm9scy9saXN0Vmlld1wiO1xyXG5pbXBvcnQgeyBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24gfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9hbGlnbmVtZW50L3ZlcnRpY2FsQWxpZ25lbWVudE9wdGlvblwiO1xyXG5pbXBvcnQgeyBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbiB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvaG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuaW1wb3J0IHsgU3R5bGUgfSBmcm9tIFwiLi4vLi4vdmlldy9zdHlsZVwiO1xyXG5pbXBvcnQgeyBMYWJlbCB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2xhYmVsXCI7XHJcbmltcG9ydCB7IE9yaWVudGF0aW9uIH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvYWxpZ25lbWVudC9vcmllbnRhdGlvblwiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgRUV2ZW50IH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvZUV2ZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTmF2aWdhdGlvbkhlYWRlclZpZXcgZXh0ZW5kcyBMYXlvdXRWaWV3IHtcclxuICAgIHByaXZhdGUgZ29CYWNrQnRuOiBCdXR0b247XHJcbiAgICBwcml2YXRlIGdvQmFja0J0bkljb25UZXh0ID0gXCJcXHVmMDYwXCI7XHJcbiAgICBwcml2YXRlIGhlYWRlcjogTGlzdFZpZXc7XHJcbiAgICBwdWJsaWMgb25Hb0JhY2sgPSBuZXcgRUV2ZW50KCk7XHJcblxyXG4gICAgY29uc3RydWN0b3IodGl0bGU6IHN0cmluZykge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgIHRoaXMuZ29CYWNrQnRuID0gbmV3IEJ1dHRvbigpO1xyXG4gICAgICAgIHRoaXMuZ29CYWNrQnRuLnByb3BlcnRpZXMuZm9udFByZWZpeCA9IFwiOTAwXCI7XHJcbiAgICAgICAgdGhpcy5nb0JhY2tCdG4ucHJvcGVydGllcy5mb250RmFtaWx5ID0gXCInRm9udCBBd2Vzb21lIDUgRnJlZSdcIjtcclxuICAgICAgICB0aGlzLmdvQmFja0J0bi50ZXh0ID0gdGhpcy5nb0JhY2tCdG5JY29uVGV4dDtcclxuICAgICAgICB0aGlzLmdvQmFja0J0bi5hbGlnbmVtZW50LnZlcnRpY2FsQWxpZ24gPSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24uVG9wO1xyXG4gICAgICAgIHRoaXMuZ29CYWNrQnRuLmFsaWduZW1lbnQuaG9yaXpvbnRhbEFsaWduID0gSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24uTGVmdDtcclxuICAgICAgICB0aGlzLmdvQmFja0J0bi5wcm9wZXJ0aWVzLmZpbGxTdHlsZSA9IFN0eWxlLmZpbGxTdHlsZTtcclxuICAgICAgICB0aGlzLmdvQmFja0J0bi5wcm9wZXJ0aWVzLm1vdXNlT3ZlckZpbGxTdHlsZSA9IFN0eWxlLm1vdXNPdmVyO1xyXG4gICAgICAgIHRoaXMuZ29CYWNrQnRuLmNsaWNrZWQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLm9uR29CYWNrLmRpc3BhdGNoRXZlbnQpO1xyXG5cclxuICAgICAgICB2YXIgdGl0bGVMYmwgPSBuZXcgTGFiZWwoKTtcclxuICAgICAgICB0aXRsZUxibC50ZXh0ID0gdGl0bGU7XHJcbiAgICAgICAgdGl0bGVMYmwucHJvcGVydGllcy5maWxsU3R5bGUgPSBTdHlsZS5ub3JtYWw7XHJcblxyXG4gICAgICAgIHRoaXMuaGVhZGVyID0gbmV3IExpc3RWaWV3KCk7XHJcbiAgICAgICAgdGhpcy5oZWFkZXIuYWxpZ25lbWVudC5ob3Jpem9udGFsQWxpZ24gPSBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbi5MZWZ0O1xyXG4gICAgICAgIHRoaXMuaGVhZGVyLmFsaWduZW1lbnQudmVydGljYWxBbGlnbiA9IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi5Ub3A7XHJcbiAgICAgICAgdGhpcy5oZWFkZXIucHJvcGVydGllcy5vcmllbnRhdGlvbiA9IE9yaWVudGF0aW9uLkhvcml6b250YWw7XHJcbiAgICAgICAgdGhpcy5oZWFkZXIuYWRkSXRlbSh0aGlzLmdvQmFja0J0bik7XHJcbiAgICAgICAgdGhpcy5oZWFkZXIuYWRkSXRlbSh0aXRsZUxibCk7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHRoaXMuaGVhZGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcbiAgICAgICAgdGhpcy5oZWFkZXIudXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuICAgICAgICB0aGlzLmRpbWVuc2lvbnMgPSB0aGlzLmhlYWRlci5kaW1lbnNpb25zO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgTGF5b3V0VmlldyB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xheW91dFZpZXdcIjtcclxuaW1wb3J0IHsgTmF2aWdhdGlvbkhlYWRlclZpZXcgfSBmcm9tIFwiLi9uYXZpZ2F0aW9uSGVhZGVyVmlld1wiO1xyXG5pbXBvcnQgeyBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbiB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvaG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuaW1wb3J0IHsgVmVydGljYWxBbGlnbmVtZW50T3B0aW9uIH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvYWxpZ25lbWVudC92ZXJ0aWNhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBOYXZpZ2F0aW9uVmlldyBleHRlbmRzIExheW91dFZpZXcge1xyXG4gICAgcHVibGljIG5hdmlnYXRpb25WaWV3OiBOYXZpZ2F0aW9uSGVhZGVyVmlldztcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcih0aXRsZTogc3RyaW5nKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLm5hdmlnYXRpb25WaWV3ID0gbmV3IE5hdmlnYXRpb25IZWFkZXJWaWV3KHRpdGxlKTtcclxuICAgICAgICB0aGlzLm5hdmlnYXRpb25WaWV3LmFsaWduZW1lbnQuaG9yaXpvbnRhbEFsaWduID0gSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24uTGVmdDtcclxuICAgICAgICB0aGlzLm5hdmlnYXRpb25WaWV3LmFsaWduZW1lbnQudmVydGljYWxBbGlnbiA9IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi5Ub3A7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHRoaXMubmF2aWdhdGlvblZpZXcpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIFNsaWRlclByb3BlcnRpZXMge1xyXG4gICAgcHVibGljIGNvbG9yMSA9IFwiZ3JleVwiO1xyXG4gICAgcHVibGljIGNvbG9yMiA9IFwicmVkXCI7XHJcbn0iLCJpbXBvcnQgeyBDb250cm9sIH0gZnJvbSBcIi4vY29udHJvbFwiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IEVFdmVudFQgfSBmcm9tIFwiLi4vLi4vZUV2ZW50XCI7XHJcbmltcG9ydCB7IFNsaWRlclByb3BlcnRpZXMgfSBmcm9tIFwiLi9zbGlkZXJQcm9wZXJ0aWVzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU2xpZGVyIGV4dGVuZHMgQ29udHJvbCB7XHJcbiAgICBwdWJsaWMgcHJvcGVydGllcyA9IG5ldyBTbGlkZXJQcm9wZXJ0aWVzKCk7XHJcblxyXG4gICAgcHVibGljIHJhZGl1czogbnVtYmVyID0gMTA7XHJcblxyXG4gICAgcHVibGljIG1pblZhbHVlID0gMDtcclxuICAgIHB1YmxpYyBtYXhWYWx1ZSA9IDEwMDtcclxuICAgIHB1YmxpYyBjdXJyZW50VmFsdWUgPSA1MDtcclxuICAgIGlzRHJhZ2dpbmc6IGJvb2xlYW47XHJcblxyXG4gICAgcHVibGljIHZhbHVlQ2hhbmdlZCA9IG5ldyBFRXZlbnRUPG51bWJlcj4oKTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW5kZXIgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkID0+IHtcclxuICAgICAgICB2YXIgeCA9IHRoaXMuZGltZW5zaW9ucy54O1xyXG4gICAgICAgIHZhciB5ID0gdGhpcy5kaW1lbnNpb25zLnk7XHJcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5wcm9wZXJ0aWVzLmNvbG9yMTtcclxuICAgICAgICBjdHgubGluZVdpZHRoID0gMjtcclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY3R4Lm1vdmVUbyh4ICsgdGhpcy5yYWRpdXMsIHkgKyB0aGlzLmRpbWVuc2lvbnMuaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgY3R4LmxpbmVUbyh4ICsgdGhpcy5kaW1lbnNpb25zLndpZHRoIC0gdGhpcy5yYWRpdXMsIHkgKyB0aGlzLmRpbWVuc2lvbnMuaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG5cclxuICAgICAgICB2YXIgcmVsVmFsdWUgPSAodGhpcy5jdXJyZW50VmFsdWUgLSB0aGlzLm1pblZhbHVlKSAvICh0aGlzLm1heFZhbHVlIC0gdGhpcy5taW5WYWx1ZSk7XHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMucHJvcGVydGllcy5jb2xvcjI7XHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5hcmMoeCArIHRoaXMucmFkaXVzICsgKHRoaXMuZGltZW5zaW9ucy53aWR0aCAtIHRoaXMucmFkaXVzICogMikgKiByZWxWYWx1ZSwgeSArIHRoaXMuZGltZW5zaW9ucy5oZWlnaHQgLyAyLCB0aGlzLnJhZGl1cywgMCwgTWF0aC5QSSAqIDIpO1xyXG4gICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcclxuICAgICAgICBjdHguZmlsbCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVMYXlvdXQgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGJvdW5kczogUmVjdGFuZ2xlKTogdm9pZCA9PiB7XHJcbiAgICAgICAgc3VwZXIudXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuXHJcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zID0gbmV3IFJlY3RhbmdsZShib3VuZHMueCwgYm91bmRzLnksIDIwMCwgdGhpcy5yYWRpdXMgKiAyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbW91c2VEb3duID0gKGV2OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuZGltZW5zaW9ucy5pc0hpdEJ5KGV2LmNsaWVudFgsIGV2LmNsaWVudFkpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNEcmFnZ2luZyA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ3VycmVudFZhbHVlKGV2KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgY2xpY2sgPSAoZXY6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICBpZiAoZXYuY3RybEtleSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5kaW1lbnNpb25zLmlzSGl0QnkoZXYuY2xpZW50WCwgZXYuY2xpZW50WSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNEcmFnZ2luZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUN1cnJlbnRWYWx1ZShldik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgbW91c2VVcCA9IChldjogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtb3VzZU1vdmUoZXY6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICBzdXBlci5tb3VzZU1vdmUoZXYpO1xyXG4gICAgICAgIGlmICh0aGlzLmlzRHJhZ2dpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVDdXJyZW50VmFsdWUoZXYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHVwZGF0ZUN1cnJlbnRWYWx1ZShldjogTW91c2VFdmVudCkge1xyXG4gICAgICAgIHZhciB2YWwgPSBldi5jbGllbnRYIC0gdGhpcy5kaW1lbnNpb25zLnggLSB0aGlzLnJhZGl1cztcclxuICAgICAgICB2YWwgPSB2YWwgLyAodGhpcy5kaW1lbnNpb25zLndpZHRoIC0gdGhpcy5yYWRpdXMgKiAyKSAqICh0aGlzLm1heFZhbHVlIC0gdGhpcy5taW5WYWx1ZSkgKyB0aGlzLm1pblZhbHVlO1xyXG4gICAgICAgIGlmICh2YWwgPiB0aGlzLm1heFZhbHVlKSB7XHJcbiAgICAgICAgICAgIHZhbCA9IHRoaXMubWF4VmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh2YWwgPCB0aGlzLm1pblZhbHVlKSB7XHJcbiAgICAgICAgICAgIHZhbCA9IHRoaXMubWluVmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gdmFsO1xyXG4gICAgICAgIHRoaXMudmFsdWVDaGFuZ2VkLmRpc3BhdGNoRXZlbnQodGhpcy5jdXJyZW50VmFsdWUpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQ29udHJvbCB9IGZyb20gXCIuL2NvbnRyb2xcIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBFRXZlbnRUVCB9IGZyb20gXCIuLi8uLi9lRXZlbnRcIjtcclxuaW1wb3J0IHsgU2xpZGVyUHJvcGVydGllcyB9IGZyb20gXCIuL3NsaWRlclByb3BlcnRpZXNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBSYW5nZVNsaWRlciBleHRlbmRzIENvbnRyb2wge1xyXG4gICAgcHVibGljIHByb3BlcnRpZXMgPSBuZXcgU2xpZGVyUHJvcGVydGllcygpO1xyXG4gICAgcHVibGljIHJhZGl1czogbnVtYmVyID0gMTA7XHJcblxyXG4gICAgcHVibGljIG1pblZhbHVlID0gMDtcclxuICAgIHB1YmxpYyBtYXhWYWx1ZSA9IDEwMDtcclxuICAgIHB1YmxpYyBjdXJyZW50VmFsdWVMb3cgPSAyNTtcclxuICAgIHB1YmxpYyBjdXJyZW50VmFsdWVIaWdoID0gNzU7XHJcbiAgICBwdWJsaWMgbWluRGlmZiA9IDAuMTtcclxuXHJcbiAgICBwcml2YXRlIGlzRHJhZ2dpbmdMb3c6IGJvb2xlYW47XHJcbiAgICBwcml2YXRlIGlzRHJhZ2dpbmdIaWdoOiBib29sZWFuO1xyXG5cclxuICAgIHB1YmxpYyB2YWx1ZXNDaGFuZ2VkID0gbmV3IEVFdmVudFRUPG51bWJlciwgbnVtYmVyPigpO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyByZW5kZXIgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkID0+IHtcclxuICAgICAgICB2YXIgeCA9IHRoaXMuZGltZW5zaW9ucy54O1xyXG4gICAgICAgIHZhciB5ID0gdGhpcy5kaW1lbnNpb25zLnk7XHJcblxyXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IHRoaXMucHJvcGVydGllcy5jb2xvcjE7XHJcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDI7XHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5tb3ZlVG8oeCArIHRoaXMucmFkaXVzLCB5ICsgdGhpcy5kaW1lbnNpb25zLmhlaWdodCAvIDIpO1xyXG4gICAgICAgIGN0eC5saW5lVG8oeCArIHRoaXMuZGltZW5zaW9ucy53aWR0aCAtIHRoaXMucmFkaXVzLCB5ICsgdGhpcy5kaW1lbnNpb25zLmhlaWdodCAvIDIpO1xyXG4gICAgICAgIGN0eC5zdHJva2UoKTtcclxuXHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMucHJvcGVydGllcy5jb2xvcjI7XHJcbiAgICAgICAgdmFyIHNsaWRlclkgPSB5ICsgdGhpcy5kaW1lbnNpb25zLmhlaWdodCAvIDI7XHJcblxyXG4gICAgICAgIHZhciByZWxWYWx1ZUxvdyA9ICh0aGlzLmN1cnJlbnRWYWx1ZUxvdyAtIHRoaXMubWluVmFsdWUpIC8gKHRoaXMubWF4VmFsdWUgLSB0aGlzLm1pblZhbHVlKTtcclxuICAgICAgICB2YXIgbG93WCA9IHggKyB0aGlzLnJhZGl1cyArICh0aGlzLmRpbWVuc2lvbnMud2lkdGggLSB0aGlzLnJhZGl1cyAqIDIpICogcmVsVmFsdWVMb3c7XHJcblxyXG4gICAgICAgIHZhciByZWxWYWx1ZUhpZ2ggPSAodGhpcy5jdXJyZW50VmFsdWVIaWdoIC0gdGhpcy5taW5WYWx1ZSkgLyAodGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWUpO1xyXG4gICAgICAgIHZhciBoaWdoWCA9IHggKyB0aGlzLnJhZGl1cyArICh0aGlzLmRpbWVuc2lvbnMud2lkdGggLSB0aGlzLnJhZGl1cyAqIDIpICogcmVsVmFsdWVIaWdoO1xyXG5cclxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSB0aGlzLnByb3BlcnRpZXMuY29sb3IyO1xyXG4gICAgICAgIGN0eC5saW5lV2lkdGggPSAyO1xyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdHgubW92ZVRvKGxvd1gsIHNsaWRlclkpO1xyXG4gICAgICAgIGN0eC5saW5lVG8oaGlnaFgsIHNsaWRlclkpO1xyXG4gICAgICAgIGN0eC5zdHJva2UoKTtcclxuXHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5hcmMobG93WCwgc2xpZGVyWSwgdGhpcy5yYWRpdXMsIDAsIE1hdGguUEkgKiAyKTtcclxuICAgICAgICBjdHguY2xvc2VQYXRoKCk7XHJcbiAgICAgICAgY3R4LmZpbGwoKTtcclxuXHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5hcmMoaGlnaFgsIHNsaWRlclksIHRoaXMucmFkaXVzLCAwLCBNYXRoLlBJICogMik7XHJcbiAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xyXG4gICAgICAgIGN0eC5maWxsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUxheW91dCA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpOiB2b2lkID0+IHtcclxuICAgICAgICBzdXBlci51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG5cclxuICAgICAgICB0aGlzLmRpbWVuc2lvbnMgPSBuZXcgUmVjdGFuZ2xlKGJvdW5kcy54LCBib3VuZHMueSwgMjAwLCB0aGlzLnJhZGl1cyAqIDIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjbGljayA9IChldjogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIGlmIChldi5jdHJsS2V5KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRpbWVuc2lvbnMuaXNIaXRCeShldi5jbGllbnRYLCBldi5jbGllbnRZKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHZhbCA9IHRoaXMuZ2V0Q2xpY2tlZFZhbHVlKGV2KTtcclxuICAgICAgICAgICAgICAgIHZhciBkaWZmVG9Mb3cgPSBNYXRoLmFicyh0aGlzLmN1cnJlbnRWYWx1ZUxvdyAtIHZhbCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGlmZlRvSGlnaCA9IE1hdGguYWJzKHRoaXMuY3VycmVudFZhbHVlSGlnaCAtIHZhbCk7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIGlmIChkaWZmVG9Mb3cgPT0gZGlmZlRvSGlnaCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWwgPCB0aGlzLmN1cnJlbnRWYWx1ZUxvdykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzRHJhZ2dpbmdMb3cgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNEcmFnZ2luZ0hpZ2ggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGRpZmZUb0xvdyA+IGRpZmZUb0hpZ2gpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmlzRHJhZ2dpbmdIaWdoID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNEcmFnZ2luZ0xvdyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ3VycmVudFZhbHVlcyhldik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgbW91c2VEb3duID0gKGV2OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuZGltZW5zaW9ucy5pc0hpdEJ5KGV2LmNsaWVudFgsIGV2LmNsaWVudFkpKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWwgPSB0aGlzLmdldENsaWNrZWRWYWx1ZShldik7XHJcbiAgICAgICAgICAgIHZhciBkaWZmVG9Mb3cgPSBNYXRoLmFicyh0aGlzLmN1cnJlbnRWYWx1ZUxvdyAtIHZhbCk7XHJcbiAgICAgICAgICAgIHZhciBkaWZmVG9IaWdoID0gTWF0aC5hYnModGhpcy5jdXJyZW50VmFsdWVIaWdoIC0gdmFsKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChkaWZmVG9Mb3cgPT0gZGlmZlRvSGlnaCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbCA8IHRoaXMuY3VycmVudFZhbHVlTG93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0RyYWdnaW5nTG93ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0RyYWdnaW5nSGlnaCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZGlmZlRvTG93ID4gZGlmZlRvSGlnaCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0RyYWdnaW5nSGlnaCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzRHJhZ2dpbmdMb3cgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUN1cnJlbnRWYWx1ZXMoZXYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHB1YmxpYyBtb3VzZVVwID0gKGV2OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgdGhpcy5pc0RyYWdnaW5nSGlnaCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaXNEcmFnZ2luZ0xvdyA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtb3VzZU1vdmUoZXY6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICBzdXBlci5tb3VzZU1vdmUoZXYpO1xyXG4gICAgICAgIGlmICh0aGlzLmlzRHJhZ2dpbmdIaWdoIHx8IHRoaXMuaXNEcmFnZ2luZ0xvdykge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUN1cnJlbnRWYWx1ZXMoZXYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHVwZGF0ZUN1cnJlbnRWYWx1ZXMoZXY6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICB2YXIgdmFsID0gdGhpcy5nZXRDbGlja2VkVmFsdWUoZXYpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5pc0RyYWdnaW5nTG93KSB7XHJcbiAgICAgICAgICAgIGlmICh2YWwgPiAodGhpcy5jdXJyZW50VmFsdWVIaWdoIC0gdGhpcy5taW5EaWZmKSkge1xyXG4gICAgICAgICAgICAgICAgdmFsID0gdGhpcy5jdXJyZW50VmFsdWVIaWdoIC0gdGhpcy5taW5EaWZmO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodmFsIDwgdGhpcy5jdXJyZW50VmFsdWVMb3cgKyB0aGlzLm1pbkRpZmYpIHtcclxuICAgICAgICAgICAgICAgIHZhbCA9IHRoaXMuY3VycmVudFZhbHVlTG93ICsgdGhpcy5taW5EaWZmO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5pc0RyYWdnaW5nTG93KSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFZhbHVlTG93ID0gdmFsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50VmFsdWVIaWdoID0gdmFsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnZhbHVlc0NoYW5nZWQuZGlzcGF0Y2hFdmVudCh0aGlzLmN1cnJlbnRWYWx1ZUxvdywgdGhpcy5jdXJyZW50VmFsdWVIaWdoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldENsaWNrZWRWYWx1ZShldjogTW91c2VFdmVudCkge1xyXG4gICAgICAgIHZhciB2YWwgPSBldi5jbGllbnRYIC0gdGhpcy5kaW1lbnNpb25zLnggLSB0aGlzLnJhZGl1cztcclxuICAgICAgICB2YWwgPSB2YWwgLyAodGhpcy5kaW1lbnNpb25zLndpZHRoIC0gdGhpcy5yYWRpdXMgKiAyKSAqICh0aGlzLm1heFZhbHVlIC0gdGhpcy5taW5WYWx1ZSkgKyB0aGlzLm1pblZhbHVlO1xyXG4gICAgICAgIGlmICh2YWwgPiB0aGlzLm1heFZhbHVlKSB7XHJcbiAgICAgICAgICAgIHZhbCA9IHRoaXMubWF4VmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh2YWwgPCB0aGlzLm1pblZhbHVlKSB7XHJcbiAgICAgICAgICAgIHZhbCA9IHRoaXMubWluVmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2YWw7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBMYXlvdXRWaWV3IH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGF5b3V0Vmlld1wiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgTGlzdFZpZXcgfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9sYXlvdXRDb250cm9scy9saXN0Vmlld1wiO1xyXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9jb250cm9scy9idXR0b25cIjtcclxuaW1wb3J0IHsgQ29udHJvbCB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2NvbnRyb2xcIjtcclxuaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4uLy4uL2FwcFwiO1xyXG5pbXBvcnQgeyBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbiB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvaG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuaW1wb3J0IHsgVmVydGljYWxBbGlnbmVtZW50T3B0aW9uIH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvYWxpZ25lbWVudC92ZXJ0aWNhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuaW1wb3J0IHsgU2xpZGVyIH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvY29udHJvbHMvc2xpZGVyXCI7XHJcbmltcG9ydCB7IFJhbmdlU2xpZGVyIH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvY29udHJvbHMvcmFuZ2VTbGlkZXJcIjtcclxuaW1wb3J0IHsgTmF2aWdhdGlvblZpZXcgfSBmcm9tIFwiLi9uYXZpZ2F0aW9uVmlld1wiO1xyXG5pbXBvcnQgeyBTdGFyTGF5ZXIgfSBmcm9tIFwiLi4vLi4vbW9kZWxzL3N0YXJMYXllclwiO1xyXG5pbXBvcnQgeyBTdHlsZSB9IGZyb20gXCIuLi8uLi92aWV3L3N0eWxlXCI7XHJcbmltcG9ydCB7IExhYmVsIH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvY29udHJvbHMvbGFiZWxcIjtcclxuaW1wb3J0IHsgT3JpZW50YXRpb24gfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9hbGlnbmVtZW50L29yaWVudGF0aW9uXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU3RhckxheWVyU2V0dGluZ3NWaWV3IGV4dGVuZHMgTmF2aWdhdGlvblZpZXcge1xyXG4gICAgcHJpdmF0ZSBzZXR0aW5nc0xpc3Q6IExpc3RWaWV3O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBzdGFyTGF5ZXI6IFN0YXJMYXllcikge1xyXG4gICAgICAgIHN1cGVyKHN0YXJMYXllci5uYW1lLmdldCgpKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QgPSBuZXcgTGlzdFZpZXcoKTtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5hbGlnbmVtZW50Lmhvcml6b250YWxBbGlnbiA9IEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uLkxlZnQ7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QuYWxpZ25lbWVudC52ZXJ0aWNhbEFsaWduID0gVmVydGljYWxBbGlnbmVtZW50T3B0aW9uLlRvcDtcclxuXHJcbiAgICAgICAgdmFyIG51bWJlck9mU3RhcnNWYWx1ZUxibCA9IG5ldyBMYWJlbCgpO1xyXG4gICAgICAgIHZhciBudW1iZXJPZlN0YXJzSGVhZCA9IHRoaXMuY3JlYXRlSGVhZChcIk51bWJlciBvZiBTdGFyc1wiLCBudW1iZXJPZlN0YXJzVmFsdWVMYmwsIE1hdGgucm91bmQoc3RhckxheWVyLm51bWJlck9mU3RhcnMuZ2V0KCkpLnRvU3RyaW5nKCkpO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LmFkZEl0ZW0obnVtYmVyT2ZTdGFyc0hlYWQpO1xyXG4gICAgICAgIHZhciBudW1iZXJPZlN0YXJzU2xkciA9IG5ldyBTbGlkZXIoKTtcclxuICAgICAgICBudW1iZXJPZlN0YXJzU2xkci5taW5WYWx1ZSA9IDUwO1xyXG4gICAgICAgIG51bWJlck9mU3RhcnNTbGRyLm1heFZhbHVlID0gODAwO1xyXG4gICAgICAgIG51bWJlck9mU3RhcnNTbGRyLnByb3BlcnRpZXMuY29sb3IxID0gU3R5bGUuZmlsbFN0eWxlO1xyXG4gICAgICAgIG51bWJlck9mU3RhcnNTbGRyLnByb3BlcnRpZXMuY29sb3IyID0gU3R5bGUubW91c092ZXI7XHJcbiAgICAgICAgbnVtYmVyT2ZTdGFyc1NsZHIuY3VycmVudFZhbHVlID0gc3RhckxheWVyLm51bWJlck9mU3RhcnMuZ2V0KCk7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QuYWRkSXRlbShudW1iZXJPZlN0YXJzU2xkcik7XHJcbiAgICAgICAgbnVtYmVyT2ZTdGFyc1NsZHIudmFsdWVDaGFuZ2VkLmFkZEV2ZW50TGlzdGVuZXIoKHZhbHVlKSA9PiB7IHRoaXMuc3RhckxheWVyLm51bWJlck9mU3RhcnMuc2V0KE1hdGgucm91bmQodmFsdWUpKTsgfSk7XHJcbiAgICAgICAgc3RhckxheWVyLm51bWJlck9mU3RhcnMuT25DaGFuZ2VkLmFkZEV2ZW50TGlzdGVuZXIoKG9sZFZhbHVlOiBudW1iZXIsIG5ld1ZhbHVlOiBudW1iZXIpID0+IHsgbnVtYmVyT2ZTdGFyc1ZhbHVlTGJsLnRleHQgPSBNYXRoLnJvdW5kKG5ld1ZhbHVlKS50b1N0cmluZygpOyB9KVxyXG5cclxuICAgICAgICB2YXIgc3BlZWRWYWx1ZUxibCA9IG5ldyBMYWJlbCgpO1xyXG4gICAgICAgIHZhciBzcGVlZEhlYWQgPSB0aGlzLmNyZWF0ZUhlYWQoXCJTcGVlZFwiLCBzcGVlZFZhbHVlTGJsLCB0aGlzLnJvdW5kKHN0YXJMYXllci5zcGVlZC5nZXQoKSkudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QuYWRkSXRlbShzcGVlZEhlYWQpO1xyXG4gICAgICAgIHZhciBzcGVlZFNsZHIgPSBuZXcgU2xpZGVyKCk7XHJcbiAgICAgICAgc3BlZWRTbGRyLm1pblZhbHVlID0gMDtcclxuICAgICAgICBzcGVlZFNsZHIubWF4VmFsdWUgPSAyMDtcclxuICAgICAgICBzcGVlZFNsZHIucHJvcGVydGllcy5jb2xvcjEgPSBTdHlsZS5maWxsU3R5bGU7XHJcbiAgICAgICAgc3BlZWRTbGRyLnByb3BlcnRpZXMuY29sb3IyID0gU3R5bGUubW91c092ZXI7XHJcbiAgICAgICAgc3BlZWRTbGRyLmN1cnJlbnRWYWx1ZSA9IHN0YXJMYXllci5zcGVlZC5nZXQoKTtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5hZGRJdGVtKHNwZWVkU2xkcik7XHJcbiAgICAgICAgc3BlZWRTbGRyLnZhbHVlQ2hhbmdlZC5hZGRFdmVudExpc3RlbmVyKCh2YWx1ZSkgPT4geyBzdGFyTGF5ZXIuc3BlZWQuc2V0KHZhbHVlKSB9KTtcclxuICAgICAgICBzdGFyTGF5ZXIuc3BlZWQuT25DaGFuZ2VkLmFkZEV2ZW50TGlzdGVuZXIoKG9sZFZhbHVlOiBudW1iZXIsIG5ld1ZhbHVlOiBudW1iZXIpID0+IHsgc3BlZWRWYWx1ZUxibC50ZXh0ID0gdGhpcy5yb3VuZChuZXdWYWx1ZSkudG9TdHJpbmcoKTsgfSlcclxuICAgICAgICBcclxuICAgICAgICB2YXIgc2l6ZVZhbHVlTGJsID0gbmV3IExhYmVsKCk7XHJcbiAgICAgICAgdmFyIHNpemVIZWFkID0gdGhpcy5jcmVhdGVIZWFkKFwiU2l6ZVwiLCBzaXplVmFsdWVMYmwsIHRoaXMucm91bmQoc3RhckxheWVyLnN0YXJSYWRpdXNMb3dlckJvcmRlci5nZXQoKSkgKyBcIiAtIFwiICsgdGhpcy5yb3VuZChzdGFyTGF5ZXIuc3RhclJhZGl1c1VwcGVyQm9yZGVyLmdldCgpKSk7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QuYWRkSXRlbShzaXplSGVhZCk7XHJcbiAgICAgICAgdmFyIHNpemVTbGRyID0gbmV3IFJhbmdlU2xpZGVyKCk7XHJcbiAgICAgICAgc2l6ZVNsZHIubWluVmFsdWUgPSAwLjAwNTtcclxuICAgICAgICBzaXplU2xkci5tYXhWYWx1ZSA9IDI7XHJcbiAgICAgICAgc2l6ZVNsZHIuY3VycmVudFZhbHVlTG93ID0gc3RhckxheWVyLnN0YXJSYWRpdXNMb3dlckJvcmRlci5nZXQoKTtcclxuICAgICAgICBzaXplU2xkci5jdXJyZW50VmFsdWVIaWdoID0gc3RhckxheWVyLnN0YXJSYWRpdXNVcHBlckJvcmRlci5nZXQoKTtcclxuICAgICAgICBzaXplU2xkci5wcm9wZXJ0aWVzLmNvbG9yMSA9IFN0eWxlLmZpbGxTdHlsZTtcclxuICAgICAgICBzaXplU2xkci5wcm9wZXJ0aWVzLmNvbG9yMiA9IFN0eWxlLm1vdXNPdmVyO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LmFkZEl0ZW0oc2l6ZVNsZHIpO1xyXG4gICAgICAgIHNpemVTbGRyLnZhbHVlc0NoYW5nZWQuYWRkRXZlbnRMaXN0ZW5lcigodjEsIHYyKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChzdGFyTGF5ZXIuc3RhclJhZGl1c0xvd2VyQm9yZGVyLmdldCgpICE9IHYxKSB7XHJcbiAgICAgICAgICAgICAgICBzdGFyTGF5ZXIuc3RhclJhZGl1c0xvd2VyQm9yZGVyLnNldCh2MSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHN0YXJMYXllci5zdGFyUmFkaXVzVXBwZXJCb3JkZXIuZ2V0KCkgIT0gdjIpIHtcclxuICAgICAgICAgICAgICAgIHN0YXJMYXllci5zdGFyUmFkaXVzVXBwZXJCb3JkZXIuc2V0KHYyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHN0YXJMYXllci5zdGFyUmFkaXVzTG93ZXJCb3JkZXIuT25DaGFuZ2VkLmFkZEV2ZW50TGlzdGVuZXIoKG9sZFZhbHVlOiBudW1iZXIsIG5ld1ZhbHVlOiBudW1iZXIpID0+IHsgc2l6ZVZhbHVlTGJsLnRleHQgPSB0aGlzLnJvdW5kKG5ld1ZhbHVlKSArIFwiIC0gXCIgKyB0aGlzLnJvdW5kKHN0YXJMYXllci5zdGFyUmFkaXVzVXBwZXJCb3JkZXIuZ2V0KCkpIH0pO1xyXG4gICAgICAgIHN0YXJMYXllci5zdGFyUmFkaXVzVXBwZXJCb3JkZXIuT25DaGFuZ2VkLmFkZEV2ZW50TGlzdGVuZXIoKG9sZFZhbHVlOiBudW1iZXIsIG5ld1ZhbHVlOiBudW1iZXIpID0+IHsgc2l6ZVZhbHVlTGJsLnRleHQgPSB0aGlzLnJvdW5kKHN0YXJMYXllci5zdGFyUmFkaXVzTG93ZXJCb3JkZXIuZ2V0KCkpICsgXCIgLSBcIiArIHRoaXMucm91bmQobmV3VmFsdWUpIH0pO1xyXG5cclxuICAgICAgICB2YXIgcmVtb3ZlTGF5ZXJCdG4gPSBuZXcgQnV0dG9uKCk7XHJcbiAgICAgICAgcmVtb3ZlTGF5ZXJCdG4udGV4dCA9IFwiUmVtb3ZlIExheWVyXCI7XHJcbiAgICAgICAgcmVtb3ZlTGF5ZXJCdG4ucHJvcGVydGllcy5maWxsU3R5bGUgPSBTdHlsZS5maWxsU3R5bGU7XHJcbiAgICAgICAgcmVtb3ZlTGF5ZXJCdG4ucHJvcGVydGllcy5tb3VzZU92ZXJGaWxsU3R5bGUgPSBTdHlsZS5tb3VzT3ZlcjtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5hZGRJdGVtKHJlbW92ZUxheWVyQnRuKTtcclxuICAgICAgICByZW1vdmVMYXllckJ0bi5jbGlja2VkLmFkZEV2ZW50TGlzdGVuZXIoKHNlbmRlcjogQ29udHJvbCkgPT4ge1xyXG4gICAgICAgICAgICBBcHAudmlzdWFsaXphdGlvbk1vZGVsLnN0YXJMYXllcnMucmVtb3ZlKHRoaXMuc3RhckxheWVyKTtcclxuICAgICAgICAgICAgdGhpcy5uYXZpZ2F0aW9uVmlldy5vbkdvQmFjay5kaXNwYXRjaEV2ZW50KCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaCh0aGlzLnNldHRpbmdzTGlzdCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByb3VuZCA9ICh2YWx1ZTogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQodmFsdWUgKiAxMDApIC8gMTAwO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY3JlYXRlSGVhZChzZXR0aW5nTmFtZTogc3RyaW5nLCBudW1iZXJPZlN0YXJzVmFsdWVMYmw6IExhYmVsLCB2YWx1ZVRleHQ6IHN0cmluZykge1xyXG4gICAgICAgIHZhciBudW1iZXJPZlN0YXJzTGJsID0gbmV3IExhYmVsKCk7XHJcbiAgICAgICAgbnVtYmVyT2ZTdGFyc0xibC50ZXh0ID0gc2V0dGluZ05hbWU7XHJcbiAgICAgICAgbnVtYmVyT2ZTdGFyc0xibC5wcm9wZXJ0aWVzLmZpbGxTdHlsZSA9IFN0eWxlLmxpZ2h0MjtcclxuICAgICAgICBudW1iZXJPZlN0YXJzTGJsLnByb3BlcnRpZXMuZm9udFNpemUgPSAyMjtcclxuICAgICAgICBudW1iZXJPZlN0YXJzTGJsLmFsaWduZW1lbnQuaG9yaXpvbnRhbEFsaWduID0gSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24uQ2VudGVyO1xyXG4gICAgICAgIG51bWJlck9mU3RhcnNMYmwuYWxpZ25lbWVudC52ZXJ0aWNhbEFsaWduID0gVmVydGljYWxBbGlnbmVtZW50T3B0aW9uLkNlbnRlcjtcclxuICAgICAgICBudW1iZXJPZlN0YXJzVmFsdWVMYmwudGV4dCA9IHZhbHVlVGV4dDtcclxuICAgICAgICBudW1iZXJPZlN0YXJzVmFsdWVMYmwucHJvcGVydGllcy5maWxsU3R5bGUgPSBTdHlsZS5saWdodDI7XHJcbiAgICAgICAgbnVtYmVyT2ZTdGFyc1ZhbHVlTGJsLnByb3BlcnRpZXMuZm9udFNpemUgPSAyMjtcclxuICAgICAgICB2YXIgbnVtYmVyT2ZTdGFyc0hlYWQgPSBuZXcgTGlzdFZpZXcoKTtcclxuICAgICAgICBudW1iZXJPZlN0YXJzSGVhZC5wcm9wZXJ0aWVzLm9yaWVudGF0aW9uID0gT3JpZW50YXRpb24uSG9yaXpvbnRhbDtcclxuICAgICAgICBudW1iZXJPZlN0YXJzSGVhZC5hZGRJdGVtKG51bWJlck9mU3RhcnNMYmwpO1xyXG4gICAgICAgIG51bWJlck9mU3RhcnNIZWFkLmFkZEl0ZW0obnVtYmVyT2ZTdGFyc1ZhbHVlTGJsKTtcclxuICAgICAgICByZXR1cm4gbnVtYmVyT2ZTdGFyc0hlYWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUxheW91dChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLm5hdmlnYXRpb25WaWV3LnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcbiAgICAgICAgdmFyIHNwYWNlID0gdGhpcy5uYXZpZ2F0aW9uVmlldy5kaW1lbnNpb25zLmhlaWdodCAqIDEuNTtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC51cGRhdGVMYXlvdXQoY3R4LCBuZXcgUmVjdGFuZ2xlKGJvdW5kcy54LCBib3VuZHMueSArIHNwYWNlLCBib3VuZHMud2lkdGgsIGJvdW5kcy5oZWlnaHQgLSBzcGFjZSkpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgTGF5b3V0VmlldyB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xheW91dFZpZXdcIjtcclxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvY29udHJvbHMvYnV0dG9uXCI7XHJcbmltcG9ydCB7IFN0eWxlIH0gZnJvbSBcIi4uLy4uL3ZpZXcvc3R5bGVcIjtcclxuaW1wb3J0IHsgQ29udHJvbCB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2NvbnRyb2xcIjtcclxuaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4uLy4uL2FwcFwiO1xyXG5pbXBvcnQgeyBTdGFyTGF5ZXIgfSBmcm9tIFwiLi4vLi4vbW9kZWxzL3N0YXJMYXllclwiO1xyXG5pbXBvcnQgeyBFRXZlbnQgfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy9lRXZlbnRcIjtcclxuaW1wb3J0IHsgTmF2aWdhdGlvblZpZXcgfSBmcm9tIFwiLi9uYXZpZ2F0aW9uVmlld1wiO1xyXG5pbXBvcnQgeyBMaXN0VmlldyB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xpc3RWaWV3XCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24gfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9hbGlnbmVtZW50L3ZlcnRpY2FsQWxpZ25lbWVudE9wdGlvblwiO1xyXG5pbXBvcnQgeyBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbiB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvaG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuaW1wb3J0IHsgU3RhckxheWVyU2V0dGluZ3NWaWV3IH0gZnJvbSBcIi4vc3RhckxheWVyU2V0dGluZ3NWaWV3XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU3RhckxheWVyc1NldHRpbmdzVmlldyBleHRlbmRzIE5hdmlnYXRpb25WaWV3IHtcclxuXHJcbiAgICBwcml2YXRlIGFkZExheWVyQnRuOiBCdXR0b247XHJcbiAgICBwcml2YXRlIGxheWVyQnV0dG9uczogQnV0dG9uW10gPSBbXTtcclxuICAgIGxheWVyTGlzdDogTGlzdFZpZXc7XHJcbiAgICBzdWJWaWV3OiBTdGFyTGF5ZXJTZXR0aW5nc1ZpZXc7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoXCJTdGFyIExheWVyc1wiKTtcclxuXHJcbiAgICAgICAgdGhpcy5sYXllckxpc3QgPSBuZXcgTGlzdFZpZXcoKTtcclxuICAgICAgICB0aGlzLmxheWVyTGlzdC5hbGlnbmVtZW50Lmhvcml6b250YWxBbGlnbiA9IEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uLkxlZnQ7XHJcbiAgICAgICAgdGhpcy5sYXllckxpc3QuYWxpZ25lbWVudC52ZXJ0aWNhbEFsaWduID0gVmVydGljYWxBbGlnbmVtZW50T3B0aW9uLlRvcDtcclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBzdGFyTGF5ZXIgb2YgQXBwLnZpc3VhbGl6YXRpb25Nb2RlbC5zdGFyTGF5ZXJzLml0ZW1zKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGF5ZXJMaXN0LmFkZEl0ZW0odGhpcy5jcmVhdGVFZGl0TGF5ZXJCdG4oc3RhckxheWVyKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgYnRuTmV3TGF5ZXIgPSBuZXcgQnV0dG9uKCk7XHJcbiAgICAgICAgYnRuTmV3TGF5ZXIudGV4dCA9IFwiQWRkIExheWVyXCI7XHJcbiAgICAgICAgYnRuTmV3TGF5ZXIucHJvcGVydGllcy5maWxsU3R5bGUgPSBTdHlsZS5maWxsU3R5bGU7XHJcbiAgICAgICAgYnRuTmV3TGF5ZXIucHJvcGVydGllcy5tb3VzZU92ZXJGaWxsU3R5bGUgPSBTdHlsZS5tb3VzT3ZlcjtcclxuICAgICAgICBidG5OZXdMYXllci5jbGlja2VkLmFkZEV2ZW50TGlzdGVuZXIoKHNlbmRlcjogQ29udHJvbCkgPT4ge1xyXG4gICAgICAgICAgICB2YXIgbmV3U3RhckxheWVyID0gbmV3IFN0YXJMYXllcigpO1xyXG4gICAgICAgICAgICBuZXdTdGFyTGF5ZXIubmFtZS5zZXQoXCJTdGFycyBcIiArIChBcHAudmlzdWFsaXphdGlvbk1vZGVsLnN0YXJMYXllcnMuaXRlbXMubGVuZ3RoICsgMSkpO1xyXG4gICAgICAgICAgICBBcHAudmlzdWFsaXphdGlvbk1vZGVsLnN0YXJMYXllcnMuYWRkKG5ld1N0YXJMYXllcik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hZGRMYXllckJ0biA9IGJ0bk5ld0xheWVyO1xyXG4gICAgICAgIHRoaXMubGF5ZXJMaXN0LmFkZEl0ZW0oYnRuTmV3TGF5ZXIpO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaCh0aGlzLmxheWVyTGlzdCk7XHJcblxyXG4gICAgICAgIEFwcC52aXN1YWxpemF0aW9uTW9kZWwuc3RhckxheWVycy5vbkFkZC5hZGRFdmVudExpc3RlbmVyKChzdGFyTGF5ZXIpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5sYXllckxpc3QucmVtb3ZlSXRlbSh0aGlzLmFkZExheWVyQnRuKTtcclxuICAgICAgICAgICAgdGhpcy5sYXllckxpc3QuYWRkSXRlbSh0aGlzLmNyZWF0ZUVkaXRMYXllckJ0bihzdGFyTGF5ZXIpKTtcclxuICAgICAgICAgICAgdGhpcy5sYXllckxpc3QuYWRkSXRlbSh0aGlzLmFkZExheWVyQnRuKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgQXBwLnZpc3VhbGl6YXRpb25Nb2RlbC5zdGFyTGF5ZXJzLm9uUmVtb3ZlLmFkZEV2ZW50TGlzdGVuZXIoKHN0YXJMYXllcikgPT4ge1xyXG4gICAgICAgICAgICB2YXIgbGF5ZXJCdG4gPSB0aGlzLmxheWVyTGlzdC5pdGVtcy5maXJzdE9yRGVmYXVsdCh4ID0+IHgudGFnID09IHN0YXJMYXllcik7XHJcbiAgICAgICAgICAgIGlmIChsYXllckJ0bikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sYXllckxpc3QucmVtb3ZlSXRlbShsYXllckJ0bilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY3JlYXRlRWRpdExheWVyQnRuKHN0YXJMYXllcjogU3RhckxheWVyKSB7XHJcbiAgICAgICAgdmFyIGVkaXRMYXllckJ0biA9IG5ldyBCdXR0b24oKTtcclxuICAgICAgICBlZGl0TGF5ZXJCdG4udGV4dCA9IHN0YXJMYXllci5uYW1lLmdldCgpO1xyXG4gICAgICAgIGVkaXRMYXllckJ0bi50YWcgPSBzdGFyTGF5ZXI7XHJcbiAgICAgICAgZWRpdExheWVyQnRuLnByb3BlcnRpZXMuZmlsbFN0eWxlID0gU3R5bGUuZmlsbFN0eWxlO1xyXG4gICAgICAgIGVkaXRMYXllckJ0bi5wcm9wZXJ0aWVzLm1vdXNlT3ZlckZpbGxTdHlsZSA9IFN0eWxlLm1vdXNPdmVyO1xyXG4gICAgICAgIGVkaXRMYXllckJ0bi5jbGlja2VkLmFkZEV2ZW50TGlzdGVuZXIoKHNlbmRlcjogQ29udHJvbCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmVkaXRMYXllcihzdGFyTGF5ZXIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBlZGl0TGF5ZXJCdG47XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBlZGl0TGF5ZXIoc3RhckxheWVyOiBTdGFyTGF5ZXIpIHtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnJlbW92ZUl0ZW0odGhpcy5uYXZpZ2F0aW9uVmlldyk7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5yZW1vdmVJdGVtKHRoaXMubGF5ZXJMaXN0KTtcclxuICAgICAgICB0aGlzLnN1YlZpZXcgPSBuZXcgU3RhckxheWVyU2V0dGluZ3NWaWV3KHN0YXJMYXllcik7XHJcbiAgICAgICAgdGhpcy5zdWJWaWV3Lm5hdmlnYXRpb25WaWV3Lm9uR29CYWNrLmFkZEV2ZW50TGlzdGVuZXIoKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnJlbW92ZUl0ZW0odGhpcy5zdWJWaWV3KTtcclxuICAgICAgICAgICAgdGhpcy5zdWJWaWV3ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2godGhpcy5uYXZpZ2F0aW9uVmlldyk7XHJcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaCh0aGlzLmxheWVyTGlzdCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHRoaXMuc3ViVmlldyk7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyVXBkYXRlTGF5b3V0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUxheW91dChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG4gICAgICAgIHRoaXMubmF2aWdhdGlvblZpZXcudXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuICAgICAgICB2YXIgc3BhY2UgPSB0aGlzLm5hdmlnYXRpb25WaWV3LmRpbWVuc2lvbnMuaGVpZ2h0ICogMS41O1xyXG4gICAgICAgIHRoaXMubGF5ZXJMaXN0LnVwZGF0ZUxheW91dChjdHgsIG5ldyBSZWN0YW5nbGUoYm91bmRzLngsIGJvdW5kcy55ICsgc3BhY2UsIGJvdW5kcy53aWR0aCwgYm91bmRzLmhlaWdodCAtIHNwYWNlKSk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnN1YlZpZXcpIHtcclxuICAgICAgICAgICAgdGhpcy5zdWJWaWV3LnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgTGF5b3V0VmlldyB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xheW91dFZpZXdcIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IFNldHRpbmdzVmlzaWJpbGl0eVN0YXRlIH0gZnJvbSBcIi4uL21vZGVscy9zZXR0aW5nc1Zpc2liaWxpdHlTdGF0ZVwiO1xyXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9jb250cm9scy9idXR0b25cIjtcclxuaW1wb3J0IHsgQ29udHJvbCB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2NvbnRyb2xcIjtcclxuaW1wb3J0IHsgTGlzdFZpZXcgfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9sYXlvdXRDb250cm9scy9saXN0Vmlld1wiO1xyXG5pbXBvcnQgeyBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24gfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9hbGlnbmVtZW50L3ZlcnRpY2FsQWxpZ25lbWVudE9wdGlvblwiO1xyXG5pbXBvcnQgeyBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbiB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvaG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuaW1wb3J0IHsgU3R5bGUgfSBmcm9tIFwiLi4vLi4vdmlldy9zdHlsZVwiO1xyXG5pbXBvcnQgeyBTdGFyTGF5ZXJzU2V0dGluZ3NWaWV3IH0gZnJvbSBcIi4vc3RhckxheWVyc1NldHRpbmdzVmlld1wiO1xyXG5pbXBvcnQgeyBOYXZpZ2F0aW9uVmlldyB9IGZyb20gXCIuL25hdmlnYXRpb25WaWV3XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU2V0dGluZ3NWaWV3IGV4dGVuZHMgTGF5b3V0VmlldyB7XHJcbiAgICBwcml2YXRlIHNldHRpbmdzTGlzdDogTGlzdFZpZXc7XHJcbiAgICBwcml2YXRlIHN1YlZpZXc6IE5hdmlnYXRpb25WaWV3O1xyXG4gICAgc3RhckxheWVyc0J0bjogQnV0dG9uO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5jcmVhdGVTaG93SGlkZVNldHRpbmdzQnRuKCk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0ID0gbmV3IExpc3RWaWV3KCk7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QuYWxpZ25lbWVudC5ob3Jpem9udGFsQWxpZ24gPSBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbi5MZWZ0O1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LmFsaWduZW1lbnQudmVydGljYWxBbGlnbiA9IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi5Ub3A7XHJcblxyXG4gICAgICAgIHRoaXMuc3RhckxheWVyc0J0biA9IG5ldyBCdXR0b24oKTtcclxuICAgICAgICB0aGlzLnN0YXJMYXllcnNCdG4udGV4dCA9IFwiU3RhciBMYXllcnNcIjtcclxuICAgICAgICB0aGlzLnN0YXJMYXllcnNCdG4ucHJvcGVydGllcy5maWxsU3R5bGUgPSBTdHlsZS5maWxsU3R5bGU7XHJcbiAgICAgICAgdGhpcy5zdGFyTGF5ZXJzQnRuLnByb3BlcnRpZXMubW91c2VPdmVyRmlsbFN0eWxlID0gU3R5bGUubW91c092ZXI7XHJcbiAgICAgICAgdGhpcy5zdGFyTGF5ZXJzQnRuLmNsaWNrZWQuYWRkRXZlbnRMaXN0ZW5lcigoc2VuZGVyOiBDb250cm9sKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LnJlbW92ZUl0ZW0odGhpcy5zdGFyTGF5ZXJzQnRuKTtcclxuICAgICAgICAgICAgdGhpcy5zdWJWaWV3ID0gbmV3IFN0YXJMYXllcnNTZXR0aW5nc1ZpZXcoKTtcclxuICAgICAgICAgICAgdGhpcy5zdWJWaWV3Lm5hdmlnYXRpb25WaWV3Lm9uR29CYWNrLmFkZEV2ZW50TGlzdGVuZXIoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QucmVtb3ZlSXRlbSh0aGlzLnN1YlZpZXcpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdWJWaWV3ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QuYWRkSXRlbSh0aGlzLnN0YXJMYXllcnNCdG4pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QuYWRkSXRlbSh0aGlzLnN1YlZpZXcpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LmFkZEl0ZW0odGhpcy5zdGFyTGF5ZXJzQnRuKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyAjcmVnaW9uIC0tLSBzaG93IGhpZGUgc2V0dGluZ3NcclxuXHJcbiAgICBwcml2YXRlIGxhc3RNb3ZlZCA9IERhdGUubm93KCk7XHJcbiAgICBwcml2YXRlIGluYWN0aXZpdHlUaW1lb3V0ID0gMjAwMDtcclxuICAgIHByaXZhdGUgc2hvd0hpZGVTZXR0aW5nc0J0bjogQnV0dG9uO1xyXG4gICAgcHJpdmF0ZSBzZXR0aW5nc0ljb25UZXh0ID0gXCJcXHVmMDEzXCJcclxuICAgIHByaXZhdGUgc2V0dGluZ3NDbG9zZUljb25UZXh0ID0gXCJcXHVmMDBkXCJcclxuICAgIHByaXZhdGUgc2V0dGluZ3NWaXNpYmlsaXR5U3RhdGU6IFNldHRpbmdzVmlzaWJpbGl0eVN0YXRlID0gU2V0dGluZ3NWaXNpYmlsaXR5U3RhdGUuaGlkZGVuO1xyXG5cclxuICAgIHByaXZhdGUgY3JlYXRlU2hvd0hpZGVTZXR0aW5nc0J0bigpIHtcclxuICAgICAgICB0aGlzLnNob3dIaWRlU2V0dGluZ3NCdG4gPSBuZXcgQnV0dG9uKCk7XHJcbiAgICAgICAgdGhpcy5zaG93SGlkZVNldHRpbmdzQnRuLnByb3BlcnRpZXMuZm9udFByZWZpeCA9IFwiOTAwXCI7XHJcbiAgICAgICAgdGhpcy5zaG93SGlkZVNldHRpbmdzQnRuLnByb3BlcnRpZXMuZm9udEZhbWlseSA9IFwiJ0ZvbnQgQXdlc29tZSA1IEZyZWUnXCI7XHJcbiAgICAgICAgdGhpcy5zaG93SGlkZVNldHRpbmdzQnRuLnRleHQgPSB0aGlzLnNldHRpbmdzSWNvblRleHQ7XHJcbiAgICAgICAgdGhpcy5zaG93SGlkZVNldHRpbmdzQnRuLmFsaWduZW1lbnQudmVydGljYWxBbGlnbiA9IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi5Ub3A7XHJcbiAgICAgICAgdGhpcy5zaG93SGlkZVNldHRpbmdzQnRuLmFsaWduZW1lbnQuaG9yaXpvbnRhbEFsaWduID0gSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24uTGVmdDtcclxuICAgICAgICB0aGlzLnNob3dIaWRlU2V0dGluZ3NCdG4ucHJvcGVydGllcy5maWxsU3R5bGUgPSBTdHlsZS5maWxsU3R5bGU7XHJcbiAgICAgICAgdGhpcy5zaG93SGlkZVNldHRpbmdzQnRuLnByb3BlcnRpZXMubW91c2VPdmVyRmlsbFN0eWxlID0gU3R5bGUubW91c092ZXI7XHJcbiAgICAgICAgdGhpcy5zaG93SGlkZVNldHRpbmdzQnRuLmNsaWNrZWQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLnNob3dIaWRlT3ZlcmxheUNsaWNrZWQpO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaCh0aGlzLnNob3dIaWRlU2V0dGluZ3NCdG4pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2hvd0hpZGVPdmVybGF5Q2xpY2tlZCA9IChzZW5kZXI6IENvbnRyb2wpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5zZXR0aW5nc1Zpc2liaWxpdHlTdGF0ZSA9PSBTZXR0aW5nc1Zpc2liaWxpdHlTdGF0ZS52aXNpYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U2V0dGluZ3NWaXNpYmlsaXR5U3RhdGUoU2V0dGluZ3NWaXNpYmlsaXR5U3RhdGUuYmVmb3JlVmlzaWJsZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTZXR0aW5nc1Zpc2liaWxpdHlTdGF0ZShTZXR0aW5nc1Zpc2liaWxpdHlTdGF0ZS52aXNpYmxlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG1vdXNlSW5hY3Rpdml0eUhhbmRsZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKERhdGUubm93KCkgLSB0aGlzLmxhc3RNb3ZlZCA+PSB0aGlzLmluYWN0aXZpdHlUaW1lb3V0KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzVmlzaWJpbGl0eVN0YXRlID09IFNldHRpbmdzVmlzaWJpbGl0eVN0YXRlLmJlZm9yZVZpc2libGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U2V0dGluZ3NWaXNpYmlsaXR5U3RhdGUoU2V0dGluZ3NWaXNpYmlsaXR5U3RhdGUuaGlkZGVuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQodGhpcy5tb3VzZUluYWN0aXZpdHlIYW5kbGVyLCB0aGlzLmluYWN0aXZpdHlUaW1lb3V0IC0gKERhdGUubm93KCkgLSB0aGlzLmxhc3RNb3ZlZCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldFNldHRpbmdzVmlzaWJpbGl0eVN0YXRlID0gKHN0YXRlOiBTZXR0aW5nc1Zpc2liaWxpdHlTdGF0ZSkgPT4ge1xyXG4gICAgICAgIHN3aXRjaCAoc3RhdGUpIHtcclxuICAgICAgICAgICAgY2FzZSBTZXR0aW5nc1Zpc2liaWxpdHlTdGF0ZS5oaWRkZW46XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dIaWRlU2V0dGluZ3NCdG4udGV4dCA9IHRoaXMuc2V0dGluZ3NJY29uVGV4dDtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucmVtb3ZlSXRlbSh0aGlzLnNob3dIaWRlU2V0dGluZ3NCdG4pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5nc1Zpc2liaWxpdHlTdGF0ZSA9IFNldHRpbmdzVmlzaWJpbGl0eVN0YXRlLmhpZGRlbjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFNldHRpbmdzVmlzaWJpbGl0eVN0YXRlLmJlZm9yZVZpc2libGU6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3dIaWRlU2V0dGluZ3NCdG4udGV4dCA9IHRoaXMuc2V0dGluZ3NJY29uVGV4dDtcclxuICAgICAgICAgICAgICAgIHRoaXMubGFzdE1vdmVkID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzVmlzaWJpbGl0eVN0YXRlID09IFNldHRpbmdzVmlzaWJpbGl0eVN0YXRlLmhpZGRlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQodGhpcy5tb3VzZUluYWN0aXZpdHlIYW5kbGVyLCB0aGlzLmluYWN0aXZpdHlUaW1lb3V0KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuLmFkZEl0ZW1JZk5vdEV4aXN0cyh0aGlzLnNob3dIaWRlU2V0dGluZ3NCdG4pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3NWaXNpYmlsaXR5U3RhdGUgPT0gU2V0dGluZ3NWaXNpYmlsaXR5U3RhdGUudmlzaWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQodGhpcy5tb3VzZUluYWN0aXZpdHlIYW5kbGVyLCB0aGlzLmluYWN0aXZpdHlUaW1lb3V0KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zdWJWaWV3KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LnJlbW92ZUl0ZW0odGhpcy5zdWJWaWV3KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdWJWaWV3ID0gbnVsbDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QuYWRkSXRlbSh0aGlzLnN0YXJMYXllcnNCdG4pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnJlbW92ZUl0ZW1JZkV4aXN0cyh0aGlzLnNldHRpbmdzTGlzdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzVmlzaWJpbGl0eVN0YXRlID0gU2V0dGluZ3NWaXNpYmlsaXR5U3RhdGUuYmVmb3JlVmlzaWJsZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFNldHRpbmdzVmlzaWJpbGl0eVN0YXRlLnZpc2libGU6XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5nc1Zpc2liaWxpdHlTdGF0ZSA9PSBTZXR0aW5nc1Zpc2liaWxpdHlTdGF0ZS5iZWZvcmVWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHRoaXMuc2V0dGluZ3NMaXN0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0hpZGVTZXR0aW5nc0J0bi50ZXh0ID0gdGhpcy5zZXR0aW5nc0Nsb3NlSWNvblRleHQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzVmlzaWJpbGl0eVN0YXRlID0gU2V0dGluZ3NWaXNpYmlsaXR5U3RhdGUudmlzaWJsZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG1vdXNlQ2xpY2tTaG93SGlkZVNldHRpbmdzKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzVmlzaWJpbGl0eVN0YXRlID09IFNldHRpbmdzVmlzaWJpbGl0eVN0YXRlLmhpZGRlbiB8fCB0aGlzLnNldHRpbmdzVmlzaWJpbGl0eVN0YXRlID09IFNldHRpbmdzVmlzaWJpbGl0eVN0YXRlLmJlZm9yZVZpc2libGUpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTZXR0aW5nc1Zpc2liaWxpdHlTdGF0ZShTZXR0aW5nc1Zpc2liaWxpdHlTdGF0ZS5iZWZvcmVWaXNpYmxlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBtb3VzZU1vdmVTaG93SGlkZVNldHRpbmdzKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzVmlzaWJpbGl0eVN0YXRlID09IFNldHRpbmdzVmlzaWJpbGl0eVN0YXRlLmhpZGRlbiB8fCB0aGlzLnNldHRpbmdzVmlzaWJpbGl0eVN0YXRlID09IFNldHRpbmdzVmlzaWJpbGl0eVN0YXRlLmJlZm9yZVZpc2libGUpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTZXR0aW5nc1Zpc2liaWxpdHlTdGF0ZShTZXR0aW5nc1Zpc2liaWxpdHlTdGF0ZS5iZWZvcmVWaXNpYmxlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gI2VuZHJlZ2lvblxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVMYXlvdXQoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGJvdW5kczogUmVjdGFuZ2xlKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIudXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuICAgICAgICB0aGlzLnNob3dIaWRlU2V0dGluZ3NCdG4udXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuICAgICAgICB2YXIgc3BhY2UgPSB0aGlzLnNob3dIaWRlU2V0dGluZ3NCdG4uZGltZW5zaW9ucy5oZWlnaHQgKiAyO1xyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzTGlzdCkge1xyXG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC51cGRhdGVMYXlvdXQoY3R4LCBuZXcgUmVjdGFuZ2xlKGJvdW5kcy54LCBib3VuZHMueSArIHNwYWNlLCBib3VuZHMud2lkdGgsIGJvdW5kcy5oZWlnaHQgLSBzcGFjZSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5zdWJWaWV3KSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3ViVmlldy51cGRhdGVMYXlvdXQoY3R4LCBuZXcgUmVjdGFuZ2xlKGJvdW5kcy54LCBib3VuZHMueSArIHNwYWNlLCBib3VuZHMud2lkdGgsIGJvdW5kcy5oZWlnaHQgLSBzcGFjZSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbW91c2VNb3ZlID0gKGV2OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgdGhpcy5tb3VzZU1vdmVTaG93SGlkZVNldHRpbmdzKCk7XHJcbiAgICAgICAgc3VwZXIubW91c2VNb3ZlKGV2KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2xpY2sgPSAoZXY6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICB0aGlzLm1vdXNlQ2xpY2tTaG93SGlkZVNldHRpbmdzKCk7XHJcbiAgICAgICAgc3VwZXIuY2xpY2soZXYpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIERpbmplY3Qge1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2VzOiB7IFtrZXk6IHN0cmluZ106IGFueSB9ID0ge31cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGFkZEluc3RhbmNlID0gKG5hbWU6IHN0cmluZywgaW5zdGFuY2U6IGFueSkgPT4ge1xyXG4gICAgICAgIERpbmplY3QuaW5zdGFuY2VzW25hbWVdID0gaW5zdGFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSA9IDxUPihuYW1lOiBzdHJpbmcpOiBUID0+IHtcclxuICAgICAgICByZXR1cm4gPFQ+RGluamVjdC5pbnN0YW5jZXNbbmFtZV07XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBMYXlvdXRWaWV3IH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGF5b3V0Vmlld1wiO1xyXG5cclxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvY29udHJvbHMvYnV0dG9uXCI7XHJcbmltcG9ydCB7IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbiB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvdmVydGljYWxBbGlnbmVtZW50T3B0aW9uXCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBMaXN0VmlldyB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xpc3RWaWV3XCI7XHJcbmltcG9ydCB7IE9yaWVudGF0aW9uIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvYWxpZ25lbWVudC9vcmllbnRhdGlvblwiO1xyXG5pbXBvcnQgeyBEaW5qZWN0IH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvZGluamVjdFwiO1xyXG5pbXBvcnQgeyBBdWRpb01hbmFnZXIgfSBmcm9tIFwiLi4vYXVkaW9NYW5hZ2VyXCI7XHJcbmltcG9ydCB7IFN0eWxlIH0gZnJvbSBcIi4vc3R5bGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQbGF5ZXJDb250cm9sc1ZpZXcgZXh0ZW5kcyBMYXlvdXRWaWV3IHtcclxuXHJcbiAgICBwcml2YXRlIHBsYXlJY29uVGV4dCA9IFwiXFx1ZjA0YlwiIC8vIFwicGxheVwiXHJcbiAgICBwcml2YXRlIHBhdXNlSWNvblRleHQgPSBcIlxcdWYwNGNcIiAvLyBcInBhdXNlXCJcclxuICAgIHByaXZhdGUgc3RvcEljb25UZXh0ID0gXCJcXHVmMDRkXCIgLy8gXCJzdG9wXCJcclxuICAgIHByaXZhdGUgbmV4dEljb25UZXh0ID0gXCJcXHVmMDUxXCIgLy8gXCJuZXh0XCJcclxuICAgIHByaXZhdGUgcHJldmlvdXNJY29uVGV4dCA9IFwiXFx1ZjA0OFwiIC8vIFwicHJldmlvdXNcIlxyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgIHZhciBhdWRpb01hbmFnZXI6IEF1ZGlvTWFuYWdlciA9IERpbmplY3QuZ2V0SW5zdGFuY2UoXCJhdWRpb1wiKTtcclxuXHJcbiAgICAgICAgdmFyIGxpc3RWaWV3ID0gbmV3IExpc3RWaWV3KCk7XHJcbiAgICAgICAgbGlzdFZpZXcuYWxpZ25lbWVudC52ZXJ0aWNhbEFsaWduID0gVmVydGljYWxBbGlnbmVtZW50T3B0aW9uLkJvdHRvbTtcclxuICAgICAgICBsaXN0Vmlldy5hbGlnbmVtZW50Lm1hcmdpbi5ib3R0b20gPSAyMDtcclxuICAgICAgICBsaXN0Vmlldy5wcm9wZXJ0aWVzLm9yaWVudGF0aW9uID0gT3JpZW50YXRpb24uSG9yaXpvbnRhbDtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2gobGlzdFZpZXcpO1xyXG5cclxuICAgICAgICB2YXIgcGxheVBhdXNlQnRuID0gdGhpcy5jcmVhdGVCdG4odGhpcy5wbGF5SWNvblRleHQsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHBsYXlQYXVzZUJ0bi50ZXh0ID09IHRoaXMucGxheUljb25UZXh0KSB7XHJcbiAgICAgICAgICAgICAgICBhdWRpb01hbmFnZXIucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgcGxheVBhdXNlQnRuLnRleHQgPSB0aGlzLnBhdXNlSWNvblRleHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhdWRpb01hbmFnZXIucGF1c2UoKTtcclxuICAgICAgICAgICAgICAgIHBsYXlQYXVzZUJ0bi50ZXh0ID0gdGhpcy5wbGF5SWNvblRleHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy50cmlnZ2VyVXBkYXRlTGF5b3V0KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbGlzdFZpZXcuYWRkSXRlbShwbGF5UGF1c2VCdG4pO1xyXG5cclxuICAgICAgICB2YXIgc3RvcEJ0biA9IHRoaXMuY3JlYXRlQnRuKHRoaXMuc3RvcEljb25UZXh0LCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGF1ZGlvTWFuYWdlci5zdG9wKCk7XHJcbiAgICAgICAgICAgIGlmIChwbGF5UGF1c2VCdG4udGV4dCA9PSB0aGlzLnBhdXNlSWNvblRleHQpIHtcclxuICAgICAgICAgICAgICAgIHBsYXlQYXVzZUJ0bi50ZXh0ID0gdGhpcy5wbGF5SWNvblRleHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy50cmlnZ2VyVXBkYXRlTGF5b3V0KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbGlzdFZpZXcuYWRkSXRlbShzdG9wQnRuKTtcclxuICAgICAgICBcclxuICAgICAgICB2YXIgcHJldmlvdXNCdG4gPSB0aGlzLmNyZWF0ZUJ0bih0aGlzLnByZXZpb3VzSWNvblRleHQsICgpID0+IHtcclxuICAgICAgICAgICAgYXVkaW9NYW5hZ2VyLnByZXZpb3VzKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbGlzdFZpZXcuYWRkSXRlbShwcmV2aW91c0J0bik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdmFyIG5leHRCdG4gPSB0aGlzLmNyZWF0ZUJ0bih0aGlzLm5leHRJY29uVGV4dCwgKCkgPT4ge1xyXG4gICAgICAgICAgICBhdWRpb01hbmFnZXIubmV4dCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGxpc3RWaWV3LmFkZEl0ZW0obmV4dEJ0bik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjcmVhdGVCdG4oaWNvblRleHQ6IHN0cmluZywgZXZlbnQ6ICgpID0+IHZvaWQpIHtcclxuICAgICAgICB2YXIgcGxheVBhdXNlQnRuID0gbmV3IEJ1dHRvbigpO1xyXG4gICAgICAgIHBsYXlQYXVzZUJ0bi5wcm9wZXJ0aWVzLmZvbnRQcmVmaXggPSBcIjkwMFwiO1xyXG4gICAgICAgIHBsYXlQYXVzZUJ0bi5wcm9wZXJ0aWVzLmZvbnRGYW1pbHkgPSBcIidGb250IEF3ZXNvbWUgNSBGcmVlJ1wiO1xyXG4gICAgICAgIHBsYXlQYXVzZUJ0bi50ZXh0ID0gaWNvblRleHQ7XHJcbiAgICAgICAgcGxheVBhdXNlQnRuLnByb3BlcnRpZXMuZmlsbFN0eWxlID0gU3R5bGUuZmlsbFN0eWxlO1xyXG4gICAgICAgIHBsYXlQYXVzZUJ0bi5wcm9wZXJ0aWVzLm1vdXNlT3ZlckZpbGxTdHlsZSA9IFN0eWxlLm1vdXNPdmVyO1xyXG4gICAgICAgIHBsYXlQYXVzZUJ0bi5jbGlja2VkLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQpO1xyXG4gICAgICAgIHJldHVybiBwbGF5UGF1c2VCdG47XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUxheW91dChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpIHtcclxuICAgICAgICBzdXBlci51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICBjaGlsZC51cGRhdGVMYXlvdXQoY3R4LCB0aGlzLmJvdW5kcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgSW1hZ2VTY2FsaW5nTW9kZSB9IGZyb20gXCIuL2ltYWdlU2NhbGluZ01vZGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBJbWFnZVByb3BlcnRpZXMge1xyXG4gICAgcHVibGljIGltYWdlU2NhbGluZ01vZGUgPSBJbWFnZVNjYWxpbmdNb2RlLkZpdEFuZFNwYWNlO1xyXG4gICAgcHVibGljIHNjYWxlID0gMTtcclxufSIsImltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgQ29udHJvbCB9IGZyb20gXCIuL2NvbnRyb2xcIjtcclxuaW1wb3J0IHsgSW1hZ2VQcm9wZXJ0aWVzIH0gZnJvbSBcIi4vaW1hZ2VQcm9wZXJ0aWVzXCI7XHJcbmltcG9ydCB7IEltYWdlU2NhbGluZ01vZGUgfSBmcm9tIFwiLi9pbWFnZVNjYWxpbmdNb2RlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRUltYWdlIGV4dGVuZHMgQ29udHJvbCB7XHJcbiAgICBwcml2YXRlIGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50O1xyXG4gICAgcHVibGljIHByb3BlcnRpZXMgPSBuZXcgSW1hZ2VQcm9wZXJ0aWVzKCk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBpbWFnZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZUZyb21VcmwgPSAoaW1hZ2VVcmw6IHN0cmluZyk6IFByb21pc2U8RUltYWdlPiA9PiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgICAgIGltYWdlLnNyYyA9IGltYWdlVXJsO1xyXG4gICAgICAgICAgICBpbWFnZS5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKG5ldyBFSW1hZ2UoaW1hZ2UpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc3VwZXJSZW5kZXIgPSB0aGlzLnJlbmRlcjtcclxuICAgIHB1YmxpYyByZW5kZXIgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpID0+IHtcclxuICAgICAgICB0aGlzLnN1cGVyUmVuZGVyKGN0eCk7XHJcblxyXG4gICAgICAgIGN0eC5kcmF3SW1hZ2UodGhpcy5pbWFnZSwgdGhpcy5kaW1lbnNpb25zLngsIHRoaXMuZGltZW5zaW9ucy55LCB0aGlzLmRpbWVuc2lvbnMud2lkdGgsIHRoaXMuZGltZW5zaW9ucy5oZWlnaHQpO1xyXG4gICAgICAgIGlmICh0aGlzLmlzTW91c2VPdmVyICYmIHRoaXMuaXNFbmFibGVkKSB7XHJcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBcInJnYmEoMjU1LDI1NSwyNTUsMC41KVwiO1xyXG4gICAgICAgICAgICBjdHguZmlsbFJlY3QodGhpcy5kaW1lbnNpb25zLngsIHRoaXMuZGltZW5zaW9ucy55LCB0aGlzLmRpbWVuc2lvbnMud2lkdGgsIHRoaXMuZGltZW5zaW9ucy5oZWlnaHQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcblxyXG4gICAgICAgIHZhciBmaXRTY2FsZSA9IDE7XHJcblxyXG4gICAgICAgIHZhciBpbWFnZVNpemluZyA9IHRoaXMuaW1hZ2UubmF0dXJhbFdpZHRoIC8gdGhpcy5pbWFnZS5uYXR1cmFsSGVpZ2h0O1xyXG4gICAgICAgIHZhciBzdGFnZVNpemluZyA9IGJvdW5kcy53aWR0aCAvIGJvdW5kcy5oZWlnaHQ7XHJcblxyXG4gICAgICAgIHZhciBpc0ltYWdlV2lkZXIgPSBpbWFnZVNpemluZyA+IHN0YWdlU2l6aW5nO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKHRoaXMucHJvcGVydGllcy5pbWFnZVNjYWxpbmdNb2RlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgSW1hZ2VTY2FsaW5nTW9kZS5GaXRBbmRPdmVyZmlsbDpcclxuICAgICAgICAgICAgICAgIGlmIChpc0ltYWdlV2lkZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBmaXRTY2FsZSA9IGJvdW5kcy5oZWlnaHQgLyB0aGlzLmltYWdlLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZml0U2NhbGUgPSBib3VuZHMud2lkdGggLyB0aGlzLmltYWdlLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgSW1hZ2VTY2FsaW5nTW9kZS5GaXRBbmRTcGFjZTpcclxuICAgICAgICAgICAgICAgIGlmIChpc0ltYWdlV2lkZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBmaXRTY2FsZSA9IGJvdW5kcy53aWR0aCAvIHRoaXMuaW1hZ2Uud2lkdGg7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpdFNjYWxlID0gYm91bmRzLmhlaWdodCAvIHRoaXMuaW1hZ2UuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmltYWdlLm5hdHVyYWxXaWR0aCAqIGZpdFNjYWxlO1xyXG4gICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmltYWdlLm5hdHVyYWxIZWlnaHQgKiBmaXRTY2FsZTtcclxuXHJcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zLnggPSB0aGlzLmFsaWduZW1lbnQuY2FsY3VsYXRlRGltZW5zaW9uc1goYm91bmRzLCB3aWR0aCk7XHJcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zLnkgPSB0aGlzLmFsaWduZW1lbnQuY2FsY3VsYXRlRGltZW5zaW9uc1koYm91bmRzLCB3aWR0aCk7XHJcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zLmhlaWdodCA9IGhlaWdodDtcclxuICAgIH1cclxufSIsImltcG9ydCB7IExheW91dFZpZXcgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9sYXlvdXRDb250cm9scy9sYXlvdXRWaWV3XCI7XHJcbmltcG9ydCB7IERpbmplY3QgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9kaW5qZWN0XCI7XHJcbmltcG9ydCB7IEFzc2V0TWFuYWdlciB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL2Fzc2V0TWFuYWdlclwiO1xyXG5pbXBvcnQgeyBFSW1hZ2UgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9jb250cm9scy9pbWFnZVwiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgSW1hZ2VTY2FsaW5nTW9kZSB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2ltYWdlU2NhbGluZ01vZGVcIjtcclxuaW1wb3J0IHsgQXVkaW9NYW5hZ2VyIH0gZnJvbSBcIi4uL2F1ZGlvTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBBdWRpb0dyYXBoTm9kZUFuYWx5c2VyIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvYXVkaW8vYXVkaW9HcmFwaE5vZGVBbmFseXNlclwiO1xyXG5pbXBvcnQgeyBMYWJlbCB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2xhYmVsXCI7XHJcbmltcG9ydCB7IFN0eWxlIH0gZnJvbSBcIi4vc3R5bGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBNYWluVmlldyBleHRlbmRzIExheW91dFZpZXcge1xyXG4gICAgYW5hbHlzZXI6IEF1ZGlvR3JhcGhOb2RlQW5hbHlzZXI7XHJcblxyXG4gICAgcHJpdmF0ZSBmcmVxdWVuY3lJbmRleCA9IDc7XHJcbiAgICBwcml2YXRlIGxvd2VyQm9yZGVyID0gMC40O1xyXG4gICAgcHJpdmF0ZSB1cHBlckJvcmRlciA9IDAuOTtcclxuICAgIHNvbmdOYW1lOiBMYWJlbDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHZhciBhc3NldE1hbmFnZXIgPSBEaW5qZWN0LmdldEluc3RhbmNlKFwiYXNzZXRzXCIpIGFzIEFzc2V0TWFuYWdlcjtcclxuXHJcbiAgICAgICAgdmFyIGF1ZGlvTWFuYWdlciA9IERpbmplY3QuZ2V0SW5zdGFuY2UoXCJhdWRpb1wiKSBhcyBBdWRpb01hbmFnZXI7XHJcbiAgICAgICAgdGhpcy5hbmFseXNlciA9IGF1ZGlvTWFuYWdlci5nZXRBbmFseXNlcigpO1xyXG5cclxuICAgICAgICB2YXIgbG9nbyA9IGFzc2V0TWFuYWdlci5nZXRJbWFnZShcImxvZ29cIik7XHJcbiAgICAgICAgdmFyIGxvZ29Ob3ZhID0gYXNzZXRNYW5hZ2VyLmdldEltYWdlKFwibG9nby1ub3ZhXCIpO1xyXG5cclxuICAgICAgICB0aGlzLmRpc2FibGVNb3VzZUV2ZW50cygpO1xyXG5cclxuICAgICAgICB2YXIgbG9nb05vdmFFSW1hZ2UgPSBuZXcgRUltYWdlKGxvZ29Ob3ZhKTtcclxuICAgICAgICBsb2dvTm92YUVJbWFnZS5wcm9wZXJ0aWVzLmltYWdlU2NhbGluZ01vZGUgPSBJbWFnZVNjYWxpbmdNb2RlLkZpdEFuZFNwYWNlO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChsb2dvTm92YUVJbWFnZSk7XHJcblxyXG4gICAgICAgIHZhciBmdW5jID0gbG9nb05vdmFFSW1hZ2UucmVuZGVyXHJcblxyXG4gICAgICAgIGxvZ29Ob3ZhRUltYWdlLnJlbmRlciA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4ge1xyXG4gICAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMuYW5hbHlzZXIuZ2V0U3BlY3RydW0oKTtcclxuICAgICAgICAgICAgdmFyIHJlbERhdGFWYWx1ZSA9IHRoaXMuY2FsY3VsYXRlUmVsRGF0YVZhbHVlKGRhdGFbdGhpcy5mcmVxdWVuY3lJbmRleF0pO1xyXG5cclxuICAgICAgICAgICAgY3R4LnNhdmUoKTtcclxuICAgICAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gcmVsRGF0YVZhbHVlO1xyXG4gICAgICAgICAgICBmdW5jKGN0eCk7XHJcbiAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgbG9nb0Zyb250ID0gbmV3IEVJbWFnZShsb2dvKTtcclxuICAgICAgICBsb2dvRnJvbnQucHJvcGVydGllcy5pbWFnZVNjYWxpbmdNb2RlID0gSW1hZ2VTY2FsaW5nTW9kZS5GaXRBbmRTcGFjZTtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2gobG9nb0Zyb250KTtcclxuXHJcbiAgICAgICAgYXVkaW9NYW5hZ2VyLnNvbmdDaGFuZ2VkLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5zb25nQ2hhbmdlZCk7XHJcbiAgICAgICAgdGhpcy5zb25nTmFtZSA9IG5ldyBMYWJlbCgpO1xyXG4gICAgICAgIHRoaXMuc29uZ05hbWUudGV4dCA9IGF1ZGlvTWFuYWdlci5jdXJyZW50U29uZ05hbWU7XHJcbiAgICAgICAgdGhpcy5uZXdTb25nTmFtZSA9IGF1ZGlvTWFuYWdlci5jdXJyZW50U29uZ05hbWU7XHJcbiAgICAgICAgdGhpcy5zb25nTmFtZS5wcm9wZXJ0aWVzLmZvbnRTaXplID0gNDA7XHJcbiAgICAgICAgdGhpcy5zb25nTmFtZS5wcm9wZXJ0aWVzLmZpbGxTdHlsZSA9IFN0eWxlLm1vdXNPdmVyO1xyXG4gICAgICAgIHRoaXMuc29uZ05hbWUucHJvcGVydGllcy5mb250RmFtaWx5ID0gXCJHZW9yZ2lhXCI7XHJcbiAgICAgICAgdGhpcy5zb25nTmFtZS5hbGlnbmVtZW50LnZlcnRpY2FsQWxpZ25tZW50UmF0aW8gPSAwLjY7XHJcbiAgICAgICAgKGRvY3VtZW50IGFzIGFueSkueCA9IHRoaXMuc29uZ05hbWU7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHRoaXMuc29uZ05hbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaXNTb25nQW5pbWF0aW5nID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIG5ld1NvbmdOYW1lOiBzdHJpbmc7XHJcbiAgICBwcml2YXRlIHNvbmdDaGFuZ2VkID0gKHNvbmdOYW1lOiBzdHJpbmcpID0+IHtcclxuICAgICAgICB0aGlzLm5ld1NvbmdOYW1lID0gc29uZ05hbWU7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzU29uZ0FuaW1hdGluZykge1xyXG4gICAgICAgICAgICB0aGlzLmlzU29uZ0FuaW1hdGluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuc29uZ05hbWUuZGVhY3RpdmF0ZSgwLjgpO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc29uZ05hbWUudGV4dCA9IHRoaXMubmV3U29uZ05hbWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXJVcGRhdGVMYXlvdXQoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc29uZ05hbWUuYWN0aXZhdGUoMC44KTtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNTb25nQW5pbWF0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9LCA5MDApO1xyXG4gICAgICAgICAgICB9LCA5MDApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubmV3U29uZ05hbWUgPT0gc29uZ05hbWUgJiYgdGhpcy5zb25nTmFtZS50ZXh0ICE9IHNvbmdOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zb25nQ2hhbmdlZChzb25nTmFtZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIDEwMDApO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNhbGN1bGF0ZVJlbERhdGFWYWx1ZShkYXRhVmFsdWU6IG51bWJlcikge1xyXG4gICAgICAgIHZhciByZWxEYXRhVmFsdWUgPSBkYXRhVmFsdWUgLyAyNTU7XHJcbiAgICAgICAgaWYgKHJlbERhdGFWYWx1ZSA8IHRoaXMubG93ZXJCb3JkZXIpIHtcclxuICAgICAgICAgICAgcmVsRGF0YVZhbHVlID0gdGhpcy5sb3dlckJvcmRlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJlbERhdGFWYWx1ZSA+IHRoaXMudXBwZXJCb3JkZXIpIHtcclxuICAgICAgICAgICAgcmVsRGF0YVZhbHVlID0gdGhpcy51cHBlckJvcmRlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGZpbmFsUmVsRGF0YVZhbHVlID0gKHJlbERhdGFWYWx1ZSAtIHRoaXMubG93ZXJCb3JkZXIpIC8gKHRoaXMudXBwZXJCb3JkZXIgLSB0aGlzLmxvd2VyQm9yZGVyKTtcclxuICAgICAgICByZXR1cm4gZmluYWxSZWxEYXRhVmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUxheW91dChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICBjaGlsZC51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IFJlbmRlck9iamVjdCB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL3JlbmRlck9iamVjdFwiO1xyXG5pbXBvcnQgeyBTdGFyTGF5ZXIgfSBmcm9tIFwiLi4vLi4vbW9kZWxzL3N0YXJMYXllclwiO1xyXG5pbXBvcnQgeyBTdGFyIH0gZnJvbSBcIi4uLy4uL21vZGVscy9zdGFyXCI7XHJcbmltcG9ydCB7IEFwcCB9IGZyb20gXCIuLi8uLi9hcHBcIjtcclxuaW1wb3J0IHsgRUFuaW1hdGlvbiB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL2VBbmltYXRpb25cIjtcclxuaW1wb3J0IHsgRGluamVjdCB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL2RpbmplY3RcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTdGFyTGF5ZXJWaWV3IGV4dGVuZHMgUmVuZGVyT2JqZWN0IHtcclxuICAgIHByaXZhdGUgc3RhcnM6IFN0YXJbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBhbmltYXRpb246IEVBbmltYXRpb247XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBzdGFyTGF5ZXI6IFN0YXJMYXllcikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy50YWcgPSBzdGFyTGF5ZXI7XHJcbiAgICAgICAgdGhpcy5hbmltYXRpb24gPSBEaW5qZWN0LmdldEluc3RhbmNlKFwiYW5pbWF0aW9uXCIpO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uLmFkZFVwZGF0ZUZ1bmN0aW9uKHRoaXMudXBkYXRlKTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGFyTGF5ZXIubnVtYmVyT2ZTdGFycy5nZXQoKTsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYWRkU3RhcigpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc3RhckxheWVyLm51bWJlck9mU3RhcnMuT25DaGFuZ2VkLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5udW1iZXJPZlN0YXJzQ2hhbmdlZCk7XHJcbiAgICAgICAgc3RhckxheWVyLnN0YXJSYWRpdXNMb3dlckJvcmRlci5PbkNoYW5nZWQuYWRkRXZlbnRMaXN0ZW5lcigob2xkVmFsdWUsIG5ld1ZhbHVlKSA9PiB7IHRoaXMuc2l6ZUNoYW5nZWQob2xkVmFsdWUsIHRoaXMuc3RhckxheWVyLnN0YXJSYWRpdXNVcHBlckJvcmRlci5nZXQoKSkgfSk7XHJcbiAgICAgICAgc3RhckxheWVyLnN0YXJSYWRpdXNVcHBlckJvcmRlci5PbkNoYW5nZWQuYWRkRXZlbnRMaXN0ZW5lcigob2xkVmFsdWUsIG5ld1ZhbHVlKSA9PiB7IHRoaXMuc2l6ZUNoYW5nZWQodGhpcy5zdGFyTGF5ZXIuc3RhclJhZGl1c0xvd2VyQm9yZGVyLmdldCgpLCBvbGRWYWx1ZSkgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzaXplQ2hhbmdlZCA9IChsb3dlclZhbHVlOiBudW1iZXIsIHVwcGVyVmFsdWU6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIHZhciBjdXJyZW50VmFsdWVMb3cgPSBsb3dlclZhbHVlO1xyXG4gICAgICAgIHZhciBjdXJyZW50VmFsdWVIaWdoID0gdXBwZXJWYWx1ZTtcclxuXHJcbiAgICAgICAgdmFyIG1pbkZpeCA9IChjdXJyZW50VmFsdWVIaWdoIC0gY3VycmVudFZhbHVlTG93KTtcclxuICAgICAgICBpZiAobWluRml4IDw9IDApIHtcclxuICAgICAgICAgICAgbWluRml4ID0gMC4wMDAxXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciByYXRpbyA9ICh0aGlzLnN0YXJMYXllci5zdGFyUmFkaXVzVXBwZXJCb3JkZXIuZ2V0KCkgLSB0aGlzLnN0YXJMYXllci5zdGFyUmFkaXVzTG93ZXJCb3JkZXIuZ2V0KCkpIC8gbWluRml4O1xyXG4gICAgICAgIGZvciAoY29uc3Qgc3RhciBvZiB0aGlzLnN0YXJzKSB7XHJcbiAgICAgICAgICAgIHN0YXIuciA9IChzdGFyLnIgLSBjdXJyZW50VmFsdWVMb3cpICogcmF0aW8gKyB0aGlzLnN0YXJMYXllci5zdGFyUmFkaXVzTG93ZXJCb3JkZXIuZ2V0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbnVtYmVyT2ZTdGFyc0NoYW5nZWQgPSAob2xkVmFsdWU6IG51bWJlciwgbmV3VmFsdWU6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIHZhciBkaWZmID0gbmV3VmFsdWUgLSB0aGlzLnN0YXJzLmxlbmd0aDtcclxuICAgICAgICBpZiAoZGlmZiA+IDApIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaWZmOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkU3RhcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAtZGlmZjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5kZXggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiB0aGlzLnN0YXJzLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJzLnJlbW92ZUl0ZW0odGhpcy5zdGFyc1tpXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZSA9ICh0aW1lRGlmZjogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgZm9yIChjb25zdCBzdGFyIG9mIHRoaXMuc3RhcnMpIHtcclxuICAgICAgICAgICAgc3Rhci54ICs9IHRoaXMuc3RhckxheWVyLnNwZWVkLmdldCgpICogdGltZURpZmY7XHJcbiAgICAgICAgICAgIHN0YXIueSArPSB0aGlzLnN0YXJMYXllci5zcGVlZC5nZXQoKSAqIHRpbWVEaWZmO1xyXG4gICAgICAgICAgICBpZiAoc3Rhci54ID4gQXBwLnZpc3VhbGl6YXRpb25Nb2RlbC53aWR0aC5nZXQoKSkge1xyXG4gICAgICAgICAgICAgICAgc3Rhci54IC09IEFwcC52aXN1YWxpemF0aW9uTW9kZWwud2lkdGguZ2V0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHN0YXIueSA+IEFwcC52aXN1YWxpemF0aW9uTW9kZWwuaGVpZ2h0LmdldCgpKSB7XHJcbiAgICAgICAgICAgICAgICBzdGFyLnkgLT0gQXBwLnZpc3VhbGl6YXRpb25Nb2RlbC5oZWlnaHQuZ2V0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbmRlciA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIGZvciAoY29uc3Qgc3RhciBvZiB0aGlzLnN0YXJzKSB7XHJcbiAgICAgICAgICAgIHZhciBlbmQgPSBzdGFyLnIgKiAzO1xyXG4gICAgICAgICAgICB2YXIgZ3JhZCA9IGN0eC5jcmVhdGVSYWRpYWxHcmFkaWVudChzdGFyLngsIHN0YXIueSwgc3Rhci5yLCBzdGFyLngsIHN0YXIueSwgZW5kKTtcclxuICAgICAgICAgICAgZ3JhZC5hZGRDb2xvclN0b3AoMCwgJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKScpO1xyXG4gICAgICAgICAgICBncmFkLmFkZENvbG9yU3RvcCgxLCAncmdiYSgyNTUsIDI1NSwgMjU1LCAwKScpO1xyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gZ3JhZDtcclxuICAgICAgICAgICAgY3R4LmFyYyhzdGFyLngsIHN0YXIueSwgZW5kLCAwLCBNYXRoLlBJICogMik7XHJcbiAgICAgICAgICAgIGN0eC5maWxsKCk7XHJcblxyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gXCJ3aGl0ZVwiO1xyXG4gICAgICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgICAgIGN0eC5hcmMoc3Rhci54LCBzdGFyLnksIHN0YXIuciwgMCwgTWF0aC5QSSAqIDIpO1xyXG4gICAgICAgICAgICBjdHguZmlsbCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFkZFN0YXIoKSB7XHJcbiAgICAgICAgdGhpcy5zdGFycy5wdXNoKHtcclxuICAgICAgICAgICAgeDogTWF0aC5yYW5kb20oKSAqIEFwcC52aXN1YWxpemF0aW9uTW9kZWwud2lkdGguZ2V0KCksXHJcbiAgICAgICAgICAgIHk6IE1hdGgucmFuZG9tKCkgKiBBcHAudmlzdWFsaXphdGlvbk1vZGVsLmhlaWdodC5nZXQoKSxcclxuICAgICAgICAgICAgcjogTWF0aC5yYW5kb20oKSAqICh0aGlzLnN0YXJMYXllci5zdGFyUmFkaXVzVXBwZXJCb3JkZXIuZ2V0KCkgLSB0aGlzLnN0YXJMYXllci5zdGFyUmFkaXVzTG93ZXJCb3JkZXIuZ2V0KCkpICsgdGhpcy5zdGFyTGF5ZXIuc3RhclJhZGl1c0xvd2VyQm9yZGVyLmdldCgpXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgbW91c2VEb3duKGV2OiBNb3VzZUV2ZW50KTogdm9pZCB7XHJcbiAgICB9XHJcbiAgICBtb3VzZVVwKGV2OiBNb3VzZUV2ZW50KTogdm9pZCB7XHJcbiAgICB9XHJcbiAgICBtb3VzZU1vdmUoZXY6IE1vdXNlRXZlbnQpOiB2b2lkIHtcclxuICAgIH1cclxuICAgIGNsaWNrKGV2OiBNb3VzZUV2ZW50KTogdm9pZCB7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi4vLi4vYXBwXCI7XHJcbmltcG9ydCB7IFN0YXJMYXllciB9IGZyb20gXCIuLi8uLi9tb2RlbHMvc3RhckxheWVyXCI7XHJcbmltcG9ydCB7IFN0YXJMYXllclZpZXcgfSBmcm9tIFwiLi9zdGFyTGF5ZXJWaWV3XCI7XHJcbmltcG9ydCB7IExheW91dFZpZXcgfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9sYXlvdXRDb250cm9scy9sYXlvdXRWaWV3XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU3RhckxheWVyTWFuYWdlclZpZXcgZXh0ZW5kcyBMYXlvdXRWaWV3IHtcclxuICAgIHByaXZhdGUgc3RhckxheWVyVmlld3M6IFN0YXJMYXllclZpZXdbXSA9IFtdO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5kaXNhYmxlTW91c2VFdmVudHMoKTtcclxuICAgICAgICBBcHAudmlzdWFsaXphdGlvbk1vZGVsLnN0YXJMYXllcnMub25BZGQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmFkZFN0YXJMYXllcik7XHJcbiAgICAgICAgQXBwLnZpc3VhbGl6YXRpb25Nb2RlbC5zdGFyTGF5ZXJzLm9uUmVtb3ZlLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5yZW1vdmVTdGFyTGF5ZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYWRkU3RhckxheWVyID0gKHN0YXJMYXllcjogU3RhckxheWVyKSA9PiB7XHJcbiAgICAgICAgdmFyIHN0YXJMYXllclZpZXcgPSBuZXcgU3RhckxheWVyVmlldyhzdGFyTGF5ZXIpO1xyXG4gICAgICAgIHRoaXMuc3RhckxheWVyVmlld3MucHVzaChzdGFyTGF5ZXJWaWV3KTtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goc3RhckxheWVyVmlldyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZW1vdmVTdGFyTGF5ZXIgPSAoc3RhckxheWVyOiBTdGFyTGF5ZXIpID0+IHtcclxuICAgICAgICB2YXIgc3RhckxheWVyVmlldyA9IHRoaXMuc3RhckxheWVyVmlld3MuZmlyc3RPckRlZmF1bHQoeCA9PiB4LnRhZyA9PSBzdGFyTGF5ZXIpO1xyXG4gICAgICAgIGlmIChzdGFyTGF5ZXJWaWV3KSB7XHJcbiAgICAgICAgICAgIHRoaXMuc3RhckxheWVyVmlld3MucmVtb3ZlSXRlbShzdGFyTGF5ZXJWaWV3KTtcclxuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5yZW1vdmVJdGVtKHN0YXJMYXllclZpZXcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IExheW91dFZpZXcgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9sYXlvdXRDb250cm9scy9sYXlvdXRWaWV3XCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBTZXR0aW5nc1ZpZXcgfSBmcm9tIFwiLi4vc2V0dGluZ3Mvdmlldy9zZXR0aW5nc1ZpZXdcIjtcclxuaW1wb3J0IHsgRUFuaW1hdGlvbiB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL2VBbmltYXRpb25cIjtcclxuaW1wb3J0IHsgRGluamVjdCB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL2RpbmplY3RcIjtcclxuaW1wb3J0IHsgUGxheWVyQ29udHJvbHNWaWV3IH0gZnJvbSBcIi4vcGxheWVyQ29udHJvbHNWaWV3XCI7XHJcbmltcG9ydCB7IE1haW5WaWV3IH0gZnJvbSBcIi4vbWFpblZpZXdcIjtcclxuaW1wb3J0IHsgQXNzZXRNYW5hZ2VyIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvYXNzZXRNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IEVJbWFnZSB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2ltYWdlXCI7XHJcbmltcG9ydCB7IEltYWdlU2NhbGluZ01vZGUgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9jb250cm9scy9pbWFnZVNjYWxpbmdNb2RlXCI7XHJcbmltcG9ydCB7IFN0YXJMYXllck1hbmFnZXJWaWV3IH0gZnJvbSBcIi4vc3RhckxheWVycy9zdGFyTGF5ZXJNYW5hZ2VyVmlld1wiO1xyXG5pbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi4vYXBwXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUm9vdFZpZXcgZXh0ZW5kcyBMYXlvdXRWaWV3IHtcclxuICAgIHByaXZhdGUgYW5pbWF0aW9uOiBFQW5pbWF0aW9uO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uID0gRGluamVjdC5nZXRJbnN0YW5jZShcImFuaW1hdGlvblwiKTtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbi5sb3dQZXJmb3JtYW5jZS5hZGRFdmVudExpc3RlbmVyKHRoaXMub25Mb3dQZXJmb3JtYW5jZSk7XHJcbiAgICAgICAgLy8gQXBwLnNldHRpbmdNYW5hZ2VyLnVwZGF0ZS5hZGRFdmVudExpc3RlbmVyKHRoaXMuYXBwU2V0dGluZ3NVcGRhdGVkKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkQmFja2dyb3VuZCgpO1xyXG5cclxuICAgICAgICB2YXIgc3RhckxheWVyTWFuYWdlclZpZXcgPSBuZXcgU3RhckxheWVyTWFuYWdlclZpZXcoKTtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goc3RhckxheWVyTWFuYWdlclZpZXcpO1xyXG5cclxuICAgICAgICB2YXIgZnJvbnQgPSBuZXcgTWFpblZpZXcoKTtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goZnJvbnQpO1xyXG5cclxuICAgICAgICB2YXIgcGxheWVyVmlldyA9IG5ldyBQbGF5ZXJDb250cm9sc1ZpZXcoKTtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2gocGxheWVyVmlldyk7XHJcblxyXG4gICAgICAgIHZhciBzZXR0aW5nc092ZXJsYXkgPSBuZXcgU2V0dGluZ3NWaWV3KCk7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHNldHRpbmdzT3ZlcmxheSk7XHJcblxyXG4gICAgICAgIHRoaXMudHJpZ2dlclVwZGF0ZUxheW91dCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgb25Mb3dQZXJmb3JtYW5jZSA9ICgpID0+IHtcclxuICAgICAgICBmb3IgKGNvbnN0IHN0YXJMYXllciBvZiBBcHAudmlzdWFsaXphdGlvbk1vZGVsLnN0YXJMYXllcnMuaXRlbXMpIHtcclxuICAgICAgICAgICAgc3RhckxheWVyLm51bWJlck9mU3RhcnMuc2V0KHN0YXJMYXllci5udW1iZXJPZlN0YXJzLmdldCgpICogMC45KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBsb2FkQmFja2dyb3VuZCgpIHtcclxuICAgICAgICB2YXIgYXNzZXRNYW5hZ2VyID0gRGluamVjdC5nZXRJbnN0YW5jZShcImFzc2V0c1wiKSBhcyBBc3NldE1hbmFnZXI7XHJcbiAgICAgICAgdmFyIGJhY2tncm91bmQgPSBhc3NldE1hbmFnZXIuZ2V0SW1hZ2UoXCJiYWNrZ3JvdW5kXCIpO1xyXG4gICAgICAgIHZhciBiYWNrZ3JvdW5kSW1hZ2UgPSBuZXcgRUltYWdlKGJhY2tncm91bmQpO1xyXG4gICAgICAgIGJhY2tncm91bmRJbWFnZS5kaXNhYmxlTW91c2VFdmVudHMoKTtcclxuICAgICAgICBiYWNrZ3JvdW5kSW1hZ2UucHJvcGVydGllcy5pbWFnZVNjYWxpbmdNb2RlID0gSW1hZ2VTY2FsaW5nTW9kZS5GaXRBbmRPdmVyZmlsbDtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goYmFja2dyb3VuZEltYWdlKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGNoaWxkLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgRUV2ZW50IH0gZnJvbSBcIi4vZUV2ZW50XCI7XHJcblxyXG5leHBvcnQgdHlwZSBVcGRhdGVGdW5jdGlvbiA9ICh0aW1lRGlmZjogbnVtYmVyKSA9PiB2b2lkO1xyXG5cclxuZXhwb3J0IGNsYXNzIEVBbmltYXRpb24ge1xyXG4gICAgcHJpdmF0ZSB1cGRhdGVGdW5jdGlvbnM6IFVwZGF0ZUZ1bmN0aW9uW10gPSBbXTtcclxuICAgIHByaXZhdGUgaXNSdW5uaW5nID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIGxhc3RGcmFtZVRpbWU6IG51bWJlcjtcclxuICAgIHByaXZhdGUgZnBzOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGZwc0ludGVydmFsOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIHBlcmZvcm1hbmNlV2FybmluZ1RocmVzaG9sZCA9IDEuMjtcclxuICAgIHByaXZhdGUgcGVyZm9ybWFuY2VXYXJuaW5nRGVsYXlSdW5zID0gODtcclxuICAgIHByaXZhdGUgY3VycmVudFBlcmZvcm1hbmNlV2FybmluZ0RlbGF5UnVuID0gMDtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRGcHMoMzApO1xyXG4gICAgICAgIHRoaXMucGxheSgpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IDgwKSB7IC8vIHBcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheVBhdXNlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbG93UGVyZm9ybWFuY2U6IEVFdmVudCA9IG5ldyBFRXZlbnQoKTtcclxuXHJcbiAgICBwdWJsaWMgcGxheSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNSdW5uaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNSdW5uaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5sYXN0RnJhbWVUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25Mb29wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwYXVzZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc1J1bm5pbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5pc1J1bm5pbmcgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBsYXlQYXVzZSgpIHtcclxuICAgICAgICB0aGlzLmlzUnVubmluZyA/IHRoaXMucGF1c2UoKSA6IHRoaXMucGxheSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRVcGRhdGVGdW5jdGlvbiA9IChmdW5jOiBVcGRhdGVGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlRnVuY3Rpb25zLnB1c2goZnVuYyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZVVwZGF0ZUZ1bmN0aW9uID0gKGZ1bmM6IFVwZGF0ZUZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVGdW5jdGlvbnMuc3BsaWNlKHRoaXMudXBkYXRlRnVuY3Rpb25zLmluZGV4T2YoZnVuYyksIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRGcHMgPSAoZnBzOiBudW1iZXIpID0+IHtcclxuICAgICAgICB0aGlzLmZwcyA9IGZwcztcclxuICAgICAgICB0aGlzLmZwc0ludGVydmFsID0gMTAwMCAvIHRoaXMuZnBzO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYW5pbWF0aW9uTG9vcCA9ICgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5pc1J1bm5pbmcpIHtcclxuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0aW9uTG9vcCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTtcclxuICAgICAgICB2YXIgZWxhcHNlZCA9IG5vdyAtIHRoaXMubGFzdEZyYW1lVGltZTtcclxuXHJcbiAgICAgICAgaWYgKGVsYXBzZWQgPiB0aGlzLmZwc0ludGVydmFsKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdEZyYW1lVGltZSA9IG5vdztcclxuICAgICAgICAgICAgdmFyIHRpbWVEaWZmID0gZWxhcHNlZCAvIDEwMDA7XHJcblxyXG4gICAgICAgICAgICBpZiAoKGVsYXBzZWQgLyB0aGlzLmZwc0ludGVydmFsKSAtIDEgPiB0aGlzLnBlcmZvcm1hbmNlV2FybmluZ1RocmVzaG9sZCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJXYXJuaW5nOiBsb3cgcGVyZm9ybWFuY2VcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQZXJmb3JtYW5jZVdhcm5pbmdEZWxheVJ1bisrO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY3VycmVudFBlcmZvcm1hbmNlV2FybmluZ0RlbGF5UnVuID4gdGhpcy5wZXJmb3JtYW5jZVdhcm5pbmdEZWxheVJ1bnMpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvd1BlcmZvcm1hbmNlLmRpc3BhdGNoRXZlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQZXJmb3JtYW5jZVdhcm5pbmdEZWxheVJ1biA9IDA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5jdXJyZW50UGVyZm9ybWFuY2VXYXJuaW5nRGVsYXlSdW4gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRQZXJmb3JtYW5jZVdhcm5pbmdEZWxheVJ1biA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgdXBkYXRlRnVuY3Rpb24gb2YgdGhpcy51cGRhdGVGdW5jdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZUZ1bmN0aW9uKHRpbWVEaWZmKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBDYW52YXNIZWxwZXIge1xyXG4gICAgcHVibGljIGxvYWRGb250YXdlc29tZUZyZWUgPSAoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZEZvbnQoXCJcXHVmMjQ0XCIsIFwiXFx1ZjI0MFwiLCBcIjkwMCAyMHB4ICdGb250IEF3ZXNvbWUgNSBGcmVlJ1wiKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbG9hZEZvbnRhd2Vzb21lQnJhbmRzID0gKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRGb250KFwiXFx1ZjNkM1wiLCBcIlxcdWYzYjhcIiwgXCI0MDAgMjBweCAnRm9udCBBd2Vzb21lIDUgQnJhbmRzJ1wiKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNvdW50UGl4ZWxzID0gKGltYWdlRGF0YTogSW1hZ2VEYXRhKSA9PiB7XHJcbiAgICAgICAgdmFyIHBpeGVsQ291bnQgPSAwO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW1hZ2VEYXRhLmRhdGEubGVuZ3RoOyBpID0gaSArIDQpIHtcclxuICAgICAgICAgICAgdmFyIHIgPSBpbWFnZURhdGEuZGF0YVtpXTtcclxuICAgICAgICAgICAgdmFyIGcgPSBpbWFnZURhdGEuZGF0YVtpICsgMV07XHJcbiAgICAgICAgICAgIHZhciBiID0gaW1hZ2VEYXRhLmRhdGFbaSArIDJdO1xyXG4gICAgICAgICAgICB2YXIgYSA9IGltYWdlRGF0YS5kYXRhW2kgKyAzXTtcclxuXHJcbiAgICAgICAgICAgIGlmIChyIDwgNTAgJiYgZyA8IDUwICYmIGIgPCA1MCAmJiBhID4gMC45KSB7XHJcbiAgICAgICAgICAgICAgICBwaXhlbENvdW50Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBpeGVsQ291bnRcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldEljb25QaXhlbHMgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQsIGljb246IHN0cmluZykgPT4ge1xyXG4gICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcclxuICAgICAgICBjdHguZmlsbFRleHQoaWNvbiwgMCwgMCk7XHJcbiAgICAgICAgdmFyIGltYWdlRGF0YSA9IGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcclxuICAgICAgICB2YXIgaWNvbjFQaXhlbENvdW50ID0gdGhpcy5jb3VudFBpeGVscyhpbWFnZURhdGEpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiaWNvbiAxIHBpeGVsIGNvdW50OiBcIiArIGljb24xUGl4ZWxDb3VudCk7XHJcbiAgICAgICAgcmV0dXJuIGljb24xUGl4ZWxDb3VudDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGxvYWRGb250ID0gKGljb24xOiBzdHJpbmcsIGljb24yOiBzdHJpbmcsIGZvbnQ6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIHZhciByZXRyeURlbGF5TXMgPSA1MDA7XHJcbiAgICAgICAgdmFyIHJldHJpZXMgPSAxMFxyXG5cclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImxvYWRpbmcgZm9udCBcXFwiXCIgKyBmb250ICsgXCJcXFwiXCIpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHRlbXBDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICAgICAgdGVtcENhbnZhcy53aWR0aCA9IDIwO1xyXG4gICAgICAgICAgICB0ZW1wQ2FudmFzLmhlaWdodCA9IDIwO1xyXG4gICAgICAgICAgICB2YXIgdGVtcEN0eCA9IHRlbXBDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICAgICAgdGVtcEN0eC5mb250ID0gZm9udDtcclxuICAgICAgICAgICAgdGVtcEN0eC5maWxsU3R5bGUgPSBcImJsYWNrXCI7XHJcbiAgICAgICAgICAgIHRlbXBDdHgudGV4dEFsaWduID0gXCJsZWZ0XCI7XHJcbiAgICAgICAgICAgIHRlbXBDdHgudGV4dEJhc2VsaW5lID0gXCJ0b3BcIjtcclxuXHJcbiAgICAgICAgICAgIHZhciBjaGVja0xvYWRlZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBpY29uMVBpeGVsQ291bnQgPSB0aGlzLmdldEljb25QaXhlbHModGVtcEN0eCwgdGVtcENhbnZhcywgaWNvbjEpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGljb24yUGl4ZWxDb3VudCA9IHRoaXMuZ2V0SWNvblBpeGVscyh0ZW1wQ3R4LCB0ZW1wQ2FudmFzLCBpY29uMik7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGRpZmZQaXhlbHMgPSBNYXRoLmFicyhpY29uMlBpeGVsQ291bnQgLSBpY29uMVBpeGVsQ291bnQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChkaWZmUGl4ZWxzID4gNSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwibG9hZGVkIGZvbnQgXFxcIlwiICsgZm9udCArIFwiXFxcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHJpZXMtLTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmV0cmllcyA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic3RvcCBsb2FkaW5nIGZvbnQgYWZ0ZXIgXCIgKyByZXRyaWVzICsgXCIgcmV0cmllcyB3aXRoIFwiICsgcmV0cnlEZWxheU1zICsgXCJtcyBkZWxheVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwid2FpdGluZyBhIHdoaWxlIChcIiArIHJldHJ5RGVsYXlNcyArIFwibXMpXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrTG9hZGVkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJldHJ5RGVsYXlNcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNoZWNrTG9hZGVkKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgYWJzdHJhY3QgY2xhc3MgQXVkaW9HcmFwaE5vZGUge1xyXG4gICAgY29uc3RydWN0b3IocHVibGljIG5hbWU6IHN0cmluZywgcHJvdGVjdGVkIGF1ZGlvQ3R4OiBBdWRpb0NvbnRleHQpIHsgfVxyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBnZXRBdWRpb05vZGUoKTogQXVkaW9Ob2RlO1xyXG4gICAgcHVibGljIGFic3RyYWN0IHJlbG9hZCgpOiBQcm9taXNlPHZvaWQ+O1xyXG59IiwiaW1wb3J0IHsgQXVkaW9HcmFwaE5vZGUgfSBmcm9tIFwiLi9hdWRpb0dyYXBoTm9kZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEF1ZGlvR3JhcGhOb2RlQW5hbHlzZXIgZXh0ZW5kcyBBdWRpb0dyYXBoTm9kZSB7XHJcbiAgICBhbmFseXNlck5vZGU6IEFuYWx5c2VyTm9kZTtcclxuICAgIGJ1ZmZlckxlbmd0aDogbnVtYmVyO1xyXG4gICAgZGF0YUFycmF5OiBVaW50OEFycmF5O1xyXG5cclxuICAgIHB1YmxpYyBnZXRBdWRpb05vZGUgPSAoKTogQXVkaW9Ob2RlID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hbmFseXNlck5vZGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbG9hZCgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuYW5hbHlzZXJOb2RlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFuYWx5c2VyTm9kZSA9IHRoaXMuYXVkaW9DdHguY3JlYXRlQW5hbHlzZXIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmFuYWx5c2VyTm9kZS5mZnRTaXplID0gMzI7XHJcbiAgICAgICAgICAgIHRoaXMuYW5hbHlzZXJOb2RlLnNtb290aGluZ1RpbWVDb25zdGFudCA9IDAuOTtcclxuICAgICAgICAgICAgdGhpcy5idWZmZXJMZW5ndGggPSB0aGlzLmFuYWx5c2VyTm9kZS5mcmVxdWVuY3lCaW5Db3VudDtcclxuICAgICAgICAgICAgdGhpcy5kYXRhQXJyYXkgPSBuZXcgVWludDhBcnJheSh0aGlzLmJ1ZmZlckxlbmd0aCk7XHJcbiAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0U3BlY3RydW0oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYW5hbHlzZXJOb2RlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYW5hbHlzZXJOb2RlLmdldEJ5dGVGcmVxdWVuY3lEYXRhKHRoaXMuZGF0YUFycmF5KTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YUFycmF5O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoMCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFdhdmUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYW5hbHlzZXJOb2RlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYW5hbHlzZXJOb2RlLmdldEJ5dGVUaW1lRG9tYWluRGF0YSh0aGlzLmRhdGFBcnJheSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGFBcnJheTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KDApO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQXVkaW9HcmFwaE5vZGUgfSBmcm9tIFwiLi9hdWRpb0dyYXBoTm9kZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEF1ZGlvR3JhcGhOb2RlRGVzdGluYXRpb24gZXh0ZW5kcyBBdWRpb0dyYXBoTm9kZSB7XHJcbiAgICBwdWJsaWMgZ2V0QXVkaW9Ob2RlID0gKCk6IEF1ZGlvTm9kZSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYXVkaW9DdHguZGVzdGluYXRpb247XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbG9hZCgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBBdWRpb0dyYXBoTm9kZSB9IGZyb20gXCIuL2F1ZGlvR3JhcGhOb2RlXCI7XHJcbmltcG9ydCB7IEVFdmVudCB9IGZyb20gXCIuLi9lRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBdWRpb0dyYXBoTm9kZUVsZW1lbnRTb3VyY2UgZXh0ZW5kcyBBdWRpb0dyYXBoTm9kZSB7XHJcbiAgICBwdWJsaWMgdXJsOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgYXVkaW9FbmRlZCA9IG5ldyBFRXZlbnQoKTtcclxuXHJcbiAgICBwcml2YXRlIHNvdXJjZTogTWVkaWFFbGVtZW50QXVkaW9Tb3VyY2VOb2RlO1xyXG4gICAgcHJpdmF0ZSBhdWRpbzogSFRNTEF1ZGlvRWxlbWVudDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIGF1ZGlvQ3R4OiBBdWRpb0NvbnRleHQsIHVybDogc3RyaW5nKSB7XHJcbiAgICAgICAgc3VwZXIobmFtZSwgYXVkaW9DdHgpO1xyXG4gICAgICAgIHRoaXMudXJsID0gdXJsO1xyXG5cclxuICAgICAgICB0aGlzLmF1ZGlvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXVkaW8nKTtcclxuICAgICAgICB0aGlzLmF1ZGlvLmNvbnRyb2xzID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmF1ZGlvLnNyYyA9IHRoaXMudXJsO1xyXG4gICAgICAgIHRoaXMuYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsIHRoaXMuYXVkaW9FbmRlZEV2ZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGF1ZGlvRW5kZWRFdmVudCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmF1ZGlvRW5kZWQuZGlzcGF0Y2hFdmVudCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRBdWRpb05vZGUgPSAoKTogQXVkaW9Ob2RlID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zb3VyY2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbG9hZCgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuc291cmNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdXJjZSA9IHRoaXMuYXVkaW9DdHguY3JlYXRlTWVkaWFFbGVtZW50U291cmNlKHRoaXMuYXVkaW8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGxheSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmF1ZGlvLnBsYXkoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGF1c2UgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5hdWRpby5wYXVzZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdG9wID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuYXVkaW8ucGF1c2UoKTtcclxuICAgICAgICB0aGlzLmF1ZGlvLmN1cnJlbnRUaW1lID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0VXJsID0gKHVybDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgdmFyIHBsYXkgPSAhdGhpcy5hdWRpby5wYXVzZWQ7XHJcbiAgICAgICAgdGhpcy51cmwgPSB1cmw7XHJcbiAgICAgICAgdGhpcy5hdWRpby5zcmMgPSB1cmw7XHJcbiAgICAgICAgdGhpcy5hdWRpby5sb2FkKCk7XHJcbiAgICAgICAgaWYgKHBsYXkpIHtcclxuICAgICAgICAgICAgdGhpcy5hdWRpby5wbGF5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQXVkaW9HcmFwaE5vZGUgfSBmcm9tIFwiLi9hdWRpb0dyYXBoTm9kZVwiO1xyXG5pbXBvcnQgeyBBdWRpb0dyYXBoTm9kZUFuYWx5c2VyIH0gZnJvbSBcIi4vYXVkaW9HcmFwaE5vZGVBbmFseXNlclwiO1xyXG5pbXBvcnQgeyBBdWRpb0dyYXBoTm9kZURlc3RpbmF0aW9uIH0gZnJvbSBcIi4vYXVkaW9HcmFwaE5vZGVEZXN0aW5hdGlvblwiO1xyXG5pbXBvcnQgeyBBdWRpb0dyYXBoTm9kZUVsZW1lbnRTb3VyY2UgfSBmcm9tIFwiLi9hdWRpb0dyYXBoTm9kZUVsZW1lbnRTb3VyY2VcIjtcclxuaW1wb3J0IHsgQXVkaW9HcmFwaE5vZGVTdHJlYW1Tb3VyY2UgfSBmcm9tIFwiLi9hdWRpb0dyYXBoTm9kZVN0cmVhbVNvdXJjZVwiO1xyXG5pbXBvcnQgeyBFRXZlbnRUIH0gZnJvbSBcIi4uL2VFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEF1ZGlvR3JhcGgge1xyXG4gICAgcHVibGljIGF1ZGlvQ3R4OiBBdWRpb0NvbnRleHQ7XHJcblxyXG4gICAgLy8gcHJpdmF0ZSBzb3VyY2VOb2RlOiBBdWRpb0dyYXBoTm9kZTxBdWRpb05vZGU+O1xyXG4gICAgLy8gcHJpdmF0ZSBhbmFseXplck5vZGU6IEF1ZGlvR3JhcGhOb2RlQW5hbHlzZXI7XHJcblxyXG4gICAgLy8gcmVtb3ZlIGdlbmVyaWMgVD9cclxuICAgIHByaXZhdGUgYXVkaW9Ob2RlczogQXVkaW9HcmFwaE5vZGVbXSA9IFtdO1xyXG5cclxuICAgIHB1YmxpYyBkZXN0aW5hdGlvbk5vZGU6IEF1ZGlvR3JhcGhOb2RlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMuYXVkaW9DdHggPSBuZXcgKCh3aW5kb3cgYXMgYW55KS5BdWRpb0NvbnRleHQgfHwgKHdpbmRvdyBhcyBhbnkpLndlYmtpdEF1ZGlvQ29udGV4dCkoKTtcclxuICAgICAgICAgICAgdGhpcy5hdWRpb0N0eC5hZGRFdmVudExpc3RlbmVyKFwic3RhdGVjaGFuZ2VcIiwgdGhpcy5hdWRpb0NvbnRleHRTdGF0ZUNoYW5nZWRFdmFsdWF0b3IpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5hdWRpb0N0eC5zdGF0ZSA9PT0gXCJzdXNwZW5kZWRcIikge1xyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuZG9jdW1lbnRDbGljayk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkF1ZGlvIGNvbnRleHQgaXMgc3VzcGVuZGVkLiBDbGljayB0aGUgZG9tIHRvIG1ha2UgaXQgcnVubmluZy5cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbk5vZGUgPSBuZXcgQXVkaW9HcmFwaE5vZGVEZXN0aW5hdGlvbihcImRlc3RpbmF0aW9uXCIsIHRoaXMuYXVkaW9DdHgpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHRocm93IFwiSXQgbG9va3MgbGlrZSB5b3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCB3ZWIgYXVkaW8gQVBJIDooXCI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRNZWRpYUVsZW1lbnRTb3VyY2UgPSAobmFtZTogc3RyaW5nLCB1cmw6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIHZhciBzb3VyY2VOb2RlID0gbmV3IEF1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZShuYW1lLCB0aGlzLmF1ZGlvQ3R4LCB1cmwpO1xyXG4gICAgICAgIHRoaXMuYXVkaW9Ob2Rlcy5wdXNoKHNvdXJjZU5vZGUpO1xyXG4gICAgICAgIHJldHVybiBzb3VyY2VOb2RlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRBbmFseXplciA9IChuYW1lOiBzdHJpbmcpID0+IHtcclxuICAgICAgICB2YXIgYW5hbHl6ZXJOb2RlID0gbmV3IEF1ZGlvR3JhcGhOb2RlQW5hbHlzZXIobmFtZSwgdGhpcy5hdWRpb0N0eCk7XHJcbiAgICAgICAgdGhpcy5hdWRpb05vZGVzLnB1c2goYW5hbHl6ZXJOb2RlKTtcclxuICAgICAgICByZXR1cm4gYW5hbHl6ZXJOb2RlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRBdWRpb0dyYXBoTm9kZSA9IChuYW1lOiBzdHJpbmcpID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hdWRpb05vZGVzLmZpcnN0KHggPT4geC5uYW1lID09IG5hbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHB1YmxpYyBwbGF5VXJsID0gKHVybDogc3RyaW5nKSA9PiB7XHJcbiAgICAvLyAgICAgdGhpcy5zb3VyY2VOb2RlID0gbmV3IEF1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZSh0aGlzLmF1ZGlvQ3R4LCB1cmwpO1xyXG4gICAgLy8gICAgIGlmICh0aGlzLmF1ZGlvQ3R4LnN0YXRlID09PSBcInJ1bm5pbmdcIikge1xyXG4gICAgLy8gICAgICAgICB0aGlzLmJ1aWxkR3JhcGgoKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gcHVibGljIHBsYXlTdHJlYW0gPSAoKSA9PiB7XHJcbiAgICAvLyAgICAgdGhpcy5zb3VyY2VOb2RlID0gbmV3IEF1ZGlvR3JhcGhOb2RlU3RyZWFtU291cmNlKHRoaXMuYXVkaW9DdHgpO1xyXG4gICAgLy8gICAgIGlmICh0aGlzLmF1ZGlvQ3R4LnN0YXRlID09PSBcInJ1bm5pbmdcIikge1xyXG4gICAgLy8gICAgICAgICB0aGlzLmJ1aWxkR3JhcGgoKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9XHJcblxyXG4gICAgcHVibGljIGF1ZGlvQ29udGV4dFN0YXRlQ2hhbmdlZCA9IG5ldyBFRXZlbnRUPHN0cmluZz4oKTtcclxuXHJcbiAgICBwcml2YXRlIGRvY3VtZW50Q2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuYXVkaW9DdHguc3RhdGUgPT09IFwic3VzcGVuZGVkXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5hdWRpb0N0eC5yZXN1bWUoKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuZG9jdW1lbnRDbGljayk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXVkaW9Db250ZXh0U3RhdGVDaGFuZ2VkRXZhbHVhdG9yID0gKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmF1ZGlvQ3R4LnN0YXRlID09PSBcInJ1bm5pbmdcIikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImF1ZGlvIGNvbnRleHQgc3RhdGUgY2hhbmdlZFwiKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYXVkaW9DdHgucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInN0YXRlY2hhbmdlXCIsIHRoaXMuYXVkaW9Db250ZXh0U3RhdGVDaGFuZ2VkRXZhbHVhdG9yKTtcclxuICAgICAgICAgICAgdGhpcy5yZWxvYWQoKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXVkaW9Db250ZXh0U3RhdGVDaGFuZ2VkLmRpc3BhdGNoRXZlbnQodGhpcy5hdWRpb0N0eC5zdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbG9hZCA9ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInJlYWxvYWRpbmcgYXVkaW8gZ3JhcGhcIik7XHJcbiAgICAgICAgICAgIFByb21pc2UuYWxsKHRoaXMuYXVkaW9Ob2Rlcy5tYXAoeCA9PiB4LnJlbG9hZCgpKSlcclxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInJlbG9hZGVkIGF1ZGlvIGdyYXBoXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5hdWRpb05vZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGF1ZGlvTm9kZSA9IHRoaXMuYXVkaW9Ob2Rlc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW9Ob2RlLmdldEF1ZGlvTm9kZSgpLmRpc2Nvbm5lY3QoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpIDwgdGhpcy5hdWRpb05vZGVzLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1ZGlvTm9kZS5nZXRBdWRpb05vZGUoKS5jb25uZWN0KHRoaXMuYXVkaW9Ob2Rlc1tpICsgMV0uZ2V0QXVkaW9Ob2RlKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW9Ob2RlLmdldEF1ZGlvTm9kZSgpLmNvbm5lY3QodGhpcy5kZXN0aW5hdGlvbk5vZGUuZ2V0QXVkaW9Ob2RlKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHByaXZhdGUgYnVpbGRHcmFwaCgpIHtcclxuICAgIC8vICAgICBjb25zb2xlLmxvZyhcIkJ1aWxkaW5nIGF1ZGlvIGdyYXBoLlwiKTtcclxuXHJcbiAgICAvLyAgICAgaWYgKHRoaXMuc291cmNlTm9kZS5nZXRBdWRpb05vZGUoKSkge1xyXG4gICAgLy8gICAgICAgICB0aGlzLnNvdXJjZU5vZGUuZ2V0QXVkaW9Ob2RlKCkuZGlzY29ubmVjdCgpO1xyXG4gICAgLy8gICAgICAgICB0aGlzLmFuYWx5emVyTm9kZS5nZXRBdWRpb05vZGUoKS5kaXNjb25uZWN0KCk7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuZGVzdGluYXRpb25Ob2RlLmdldEF1ZGlvTm9kZSgpLmRpc2Nvbm5lY3QoKTtcclxuICAgIC8vICAgICAgICAgdGhpcy5zb3VyY2VOb2RlLmdldEF1ZGlvTm9kZSgpLmNvbm5lY3QodGhpcy5hbmFseXplck5vZGUuZ2V0QXVkaW9Ob2RlKCkpO1xyXG4gICAgLy8gICAgICAgICB0aGlzLmFuYWx5emVyTm9kZS5nZXRBdWRpb05vZGUoKS5jb25uZWN0KHRoaXMuZGVzdGluYXRpb25Ob2RlLmdldEF1ZGlvTm9kZSgpKTtcclxuICAgIC8vICAgICB9IGVsc2Uge1xyXG4gICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhcIkF1ZGlvIHNvdXJjZSBub3QgYXZhaWxhYmxlLiBXYWl0aW5nIHNvbWUgdGltZS5cIik7XHJcbiAgICAvLyAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgLy8gICAgICAgICAgICAgdGhpcy5idWlsZEdyYXBoKCk7XHJcbiAgICAvLyAgICAgICAgIH0sIDEwMDApO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBwdWJsaWMgZ2V0U3BlY3RydW0oKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuIHRoaXMuYW5hbHl6ZXJOb2RlLmdldFNwZWN0cnVtKCk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gcHVibGljIGdldFdhdmUoKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuIHRoaXMuYW5hbHl6ZXJOb2RlLmdldFdhdmUoKTtcclxuICAgIC8vIH1cclxufSIsImltcG9ydCB7IEF1ZGlvR3JhcGggfSBmcm9tIFwiLi4vZW5jL3NyYy9hdWRpby9hdWRpb0dyYXBoXCI7XHJcbmltcG9ydCB7IEF1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZSB9IGZyb20gXCIuLi9lbmMvc3JjL2F1ZGlvL2F1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZVwiO1xyXG5pbXBvcnQgeyBBdWRpb0dyYXBoTm9kZUFuYWx5c2VyIH0gZnJvbSBcIi4uL2VuYy9zcmMvYXVkaW8vYXVkaW9HcmFwaE5vZGVBbmFseXNlclwiO1xyXG5cclxuLy8gaW1wb3J0IEZhaW50QXNzZXRNUDMgZnJvbSBcIi4vYXNzZXRzL21wMy1kZW1vL2RlbW9fMV9mYWludF9jb2xvci5tcDNcIlxyXG4vLyBpbXBvcnQgUHJpc21Bc3NldE1QMyBmcm9tIFwiLi9hc3NldHMvbXAzLWRlbW8vZGVtb18yX3ByaXNtLm1wM1wiXHJcbi8vIGltcG9ydCBIb3BlZnVsQXNzZXRNUDMgZnJvbSBcIi4vYXNzZXRzL21wMy1kZW1vL2RlbW9fM19ob3BlZnVsLm1wM1wiXHJcbi8vIGltcG9ydCBEZWVwQXNzZXRNUDMgZnJvbSBcIi4vYXNzZXRzL21wMy1kZW1vL2RlbW9fNF9kZWVwX2ZpZWxkLm1wM1wiXHJcbi8vIGltcG9ydCBHcmF2aXR5QXNzZXRNUDMgZnJvbSBcIi4vYXNzZXRzL21wMy1kZW1vL2RlbW9fNV9ncmF2aXR5Lm1wM1wiXHJcbi8vIGltcG9ydCBKb3VybmV5QXNzZXRNUDMgZnJvbSBcIi4vYXNzZXRzL21wMy1kZW1vL2RlbW9fNl9qb3VybmV5X3RvX3RoZV9wbGFuZXRzLm1wM1wiXHJcbi8vIGltcG9ydCBEcmlmdGluZ0Fzc2V0TVAzIGZyb20gXCIuL2Fzc2V0cy9tcDMtZGVtby9kZW1vXzdfZHJpZnRpbmdfaW50b190aGVfYXRtb3NwaGVyZS5tcDNcIlxyXG5cclxuaW1wb3J0IEZhaW50QXNzZXRNUDMgZnJvbSBcIi4vYXNzZXRzL2RlbW8vVHJhaWxlcl9mYWludENvbG9yLm1wM1wiXHJcbmltcG9ydCBEZWVwQXNzZXRNUDMgZnJvbSBcIi4vYXNzZXRzL2RlbW8vVHJhaWxlcl9EZWVwRmllbGQubXAzXCJcclxuaW1wb3J0IERyaWZ0aW5nQXNzZXRNUDMgZnJvbSBcIi4vYXNzZXRzL2RlbW8vVHJhaWxlcl9EcmlmdGluZ0ludG9UaGVBdG1vc3BoZXJlLm1wM1wiXHJcbmltcG9ydCB7IEVFdmVudFQgfSBmcm9tIFwiLi4vZW5jL3NyYy9lRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBdWRpb01hbmFnZXIge1xyXG4gICAgcHJpdmF0ZSBhdWRpb0dyYXBoOiBBdWRpb0dyYXBoO1xyXG4gICAgcHJpdmF0ZSBzb3VyY2U6IEF1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZTtcclxuICAgIHByaXZhdGUgYW5hbHlzZXI6IEF1ZGlvR3JhcGhOb2RlQW5hbHlzZXI7XHJcblxyXG4gICAgcHJpdmF0ZSBzb25ncyA9IFtcclxuICAgICAgICBbXCJGYWludCBDb2xvclwiLCBGYWludEFzc2V0TVAzXSxcclxuICAgICAgICAvLyBbXCJQcmlzbUFzc2V0XCIsIFByaXNtQXNzZXRNUDNdLFxyXG4gICAgICAgIC8vIFtcIkhvcGVmdWxBc3NldFwiLCBIb3BlZnVsQXNzZXRNUDNdLFxyXG4gICAgICAgIFtcIkRlZXAgZmllbGRcIiwgRGVlcEFzc2V0TVAzXSxcclxuICAgICAgICAvLyBbXCJHcmF2aXR5QXNzZXRcIiwgR3Jhdml0eUFzc2V0TVAzXSxcclxuICAgICAgICAvLyBbXCJKb3VybmV5QXNzZXRcIiwgSm91cm5leUFzc2V0TVAzXSxcclxuICAgICAgICBbXCJEcmlmdGluZyBpbnRvIHRoZSBBdG1vc3BoZXJlXCIsIERyaWZ0aW5nQXNzZXRNUDNdXHJcbiAgICBdXHJcblxyXG4gICAgcHVibGljIHNvbmdDaGFuZ2VkID0gbmV3IEVFdmVudFQ8c3RyaW5nPigpO1xyXG5cclxuICAgIFxyXG4gICAgcHVibGljIGdldCBjdXJyZW50U29uZ05hbWUoKSA6IHN0cmluZyB7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRTb25nSW5kZXggPSB0aGlzLnNvbmdzLm1hcCh4ID0+IHhbMV0pLmluZGV4T2YodGhpcy5zb3VyY2UudXJsKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5zb25nc1tjdXJyZW50U29uZ0luZGV4XVswXTtcclxuICAgIH1cclxuICAgIFxyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuYXVkaW9HcmFwaCA9IG5ldyBBdWRpb0dyYXBoKCk7XHJcbiAgICAgICAgdGhpcy5zb3VyY2UgPSB0aGlzLmF1ZGlvR3JhcGguYWRkTWVkaWFFbGVtZW50U291cmNlKFwic291cmNlXCIsIHRoaXMuc29uZ3NbMF1bMV0pO1xyXG4gICAgICAgIHRoaXMuc291cmNlLmF1ZGlvRW5kZWQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmVuZGVkTmV4dCgpKTtcclxuICAgICAgICB0aGlzLmFuYWx5c2VyID0gdGhpcy5hdWRpb0dyYXBoLmFkZEFuYWx5emVyKFwiYW5hbHlzZXJcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbG9hZCA9ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hdWRpb0dyYXBoLnJlbG9hZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwbGF5ID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc291cmNlLnBsYXkoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGF1c2UgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zb3VyY2UucGF1c2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbmV4dCA9ICgpID0+IHtcclxuICAgICAgICB2YXIgY3VycmVudFNvbmdJbmRleCA9IHRoaXMuc29uZ3MubWFwKHggPT4geFsxXSkuaW5kZXhPZih0aGlzLnNvdXJjZS51cmwpO1xyXG4gICAgICAgIHZhciBuZXh0U29uZ0luZGV4ID0gY3VycmVudFNvbmdJbmRleCArIDE7XHJcbiAgICAgICAgaWYgKG5leHRTb25nSW5kZXggPT0gdGhpcy5zb25ncy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgbmV4dFNvbmdJbmRleCA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNvdXJjZS5zZXRVcmwodGhpcy5zb25nc1tuZXh0U29uZ0luZGV4XVsxXSk7XHJcbiAgICAgICAgdGhpcy5zb25nQ2hhbmdlZC5kaXNwYXRjaEV2ZW50KHRoaXMuc29uZ3NbbmV4dFNvbmdJbmRleF1bMF0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwcmV2aW91cyA9ICgpID0+IHtcclxuICAgICAgICB2YXIgY3VycmVudFNvbmdJbmRleCA9IHRoaXMuc29uZ3MubWFwKHggPT4geFsxXSkuaW5kZXhPZih0aGlzLnNvdXJjZS51cmwpO1xyXG4gICAgICAgIHZhciBwcmV2aW91c1NvbmdJbmRleCA9IGN1cnJlbnRTb25nSW5kZXggLSAxO1xyXG4gICAgICAgIGlmIChwcmV2aW91c1NvbmdJbmRleCA9PSAtMSkge1xyXG4gICAgICAgICAgICBwcmV2aW91c1NvbmdJbmRleCA9IHRoaXMuc29uZ3MubGVuZ3RoIC0gMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc291cmNlLnNldFVybCh0aGlzLnNvbmdzW3ByZXZpb3VzU29uZ0luZGV4XVsxXSk7XHJcbiAgICAgICAgdGhpcy5zb25nQ2hhbmdlZC5kaXNwYXRjaEV2ZW50KHRoaXMuc29uZ3NbcHJldmlvdXNTb25nSW5kZXhdWzBdKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0QW5hbHlzZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYW5hbHlzZXI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0b3AgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zb3VyY2Uuc3RvcCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZW5kZWROZXh0KCk6ICgpID0+IHZvaWQge1xyXG4gICAgICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMubmV4dCgpO1xyXG4gICAgICAgICAgICB0aGlzLnNvdXJjZS5wbGF5KCk7XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBBc3NldE1hbmFnZXIge1xyXG4gICAgcHJpdmF0ZSBpbWFnZUFzc2V0czogeyBuYW1lOiBzdHJpbmcsIHVybDogc3RyaW5nLCBpbWFnZTogSFRNTEltYWdlRWxlbWVudCB9W10gPSBbXTtcclxuXHJcbiAgICBwdWJsaWMgYWRkSW1hZ2UgPSAobmFtZTogc3RyaW5nLCB1cmw6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIHRoaXMuaW1hZ2VBc3NldHMucHVzaCh7XHJcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgICAgIHVybDogdXJsLFxyXG4gICAgICAgICAgICBpbWFnZTogdW5kZWZpbmVkXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEltYWdlID0gKG5hbWU6IHN0cmluZyk6IEhUTUxJbWFnZUVsZW1lbnQgPT4ge1xyXG4gICAgICAgIHZhciBpbWFnZUFzc2V0ID0gdGhpcy5pbWFnZUFzc2V0cy5maXJzdE9yRGVmYXVsdCh4ID0+IHgubmFtZSA9PSBuYW1lKTtcclxuICAgICAgICBpZiAoaW1hZ2VBc3NldCkge1xyXG4gICAgICAgICAgICByZXR1cm4gaW1hZ2VBc3NldC5pbWFnZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbG9hZCA9ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwodGhpcy5pbWFnZUFzc2V0cy5tYXAoeCA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXguaW1hZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICBpbWFnZS5zcmMgPSB4LnVybDtcclxuICAgICAgICAgICAgICAgICAgICBpbWFnZS5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHguaW1hZ2UgPSBpbWFnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBMYXlvdXRWaWV3IH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGF5b3V0Vmlld1wiO1xyXG5pbXBvcnQgeyBMYWJlbCB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2xhYmVsXCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIExvYWRpbmdWaWV3IGV4dGVuZHMgTGF5b3V0VmlldyB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHZhciBsb2FkaW5nTGFiZWwgPSBuZXcgTGFiZWwoKTtcclxuICAgICAgICBsb2FkaW5nTGFiZWwudGV4dCA9IFwiTG9hZGluZy4uLlwiO1xyXG4gICAgICAgIGxvYWRpbmdMYWJlbC5wcm9wZXJ0aWVzLmZpbGxTdHlsZSA9IFwid2hpdGVcIlxyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChsb2FkaW5nTGFiZWwpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVMYXlvdXQoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGJvdW5kczogUmVjdGFuZ2xlKSB7XHJcbiAgICAgICAgc3VwZXIudXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgY2hpbGQudXBkYXRlTGF5b3V0KGN0eCwgdGhpcy5ib3VuZHMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IEVFdmVudFQgfSBmcm9tIFwiLi4vZUV2ZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgT2JzZXJ2YWJsZUFycmF5PFQ+IHtcclxuICAgIHB1YmxpYyBpdGVtczogVFtdID0gW107XHJcblxyXG4gICAgcHVibGljIG9uQWRkID0gbmV3IEVFdmVudFQ8VD4oKTtcclxuICAgIHB1YmxpYyBvblJlbW92ZSA9IG5ldyBFRXZlbnRUPFQ+KCk7XHJcblxyXG4gICAgcHVibGljIGFkZCA9IChpdGVtOiBUKSA9PiB7XHJcbiAgICAgICAgdGhpcy5pdGVtcy5wdXNoKGl0ZW0pO1xyXG4gICAgICAgIHRoaXMub25BZGQuZGlzcGF0Y2hFdmVudChpdGVtKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyByZW1vdmUgPSAoaXRlbTogVCkgPT4ge1xyXG4gICAgICAgIHRoaXMuaXRlbXMucmVtb3ZlSXRlbShpdGVtKTtcclxuICAgICAgICB0aGlzLm9uUmVtb3ZlLmRpc3BhdGNoRXZlbnQoaXRlbSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBTdGFnZSB9IGZyb20gXCIuLi9lbmMvc3JjL3VpL3N0YWdlXCI7XHJcbmltcG9ydCB7IFJvb3RWaWV3IH0gZnJvbSBcIi4vdmlldy9yb290Vmlld1wiO1xyXG5pbXBvcnQgeyBEaW5qZWN0IH0gZnJvbSBcIi4uL2VuYy9zcmMvZGluamVjdFwiO1xyXG5pbXBvcnQgeyBFQW5pbWF0aW9uIH0gZnJvbSBcIi4uL2VuYy9zcmMvZUFuaW1hdGlvblwiO1xyXG5pbXBvcnQgeyBFQ2FudmFzIH0gZnJvbSBcIi4uL2VuYy9zcmMvdWkvZUNhbnZhc1wiO1xyXG5pbXBvcnQgeyBDYW52YXNIZWxwZXIgfSBmcm9tIFwiLi4vZW5jL3NyYy91aS9jYW52YXNIZWxwZXJcIjtcclxuaW1wb3J0IHsgQXVkaW9NYW5hZ2VyIH0gZnJvbSBcIi4vYXVkaW9NYW5hZ2VyXCI7XHJcbmltcG9ydCB7IEFzc2V0TWFuYWdlciB9IGZyb20gXCIuLi9lbmMvc3JjL2Fzc2V0TWFuYWdlclwiO1xyXG5cclxuaW1wb3J0IGJhY2tncm91bmRQbmcgZnJvbSBcIi4vYXNzZXRzL2JhY2tncm91bmQucG5nXCJcclxuaW1wb3J0IGxvZ29Gcm9udFBuZyBmcm9tIFwiLi9hc3NldHMvbG9nby1mcm9udC5wbmdcIlxyXG5pbXBvcnQgbG9nb05vdmFQbmcgZnJvbSBcIi4vYXNzZXRzL2xvZ28tbm92YS5wbmdcIlxyXG5pbXBvcnQgeyBMb2FkaW5nVmlldyB9IGZyb20gXCIuL3ZpZXcvbG9hZGluZ1ZpZXdcIjtcclxuaW1wb3J0IHsgVmlzdWFsaXphdGlvbk1vZGVsIH0gZnJvbSBcIi4vbW9kZWxzL3Zpc3VhbGl6YXRpb25Nb2RlbFwiO1xyXG5pbXBvcnQgeyBTdGFyTGF5ZXIgfSBmcm9tIFwiLi9tb2RlbHMvc3RhckxheWVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQXBwIHtcclxuICAgIHB1YmxpYyBzdGF0aWMgdmlzdWFsaXphdGlvbk1vZGVsID0gbmV3IFZpc3VhbGl6YXRpb25Nb2RlbCh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcclxuXHJcbiAgICBwdWJsaWMgcnVuID0gKCkgPT4ge1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJibGFja1wiO1xyXG5cclxuICAgICAgICB2YXIgY2FudmFzID0gRUNhbnZhcy5jcmVhdGVGdWxsU2NyZWVuKCk7XHJcbiAgICAgICAgdmFyIHN0YWdlID0gbmV3IFN0YWdlKGNhbnZhcyk7XHJcbiAgICAgICAgdmFyIGFuaW1hdGlvbiA9IG5ldyBFQW5pbWF0aW9uKCk7XHJcbiAgICAgICAgYW5pbWF0aW9uLmFkZFVwZGF0ZUZ1bmN0aW9uKGNhbnZhcy5kcmF3KTtcclxuXHJcbiAgICAgICAgRGluamVjdC5hZGRJbnN0YW5jZShcImNhbnZhc1wiLCBjYW52YXMpO1xyXG4gICAgICAgIERpbmplY3QuYWRkSW5zdGFuY2UoXCJzdGFnZVwiLCBzdGFnZSk7XHJcbiAgICAgICAgRGluamVjdC5hZGRJbnN0YW5jZShcImFuaW1hdGlvblwiLCBhbmltYXRpb24pO1xyXG5cclxuICAgICAgICB2YXIgbG9hZGluZ1ZpZXcgPSBuZXcgTG9hZGluZ1ZpZXcoKTtcclxuICAgICAgICBsb2FkaW5nVmlldy5kZWFjdGl2YXRlZCgpO1xyXG4gICAgICAgIHN0YWdlLnNldFZpZXcobG9hZGluZ1ZpZXcpO1xyXG4gICAgICAgIGxvYWRpbmdWaWV3LmFjdGl2YXRlKDAuNyk7XHJcblxyXG4gICAgICAgIHZhciBpbnNwaWVydHlQbGF5ZXJWaWV3OiBSb290VmlldztcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJsb2FkaW5nIGFwcFwiKTtcclxuICAgICAgICBQcm9taXNlLmFsbChbXHJcbiAgICAgICAgICAgIG5ldyBDYW52YXNIZWxwZXIoKS5sb2FkRm9udGF3ZXNvbWVGcmVlKCksXHJcbiAgICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBhdWRpb01hbmFnZXIgPSBuZXcgQXVkaW9NYW5hZ2VyKCk7XHJcbiAgICAgICAgICAgICAgICBhdWRpb01hbmFnZXIucmVsb2FkKClcclxuICAgICAgICAgICAgICAgIERpbmplY3QuYWRkSW5zdGFuY2UoXCJhdWRpb1wiLCBhdWRpb01hbmFnZXIpO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSwgMjAwMCk7XHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXNzZXRNYW5hZ2VyID0gbmV3IEFzc2V0TWFuYWdlcigpO1xyXG4gICAgICAgICAgICAgICAgRGluamVjdC5hZGRJbnN0YW5jZShcImFzc2V0c1wiLCBhc3NldE1hbmFnZXIpO1xyXG4gICAgICAgICAgICAgICAgYXNzZXRNYW5hZ2VyLmFkZEltYWdlKFwiYmFja2dyb3VuZFwiLCBiYWNrZ3JvdW5kUG5nKTtcclxuICAgICAgICAgICAgICAgIGFzc2V0TWFuYWdlci5hZGRJbWFnZShcImxvZ29cIiwgbG9nb0Zyb250UG5nKTtcclxuICAgICAgICAgICAgICAgIGFzc2V0TWFuYWdlci5hZGRJbWFnZShcImxvZ28tbm92YVwiLCBsb2dvTm92YVBuZyk7XHJcbiAgICAgICAgICAgICAgICBhc3NldE1hbmFnZXIubG9hZCgpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zcGllcnR5UGxheWVyVmlldyA9IG5ldyBSb290VmlldygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnNwaWVydHlQbGF5ZXJWaWV3LmRlYWN0aXZhdGVkKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJMYXllciA9IG5ldyBTdGFyTGF5ZXIoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJMYXllci5uYW1lLnNldChcIlN0YXJzIFwiICsgKGkgKyAxKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBBcHAudmlzdWFsaXphdGlvbk1vZGVsLnN0YXJMYXllcnMuYWRkKHN0YXJMYXllcik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIF0pLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICBsb2FkaW5nVmlldy5kZWFjdGl2YXRlKDAuNyk7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgc3RhZ2Uuc2V0VmlldyhpbnNwaWVydHlQbGF5ZXJWaWV3KTtcclxuICAgICAgICAgICAgICAgIGluc3BpZXJ0eVBsYXllclZpZXcuYWN0aXZhdGUoMC43KTtcclxuICAgICAgICAgICAgfSwgODAwKTtcclxuICAgICAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xyXG4gICAgICAgICAgICBhbGVydChlcnJvcik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBTdGFyTGF5ZXIgfSBmcm9tIFwiLi9zdGFyTGF5ZXJcIjtcclxuaW1wb3J0IHsgT2JzZXJ2YWJsZUFycmF5IH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvb2JzZXJ2YWJsZUFycmF5XCI7XHJcbmltcG9ydCB7IE9ic2VydmFibGVQcm9wZXJ0eSB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL29ic2VydmFibGVQcm9wZXJ0eVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFZpc3VhbGl6YXRpb25Nb2RlbCB7XHJcbiAgICBwdWJsaWMgd2lkdGg6IE9ic2VydmFibGVQcm9wZXJ0eTxudW1iZXI+O1xyXG4gICAgcHVibGljIGhlaWdodDogT2JzZXJ2YWJsZVByb3BlcnR5PG51bWJlcj47XHJcbiAgICBjb25zdHJ1Y3Rvcih3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMud2lkdGggPSBuZXcgT2JzZXJ2YWJsZVByb3BlcnR5PG51bWJlcj4od2lkdGgpO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gbmV3IE9ic2VydmFibGVQcm9wZXJ0eTxudW1iZXI+KGhlaWdodCk7XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgc3RhckxheWVycyA9IG5ldyBPYnNlcnZhYmxlQXJyYXk8U3RhckxheWVyPigpO1xyXG59IiwiaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4vYXBwXCI7XHJcbmltcG9ydCBcIi4uL2VuYy9zcmMvZXh0ZW5zaW9uc1wiO1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIG1haW4sIGZhbHNlKTtcclxuXHJcbmZ1bmN0aW9uIG1haW4oKSB7XHJcbiAgICB2YXIgYXBwID0gbmV3IEFwcCgpO1xyXG4gICAgYXBwLnJ1bigpO1xyXG59XHJcblxyXG5pZiAoJ3NlcnZpY2VXb3JrZXInIGluIG5hdmlnYXRvcikge1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XHJcbiAgICAgICAgbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoJ3NlcnZpY2Utd29ya2VyLmpzJylcclxuICAgICAgICAgICAgLnRoZW4ocmVnaXN0cmF0aW9uID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTVyByZWdpc3RlcmVkOiAnLCByZWdpc3RyYXRpb24pO1xyXG4gICAgICAgICAgICB9KS5jYXRjaChyZWdpc3RyYXRpb25FcnJvciA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnU1cgcmVnaXN0cmF0aW9uIGZhaWxlZDogJywgcmVnaXN0cmF0aW9uRXJyb3IpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=