!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=3)}([function(t,e,i){t.exports=i.p+"ef12961f66786d579f3985c19fea303b.ogg"},function(t,e,i){t.exports=i.p+"4f3b71289b7ebbf613233710c9237407.png"},function(t,e){Array.prototype.firstOrDefault=function(t){for(const e of this)if(t(e))return e;return null},Array.prototype.first=function(t){for(const e of this)if(t(e))return e;throw console.log("item not found"),console.log(this),"item not found"},Array.prototype.getNext=function(t,e){var i=e(t)+1,s=this.firstOrDefault(t=>e(t)==i);return s||(s=this.first(t=>1==e(t))),s},Array.prototype.removeItem=function(t){var e=this.indexOf(t);if(-1==e)throw"item not found";this.splice(e,1)},Array.prototype.contains=function(t){return-1!==this.indexOf(t)},Array.prototype.removeItemIfExists=function(t){var e=this.indexOf(t);-1!=e&&this.splice(e,1)},Array.prototype.addItemIfNotExists=function(t){-1==this.indexOf(t)&&this.push(t)},Array.prototype.remove=function(t){this.removeItem(this.first(t))},Array.prototype.toList=function(){return this.filter(t=>!0)}},function(t,e,i){"use strict";i.r(e);class s{constructor(t,e,i,s){this.x=t,this.y=e,this.width=i,this.height=s,this.collidesWith=(t=>{var e=!1,i=!1;return this.x<=t.x?this.x<=t.x&&this.x+this.width>t.x&&(e=!0):t.x<=this.x&&t.x+t.width>this.x&&(e=!0),e&&(this.y<=t.y?this.y<=t.y&&this.y+this.width>t.y&&(i=!0):t.y<=this.y&&t.y+t.width>this.y&&(i=!0)),e&&i}),this.isHitBy=((t,e)=>t>this.x&&t<this.x+this.width&&e>this.y&&e<this.y+this.height)}}class n{constructor(t){this.canvas=t,this.canvasResized=(()=>{this.shouldUpdateLayout=!0}),this.mouseDown=(t=>{this.view&&this.view.mouseDown({clientX:t.clientX/this.canvas.dpr,clientY:t.clientY/this.canvas.dpr,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey})}),this.mouseUp=(t=>{this.view&&this.view.mouseUp({clientX:t.clientX/this.canvas.dpr,clientY:t.clientY/this.canvas.dpr,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey})}),this.mouseMove=(t=>{this.view&&this.view.mouseMove({clientX:t.clientX/this.canvas.dpr,clientY:t.clientY/this.canvas.dpr,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey})}),this.click=(t=>{this.view&&this.view.click({clientX:t.clientX/this.canvas.dpr,clientY:t.clientY/this.canvas.dpr,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey})}),this.render=((t,e,i)=>{this.view&&(this.shouldUpdateLayout&&(this.view.updateLayout(t,new s(0,0,e,i)),this.shouldUpdateLayout=!1),t.clearRect(0,0,e,i),this.view.render(t))}),this.setView=(t=>{this.view=t,this.shouldUpdateLayout=!0}),t.addDrawFunction(this.render),t.resized.addEventListener(this.canvasResized),document.addEventListener("mousedown",this.mouseDown),document.addEventListener("mouseup",this.mouseUp),document.addEventListener("mousemove",this.mouseMove),document.addEventListener("click",this.click)}}var a,r,h,o,d,l;!function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right"}(a||(a={})),function(t){t[t.Top=0]="Top",t[t.Center=1]="Center",t[t.Bottom=2]="Bottom"}(r||(r={}));class u{constructor(){this.top=0,this.right=0,this.bottom=0,this.left=0}}class c{constructor(){this.horizontalAlign=a.Center,this.verticalAlign=r.Center,this.margin=new u,this.calculateDimensionsX=((t,e)=>{switch(this.horizontalAlign){case a.Left:return t.x+this.margin.left;case a.Center:return t.x+t.width/2-e/2;case a.Right:return t.x+t.width-e-this.margin.right}}),this.calculateDimensionsY=((t,e)=>{switch(this.verticalAlign){case r.Top:return t.y+this.margin.top;case r.Center:return t.y+t.height/2-e/2;case r.Bottom:return t.y+t.height-e-this.margin.bottom}})}}class m{constructor(){this.generateNewId=(()=>(m.idCounter++,m.idCounter)),this.bounds=new s(0,0,0,0),this.dimensions=new s(0,0,0,0),this.alignement=new c,this.shouldUpdateLayout=!1,this.triggerUpdateLayout=(()=>{this.shouldUpdateLayout=!0}),this.disableMouseEvents=(()=>{this.mouseDown=(()=>{}),this.mouseUp=(()=>{}),this.mouseMove=(()=>{}),this.click=(()=>{})}),this.id=this.generateNewId(),this.name="object "+this.id}render(t){this.shouldUpdateLayout&&(this.updateLayout(t,this.bounds),this.shouldUpdateLayout=!1)}updateLayout(t,e){this.bounds=e}}m.idCounter=0;class g extends m{constructor(){super(...arguments),this.children=[]}render(t){super.render(t);for(const e of this.children)e.render(t)}mouseDown(t){for(const e of this.children)e.mouseDown(t)}mouseUp(t){for(const e of this.children)e.mouseUp(t)}mouseMove(t){for(const e of this.children)e.mouseMove(t)}click(t){for(const e of this.children.toList())e.click(t)}}class p extends m{constructor(t){super(),this.star=t}mouseDown(t){}mouseUp(t){}render(t){t.fillStyle="white",t.beginPath(),t.arc(this.star.x,this.star.y,this.star.r,0,2*Math.PI),t.fill()}mouseMove(t){throw new Error("Method not implemented.")}click(t){throw new Error("Method not implemented.")}}!function(t){t[t.AddStarLayer=0]="AddStarLayer",t[t.RemoveStarLayer=1]="RemoveStarLayer",t[t.ChangeNumberOfStars=2]="ChangeNumberOfStars",t[t.ChangeSpeed=3]="ChangeSpeed",t[t.ChangeSizes=4]="ChangeSizes"}(h||(h={}));class y extends g{constructor(t){super(),this.starLayer=t,this.settingsUpdated=(t=>{switch(t){case h.ChangeNumberOfStars:this.updateNumberOfStars()}}),this.updateNumberOfStars=(()=>{this.triggerUpdateLayout()}),Z.settingManager.update.addEventListener(this.settingsUpdated),this.disableMouseEvents(),this.triggerUpdateLayout()}updateLayout(t,e){this.children=[];for(const t of this.starLayer.stars)this.children.push(new p(t))}mouseMove(t){}click(t){}}!function(t){t[t.hidden=0]="hidden",t[t.beforeVisible=1]="beforeVisible",t[t.visible=2]="visible"}(o||(o={}));class v{constructor(){this.state=o.hidden}}class f{constructor(){this.listeners=[],this.addEventListener=(t=>{if(!t||this.listeners.indexOf(t)>=0)throw"listener already added";this.listeners.push(t)}),this.addEventListenerIfNotExists=(t=>{!t||this.listeners.indexOf(t)>=0||this.listeners.push(t)}),this.dispatchEvent=(()=>{for(let t=0;t<this.listeners.length;t++){(0,this.listeners[t])()}}),this.removeEventListener=(t=>{if(!t||this.listeners.indexOf(t)<0)throw"listener not found";this.listeners.splice(this.listeners.indexOf(t),1)}),this.removeEventListenerIfExists=(t=>{!t||this.listeners.indexOf(t)<0||this.listeners.splice(this.listeners.indexOf(t),1)})}}class w{constructor(){this.listeners=[],this.addEventListener=(t=>{if(!t||this.listeners.indexOf(t)>=0)throw"listener already added";this.listeners.push(t)}),this.dispatchEvent=(t=>{for(let e=0;e<this.listeners.length;e++){(0,this.listeners[e])(t)}}),this.removeEventListener=(t=>{if(!t||this.listeners.indexOf(t)<0)throw"listener not found";this.listeners.splice(this.listeners.indexOf(t),1)})}}class L{constructor(){this.listeners=[],this.addEventListener=(t=>{if(!t||this.listeners.indexOf(t)>=0)throw"listener already added";this.listeners.push(t)}),this.dispatchEvent=((t,e)=>{for(let i=0;i<this.listeners.length;i++){(0,this.listeners[i])(t,e)}}),this.removeEventListener=(t=>{if(!t||this.listeners.indexOf(t)<0)throw"listener not found";this.listeners.splice(this.listeners.indexOf(t),1)})}}class x{constructor(){this.drawFunctions=[],this.dpr=1,this.dprScalingEnabled=!0,this.enableDprScaling=(()=>{this.dprScalingEnabled=!0,this.resize()}),this.disableDprScaling=(()=>{this.dprScalingEnabled=!1,this.resize()}),this.resized=new f,this.resize=(()=>{this.dpr=this.dprScalingEnabled&&window.devicePixelRatio||1,this.canvas.width=this.canvas.clientWidth,this.canvas.height=this.canvas.clientHeight,this.resized.dispatchEvent()}),this.draw=(()=>{this.ctx.save(),this.ctx.scale(this.dpr,this.dpr);for(const t of this.drawFunctions)t(this.ctx,this.width,this.height);this.ctx.restore()}),this.addDrawFunction=(t=>{this.drawFunctions.push(t)}),this.removeDrawFunction=(t=>{this.drawFunctions.splice(this.drawFunctions.indexOf(t),1)})}get width(){return this.canvas.clientWidth/this.dpr}get height(){return this.canvas.clientHeight/this.dpr}static createFullScreen(){document.body.parentElement.style.height="100%",document.body.style.height="100%",document.body.style.margin="0",document.body.style.overflow="hidden";var t=document.createElement("canvas");document.body.appendChild(t),t.style.width="100%",t.style.height="100%";var e=new x;return e.canvas=t,e.ctx=t.getContext("2d"),window.addEventListener("resize",e.resize),e.resize(),e}}x.cursorLock=null,x.SetCursor=((t,e)=>{e?(document.body.style.cursor="pointer",x.cursorLock=t):t==x.cursorLock&&(document.body.style.cursor="default",x.cursorLock=null)});class S extends m{constructor(){super(...arguments),this.isMouseOver=!1,this.isEnabled=!0,this.clicked=new w,this.click=(t=>{this.isEnabled&&this.dimensions.isHitBy(t.clientX,t.clientY)&&this.clicked.dispatchEvent(this)})}mouseMove(t){this.isEnabled&&(this.dimensions.isHitBy(t.clientX,t.clientY)?(this.isMouseOver=!0,x.SetCursor(this.name,!0)):(this.isMouseOver=!1,x.SetCursor(this.name,!1)))}mouseDown(t){}mouseUp(t){}}class b{constructor(){this.fontSize=40,this.fontPrefix="",this.fontFamily="fontawesome",this.fillStyle="blue",this.mouseOverFillStyle="red",this.backgroundFillStyle=void 0,this.getFont=(()=>{var t="";return this.fontPrefix&&(t+=this.fontPrefix+" "),t+=this.fontSize+"px "+this.fontFamily})}}class V extends S{constructor(){super(...arguments),this.properties=new b,this.render=(t=>{this.properties.backgroundFillStyle&&(t.fillStyle=this.properties.backgroundFillStyle,t.fillRect(this.dimensions.x,this.dimensions.y,this.dimensions.width,this.dimensions.height)),this.isMouseOver?t.fillStyle=this.properties.mouseOverFillStyle:t.fillStyle=this.properties.fillStyle,t.font=this.properties.getFont(),t.textAlign="left",t.textBaseline="top",t.fillText(this.text,this.dimensions.x,this.dimensions.y)}),this.updateLayout=((t,e)=>{super.updateLayout(t,e),t.font=this.properties.getFont(),t.textAlign="left",t.textBaseline="top";var i=t.measureText(this.text),n=this.alignement.calculateDimensionsX(e,i.width),a=this.alignement.calculateDimensionsY(e,this.properties.fontSize);this.dimensions=new s(n,a,i.width,this.properties.fontSize)})}}!function(t){t[t.Horizontal=0]="Horizontal",t[t.Vertical=1]="Vertical"}(d||(d={}));class C{constructor(){this.itemSpacing=30,this.orientation=d.Vertical}}class E extends g{constructor(){super(...arguments),this.properties=new C,this.addItem=(t=>{t.alignement.horizontalAlign=a.Left,t.alignement.verticalAlign=r.Top,this.children.push(t),this.triggerUpdateLayout()}),this.removeItem=(t=>{this.children.removeItem(t),this.triggerUpdateLayout()})}updateLayout(t,e){super.updateLayout(t,e);var i=this.alignement.calculateDimensionsX(e,this.dimensions.width),n=this.alignement.calculateDimensionsY(e,this.dimensions.height),a=0,r=0;if(this.properties.orientation==d.Vertical)for(let e=0;e<this.children.length;e++){const h=this.children[e];e>0&&(n+=this.properties.itemSpacing,r+=this.properties.itemSpacing),h.updateLayout(t,new s(i,n,0,0)),n+=h.dimensions.height,r+=h.dimensions.height,a=Math.max(a,h.dimensions.width)}else for(let e=0;e<this.children.length;e++){const h=this.children[e];e>0&&(i+=this.properties.itemSpacing,a+=this.properties.itemSpacing),h.updateLayout(t,new s(i,n,0,0)),i+=h.dimensions.width,a+=h.dimensions.width,r=Math.max(r,h.dimensions.height)}this.dimensions.x==i&&this.dimensions.y==n&&this.dimensions.width==a&&this.dimensions.height==r||(this.dimensions.x=i,this.dimensions.y=n,this.dimensions.height=r,this.dimensions.width=a,this.updateLayout(t,e))}}class I extends S{constructor(){super(),this.radius=10,this.minValue=0,this.maxValue=100,this.currentValue=50,this.valueChanged=new w,this.updateLayout=((t,e)=>{super.updateLayout(t,e),this.dimensions=new s(e.x,e.y,200,2*this.radius)}),this.mouseDown=(t=>{this.dimensions.isHitBy(t.clientX,t.clientY)&&(this.isDragging=!0,this.updateCurrentValue(t))}),this.mouseUp=(t=>{this.isDragging=!1})}render(t){var e=this.dimensions.x,i=this.dimensions.y;t.strokeStyle="white",t.lineWidth=2,t.beginPath(),t.moveTo(e+this.radius,i+this.dimensions.height/2),t.lineTo(e+this.dimensions.width-this.radius,i+this.dimensions.height/2),t.stroke();var s=(this.currentValue-this.minValue)/(this.maxValue-this.minValue);t.fillStyle="blue",t.beginPath(),t.arc(e+this.radius+(this.dimensions.width-2*this.radius)*s,i+this.dimensions.height/2,this.radius,0,2*Math.PI),t.closePath(),t.fill()}mouseMove(t){super.mouseMove(t),this.isDragging&&this.updateCurrentValue(t)}updateCurrentValue(t){var e=t.clientX-this.dimensions.x-this.radius;(e=e/(this.dimensions.width-2*this.radius)*(this.maxValue-this.minValue)+this.minValue)>this.maxValue&&(e=this.maxValue),e<this.minValue&&(e=this.minValue),this.currentValue=e,this.valueChanged.dispatchEvent(this.currentValue)}}class M extends S{constructor(){super(),this.radius=10,this.minValue=0,this.maxValue=100,this.currentValueLow=25,this.currentValueHigh=75,this.minDiff=.1,this.valuesChanged=new L,this.updateLayout=((t,e)=>{super.updateLayout(t,e),this.dimensions=new s(e.x,e.y,200,2*this.radius)}),this.mouseDown=(t=>{if(this.dimensions.isHitBy(t.clientX,t.clientY)){var e=this.getClickedValue(t),i=Math.abs(this.currentValueLow-e),s=Math.abs(this.currentValueHigh-e);i==s?e<this.currentValueLow?this.isDraggingLow=!0:this.isDraggingHigh=!0:i>s?this.isDraggingHigh=!0:this.isDraggingLow=!0,this.updateCurrentValues(t)}}),this.mouseUp=(t=>{this.isDraggingHigh=!1,this.isDraggingLow=!1})}render(t){var e=this.dimensions.x,i=this.dimensions.y;t.strokeStyle="white",t.lineWidth=2,t.beginPath(),t.moveTo(e+this.radius,i+this.dimensions.height/2),t.lineTo(e+this.dimensions.width-this.radius,i+this.dimensions.height/2),t.stroke(),t.fillStyle="blue";var s=i+this.dimensions.height/2,n=(this.currentValueLow-this.minValue)/(this.maxValue-this.minValue),a=e+this.radius+(this.dimensions.width-2*this.radius)*n,r=(this.currentValueHigh-this.minValue)/(this.maxValue-this.minValue),h=e+this.radius+(this.dimensions.width-2*this.radius)*r;t.strokeStyle="blue",t.lineWidth=2,t.beginPath(),t.moveTo(a,s),t.lineTo(h,s),t.stroke(),t.beginPath(),t.arc(a,s,this.radius,0,2*Math.PI),t.closePath(),t.fill(),t.beginPath(),t.arc(h,s,this.radius,0,2*Math.PI),t.closePath(),t.fill()}mouseMove(t){super.mouseMove(t),(this.isDraggingHigh||this.isDraggingLow)&&this.updateCurrentValues(t)}updateCurrentValues(t){var e=this.getClickedValue(t);this.isDraggingLow?e>this.currentValueHigh-this.minDiff&&(e=this.currentValueHigh-this.minDiff):e<this.currentValueLow+this.minDiff&&(e=this.currentValueLow+this.minDiff),this.isDraggingLow?this.currentValueLow=e:this.currentValueHigh=e,this.valuesChanged.dispatchEvent(this.currentValueLow,this.currentValueHigh)}getClickedValue(t){var e=t.clientX-this.dimensions.x-this.radius;return(e=e/(this.dimensions.width-2*this.radius)*(this.maxValue-this.minValue)+this.minValue)>this.maxValue&&(e=this.maxValue),e<this.minValue&&(e=this.minValue),e}}class A extends g{constructor(t){super(),this.starLayer=t,this.numberOfStarsChanged=(t=>{Z.settingManager.changeNumberOfStars(this.starLayer,Math.round(t))}),this.speedChanged=(t=>{Z.settingManager.changeSpeed(this.starLayer,t)}),this.sizesChanged=((t,e)=>{Z.settingManager.changeSizes(this.starLayer,t,e)}),this.settingsList=new E,this.settingsList.alignement.horizontalAlign=a.Left,this.settingsList.alignement.verticalAlign=r.Top;var e=new V;e.text="Remove Layer",e.properties.fillStyle="white",this.settingsList.addItem(e),this.children.push(e),e.clicked.addEventListener(t=>{Z.settingManager.removeStarLayer(this.starLayer)});var i=new I;i.minValue=10,i.maxValue=1e3,i.currentValue=t.stars.length,this.children.push(i),this.settingsList.addItem(i),i.valueChanged.addEventListener(this.numberOfStarsChanged);var s=new I;s.minValue=0,s.maxValue=30,s.currentValue=t.speed,this.children.push(s),this.settingsList.addItem(s),s.valueChanged.addEventListener(this.speedChanged);var n=new M,h=this.starLayer.stars.map(t=>t.r);n.minValue=.01,n.maxValue=5,n.currentValueLow=Math.min(...h),n.currentValueHigh=Math.max(...h),this.children.push(n),this.settingsList.addItem(n),n.valuesChanged.addEventListener(this.sizesChanged)}updateLayout(t,e){this.settingsList.updateLayout(t,new s(e.x,e.y,0,0))}}class F extends g{constructor(){super(),this.viewModel=new v,this.lastMoved=Date.now(),this.inactivityTimeout=2e3,this.layerButtons=[],this.settingsUpdated=(t=>{switch(t){case h.AddStarLayer:for(const t of Z.settings.starLayers)if(!this.layerButtons.map(t=>t.tag).contains(t)){this.settingsList.removeItem(this.addLayerBtn);var e=new V;e.text="Edit Layer",e.tag=t,e.properties.fillStyle="white",this.settingsList.addItem(e),this.layerButtons.push(e),e.clicked.addEventListener(e=>{this.toggleShowHideStarLayerView(t)}),this.settingsList.addItem(this.addLayerBtn);break}break;case h.RemoveStarLayer:for(const t of this.layerButtons)if(!Z.settings.starLayers.contains(t.tag)){this.settingsList.removeItem(t),this.layerButtons.removeItem(t);break}this.children.removeItem(this.detailedStarLayerView),this.detailedStarLayerView=void 0}}),this.toggleShowHideStarLayerView=(t=>{if(this.detailedStarLayerView)if(this.detailedStarLayerView.starLayer!=t){this.children.removeItem(this.detailedStarLayerView),this.detailedStarLayerView=void 0;e=new A(t);this.detailedStarLayerView=e,this.children.push(this.detailedStarLayerView),this.triggerUpdateLayout()}else this.children.removeItem(this.detailedStarLayerView),this.detailedStarLayerView=void 0;else{var e=new A(t);this.detailedStarLayerView=e,this.children.push(this.detailedStarLayerView),this.triggerUpdateLayout()}}),this.showHideOverlayClicked=(t=>{this.viewModel.state==o.visible?this.setState(o.beforeVisible):this.setState(o.visible)}),this.mouseMove=(t=>{this.viewModel.state!=o.hidden&&this.viewModel.state!=o.beforeVisible||this.setState(o.beforeVisible),super.mouseMove(t)}),this.mouseInactivityHandler=(()=>{Date.now()-this.lastMoved>=this.inactivityTimeout?this.viewModel.state==o.beforeVisible&&this.setState(o.hidden):setTimeout(this.mouseInactivityHandler,this.inactivityTimeout-(Date.now()-this.lastMoved))}),this.setState=(t=>{switch(t){case o.hidden:this.children.removeItem(this.showOverLayerButton),this.viewModel.state=o.hidden;break;case o.beforeVisible:this.lastMoved=Date.now(),this.viewModel.state==o.hidden&&(setTimeout(this.mouseInactivityHandler,this.inactivityTimeout),this.children.addItemIfNotExists(this.showOverLayerButton)),this.viewModel.state==o.visible&&(setTimeout(this.mouseInactivityHandler,this.inactivityTimeout),this.children.removeItemIfExists(this.settingsList),this.children.removeItemIfExists(this.detailedStarLayerView),this.detailedStarLayerView=void 0),this.viewModel.state=o.beforeVisible;break;case o.visible:this.viewModel.state==o.beforeVisible&&this.children.push(this.settingsList),this.viewModel.state=o.visible}}),this.showOverLayerButton=new V,this.showOverLayerButton.text="Show/Hide Settings",this.showOverLayerButton.properties.fillStyle="green",this.showOverLayerButton.alignement.verticalAlign=r.Top,this.showOverLayerButton.alignement.horizontalAlign=a.Left,this.showOverLayerButton.clicked.addEventListener(this.showHideOverlayClicked),this.showOverLayerButton.properties.backgroundFillStyle="rgba(0, 0, 0, 0.5)",this.children.push(this.showOverLayerButton),this.settingsList=new E,this.settingsList.alignement.horizontalAlign=a.Left,this.settingsList.alignement.verticalAlign=r.Top;var t=new V;t.text="Add Layer",t.properties.fillStyle="white",this.settingsList.addItem(t),t.clicked.addEventListener(t=>{Z.settingManager.addStarLayer()}),this.addLayerBtn=t,Z.settingManager.update.addEventListener(this.settingsUpdated)}updateLayout(t,e){super.updateLayout(t,e),this.showOverLayerButton.updateLayout(t,e);var i=2*this.showOverLayerButton.dimensions.height;this.settingsList.updateLayout(t,new s(e.x,e.y+i,e.width,e.height-i)),this.detailedStarLayerView&&this.detailedStarLayerView.updateLayout(t,new s(e.x+this.settingsList.dimensions.width,e.y+i,e.width,e.height-i))}}class O{constructor(t){this.starLayer=t,this.update=(t=>{for(const e of this.starLayer.stars)e.x+=this.starLayer.speed*t,e.x>Z.settings.width&&(e.x-=Z.settings.width)})}}class k{}k.instances={},k.addInstance=((t,e)=>{k.instances[t]=e}),k.getInstance=(t=>k.instances[t]);class D extends g{constructor(){super(),this.playIconText="",this.pauseIconText="",this.stopIconText="",this.nextIconText="",this.previousIconText="";var t=k.getInstance("audio"),e=new E;e.alignement.verticalAlign=r.Bottom,e.alignement.margin.bottom=10,e.properties.orientation=d.Horizontal,this.children.push(e);var i=new V;i.properties.fontPrefix="900",i.properties.fontFamily="'Font Awesome 5 Free'",i.text=this.playIconText,i.clicked.addEventListener(()=>{i.text==this.playIconText?(t.play(),i.text=this.pauseIconText):(t.pause(),i.text=this.playIconText)}),e.addItem(i);var s=new V;s.properties.fontPrefix="900",s.properties.fontFamily="'Font Awesome 5 Free'",s.text=this.stopIconText,s.clicked.addEventListener(()=>{t.stop(),i.text==this.pauseIconText&&(i.text=this.playIconText)}),e.addItem(s);var n=new V;n.properties.fontPrefix="900",n.properties.fontFamily="'Font Awesome 5 Free'",n.text=this.previousIconText,n.clicked.addEventListener(()=>{t.previous()}),e.addItem(n);var a=new V;a.properties.fontPrefix="900",a.properties.fontFamily="'Font Awesome 5 Free'",a.text=this.nextIconText,a.clicked.addEventListener(()=>{t.next()}),e.addItem(a)}updateLayout(t,e){super.updateLayout(t,e);for(const e of this.children)e.updateLayout(t,this.bounds)}}!function(t){t[t.FitAndOverfill=0]="FitAndOverfill",t[t.FitAndSpace=1]="FitAndSpace"}(l||(l={}));class T{constructor(){this.imageScalingMode=l.FitAndSpace,this.scale=1}}class P extends S{constructor(t){super(),this.properties=new T,this.render=(t=>{super.render(t),t.drawImage(this.image,this.dimensions.x,this.dimensions.y,this.dimensions.width,this.dimensions.height),this.isMouseOver&&this.isEnabled&&(t.fillStyle="rgba(255,255,255,0.5)",t.fillRect(this.dimensions.x,this.dimensions.y,this.dimensions.width,this.dimensions.height))}),this.image=t}updateLayout(t,e){super.updateLayout(t,e);var i=1,s=this.image.naturalWidth/this.image.naturalHeight>e.width/e.height;switch(this.properties.imageScalingMode){case l.FitAndOverfill:i=s?e.height/this.image.height:e.width/this.image.width;break;case l.FitAndSpace:i=s?e.width/this.image.width:e.height/this.image.height}var n=this.image.naturalWidth*i,a=this.image.naturalHeight*i;this.dimensions.x=this.alignement.calculateDimensionsX(e,n),this.dimensions.y=this.alignement.calculateDimensionsY(e,n),this.dimensions.width=n,this.dimensions.height=a}}P.createFromUrl=(t=>new Promise((e,i)=>{var s=new Image;s.src=t,s.onload=(()=>{e(new P(s))})}));class U extends g{constructor(){super();var t=k.getInstance("assets").getImage("background"),e=new P(t);e.disableMouseEvents(),e.properties.imageScalingMode=l.FitAndOverfill,this.children.push(e)}updateLayout(t,e){super.updateLayout(t,e);for(const i of this.children)i.updateLayout(t,e)}}class N extends g{constructor(){super(),this.starLayers=[],this.starAnimators=[],this.appSettingsUpdated=(t=>{switch(t){case h.AddStarLayer:this.addStarLayer();break;case h.RemoveStarLayer:this.removeStarLayer()}}),this.addStarLayer=(()=>{for(const i of Z.settings.starLayers)if(null==this.starLayers.firstOrDefault(t=>t.starLayer==i)){var t=new y(i);this.starLayers.push(t),this.children.splice(1,0,t),this.triggerUpdateLayout();var e=new O(i);this.animation.addUpdateFunction(e.update),this.starAnimators.push(e);break}}),this.removeStarLayer=(()=>{for(const e of this.starLayers)if(null==Z.settings.starLayers.firstOrDefault(t=>t==e.starLayer)){var t=this.starAnimators.first(t=>t.starLayer==e.starLayer);this.animation.removeUpdateFunction(t.update),this.starAnimators.removeItem(t),this.children.remove(t=>t==e),this.starLayers.remove(t=>t==e),this.triggerUpdateLayout()}}),this.animation=k.getInstance("animation"),this.settingsOverlay=new F,this.playerView=new D,this.children.push(new U),this.children.push(this.playerView),this.children.push(this.settingsOverlay),Z.settingManager.update.addEventListener(this.appSettingsUpdated)}updateLayout(t,e){super.updateLayout(t,e),console.log(e);for(const i of this.children)i.updateLayout(t,e)}}class B{constructor(){this.stars=[],this.speed=20*Math.random()+5}}class H{constructor(){this.updateFunctions=[],this.isRunning=!1,this.addUpdateFunction=(t=>{this.updateFunctions.push(t)}),this.removeUpdateFunction=(t=>{this.updateFunctions.splice(this.updateFunctions.indexOf(t),1)}),this.setFps=(t=>{this.fps=t,this.fpsInterval=1e3/this.fps}),this.animationLoop=(()=>{this.isRunning&&requestAnimationFrame(this.animationLoop);var t=Date.now(),e=t-this.lastFrameTime;if(e>this.fpsInterval){this.lastFrameTime=t;var i=e/1e3;for(const t of this.updateFunctions)t(i)}}),this.setFps(30),this.play(),document.addEventListener("keyup",t=>{80==t.keyCode&&this.playPause()})}play(){this.isRunning||(this.isRunning=!0,this.lastFrameTime=Date.now(),this.animationLoop())}pause(){this.isRunning&&(this.isRunning=!1)}playPause(){this.isRunning?this.pause():this.play()}}class z{constructor(){this.loadFontawesomeFree=(()=>this.loadFont("","","900 20px 'Font Awesome 5 Free'")),this.loadFontawesomeBrands=(()=>this.loadFont("","","400 20px 'Font Awesome 5 Brands'")),this.countPixels=(t=>{var e=0;for(let r=0;r<t.data.length;r+=4){var i=t.data[r],s=t.data[r+1],n=t.data[r+2],a=t.data[r+3];i<50&&s<50&&n<50&&a>.9&&e++}return e}),this.getIconPixels=((t,e,i)=>{t.clearRect(0,0,e.width,e.height),t.fillText(i,0,0);var s=t.getImageData(0,0,e.width,e.height);return this.countPixels(s)}),this.loadFont=((t,e,i)=>{var s=10;return new Promise((n,a)=>{console.log('loading font "'+i+'"');var r=document.createElement("canvas");r.width=20,r.height=20;var h=r.getContext("2d");h.font=i,h.fillStyle="black",h.textAlign="left",h.textBaseline="top";var o=()=>{var a=this.getIconPixels(h,r,t),d=this.getIconPixels(h,r,e);Math.abs(d-a)>5?(console.log('loaded font "'+i+'"'),n()):0==--s?console.log("stop loading font after "+s+" retries with 500ms delay"):setTimeout(()=>{o()},500)};o()})})}}class K{constructor(t,e){this.name=t,this.audioCtx=e}}class R extends K{constructor(){super(...arguments),this.getAudioNode=(()=>this.analyserNode)}reload(){return new Promise((t,e)=>{this.analyserNode||(this.analyserNode=this.audioCtx.createAnalyser()),this.analyserNode.fftSize=32,this.analyserNode.smoothingTimeConstant=.9,this.bufferLength=this.analyserNode.frequencyBinCount,this.dataArray=new Uint8Array(this.bufferLength),t()})}getSpectrum(){return this.analyserNode?(this.analyserNode.getByteFrequencyData(this.dataArray),this.dataArray):new Uint8Array(0)}getWave(){return this.analyserNode?(this.analyserNode.getByteTimeDomainData(this.dataArray),this.dataArray):new Uint8Array(0)}}class X extends K{constructor(){super(...arguments),this.getAudioNode=(()=>this.audioCtx.destination)}reload(){}}class Y extends K{constructor(t,e,i){super(t,e),this.audioEnded=new f,this.audioEndedEvent=(()=>{this.audioEnded.dispatchEvent()}),this.getAudioNode=(()=>this.source),this.play=(()=>{this.audio.play()}),this.pause=(()=>{this.audio.pause()}),this.stop=(()=>{this.audio.pause(),this.audio.currentTime=0}),this.setUrl=(t=>{var e=!this.audio.paused;this.url=t,this.audio.src=t,this.audio.load(),e&&this.audio.play()}),this.url=i,this.audio=document.createElement("audio"),this.audio.controls=!0,this.audio.src=this.url,this.audio.addEventListener("ended",this.audioEndedEvent)}reload(){return new Promise((t,e)=>{this.source||(this.source=this.audioCtx.createMediaElementSource(this.audio)),t()})}}class W{constructor(){this.audioNodes=[],this.addMediaElementSource=((t,e)=>{var i=new Y(t,this.audioCtx,e);return this.audioNodes.push(i),i}),this.addAnalyzer=(t=>{var e=new R(t,this.audioCtx);return this.audioNodes.push(e),e}),this.getAudioGraphNode=(t=>this.audioNodes.first(e=>e.name==t)),this.audioContextStateChanged=new w,this.documentClick=(()=>{"suspended"===this.audioCtx.state&&(this.audioCtx.resume(),document.removeEventListener("click",this.documentClick))}),this.audioContextStateChangedEvaluator=(()=>{"running"===this.audioCtx.state&&(console.log("audio context state changed"),this.audioCtx.removeEventListener("statechange",this.audioContextStateChangedEvaluator),this.reload().then(()=>{this.audioContextStateChanged.dispatchEvent(this.audioCtx.state)}))}),this.reload=(()=>new Promise((t,e)=>{console.log("realoading audio graph"),Promise.all(this.audioNodes.map(t=>t.reload())).then(()=>{console.log("reloaded audio graph");for(let t=0;t<this.audioNodes.length;t++){const e=this.audioNodes[t];e.getAudioNode().disconnect(),t<this.audioNodes.length-1?e.getAudioNode().connect(this.audioNodes[t+1].getAudioNode()):e.getAudioNode().connect(this.destinationNode.getAudioNode())}t()})})),this.audioCtx=new AudioContext,this.audioCtx.addEventListener("statechange",this.audioContextStateChangedEvaluator),"suspended"===this.audioCtx.state&&(document.addEventListener("click",this.documentClick),console.log("Audio context is suspended. Click the dom to make it running.")),this.destinationNode=new X("destination",this.audioCtx)}}var j=i(0),_=i.n(j);class G{constructor(){this.songs=[_.a,_.a,_.a,_.a,_.a,_.a,_.a],this.reload=(()=>this.audioGraph.reload()),this.play=(()=>{this.source.play()}),this.pause=(()=>{this.source.pause()}),this.next=(()=>{var t=this.songs.indexOf(this.source.url)+1;t==this.songs.length&&(t=0),this.source.setUrl(this.songs[t])}),this.previous=(()=>{var t=this.songs.indexOf(this.source.url)-1;-1==t&&(t=this.songs.length-1),this.source.setUrl(this.songs[t])}),this.stop=(()=>{this.source.stop()}),this.audioGraph=new W,this.source=this.audioGraph.addMediaElementSource("source",this.songs[0]),this.analyser=this.audioGraph.addAnalyzer("analyser")}}class q{constructor(){this.imageAssets=[],this.addImage=((t,e)=>{this.imageAssets.push({name:t,url:e,image:void 0})}),this.getImage=(t=>{var e=this.imageAssets.firstOrDefault(e=>e.name==t);return e?e.image:void 0}),this.load=(()=>Promise.all(this.imageAssets.map(t=>new Promise((e,i)=>{if(t.image)e();else{var s=new Image;s.src=t.url,s.onload=(()=>{t.image=s,e()})}}))))}}var J=i(1),Q=i.n(J);class Z{constructor(){this.run=(()=>{document.body.style.backgroundColor="black",console.log("loading app"),Promise.all([(new z).loadFontawesomeFree(),new Promise((t,e)=>{var i=new G;i.reload(),k.addInstance("audio",i),t()}),new Promise((t,e)=>{var i=x.createFullScreen(),s=new n(i),a=new H;a.addUpdateFunction(i.draw),k.addInstance("canvas",i),k.addInstance("stage",s),k.addInstance("animation",a),t()}),new Promise((t,e)=>{var i=new q;k.addInstance("assets",i),i.addImage("background",Q.a),i.load().then(()=>{t()})})]).then(()=>{console.log("loaded app");var t=k.getInstance("stage"),e=new N;t.setView(e),Z.settingManager.addStarLayer(),Z.settingManager.addStarLayer()})})}}Z.settings=new class{constructor(t,e){this.width=t,this.height=e,this.starLayers=[]}}(window.innerWidth,window.innerHeight),Z.settingManager=new class{constructor(){this.update=new w,this.addStarLayer=(()=>{var t=new B;for(let e=0;e<100;e++)t.stars.push({x:Math.random()*Z.settings.width,y:Math.random()*Z.settings.height,r:2*Math.random()+.05});Z.settings.starLayers.push(t),this.update.dispatchEvent(h.AddStarLayer)}),this.removeStarLayer=(t=>{Z.settings.starLayers.removeItem(t),this.update.dispatchEvent(h.RemoveStarLayer)}),this.changeNumberOfStars=((t,e)=>{if(e>0){var i=e-t.stars.length;if(i>0)for(let e=0;e<i;e++)t.stars.push({x:Math.random()*Z.settings.width,y:Math.random()*Z.settings.height,r:2*Math.random()+.05});else if(i<0)for(let e=0;e<-i;e++)t.stars.splice(Math.floor(Math.random()*t.stars.length),1);this.update.dispatchEvent(h.ChangeNumberOfStars)}}),this.changeSpeed=((t,e)=>{t.speed=e,this.update.dispatchEvent(h.ChangeSpeed)}),this.changeSizes=((t,e,i)=>{var s=t.stars.map(t=>t.r),n=Math.min(...s),a=Math.max(...s)-n;a<=0&&(a=1e-4);for(const s of t.stars)s.r=(s.r-n)/a*(i-e)+e;this.update.dispatchEvent(h.ChangeSpeed)})}};i(2);document.addEventListener("DOMContentLoaded",function(){(new Z).run()},!1)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9UcmFpbGVyX0NvbnN0ZWxsYXRpb24ub2dnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvYmFja2dyb3VuZC5wbmciLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy9leHRlbnNpb25zLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvZ2VvbWV0cnkvcmVjdGFuZ2xlLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvc3RhZ2UudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9hbGlnbmVtZW50L2hvcml6b250YWxBbGlnbmVtZW50T3B0aW9uLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvYWxpZ25lbWVudC92ZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NldHRpbmdzL3NldHRpbmdPcGVyYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXcvb3ZlcmxheS9zZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvb3JpZW50YXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9jb250cm9scy9pbWFnZVNjYWxpbmdNb2RlLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvYWxpZ25lbWVudC9zcGFjaW5nLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvYWxpZ25lbWVudC9hbGlnbmVtZW50LnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvcmVuZGVyT2JqZWN0LnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGF5b3V0Vmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy9zdGFyUmVuZGVyT2JqZWN0LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3L3N0YXJMYXllckRyYXdlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy9vdmVybGF5L3NldHRpbmdzT3ZlcmxheVZpZXdNb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL2VFdmVudC50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2VDYW52YXMudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9jb250cm9scy9jb250cm9sLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvY29udHJvbHMvYnV0dG9uUHJvcGVydGllcy50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2J1dHRvbi50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xpc3RWaWV3UHJvcGVydGllcy50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xpc3RWaWV3LnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvY29udHJvbHMvc2xpZGVyLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvY29udHJvbHMvcmFuZ2VTbGlkZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXcvb3ZlcmxheS9zdGFyTGF5ZXJWaWV3LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3L292ZXJsYXkvc2V0dGluZ3NPdmVybGF5Vmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy9zdGFyTGF5ZXJBbmltYXRvci50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL2RpbmplY3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXcvcGxheWVyVmlldy50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2ltYWdlUHJvcGVydGllcy50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2ltYWdlLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3L2JhY2tncm91bmRJbWFnZVZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXcvaW5zcGllcnR5UGxheWVyVmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL3N0YXJMYXllci50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL2VBbmltYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9jYW52YXNIZWxwZXIudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy9hdWRpby9hdWRpb0dyYXBoTm9kZS50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL2F1ZGlvL2F1ZGlvR3JhcGhOb2RlQW5hbHlzZXIudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy9hdWRpby9hdWRpb0dyYXBoTm9kZURlc3RpbmF0aW9uLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvYXVkaW8vYXVkaW9HcmFwaE5vZGVFbGVtZW50U291cmNlLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvYXVkaW8vYXVkaW9HcmFwaC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXVkaW9NYW5hZ2VyLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvYXNzZXRNYW5hZ2VyLnRzIiwid2VicGFjazovLy8uL3NyYy9hcHAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9zZXR0aW5ncy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2V0dGluZ3Mvc2V0dGluZ3NNYW5hZ2VyLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkFycmF5IiwiZmlyc3RPckRlZmF1bHQiLCJmdW5jIiwiYXJyYXlJdGVtIiwidGhpcyIsImZpcnN0IiwiY29uc29sZSIsImxvZyIsImdldE5leHQiLCJjdXJyZW50Iiwic2VsZWN0b3IiLCJuZXh0UG9zaXRpb24iLCJuZXh0IiwieCIsInJlbW92ZUl0ZW0iLCJpdGVtIiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwiY29udGFpbnMiLCJyZW1vdmVJdGVtSWZFeGlzdHMiLCJhZGRJdGVtSWZOb3RFeGlzdHMiLCJwdXNoIiwicmVtb3ZlIiwidG9MaXN0IiwiZmlsdGVyIiwiUmVjdGFuZ2xlIiwiW29iamVjdCBPYmplY3RdIiwieSIsIndpZHRoIiwiaGVpZ2h0IiwiY29sbGlkZXNXaXRoIiwicmVjdGFuZ2xlIiwiaGl0eCIsImhpdHkiLCJpc0hpdEJ5Iiwic3RhZ2VfU3RhZ2UiLCJjYW52YXMiLCJjYW52YXNSZXNpemVkIiwic2hvdWxkVXBkYXRlTGF5b3V0IiwibW91c2VEb3duIiwiZXYiLCJ2aWV3IiwiY2xpZW50WCIsImRwciIsImNsaWVudFkiLCJhbHRLZXkiLCJjdHJsS2V5Iiwic2hpZnRLZXkiLCJtb3VzZVVwIiwibW91c2VNb3ZlIiwiY2xpY2siLCJyZW5kZXIiLCJjdHgiLCJ1cGRhdGVMYXlvdXQiLCJjbGVhclJlY3QiLCJzZXRWaWV3IiwiYWRkRHJhd0Z1bmN0aW9uIiwicmVzaXplZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJkb2N1bWVudCIsIkhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uIiwiVmVydGljYWxBbGlnbmVtZW50T3B0aW9uIiwiU2V0dGluZ09wZXJhdGlvbiIsIlNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlIiwiT3JpZW50YXRpb24iLCJJbWFnZVNjYWxpbmdNb2RlIiwiU3BhY2luZyIsInRvcCIsInJpZ2h0IiwiYm90dG9tIiwibGVmdCIsImFsaWduZW1lbnRfQWxpZ25lbWVudCIsImhvcml6b250YWxBbGlnbiIsIkNlbnRlciIsInZlcnRpY2FsQWxpZ24iLCJtYXJnaW4iLCJjYWxjdWxhdGVEaW1lbnNpb25zWCIsImJvdW5kcyIsIkxlZnQiLCJSaWdodCIsImNhbGN1bGF0ZURpbWVuc2lvbnNZIiwiVG9wIiwiQm90dG9tIiwicmVuZGVyT2JqZWN0X1JlbmRlck9iamVjdCIsImdlbmVyYXRlTmV3SWQiLCJpZENvdW50ZXIiLCJkaW1lbnNpb25zIiwiYWxpZ25lbWVudCIsInRyaWdnZXJVcGRhdGVMYXlvdXQiLCJkaXNhYmxlTW91c2VFdmVudHMiLCJpZCIsImxheW91dFZpZXdfTGF5b3V0VmlldyIsImNoaWxkcmVuIiwic3VwZXIiLCJjaGlsZCIsInN0YXJSZW5kZXJPYmplY3RfU3RhclJlbmRlck9iamVjdCIsInN0YXIiLCJmaWxsU3R5bGUiLCJiZWdpblBhdGgiLCJhcmMiLCJNYXRoIiwiUEkiLCJmaWxsIiwiRXJyb3IiLCJzdGFyTGF5ZXJEcmF3ZXJfU3RhckxheWVyRHJhd2VyIiwic3RhckxheWVyIiwic2V0dGluZ3NVcGRhdGVkIiwib3BlcmF0aW9uIiwiQ2hhbmdlTnVtYmVyT2ZTdGFycyIsInVwZGF0ZU51bWJlck9mU3RhcnMiLCJhcHBfQXBwIiwic2V0dGluZ01hbmFnZXIiLCJ1cGRhdGUiLCJzdGFycyIsInNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbF9TZXR0aW5nc092ZXJsYXlWaWV3TW9kZWwiLCJzdGF0ZSIsImhpZGRlbiIsIkVFdmVudCIsImxpc3RlbmVycyIsImxpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lcklmTm90RXhpc3RzIiwiZGlzcGF0Y2hFdmVudCIsImxlbmd0aCIsImV2ZW50IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXJJZkV4aXN0cyIsIkVFdmVudFQiLCJhcmciLCJFRXZlbnRUVCIsImFyZzEiLCJhcmcyIiwiZUNhbnZhc19FQ2FudmFzIiwiZHJhd0Z1bmN0aW9ucyIsImRwclNjYWxpbmdFbmFibGVkIiwiZW5hYmxlRHByU2NhbGluZyIsInJlc2l6ZSIsImRpc2FibGVEcHJTY2FsaW5nIiwid2luZG93IiwiZGV2aWNlUGl4ZWxSYXRpbyIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0IiwiZHJhdyIsInNhdmUiLCJzY2FsZSIsImRyYXdGdW5jdGlvbiIsInJlc3RvcmUiLCJyZW1vdmVEcmF3RnVuY3Rpb24iLCJib2R5IiwicGFyZW50RWxlbWVudCIsInN0eWxlIiwib3ZlcmZsb3ciLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kQ2hpbGQiLCJlbkNhbnZhcyIsImdldENvbnRleHQiLCJjdXJzb3JMb2NrIiwiU2V0Q3Vyc29yIiwicG9pbnRlciIsImN1cnNvciIsImNvbnRyb2xfQ29udHJvbCIsImlzTW91c2VPdmVyIiwiaXNFbmFibGVkIiwiY2xpY2tlZCIsIkJ1dHRvblByb3BlcnRpZXMiLCJmb250U2l6ZSIsImZvbnRQcmVmaXgiLCJmb250RmFtaWx5IiwibW91c2VPdmVyRmlsbFN0eWxlIiwiYmFja2dyb3VuZEZpbGxTdHlsZSIsInVuZGVmaW5lZCIsImdldEZvbnQiLCJmb250IiwiYnV0dG9uX0J1dHRvbiIsInByb3BlcnRpZXMiLCJmaWxsUmVjdCIsInRleHRBbGlnbiIsInRleHRCYXNlbGluZSIsImZpbGxUZXh0IiwidGV4dCIsInNpemUiLCJtZWFzdXJlVGV4dCIsImxpc3RWaWV3UHJvcGVydGllc19MaXN0Vmlld1Byb3BlcnRpZXMiLCJpdGVtU3BhY2luZyIsIm9yaWVudGF0aW9uIiwiVmVydGljYWwiLCJsaXN0Vmlld19MaXN0VmlldyIsImFkZEl0ZW0iLCJsYXlvdXRWaWV3IiwibWF4Iiwic2xpZGVyX1NsaWRlciIsInJhZGl1cyIsIm1pblZhbHVlIiwibWF4VmFsdWUiLCJjdXJyZW50VmFsdWUiLCJ2YWx1ZUNoYW5nZWQiLCJpc0RyYWdnaW5nIiwidXBkYXRlQ3VycmVudFZhbHVlIiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2UiLCJyZWxWYWx1ZSIsImNsb3NlUGF0aCIsInZhbCIsInJhbmdlU2xpZGVyX1JhbmdlU2xpZGVyIiwiY3VycmVudFZhbHVlTG93IiwiY3VycmVudFZhbHVlSGlnaCIsIm1pbkRpZmYiLCJ2YWx1ZXNDaGFuZ2VkIiwiZ2V0Q2xpY2tlZFZhbHVlIiwiZGlmZlRvTG93IiwiYWJzIiwiZGlmZlRvSGlnaCIsImlzRHJhZ2dpbmdMb3ciLCJpc0RyYWdnaW5nSGlnaCIsInVwZGF0ZUN1cnJlbnRWYWx1ZXMiLCJzbGlkZXJZIiwicmVsVmFsdWVMb3ciLCJsb3dYIiwicmVsVmFsdWVIaWdoIiwiaGlnaFgiLCJzdGFyTGF5ZXJWaWV3X1N0YXJMYXllclZpZXciLCJudW1iZXJPZlN0YXJzQ2hhbmdlZCIsIm51bWJlck9mU3RhcnMiLCJjaGFuZ2VOdW1iZXJPZlN0YXJzIiwicm91bmQiLCJzcGVlZENoYW5nZWQiLCJzcGVlZCIsImNoYW5nZVNwZWVkIiwic2l6ZXNDaGFuZ2VkIiwibG93Qm9yZGVyIiwiaGlnaEJvcmRlciIsImNoYW5nZVNpemVzIiwic2V0dGluZ3NMaXN0IiwiYnRuRm9yTGF5ZXIiLCJzZW5kZXIiLCJyZW1vdmVTdGFyTGF5ZXIiLCJzbGlkZXIiLCJzbGlkZXJTcGVlZCIsInNsaWRlclNpemUiLCJzaXplcyIsIm1hcCIsIm1pbiIsInNldHRpbmdzT3ZlcmxheVZpZXdfU2V0dGluZ3NPdmVybGF5VmlldyIsInZpZXdNb2RlbCIsImxhc3RNb3ZlZCIsIkRhdGUiLCJub3ciLCJpbmFjdGl2aXR5VGltZW91dCIsImxheWVyQnV0dG9ucyIsIkFkZFN0YXJMYXllciIsInNldHRpbmdzIiwic3RhckxheWVycyIsInRhZyIsImFkZExheWVyQnRuIiwidG9nZ2xlU2hvd0hpZGVTdGFyTGF5ZXJWaWV3IiwiUmVtb3ZlU3RhckxheWVyIiwic2V0dGluZ3NMYXllciIsImRldGFpbGVkU3RhckxheWVyVmlldyIsInNob3dIaWRlT3ZlcmxheUNsaWNrZWQiLCJ2aXNpYmxlIiwic2V0U3RhdGUiLCJiZWZvcmVWaXNpYmxlIiwibW91c2VJbmFjdGl2aXR5SGFuZGxlciIsInNldFRpbWVvdXQiLCJzaG93T3ZlckxheWVyQnV0dG9uIiwiYnRuRm9yTmV3TGF5ZXIiLCJhZGRTdGFyTGF5ZXIiLCJzcGFjZSIsInN0YXJMYXllckFuaW1hdG9yX1N0YXJMYXllckFuaW1hdG9yIiwidGltZURpZmYiLCJEaW5qZWN0IiwiaW5zdGFuY2VzIiwiYWRkSW5zdGFuY2UiLCJpbnN0YW5jZSIsImdldEluc3RhbmNlIiwicGxheWVyVmlld19QbGF5ZXJWaWV3IiwicGxheUljb25UZXh0IiwicGF1c2VJY29uVGV4dCIsInN0b3BJY29uVGV4dCIsIm5leHRJY29uVGV4dCIsInByZXZpb3VzSWNvblRleHQiLCJhdWRpb01hbmFnZXIiLCJsaXN0VmlldyIsIkhvcml6b250YWwiLCJwbGF5UGF1c2VCdG4iLCJwbGF5IiwicGF1c2UiLCJzdG9wQnRuIiwic3RvcCIsInByZXZpb3VzQnRuIiwicHJldmlvdXMiLCJuZXh0QnRuIiwiaW1hZ2VQcm9wZXJ0aWVzX0ltYWdlUHJvcGVydGllcyIsImltYWdlU2NhbGluZ01vZGUiLCJGaXRBbmRTcGFjZSIsImltYWdlX0VJbWFnZSIsImltYWdlIiwiZHJhd0ltYWdlIiwiZml0U2NhbGUiLCJpc0ltYWdlV2lkZXIiLCJuYXR1cmFsV2lkdGgiLCJuYXR1cmFsSGVpZ2h0IiwiRml0QW5kT3ZlcmZpbGwiLCJjcmVhdGVGcm9tVXJsIiwiaW1hZ2VVcmwiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIkltYWdlIiwic3JjIiwib25sb2FkIiwiYmFja2dyb3VuZEltYWdlVmlld19CYWNrZ3JvdW5kSW1hZ2VWaWV3IiwiYmFja2dyb3VuZCIsImdldEltYWdlIiwiaW5zcGllcnR5UGxheWVyVmlld19JbnNwaWVydHlQbGF5ZXJWaWV3Iiwic3RhckFuaW1hdG9ycyIsImFwcFNldHRpbmdzVXBkYXRlZCIsImxheWVyIiwiYW5pbWF0b3IiLCJhbmltYXRpb24iLCJhZGRVcGRhdGVGdW5jdGlvbiIsInN0YXJMYXllckRyYXdzIiwicmVtb3ZlVXBkYXRlRnVuY3Rpb24iLCJzZXR0aW5nc092ZXJsYXkiLCJwbGF5ZXJWaWV3IiwiU3RhckxheWVyIiwicmFuZG9tIiwiRUFuaW1hdGlvbiIsInVwZGF0ZUZ1bmN0aW9ucyIsImlzUnVubmluZyIsInNldEZwcyIsImZwcyIsImZwc0ludGVydmFsIiwiYW5pbWF0aW9uTG9vcCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImVsYXBzZWQiLCJsYXN0RnJhbWVUaW1lIiwidXBkYXRlRnVuY3Rpb24iLCJrZXlDb2RlIiwicGxheVBhdXNlIiwiQ2FudmFzSGVscGVyIiwibG9hZEZvbnRhd2Vzb21lRnJlZSIsImxvYWRGb250IiwibG9hZEZvbnRhd2Vzb21lQnJhbmRzIiwiY291bnRQaXhlbHMiLCJpbWFnZURhdGEiLCJwaXhlbENvdW50IiwiZGF0YSIsImciLCJiIiwiYSIsImdldEljb25QaXhlbHMiLCJpY29uIiwiZ2V0SW1hZ2VEYXRhIiwiaWNvbjEiLCJpY29uMiIsInJldHJpZXMiLCJ0ZW1wQ2FudmFzIiwidGVtcEN0eCIsImNoZWNrTG9hZGVkIiwiaWNvbjFQaXhlbENvdW50IiwiaWNvbjJQaXhlbENvdW50IiwiQXVkaW9HcmFwaE5vZGUiLCJhdWRpb0N0eCIsImF1ZGlvR3JhcGhOb2RlQW5hbHlzZXJfQXVkaW9HcmFwaE5vZGVBbmFseXNlciIsImdldEF1ZGlvTm9kZSIsImFuYWx5c2VyTm9kZSIsImNyZWF0ZUFuYWx5c2VyIiwiZmZ0U2l6ZSIsInNtb290aGluZ1RpbWVDb25zdGFudCIsImJ1ZmZlckxlbmd0aCIsImZyZXF1ZW5jeUJpbkNvdW50IiwiZGF0YUFycmF5IiwiVWludDhBcnJheSIsImdldEJ5dGVGcmVxdWVuY3lEYXRhIiwiZ2V0Qnl0ZVRpbWVEb21haW5EYXRhIiwiYXVkaW9HcmFwaE5vZGVEZXN0aW5hdGlvbl9BdWRpb0dyYXBoTm9kZURlc3RpbmF0aW9uIiwiZGVzdGluYXRpb24iLCJhdWRpb0dyYXBoTm9kZUVsZW1lbnRTb3VyY2VfQXVkaW9HcmFwaE5vZGVFbGVtZW50U291cmNlIiwidXJsIiwiYXVkaW9FbmRlZCIsImF1ZGlvRW5kZWRFdmVudCIsInNvdXJjZSIsImF1ZGlvIiwiY3VycmVudFRpbWUiLCJzZXRVcmwiLCJwYXVzZWQiLCJsb2FkIiwiY29udHJvbHMiLCJjcmVhdGVNZWRpYUVsZW1lbnRTb3VyY2UiLCJhdWRpb0dyYXBoX0F1ZGlvR3JhcGgiLCJhdWRpb05vZGVzIiwiYWRkTWVkaWFFbGVtZW50U291cmNlIiwic291cmNlTm9kZSIsImFkZEFuYWx5emVyIiwiYW5hbHl6ZXJOb2RlIiwiZ2V0QXVkaW9HcmFwaE5vZGUiLCJhdWRpb0NvbnRleHRTdGF0ZUNoYW5nZWQiLCJkb2N1bWVudENsaWNrIiwicmVzdW1lIiwiYXVkaW9Db250ZXh0U3RhdGVDaGFuZ2VkRXZhbHVhdG9yIiwicmVsb2FkIiwidGhlbiIsImFsbCIsImF1ZGlvTm9kZSIsImRpc2Nvbm5lY3QiLCJjb25uZWN0IiwiZGVzdGluYXRpb25Ob2RlIiwiQXVkaW9Db250ZXh0IiwiYXVkaW9NYW5hZ2VyX0F1ZGlvTWFuYWdlciIsInNvbmdzIiwiVHJhaWxlcl9Db25zdGVsbGF0aW9uX2RlZmF1bHQiLCJhdWRpb0dyYXBoIiwibmV4dFNvbmdJbmRleCIsInByZXZpb3VzU29uZ0luZGV4IiwiYW5hbHlzZXIiLCJBc3NldE1hbmFnZXIiLCJpbWFnZUFzc2V0cyIsImFkZEltYWdlIiwiaW1hZ2VBc3NldCIsInJ1biIsImJhY2tncm91bmRDb2xvciIsImNyZWF0ZUZ1bGxTY3JlZW4iLCJzdGFnZSIsImFzc2V0TWFuYWdlciIsImJhY2tncm91bmRfZGVmYXVsdCIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImRpZmYiLCJmbG9vciIsIkNoYW5nZVNwZWVkIiwibWluRml4Il0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFFBQUEsSUFVQSxPQU5BSSxF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TUFBTTNVLEtBQUtvTyxTQUFXL04sRUFBVVEsTUFBTVMsUUFBUyxHQUduRnZILEtBQUs2RyxPQUFPUyxjQUFjM0QsRUFBaUI4Qyx3QkFJNUN6RyxLQUFBa08sWUFBYyxFQUFDNUgsRUFBc0IySCxLQUN4QzNILEVBQVUySCxNQUFRQSxFQUNsQmpPLEtBQUs2RyxPQUFPUyxjQUFjM0QsRUFBaUJrWCxlQUd4QzdhLEtBQUFzTyxZQUFjLEVBQUNoSSxFQUFzQjhILEVBQW1CQyxLQUMzRCxJQUFJUyxFQUFReEksRUFBVVEsTUFBTWlJLElBQUl0TyxHQUFLQSxFQUFFL0IsR0FDbkNpTyxFQUFrQjFHLEtBQUsrSSxPQUFPRixHQUc5QmdNLEVBRm1CN1UsS0FBS3dGLE9BQU9xRCxHQUVGbkMsRUFDN0JtTyxHQUFVLElBQ1ZBLEVBQVMsTUFFYixJQUFLLE1BQU1qVixLQUFRUyxFQUFVUSxNQUN6QmpCLEVBQUtuSCxHQUFNbUgsRUFBS25ILEVBQUlpTyxHQUFtQm1PLEdBQVV6TSxFQUFhRCxHQUFjQSxFQUVoRnBPLEtBQUs2RyxPQUFPUyxjQUFjM0QsRUFBaUJrWCxzQkMvRG5EclgsU0FBU0QsaUJBQWlCLG1CQUUxQixZQUNjLElBQUlvRCxHQUNWd1QsUUFKNEMiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAzKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcImVmMTI5NjFmNjY3ODZkNTc5ZjM5ODVjMTlmZWEzMDNiLm9nZ1wiOyIsIm1vZHVsZS5leHBvcnRzID0gX193ZWJwYWNrX3B1YmxpY19wYXRoX18gKyBcIjRmM2I3MTI4OWI3ZWJiZjYxMzIzMzcxMGM5MjM3NDA3LnBuZ1wiOyIsImludGVyZmFjZSBBcnJheTxUPiB7XHJcbiAgICByZW1vdmVJdGVtSWZFeGlzdHMoaXRlbTogVCk6IHZvaWQ7XHJcbiAgICBjb250YWlucyhpdGVtOiBUKTogYm9vbGVhbjtcclxuICAgIHJlbW92ZUl0ZW0oaXRlbTogVCk6IHZvaWQ7XHJcbiAgICByZW1vdmUoc2VsZWN0b3I6IChpdGVtOiBUKSA9PiBib29sZWFuKTogdm9pZDtcclxuICAgIGFkZEl0ZW1JZk5vdEV4aXN0cyhpdGVtOiBUKTogdm9pZDtcclxuICAgIHRvTGlzdCgpOiBUW107XHJcbiAgICBnZXROZXh0KGN1cnJlbnQ6IFQsIHNlbGVjdG9yOiAoaXRlbTogVCkgPT4gbnVtYmVyKTogVDtcclxuICAgIGZpcnN0KHNlbGVjdG9yOiAoaXRlbTogVCkgPT4gYm9vbGVhbik6IFQ7XHJcbiAgICBmaXJzdE9yRGVmYXVsdChzZWxlY3RvcjogKGl0ZW06IFQpID0+IGJvb2xlYW4pOiBUO1xyXG59XHJcblxyXG5BcnJheS5wcm90b3R5cGUuZmlyc3RPckRlZmF1bHQgPSBmdW5jdGlvbiAoZnVuYykge1xyXG4gICAgZm9yIChjb25zdCBhcnJheUl0ZW0gb2YgdGhpcykge1xyXG4gICAgICAgIGlmIChmdW5jKGFycmF5SXRlbSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFycmF5SXRlbTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxufVxyXG5cclxuQXJyYXkucHJvdG90eXBlLmZpcnN0ID0gZnVuY3Rpb24gKGZ1bmMpIHtcclxuICAgIGZvciAoY29uc3QgYXJyYXlJdGVtIG9mIHRoaXMpIHtcclxuICAgICAgICBpZiAoZnVuYyhhcnJheUl0ZW0pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhcnJheUl0ZW07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2coXCJpdGVtIG5vdCBmb3VuZFwiKTtcclxuICAgIGNvbnNvbGUubG9nKHRoaXMpO1xyXG4gICAgdGhyb3cgXCJpdGVtIG5vdCBmb3VuZFwiO1xyXG59XHJcblxyXG5BcnJheS5wcm90b3R5cGUuZ2V0TmV4dCA9IGZ1bmN0aW9uIDxUPihjdXJyZW50OiBULCBzZWxlY3RvcjogKGl0ZW06IFQpID0+IG51bWJlcik6IFQge1xyXG4gICAgdmFyIG5leHRQb3NpdGlvbiA9IHNlbGVjdG9yKGN1cnJlbnQpICsgMTtcclxuICAgIHZhciBuZXh0ID0gKHRoaXMgYXMgVFtdKS5maXJzdE9yRGVmYXVsdCgoeCkgPT4gc2VsZWN0b3IoeCkgPT0gbmV4dFBvc2l0aW9uKTtcclxuICAgIGlmICghbmV4dCkge1xyXG4gICAgICAgIG5leHQgPSAodGhpcyBhcyBUW10pLmZpcnN0KHggPT4gc2VsZWN0b3IoeCkgPT0gMSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG5leHQ7XHJcbn1cclxuXHJcbkFycmF5LnByb3RvdHlwZS5yZW1vdmVJdGVtID0gZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXhPZihpdGVtKTtcclxuICAgIGlmIChpbmRleCAhPSAtMSkge1xyXG4gICAgICAgIHRoaXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhyb3cgXCJpdGVtIG5vdCBmb3VuZFwiO1xyXG4gICAgfVxyXG59XHJcblxyXG5BcnJheS5wcm90b3R5cGUuY29udGFpbnMgPSBmdW5jdGlvbiA8VD4oaXRlbTogVCkge1xyXG4gICAgcmV0dXJuIHRoaXMuaW5kZXhPZihpdGVtKSAhPT0gLTE7XHJcbn1cclxuXHJcbkFycmF5LnByb3RvdHlwZS5yZW1vdmVJdGVtSWZFeGlzdHMgPSBmdW5jdGlvbiA8VD4oaXRlbTogVCkge1xyXG4gICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleE9mKGl0ZW0pO1xyXG4gICAgaWYgKGluZGV4ICE9IC0xKSB7XHJcbiAgICAgICAgdGhpcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgfVxyXG59XHJcblxyXG5BcnJheS5wcm90b3R5cGUuYWRkSXRlbUlmTm90RXhpc3RzID0gZnVuY3Rpb24gPFQ+KGl0ZW06IFQpIHtcclxuICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXhPZihpdGVtKTtcclxuICAgIGlmIChpbmRleCA9PSAtMSkge1xyXG4gICAgICAgICh0aGlzIGFzIFRbXSkucHVzaChpdGVtKTtcclxuICAgIH1cclxufVxyXG5cclxuQXJyYXkucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIDxUPihzZWxlY3RvcjogKGl0ZW06IFQpID0+IGJvb2xlYW4pIHtcclxuICAgICh0aGlzIGFzIFRbXSkucmVtb3ZlSXRlbSgodGhpcyBhcyBUW10pLmZpcnN0KHNlbGVjdG9yKSk7XHJcbn1cclxuXHJcbkFycmF5LnByb3RvdHlwZS50b0xpc3QgPSBmdW5jdGlvbiA8VD4oKTogVFtdIHtcclxuICAgIHJldHVybiAodGhpcyBhcyBUW10pLmZpbHRlcih4ID0+IHRydWUpO1xyXG59XHJcbiIsImV4cG9ydCBjbGFzcyBSZWN0YW5nbGUge1xyXG4gICAgY29uc3RydWN0b3IocHVibGljIHg6IG51bWJlciwgcHVibGljIHk6IG51bWJlciwgcHVibGljIHdpZHRoOiBudW1iZXIsIHB1YmxpYyBoZWlnaHQ6IG51bWJlcikgeyB9XHJcblxyXG4gICAgcHVibGljIGNvbGxpZGVzV2l0aCA9IChyZWN0YW5nbGU6IFJlY3RhbmdsZSkgPT4ge1xyXG4gICAgICAgIHZhciBoaXR4ID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIGhpdHkgPSBmYWxzZTtcclxuICAgICAgICBpZiAodGhpcy54IDw9IHJlY3RhbmdsZS54KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnggPD0gcmVjdGFuZ2xlLnggJiYgdGhpcy54ICsgdGhpcy53aWR0aCA+IHJlY3RhbmdsZS54KSB7XHJcbiAgICAgICAgICAgICAgICBoaXR4ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmIChyZWN0YW5nbGUueCA8PSB0aGlzLnggJiYgcmVjdGFuZ2xlLnggKyByZWN0YW5nbGUud2lkdGggPiB0aGlzLngpIHtcclxuICAgICAgICAgICAgICAgIGhpdHggPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaGl0eCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy55IDw9IHJlY3RhbmdsZS55KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy55IDw9IHJlY3RhbmdsZS55ICYmIHRoaXMueSArIHRoaXMud2lkdGggPiByZWN0YW5nbGUueSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGhpdHkgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlY3RhbmdsZS55IDw9IHRoaXMueSAmJiByZWN0YW5nbGUueSArIHJlY3RhbmdsZS53aWR0aCA+IHRoaXMueSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGhpdHkgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gaGl0eCAmJiBoaXR5O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpc0hpdEJ5ID0gKHg6IG51bWJlciwgeTogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHggPiB0aGlzLnggJiYgeCA8IHRoaXMueCArIHRoaXMud2lkdGhcclxuICAgICAgICAgICAgJiYgeSA+IHRoaXMueSAmJiB5IDwgdGhpcy55ICsgdGhpcy5oZWlnaHQ7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBFQ2FudmFzIH0gZnJvbSBcIi4vZUNhbnZhc1wiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IExheW91dFZpZXcgfSBmcm9tIFwiLi9sYXlvdXRDb250cm9scy9sYXlvdXRWaWV3XCI7XHJcbmltcG9ydCB7IEVBbmltYXRpb24gfSBmcm9tIFwiLi4vZUFuaW1hdGlvblwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFN0YWdlIHtcclxuICAgIHByaXZhdGUgdmlldzogTGF5b3V0VmlldztcclxuICAgIHByaXZhdGUgc2hvdWxkVXBkYXRlTGF5b3V0OiBib29sZWFuO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgY2FudmFzOiBFQ2FudmFzKSB7XHJcbiAgICAgICAgY2FudmFzLmFkZERyYXdGdW5jdGlvbih0aGlzLnJlbmRlcik7XHJcbiAgICAgICAgY2FudmFzLnJlc2l6ZWQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmNhbnZhc1Jlc2l6ZWQpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgdGhpcy5tb3VzZURvd24pO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIHRoaXMubW91c2VVcCk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLm1vdXNlTW92ZSk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuY2xpY2spO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2FudmFzUmVzaXplZCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNob3VsZFVwZGF0ZUxheW91dCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBtb3VzZURvd24gPSAoZXY6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICBpZiAodGhpcy52aWV3KSB7XHJcbiAgICAgICAgICAgIHRoaXMudmlldy5tb3VzZURvd24oe1xyXG4gICAgICAgICAgICAgICAgY2xpZW50WDogZXYuY2xpZW50WCAvIHRoaXMuY2FudmFzLmRwcixcclxuICAgICAgICAgICAgICAgIGNsaWVudFk6IGV2LmNsaWVudFkgLyB0aGlzLmNhbnZhcy5kcHIsXHJcbiAgICAgICAgICAgICAgICBhbHRLZXk6IGV2LmFsdEtleSxcclxuICAgICAgICAgICAgICAgIGN0cmxLZXk6IGV2LmN0cmxLZXksXHJcbiAgICAgICAgICAgICAgICBzaGlmdEtleTogZXYuc2hpZnRLZXlcclxuICAgICAgICAgICAgfSBhcyBNb3VzZUV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBtb3VzZVVwID0gKGV2OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMudmlldykge1xyXG4gICAgICAgICAgICB0aGlzLnZpZXcubW91c2VVcCh7XHJcbiAgICAgICAgICAgICAgICBjbGllbnRYOiBldi5jbGllbnRYIC8gdGhpcy5jYW52YXMuZHByLFxyXG4gICAgICAgICAgICAgICAgY2xpZW50WTogZXYuY2xpZW50WSAvIHRoaXMuY2FudmFzLmRwcixcclxuICAgICAgICAgICAgICAgIGFsdEtleTogZXYuYWx0S2V5LFxyXG4gICAgICAgICAgICAgICAgY3RybEtleTogZXYuY3RybEtleSxcclxuICAgICAgICAgICAgICAgIHNoaWZ0S2V5OiBldi5zaGlmdEtleVxyXG4gICAgICAgICAgICB9IGFzIE1vdXNlRXZlbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG1vdXNlTW92ZSA9IChldjogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnZpZXcpIHtcclxuICAgICAgICAgICAgdGhpcy52aWV3Lm1vdXNlTW92ZSh7XHJcbiAgICAgICAgICAgICAgICBjbGllbnRYOiBldi5jbGllbnRYIC8gdGhpcy5jYW52YXMuZHByLFxyXG4gICAgICAgICAgICAgICAgY2xpZW50WTogZXYuY2xpZW50WSAvIHRoaXMuY2FudmFzLmRwcixcclxuICAgICAgICAgICAgICAgIGFsdEtleTogZXYuYWx0S2V5LFxyXG4gICAgICAgICAgICAgICAgY3RybEtleTogZXYuY3RybEtleSxcclxuICAgICAgICAgICAgICAgIHNoaWZ0S2V5OiBldi5zaGlmdEtleVxyXG4gICAgICAgICAgICB9IGFzIE1vdXNlRXZlbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNsaWNrID0gKGV2OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMudmlldykge1xyXG4gICAgICAgICAgICB0aGlzLnZpZXcuY2xpY2soe1xyXG4gICAgICAgICAgICAgICAgY2xpZW50WDogZXYuY2xpZW50WCAvIHRoaXMuY2FudmFzLmRwcixcclxuICAgICAgICAgICAgICAgIGNsaWVudFk6IGV2LmNsaWVudFkgLyB0aGlzLmNhbnZhcy5kcHIsXHJcbiAgICAgICAgICAgICAgICBhbHRLZXk6IGV2LmFsdEtleSxcclxuICAgICAgICAgICAgICAgIGN0cmxLZXk6IGV2LmN0cmxLZXksXHJcbiAgICAgICAgICAgICAgICBzaGlmdEtleTogZXYuc2hpZnRLZXlcclxuICAgICAgICAgICAgfSBhcyBNb3VzZUV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZW5kZXIgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHdpZHRoPzogbnVtYmVyLCBoZWlnaHQ/OiBudW1iZXIpID0+IHtcclxuICAgICAgICBpZiAodGhpcy52aWV3KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNob3VsZFVwZGF0ZUxheW91dCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnVwZGF0ZUxheW91dChjdHgsIG5ldyBSZWN0YW5nbGUoMCwgMCwgd2lkdGgsIGhlaWdodCkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG91bGRVcGRhdGVMYXlvdXQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICB0aGlzLnZpZXcucmVuZGVyKGN0eCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRWaWV3ID0gKHZpZXc6IExheW91dFZpZXcpID0+IHtcclxuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xyXG4gICAgICAgIHRoaXMuc2hvdWxkVXBkYXRlTGF5b3V0ID0gdHJ1ZTtcclxuICAgIH1cclxufSIsImV4cG9ydCBlbnVtIEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uIHtcclxuICAgIExlZnQsXHJcbiAgICBDZW50ZXIsXHJcbiAgICBSaWdodCxcclxufSIsImV4cG9ydCBlbnVtIFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbiB7XHJcbiAgICBUb3AsXHJcbiAgICBDZW50ZXIsXHJcbiAgICBCb3R0b20sXHJcbn0iLCJleHBvcnQgZW51bSBTZXR0aW5nT3BlcmF0aW9uIHtcclxuICAgIEFkZFN0YXJMYXllcixcclxuICAgIFJlbW92ZVN0YXJMYXllcixcclxuICAgIENoYW5nZU51bWJlck9mU3RhcnMsXHJcbiAgICBDaGFuZ2VTcGVlZCxcclxuICAgIENoYW5nZVNpemVzXHJcbn0iLCJleHBvcnQgZW51bSBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZSB7XHJcbiAgICBoaWRkZW4sXHJcbiAgICBiZWZvcmVWaXNpYmxlLFxyXG4gICAgdmlzaWJsZVxyXG59IiwiZXhwb3J0IGVudW0gT3JpZW50YXRpb24ge1xyXG4gICAgSG9yaXpvbnRhbCxcclxuICAgIFZlcnRpY2FsXHJcbn0iLCJleHBvcnQgZW51bSBJbWFnZVNjYWxpbmdNb2Rle1xyXG4gICAgRml0QW5kT3ZlcmZpbGwsXHJcbiAgICBGaXRBbmRTcGFjZVxyXG59IiwiZXhwb3J0IGNsYXNzIFNwYWNpbmcge1xyXG4gICAgcHVibGljIHRvcDogbnVtYmVyID0gMDtcclxuICAgIHB1YmxpYyByaWdodDogbnVtYmVyID0gMDtcclxuICAgIHB1YmxpYyBib3R0b206IG51bWJlciA9IDA7XHJcbiAgICBwdWJsaWMgbGVmdDogbnVtYmVyID0gMDtcclxufSIsImltcG9ydCB7IEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uIH0gZnJvbSBcIi4vaG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuaW1wb3J0IHsgVmVydGljYWxBbGlnbmVtZW50T3B0aW9uIH0gZnJvbSBcIi4vdmVydGljYWxBbGlnbmVtZW50T3B0aW9uXCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgU3BhY2luZyB9IGZyb20gXCIuL3NwYWNpbmdcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBbGlnbmVtZW50IHtcclxuICAgIHB1YmxpYyBob3Jpem9udGFsQWxpZ24gPSBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbi5DZW50ZXI7XHJcbiAgICBwdWJsaWMgdmVydGljYWxBbGlnbiA9IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi5DZW50ZXI7XHJcblxyXG4gICAgcHVibGljIG1hcmdpbiA9IG5ldyBTcGFjaW5nKCk7XHJcbiAgICAvLyBwdWJsaWMgcGFkZGluZyA9IG5ldyBTcGFjaW5nKCk7XHJcblxyXG4gICAgcHVibGljIGNhbGN1bGF0ZURpbWVuc2lvbnNYID0gKGJvdW5kczogUmVjdGFuZ2xlLCB3aWR0aDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLmhvcml6b250YWxBbGlnbikge1xyXG4gICAgICAgICAgICBjYXNlIEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uLkxlZnQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYm91bmRzLnggKyB0aGlzLm1hcmdpbi5sZWZ0O1xyXG4gICAgICAgICAgICBjYXNlIEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uLkNlbnRlcjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBib3VuZHMueCArIGJvdW5kcy53aWR0aCAvIDIgLSB3aWR0aCAvIDI7XHJcbiAgICAgICAgICAgIGNhc2UgSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24uUmlnaHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYm91bmRzLnggKyBib3VuZHMud2lkdGggLSB3aWR0aCAtIHRoaXMubWFyZ2luLnJpZ2h0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2FsY3VsYXRlRGltZW5zaW9uc1kgPSAoYm91bmRzOiBSZWN0YW5nbGUsIGhlaWdodDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLnZlcnRpY2FsQWxpZ24pIHtcclxuICAgICAgICAgICAgY2FzZSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24uVG9wOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJvdW5kcy55ICsgdGhpcy5tYXJnaW4udG9wO1xyXG4gICAgICAgICAgICBjYXNlIFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi5DZW50ZXI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYm91bmRzLnkgKyBib3VuZHMuaGVpZ2h0IC8gMiAtIGhlaWdodCAvIDI7XHJcbiAgICAgICAgICAgIGNhc2UgVmVydGljYWxBbGlnbmVtZW50T3B0aW9uLkJvdHRvbTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBib3VuZHMueSArIGJvdW5kcy5oZWlnaHQgLSBoZWlnaHQgLSB0aGlzLm1hcmdpbi5ib3R0b207XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBBbGlnbmVtZW50IH0gZnJvbSBcIi4vYWxpZ25lbWVudC9hbGlnbmVtZW50XCI7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgUmVuZGVyT2JqZWN0IHtcclxuICAgIHByaXZhdGUgc3RhdGljIGlkQ291bnRlciA9IDA7XHJcbiAgICBwcml2YXRlIGdlbmVyYXRlTmV3SWQgPSAoKSA9PiB7XHJcbiAgICAgICAgUmVuZGVyT2JqZWN0LmlkQ291bnRlcisrO1xyXG4gICAgICAgIHJldHVybiBSZW5kZXJPYmplY3QuaWRDb3VudGVyO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuaWQgPSB0aGlzLmdlbmVyYXRlTmV3SWQoKTtcclxuICAgICAgICB0aGlzLm5hbWUgPSBcIm9iamVjdCBcIiArIHRoaXMuaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlkOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgbmFtZTogc3RyaW5nO1xyXG4gICAgcHVibGljIHRhZzogYW55O1xyXG5cclxuICAgIHB1YmxpYyBib3VuZHM6IFJlY3RhbmdsZSA9IG5ldyBSZWN0YW5nbGUoMCwgMCwgMCwgMCk7XHJcbiAgICBwdWJsaWMgZGltZW5zaW9uczogUmVjdGFuZ2xlID0gbmV3IFJlY3RhbmdsZSgwLCAwLCAwLCAwKTtcclxuXHJcbiAgICBwdWJsaWMgYWxpZ25lbWVudCA9IG5ldyBBbGlnbmVtZW50KCk7XHJcblxyXG4gICAgcHJpdmF0ZSBzaG91bGRVcGRhdGVMYXlvdXQgPSBmYWxzZTtcclxuXHJcbiAgICBwdWJsaWMgcmVuZGVyKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2hvdWxkVXBkYXRlTGF5b3V0KSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTGF5b3V0KGN0eCwgdGhpcy5ib3VuZHMpO1xyXG4gICAgICAgICAgICB0aGlzLnNob3VsZFVwZGF0ZUxheW91dCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUxheW91dChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpIHtcclxuICAgICAgICB0aGlzLmJvdW5kcyA9IGJvdW5kcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdHJpZ2dlclVwZGF0ZUxheW91dCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNob3VsZFVwZGF0ZUxheW91dCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRpc2FibGVNb3VzZUV2ZW50cyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLm1vdXNlRG93biA9ICgpID0+IHsgfTtcclxuICAgICAgICB0aGlzLm1vdXNlVXAgPSAoKSA9PiB7IH07XHJcbiAgICAgICAgdGhpcy5tb3VzZU1vdmUgPSAoKSA9PiB7IH07XHJcbiAgICAgICAgdGhpcy5jbGljayA9ICgpID0+IHsgfTtcclxuICAgIH1cclxuXHJcbiAgICBhYnN0cmFjdCBtb3VzZURvd24oZXY6IE1vdXNlRXZlbnQpOiB2b2lkO1xyXG4gICAgYWJzdHJhY3QgbW91c2VVcChldjogTW91c2VFdmVudCk6IHZvaWQ7XHJcbiAgICBhYnN0cmFjdCBtb3VzZU1vdmUoZXY6IE1vdXNlRXZlbnQpOiB2b2lkO1xyXG4gICAgYWJzdHJhY3QgY2xpY2soZXY6IE1vdXNlRXZlbnQpOiB2b2lkO1xyXG59IiwiaW1wb3J0IHsgUmVuZGVyT2JqZWN0IH0gZnJvbSBcIi4uL3JlbmRlck9iamVjdFwiO1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIExheW91dFZpZXcgZXh0ZW5kcyBSZW5kZXJPYmplY3Qge1xyXG4gICAgcHJvdGVjdGVkIGNoaWxkcmVuOiBSZW5kZXJPYmplY3RbXSA9IFtdO1xyXG5cclxuICAgIHB1YmxpYyByZW5kZXIoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcclxuICAgICAgICBzdXBlci5yZW5kZXIoY3R4KTtcclxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgY2hpbGQucmVuZGVyKGN0eCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBwdWJsaWMgbW91c2VEb3duKGV2OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGNoaWxkLm1vdXNlRG93bihldik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtb3VzZVVwKGV2OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGNoaWxkLm1vdXNlVXAoZXYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbW91c2VNb3ZlKGV2OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGNoaWxkLm1vdXNlTW92ZShldik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjbGljayhldjogTW91c2VFdmVudCkge1xyXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbi50b0xpc3QoKSkge1xyXG4gICAgICAgICAgICBjaGlsZC5jbGljayhldik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgUmVuZGVyT2JqZWN0IH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvcmVuZGVyT2JqZWN0XCI7XHJcbmltcG9ydCB7IFN0YXIgfSBmcm9tIFwiLi4vbW9kZWxzL3N0YXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTdGFyUmVuZGVyT2JqZWN0IGV4dGVuZHMgUmVuZGVyT2JqZWN0IHtcclxuICAgIG1vdXNlRG93bihldjogTW91c2VFdmVudCk6IHZvaWQge1xyXG4gICAgfVxyXG4gICAgbW91c2VVcChldjogTW91c2VFdmVudCk6IHZvaWQge1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgc3RhcjogU3Rhcikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbmRlcihjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiZHJhd2luZ1wiKTtcclxuICAgICAgICBcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gXCJ3aGl0ZVwiO1xyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdHguYXJjKHRoaXMuc3Rhci54LCB0aGlzLnN0YXIueSwgdGhpcy5zdGFyLnIsIDAsIE1hdGguUEkgKiAyKTtcclxuICAgICAgICBjdHguZmlsbCgpO1xyXG4gICAgfVxyXG4gICAgbW91c2VNb3ZlKGV2OiBNb3VzZUV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbiAgICB9XHJcbiAgICBjbGljayhldjogTW91c2VFdmVudCk6IHZvaWQge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgTGF5b3V0VmlldyB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xheW91dFZpZXdcIjtcclxuaW1wb3J0IHsgU3RhclJlbmRlck9iamVjdCB9IGZyb20gXCIuL3N0YXJSZW5kZXJPYmplY3RcIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IFN0YXJMYXllciB9IGZyb20gXCIuLi9tb2RlbHMvc3RhckxheWVyXCI7XHJcbmltcG9ydCB7IEFwcCB9IGZyb20gXCIuLi9hcHBcIjtcclxuaW1wb3J0IHsgU2V0dGluZ09wZXJhdGlvbiB9IGZyb20gXCIuLi9zZXR0aW5ncy9zZXR0aW5nT3BlcmF0aW9uXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU3RhckxheWVyRHJhd2VyIGV4dGVuZHMgTGF5b3V0VmlldyB7XHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgc3RhckxheWVyOiBTdGFyTGF5ZXIpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIEFwcC5zZXR0aW5nTWFuYWdlci51cGRhdGUuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLnNldHRpbmdzVXBkYXRlZClcclxuICAgICAgICB0aGlzLmRpc2FibGVNb3VzZUV2ZW50cygpO1xyXG4gICAgICAgIHRoaXMudHJpZ2dlclVwZGF0ZUxheW91dCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0dGluZ3NVcGRhdGVkID0gKG9wZXJhdGlvbjogU2V0dGluZ09wZXJhdGlvbikgPT4ge1xyXG4gICAgICAgIHN3aXRjaCAob3BlcmF0aW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgU2V0dGluZ09wZXJhdGlvbi5DaGFuZ2VOdW1iZXJPZlN0YXJzOlxyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVOdW1iZXJPZlN0YXJzKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVOdW1iZXJPZlN0YXJzID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMudHJpZ2dlclVwZGF0ZUxheW91dCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVMYXlvdXQoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGJvdW5kczogUmVjdGFuZ2xlKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IHN0YXIgb2YgdGhpcy5zdGFyTGF5ZXIuc3RhcnMpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKG5ldyBTdGFyUmVuZGVyT2JqZWN0KHN0YXIpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBtb3VzZU1vdmUoZXY6IE1vdXNlRXZlbnQpIHtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2xpY2soZXY6IE1vdXNlRXZlbnQpIHtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlIH0gZnJvbSBcIi4vc2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWwge1xyXG4gICAgcHVibGljIHN0YXRlOiBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZSA9IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLmhpZGRlbjtcclxufSIsImV4cG9ydCBjbGFzcyBFRXZlbnQge1xyXG4gICAgcHJpdmF0ZSBsaXN0ZW5lcnM6ICgoKSA9PiB2b2lkKVtdID0gW107XHJcblxyXG4gICAgcHVibGljIGFkZEV2ZW50TGlzdGVuZXIgPSAobGlzdGVuZXI6ICgpID0+IHZvaWQpID0+IHtcclxuICAgICAgICAvLyB2YWxpZGF0aW9uXHJcbiAgICAgICAgaWYgKCFsaXN0ZW5lciB8fCB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IFwibGlzdGVuZXIgYWxyZWFkeSBhZGRlZFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZEV2ZW50TGlzdGVuZXJJZk5vdEV4aXN0cyA9IChsaXN0ZW5lcjogKCkgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIC8vIHZhbGlkYXRpb25cclxuICAgICAgICBpZiAoIWxpc3RlbmVyIHx8IHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpID49IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRpc3BhdGNoRXZlbnQgPSAoKSA9PiB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBldmVudCA9IHRoaXMubGlzdGVuZXJzW2ldO1xyXG4gICAgICAgICAgICBldmVudCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlRXZlbnRMaXN0ZW5lciA9IChsaXN0ZW5lcjogKCkgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIC8vIHZhbGlkYXRpb25cclxuICAgICAgICBpZiAoIWxpc3RlbmVyIHx8IHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpIDwgMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBcImxpc3RlbmVyIG5vdCBmb3VuZFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuc3BsaWNlKHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpLCAxKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlRXZlbnRMaXN0ZW5lcklmRXhpc3RzID0gKGxpc3RlbmVyOiAoKSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgLy8gdmFsaWRhdGlvblxyXG4gICAgICAgIGlmICghbGlzdGVuZXIgfHwgdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcikgPCAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnNwbGljZSh0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSwgMSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBFRXZlbnRUPFQ+IHtcclxuICAgIHByaXZhdGUgbGlzdGVuZXJzOiAoKGFyZzogVCkgPT4gdm9pZClbXSA9IFtdO1xyXG5cclxuICAgIHB1YmxpYyBhZGRFdmVudExpc3RlbmVyID0gKGxpc3RlbmVyOiAoYXJnOiBUKSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgLy8gdmFsaWRhdGlvblxyXG4gICAgICAgIGlmICghbGlzdGVuZXIgfHwgdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcikgPj0gMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBcImxpc3RlbmVyIGFscmVhZHkgYWRkZWRcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkaXNwYXRjaEV2ZW50ID0gKGFyZzogVCkgPT4ge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5saXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSB0aGlzLmxpc3RlbmVyc1tpXTtcclxuICAgICAgICAgICAgZXZlbnQoYXJnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZUV2ZW50TGlzdGVuZXIgPSAobGlzdGVuZXI6IChhcmc6IFQpID0+IHZvaWQpID0+IHtcclxuICAgICAgICAvLyB2YWxpZGF0aW9uXHJcbiAgICAgICAgaWYgKCFsaXN0ZW5lciB8fCB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSA8IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJsaXN0ZW5lciBub3QgZm91bmRcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnNwbGljZSh0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSwgMSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBFRXZlbnRUVDxUMSwgVDI+IHtcclxuICAgIHByaXZhdGUgbGlzdGVuZXJzOiAoKGFyZzE6IFQxLCBhcmcyOiBUMikgPT4gdm9pZClbXSA9IFtdO1xyXG5cclxuICAgIHB1YmxpYyBhZGRFdmVudExpc3RlbmVyID0gKGxpc3RlbmVyOiAoYXJnMTogVDEsIGFyZzI6IFQyKSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgLy8gdmFsaWRhdGlvblxyXG4gICAgICAgIGlmICghbGlzdGVuZXIgfHwgdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcikgPj0gMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBcImxpc3RlbmVyIGFscmVhZHkgYWRkZWRcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkaXNwYXRjaEV2ZW50ID0gKGFyZzE6IFQxLCBhcmcyOiBUMikgPT4ge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5saXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSB0aGlzLmxpc3RlbmVyc1tpXTtcclxuICAgICAgICAgICAgZXZlbnQoYXJnMSwgYXJnMik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVFdmVudExpc3RlbmVyID0gKGxpc3RlbmVyOiAoYXJnMTogVDEsIGFyZzI6IFQyKSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgLy8gdmFsaWRhdGlvblxyXG4gICAgICAgIGlmICghbGlzdGVuZXIgfHwgdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcikgPCAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IFwibGlzdGVuZXIgbm90IGZvdW5kXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5zcGxpY2UodGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lciksIDEpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgRUFuaW1hdGlvbiB9IGZyb20gXCIuLi9lQW5pbWF0aW9uXCI7XHJcbmltcG9ydCB7IEVFdmVudCB9IGZyb20gXCIuLi9lRXZlbnRcIjtcclxuXHJcbmV4cG9ydCB0eXBlIERyYXdGdW5jdGlvbiA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgd2lkdGg/OiBudW1iZXIsIGhlaWdodD86IG51bWJlcikgPT4gdm9pZDtcclxuXHJcbmV4cG9ydCBjbGFzcyBFQ2FudmFzIHtcclxuICAgIHByaXZhdGUgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgIHByaXZhdGUgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XHJcblxyXG4gICAgcHJpdmF0ZSBkcmF3RnVuY3Rpb25zOiBEcmF3RnVuY3Rpb25bXSA9IFtdO1xyXG4gICAgcHVibGljIGRwciA9IDE7XHJcblxyXG4gICAgcHVibGljIGdldCB3aWR0aCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhcy5jbGllbnRXaWR0aCAvIHRoaXMuZHByO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXQgaGVpZ2h0KCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzLmNsaWVudEhlaWdodCAvIHRoaXMuZHByO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZHByU2NhbGluZ0VuYWJsZWQgPSB0cnVlO1xyXG4gICAgcHVibGljIGVuYWJsZURwclNjYWxpbmcgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5kcHJTY2FsaW5nRW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5yZXNpemUoKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBkaXNhYmxlRHByU2NhbGluZyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmRwclNjYWxpbmdFbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5yZXNpemUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVzaXplZCA9IG5ldyBFRXZlbnQoKVxyXG5cclxuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7IH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZUZ1bGxTY3JlZW4oKTogRUNhbnZhcyB7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5wYXJlbnRFbGVtZW50LnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5tYXJnaW4gPSBcIjBcIjtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcclxuXHJcbiAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY2FudmFzKTtcclxuICAgICAgICBjYW52YXMuc3R5bGUud2lkdGggPSBcIjEwMCVcIlxyXG4gICAgICAgIGNhbnZhcy5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcclxuXHJcbiAgICAgICAgdmFyIGVuQ2FudmFzID0gbmV3IEVDYW52YXMoKTtcclxuICAgICAgICBlbkNhbnZhcy5jYW52YXMgPSBjYW52YXM7XHJcbiAgICAgICAgZW5DYW52YXMuY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgZW5DYW52YXMucmVzaXplKTtcclxuICAgICAgICBlbkNhbnZhcy5yZXNpemUoKTtcclxuICAgICAgICByZXR1cm4gZW5DYW52YXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgY3Vyc29yTG9jazogc3RyaW5nID0gbnVsbDtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIFNldEN1cnNvciA9IChuYW1lOiBzdHJpbmcsIHBvaW50ZXI6IGJvb2xlYW4pID0+IHtcclxuICAgICAgICBpZiAocG9pbnRlcikge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwicG9pbnRlclwiO1xyXG4gICAgICAgICAgICBFQ2FudmFzLmN1cnNvckxvY2sgPSBuYW1lO1xyXG4gICAgICAgIH0gZWxzZSBpZiAobmFtZSA9PSBFQ2FudmFzLmN1cnNvckxvY2spIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSBcImRlZmF1bHRcIjtcclxuICAgICAgICAgICAgRUNhbnZhcy5jdXJzb3JMb2NrID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlc2l6ZSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmRwciA9IHRoaXMuZHByU2NhbGluZ0VuYWJsZWQgPyB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxIDogMTtcclxuXHJcbiAgICAgICAgdGhpcy5jYW52YXMud2lkdGggPSB0aGlzLmNhbnZhcy5jbGllbnRXaWR0aDtcclxuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB0aGlzLmNhbnZhcy5jbGllbnRIZWlnaHQ7XHJcblxyXG4gICAgICAgIHRoaXMucmVzaXplZC5kaXNwYXRjaEV2ZW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRyYXcgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5jdHguc2F2ZSgpO1xyXG4gICAgICAgIHRoaXMuY3R4LnNjYWxlKHRoaXMuZHByLCB0aGlzLmRwcik7XHJcbiAgICAgICAgZm9yIChjb25zdCBkcmF3RnVuY3Rpb24gb2YgdGhpcy5kcmF3RnVuY3Rpb25zKSB7XHJcbiAgICAgICAgICAgIGRyYXdGdW5jdGlvbih0aGlzLmN0eCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZERyYXdGdW5jdGlvbiA9IChmdW5jOiBEcmF3RnVuY3Rpb24pID0+IHtcclxuICAgICAgICB0aGlzLmRyYXdGdW5jdGlvbnMucHVzaChmdW5jKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlRHJhd0Z1bmN0aW9uID0gKGZ1bmM6IERyYXdGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgIHRoaXMuZHJhd0Z1bmN0aW9ucy5zcGxpY2UodGhpcy5kcmF3RnVuY3Rpb25zLmluZGV4T2YoZnVuYyksIDEpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgUmVuZGVyT2JqZWN0IH0gZnJvbSBcIi4uL3JlbmRlck9iamVjdFwiO1xyXG5pbXBvcnQgeyBFQ2FudmFzIH0gZnJvbSBcIi4uL2VDYW52YXNcIjtcclxuaW1wb3J0IHsgRUV2ZW50VCB9IGZyb20gXCIuLi8uLi9lRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBDb250cm9sIGV4dGVuZHMgUmVuZGVyT2JqZWN0IHtcclxuICAgIHByb3RlY3RlZCBpc01vdXNlT3ZlciA9IGZhbHNlO1xyXG4gICAgcHVibGljIGlzRW5hYmxlZCA9IHRydWU7XHJcblxyXG4gICAgcHVibGljIGNsaWNrZWQgPSBuZXcgRUV2ZW50VDxDb250cm9sPigpO1xyXG5cclxuICAgIHB1YmxpYyBtb3VzZU1vdmUoZXY6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICBpZiAodGhpcy5pc0VuYWJsZWQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZGltZW5zaW9ucy5pc0hpdEJ5KGV2LmNsaWVudFgsIGV2LmNsaWVudFkpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzTW91c2VPdmVyID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIEVDYW52YXMuU2V0Q3Vyc29yKHRoaXMubmFtZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzTW91c2VPdmVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBFQ2FudmFzLlNldEN1cnNvcih0aGlzLm5hbWUsIGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2xpY2sgPSAoZXY6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5pc0VuYWJsZWQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZGltZW5zaW9ucy5pc0hpdEJ5KGV2LmNsaWVudFgsIGV2LmNsaWVudFkpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsaWNrZWQuZGlzcGF0Y2hFdmVudCh0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbW91c2VEb3duKGV2OiBNb3VzZUV2ZW50KTogdm9pZCB7IH1cclxuICAgIHB1YmxpYyBtb3VzZVVwKGV2OiBNb3VzZUV2ZW50KTogdm9pZCB7IH1cclxufSIsImV4cG9ydCBjbGFzcyBCdXR0b25Qcm9wZXJ0aWVzIHtcclxuICAgIHB1YmxpYyBmb250U2l6ZSA9IDQwO1xyXG4gICAgcHVibGljIGZvbnRQcmVmaXggPSBcIlwiO1xyXG4gICAgcHVibGljIGZvbnRGYW1pbHkgPSBcImZvbnRhd2Vzb21lXCI7XHJcbiAgICBwdWJsaWMgZmlsbFN0eWxlID0gXCJibHVlXCI7XHJcbiAgICBwdWJsaWMgbW91c2VPdmVyRmlsbFN0eWxlID0gXCJyZWRcIjtcclxuICAgIHB1YmxpYyBiYWNrZ3JvdW5kRmlsbFN0eWxlOiBzdHJpbmcgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgcHVibGljIGdldEZvbnQgPSAoKSA9PiB7XHJcbiAgICAgICAgdmFyIGZvbnQgPSBcIlwiO1xyXG4gICAgICAgIGlmICh0aGlzLmZvbnRQcmVmaXgpIHtcclxuICAgICAgICAgICAgZm9udCArPSB0aGlzLmZvbnRQcmVmaXggKyBcIiBcIlxyXG4gICAgICAgIH1cclxuICAgICAgICBmb250ICs9IHRoaXMuZm9udFNpemUgKyBcInB4XCIgKyBcIiBcIiArIHRoaXMuZm9udEZhbWlseTtcclxuICAgICAgICByZXR1cm4gZm9udDtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgQ29udHJvbCB9IGZyb20gXCIuL2NvbnRyb2xcIjtcclxuaW1wb3J0IHsgQnV0dG9uUHJvcGVydGllcyB9IGZyb20gXCIuL2J1dHRvblByb3BlcnRpZXNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBCdXR0b24gZXh0ZW5kcyBDb250cm9sIHtcclxuXHJcbiAgICBwdWJsaWMgcHJvcGVydGllcyA9IG5ldyBCdXR0b25Qcm9wZXJ0aWVzKCk7XHJcbiAgICBwdWJsaWMgdGV4dDogc3RyaW5nO1xyXG5cclxuICAgIHB1YmxpYyByZW5kZXIgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLmJhY2tncm91bmRGaWxsU3R5bGUpIHtcclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMucHJvcGVydGllcy5iYWNrZ3JvdW5kRmlsbFN0eWxlO1xyXG4gICAgICAgICAgICBjdHguZmlsbFJlY3QodGhpcy5kaW1lbnNpb25zLngsIHRoaXMuZGltZW5zaW9ucy55LCB0aGlzLmRpbWVuc2lvbnMud2lkdGgsIHRoaXMuZGltZW5zaW9ucy5oZWlnaHQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNNb3VzZU92ZXIpIHtcclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMucHJvcGVydGllcy5tb3VzZU92ZXJGaWxsU3R5bGU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMucHJvcGVydGllcy5maWxsU3R5bGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjdHguZm9udCA9IHRoaXMucHJvcGVydGllcy5nZXRGb250KCk7XHJcbiAgICAgICAgY3R4LnRleHRBbGlnbiA9IFwibGVmdFwiO1xyXG4gICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSBcInRvcFwiO1xyXG4gICAgICAgIGN0eC5maWxsVGV4dCh0aGlzLnRleHQsIHRoaXMuZGltZW5zaW9ucy54LCB0aGlzLmRpbWVuc2lvbnMueSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUxheW91dCA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpOiB2b2lkID0+IHtcclxuICAgICAgICBzdXBlci51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG5cclxuICAgICAgICBjdHguZm9udCA9IHRoaXMucHJvcGVydGllcy5nZXRGb250KCk7XHJcbiAgICAgICAgY3R4LnRleHRBbGlnbiA9IFwibGVmdFwiO1xyXG4gICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSBcInRvcFwiO1xyXG4gICAgICAgIHZhciBzaXplID0gY3R4Lm1lYXN1cmVUZXh0KHRoaXMudGV4dCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdmFyIHggPSB0aGlzLmFsaWduZW1lbnQuY2FsY3VsYXRlRGltZW5zaW9uc1goYm91bmRzLCBzaXplLndpZHRoKTtcclxuICAgICAgICB2YXIgeSA9IHRoaXMuYWxpZ25lbWVudC5jYWxjdWxhdGVEaW1lbnNpb25zWShib3VuZHMsIHRoaXMucHJvcGVydGllcy5mb250U2l6ZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zID0gbmV3IFJlY3RhbmdsZSh4LCB5LCBzaXplLndpZHRoLCB0aGlzLnByb3BlcnRpZXMuZm9udFNpemUpXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBPcmllbnRhdGlvbiB9IGZyb20gXCIuLi9hbGlnbmVtZW50L29yaWVudGF0aW9uXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTGlzdFZpZXdQcm9wZXJ0aWVzIHtcclxuICAgIHB1YmxpYyBpdGVtU3BhY2luZyA9IDMwO1xyXG4gICAgcHVibGljIG9yaWVudGF0aW9uID0gT3JpZW50YXRpb24uVmVydGljYWw7XHJcbn0iLCJpbXBvcnQgeyBMYXlvdXRWaWV3IH0gZnJvbSBcIi4vbGF5b3V0Vmlld1wiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IFJlbmRlck9iamVjdCB9IGZyb20gXCIuLi9yZW5kZXJPYmplY3RcIjtcclxuaW1wb3J0IHsgTGlzdFZpZXdQcm9wZXJ0aWVzIH0gZnJvbSBcIi4vbGlzdFZpZXdQcm9wZXJ0aWVzXCI7XHJcbmltcG9ydCB7IEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uIH0gZnJvbSBcIi4uL2FsaWduZW1lbnQvaG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuaW1wb3J0IHsgVmVydGljYWxBbGlnbmVtZW50T3B0aW9uIH0gZnJvbSBcIi4uL2FsaWduZW1lbnQvdmVydGljYWxBbGlnbmVtZW50T3B0aW9uXCI7XHJcbmltcG9ydCB7IE9yaWVudGF0aW9uIH0gZnJvbSBcIi4uL2FsaWduZW1lbnQvb3JpZW50YXRpb25cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBMaXN0VmlldyBleHRlbmRzIExheW91dFZpZXcge1xyXG4gICAgcHVibGljIHByb3BlcnRpZXMgPSBuZXcgTGlzdFZpZXdQcm9wZXJ0aWVzKCk7XHJcblxyXG4gICAgcHVibGljIGFkZEl0ZW0gPSAobGF5b3V0VmlldzogUmVuZGVyT2JqZWN0KSA9PiB7XHJcbiAgICAgICAgbGF5b3V0Vmlldy5hbGlnbmVtZW50Lmhvcml6b250YWxBbGlnbiA9IEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uLkxlZnQ7XHJcbiAgICAgICAgbGF5b3V0Vmlldy5hbGlnbmVtZW50LnZlcnRpY2FsQWxpZ24gPSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24uVG9wO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChsYXlvdXRWaWV3KTtcclxuICAgICAgICB0aGlzLnRyaWdnZXJVcGRhdGVMYXlvdXQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlSXRlbSA9IChsYXlvdXRWaWV3OiBSZW5kZXJPYmplY3QpID0+IHtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnJlbW92ZUl0ZW0obGF5b3V0Vmlldyk7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyVXBkYXRlTGF5b3V0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUxheW91dChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG5cclxuICAgICAgICB2YXIgeCA9IHRoaXMuYWxpZ25lbWVudC5jYWxjdWxhdGVEaW1lbnNpb25zWChib3VuZHMsIHRoaXMuZGltZW5zaW9ucy53aWR0aCk7XHJcbiAgICAgICAgdmFyIHkgPSB0aGlzLmFsaWduZW1lbnQuY2FsY3VsYXRlRGltZW5zaW9uc1koYm91bmRzLCB0aGlzLmRpbWVuc2lvbnMuaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgdmFyIHdpZHRoID0gMDtcclxuICAgICAgICB2YXIgaGVpZ2h0ID0gMDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5vcmllbnRhdGlvbiA9PSBPcmllbnRhdGlvbi5WZXJ0aWNhbCkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcclxuICAgICAgICAgICAgICAgIGlmIChpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHkgKz0gdGhpcy5wcm9wZXJ0aWVzLml0ZW1TcGFjaW5nO1xyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCArPSB0aGlzLnByb3BlcnRpZXMuaXRlbVNwYWNpbmc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjaGlsZC51cGRhdGVMYXlvdXQoY3R4LCBuZXcgUmVjdGFuZ2xlKHgsIHksIDAsIDApKTtcclxuICAgICAgICAgICAgICAgIHkgKz0gY2hpbGQuZGltZW5zaW9ucy5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICBoZWlnaHQgKz0gY2hpbGQuZGltZW5zaW9ucy5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICB3aWR0aCA9IE1hdGgubWF4KHdpZHRoLCBjaGlsZC5kaW1lbnNpb25zLndpZHRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKGkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeCArPSB0aGlzLnByb3BlcnRpZXMuaXRlbVNwYWNpbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggKz0gdGhpcy5wcm9wZXJ0aWVzLml0ZW1TcGFjaW5nO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2hpbGQudXBkYXRlTGF5b3V0KGN0eCwgbmV3IFJlY3RhbmdsZSh4LCB5LCAwLCAwKSk7XHJcbiAgICAgICAgICAgICAgICB4ICs9IGNoaWxkLmRpbWVuc2lvbnMud2lkdGg7XHJcbiAgICAgICAgICAgICAgICB3aWR0aCArPSBjaGlsZC5kaW1lbnNpb25zLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gTWF0aC5tYXgoaGVpZ2h0LCBjaGlsZC5kaW1lbnNpb25zLmhlaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmRpbWVuc2lvbnMueCAhPSB4IHx8IHRoaXMuZGltZW5zaW9ucy55ICE9IHkgfHwgdGhpcy5kaW1lbnNpb25zLndpZHRoICE9IHdpZHRoIHx8IHRoaXMuZGltZW5zaW9ucy5oZWlnaHQgIT0gaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGltZW5zaW9ucy54ID0geDtcclxuICAgICAgICAgICAgdGhpcy5kaW1lbnNpb25zLnkgPSB5O1xyXG4gICAgICAgICAgICB0aGlzLmRpbWVuc2lvbnMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgICAgICB0aGlzLmRpbWVuc2lvbnMud2lkdGggPSB3aWR0aDtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IENvbnRyb2wgfSBmcm9tIFwiLi9jb250cm9sXCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgRUV2ZW50VCB9IGZyb20gXCIuLi8uLi9lRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTbGlkZXIgZXh0ZW5kcyBDb250cm9sIHtcclxuICAgIHB1YmxpYyByYWRpdXM6IG51bWJlciA9IDEwO1xyXG5cclxuICAgIHB1YmxpYyBtaW5WYWx1ZSA9IDA7XHJcbiAgICBwdWJsaWMgbWF4VmFsdWUgPSAxMDA7XHJcbiAgICBwdWJsaWMgY3VycmVudFZhbHVlID0gNTA7XHJcbiAgICBpc0RyYWdnaW5nOiBib29sZWFuO1xyXG5cclxuICAgIHB1YmxpYyB2YWx1ZUNoYW5nZWQgPSBuZXcgRUV2ZW50VDxudW1iZXI+KCk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVuZGVyKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7XHJcbiAgICAgICAgdmFyIHggPSB0aGlzLmRpbWVuc2lvbnMueDtcclxuICAgICAgICB2YXIgeSA9IHRoaXMuZGltZW5zaW9ucy55O1xyXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IFwid2hpdGVcIjtcclxuICAgICAgICBjdHgubGluZVdpZHRoID0gMjtcclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY3R4Lm1vdmVUbyh4ICsgdGhpcy5yYWRpdXMsIHkgKyB0aGlzLmRpbWVuc2lvbnMuaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgY3R4LmxpbmVUbyh4ICsgdGhpcy5kaW1lbnNpb25zLndpZHRoIC0gdGhpcy5yYWRpdXMsIHkgKyB0aGlzLmRpbWVuc2lvbnMuaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG5cclxuICAgICAgICB2YXIgcmVsVmFsdWUgPSAodGhpcy5jdXJyZW50VmFsdWUgLSB0aGlzLm1pblZhbHVlKSAvICh0aGlzLm1heFZhbHVlIC0gdGhpcy5taW5WYWx1ZSk7XHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwiYmx1ZVwiO1xyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdHguYXJjKHggKyB0aGlzLnJhZGl1cyArICh0aGlzLmRpbWVuc2lvbnMud2lkdGggLSB0aGlzLnJhZGl1cyAqIDIpICogcmVsVmFsdWUsIHkgKyB0aGlzLmRpbWVuc2lvbnMuaGVpZ2h0IC8gMiwgdGhpcy5yYWRpdXMsIDAsIE1hdGguUEkgKiAyKTtcclxuICAgICAgICBjdHguY2xvc2VQYXRoKCk7XHJcbiAgICAgICAgY3R4LmZpbGwoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0ID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHN1cGVyLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcblxyXG4gICAgICAgIHRoaXMuZGltZW5zaW9ucyA9IG5ldyBSZWN0YW5nbGUoYm91bmRzLngsIGJvdW5kcy55LCAyMDAsIHRoaXMucmFkaXVzICogMik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG1vdXNlRG93biA9IChldjogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmRpbWVuc2lvbnMuaXNIaXRCeShldi5jbGllbnRYLCBldi5jbGllbnRZKSkge1xyXG4gICAgICAgICAgICB0aGlzLmlzRHJhZ2dpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUN1cnJlbnRWYWx1ZShldik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHVibGljIG1vdXNlVXAgPSAoZXY6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICB0aGlzLmlzRHJhZ2dpbmcgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbW91c2VNb3ZlKGV2OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgc3VwZXIubW91c2VNb3ZlKGV2KTtcclxuICAgICAgICBpZiAodGhpcy5pc0RyYWdnaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ3VycmVudFZhbHVlKGV2KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVDdXJyZW50VmFsdWUoZXY6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICB2YXIgdmFsID0gZXYuY2xpZW50WCAtIHRoaXMuZGltZW5zaW9ucy54IC0gdGhpcy5yYWRpdXM7XHJcbiAgICAgICAgdmFsID0gdmFsIC8gKHRoaXMuZGltZW5zaW9ucy53aWR0aCAtIHRoaXMucmFkaXVzICogMikgKiAodGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWUpICsgdGhpcy5taW5WYWx1ZTtcclxuICAgICAgICBpZiAodmFsID4gdGhpcy5tYXhWYWx1ZSkge1xyXG4gICAgICAgICAgICB2YWwgPSB0aGlzLm1heFZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodmFsIDwgdGhpcy5taW5WYWx1ZSkge1xyXG4gICAgICAgICAgICB2YWwgPSB0aGlzLm1pblZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IHZhbDtcclxuICAgICAgICB0aGlzLnZhbHVlQ2hhbmdlZC5kaXNwYXRjaEV2ZW50KHRoaXMuY3VycmVudFZhbHVlKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IENvbnRyb2wgfSBmcm9tIFwiLi9jb250cm9sXCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgRUV2ZW50VFQgfSBmcm9tIFwiLi4vLi4vZUV2ZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUmFuZ2VTbGlkZXIgZXh0ZW5kcyBDb250cm9sIHtcclxuICAgIHB1YmxpYyByYWRpdXM6IG51bWJlciA9IDEwO1xyXG5cclxuICAgIHB1YmxpYyBtaW5WYWx1ZSA9IDA7XHJcbiAgICBwdWJsaWMgbWF4VmFsdWUgPSAxMDA7XHJcbiAgICBwdWJsaWMgY3VycmVudFZhbHVlTG93ID0gMjU7XHJcbiAgICBwdWJsaWMgY3VycmVudFZhbHVlSGlnaCA9IDc1O1xyXG4gICAgcHVibGljIG1pbkRpZmYgPSAwLjE7XHJcblxyXG4gICAgcHJpdmF0ZSBpc0RyYWdnaW5nTG93OiBib29sZWFuO1xyXG4gICAgcHJpdmF0ZSBpc0RyYWdnaW5nSGlnaDogYm9vbGVhbjtcclxuXHJcbiAgICBwdWJsaWMgdmFsdWVzQ2hhbmdlZCA9IG5ldyBFRXZlbnRUVDxudW1iZXIsIG51bWJlcj4oKTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW5kZXIoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHtcclxuICAgICAgICB2YXIgeCA9IHRoaXMuZGltZW5zaW9ucy54O1xyXG4gICAgICAgIHZhciB5ID0gdGhpcy5kaW1lbnNpb25zLnk7XHJcblxyXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IFwid2hpdGVcIjtcclxuICAgICAgICBjdHgubGluZVdpZHRoID0gMjtcclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY3R4Lm1vdmVUbyh4ICsgdGhpcy5yYWRpdXMsIHkgKyB0aGlzLmRpbWVuc2lvbnMuaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgY3R4LmxpbmVUbyh4ICsgdGhpcy5kaW1lbnNpb25zLndpZHRoIC0gdGhpcy5yYWRpdXMsIHkgKyB0aGlzLmRpbWVuc2lvbnMuaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG5cclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gXCJibHVlXCI7XHJcbiAgICAgICAgdmFyIHNsaWRlclkgPSB5ICsgdGhpcy5kaW1lbnNpb25zLmhlaWdodCAvIDI7XHJcblxyXG4gICAgICAgIHZhciByZWxWYWx1ZUxvdyA9ICh0aGlzLmN1cnJlbnRWYWx1ZUxvdyAtIHRoaXMubWluVmFsdWUpIC8gKHRoaXMubWF4VmFsdWUgLSB0aGlzLm1pblZhbHVlKTtcclxuICAgICAgICB2YXIgbG93WCA9IHggKyB0aGlzLnJhZGl1cyArICh0aGlzLmRpbWVuc2lvbnMud2lkdGggLSB0aGlzLnJhZGl1cyAqIDIpICogcmVsVmFsdWVMb3c7XHJcblxyXG4gICAgICAgIHZhciByZWxWYWx1ZUhpZ2ggPSAodGhpcy5jdXJyZW50VmFsdWVIaWdoIC0gdGhpcy5taW5WYWx1ZSkgLyAodGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWUpO1xyXG4gICAgICAgIHZhciBoaWdoWCA9IHggKyB0aGlzLnJhZGl1cyArICh0aGlzLmRpbWVuc2lvbnMud2lkdGggLSB0aGlzLnJhZGl1cyAqIDIpICogcmVsVmFsdWVIaWdoO1xyXG5cclxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBcImJsdWVcIjtcclxuICAgICAgICBjdHgubGluZVdpZHRoID0gMjtcclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY3R4Lm1vdmVUbyhsb3dYLCBzbGlkZXJZKTtcclxuICAgICAgICBjdHgubGluZVRvKGhpZ2hYLCBzbGlkZXJZKTtcclxuICAgICAgICBjdHguc3Ryb2tlKCk7XHJcblxyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdHguYXJjKGxvd1gsIHNsaWRlclksIHRoaXMucmFkaXVzLCAwLCBNYXRoLlBJICogMik7XHJcbiAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xyXG4gICAgICAgIGN0eC5maWxsKCk7XHJcblxyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdHguYXJjKGhpZ2hYLCBzbGlkZXJZLCB0aGlzLnJhZGl1cywgMCwgTWF0aC5QSSAqIDIpO1xyXG4gICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcclxuICAgICAgICBjdHguZmlsbCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVMYXlvdXQgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGJvdW5kczogUmVjdGFuZ2xlKTogdm9pZCA9PiB7XHJcbiAgICAgICAgc3VwZXIudXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuXHJcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zID0gbmV3IFJlY3RhbmdsZShib3VuZHMueCwgYm91bmRzLnksIDIwMCwgdGhpcy5yYWRpdXMgKiAyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbW91c2VEb3duID0gKGV2OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuZGltZW5zaW9ucy5pc0hpdEJ5KGV2LmNsaWVudFgsIGV2LmNsaWVudFkpKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWwgPSB0aGlzLmdldENsaWNrZWRWYWx1ZShldik7XHJcbiAgICAgICAgICAgIHZhciBkaWZmVG9Mb3cgPSBNYXRoLmFicyh0aGlzLmN1cnJlbnRWYWx1ZUxvdyAtIHZhbCk7XHJcbiAgICAgICAgICAgIHZhciBkaWZmVG9IaWdoID0gTWF0aC5hYnModGhpcy5jdXJyZW50VmFsdWVIaWdoIC0gdmFsKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChkaWZmVG9Mb3cgPT0gZGlmZlRvSGlnaCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbCA8IHRoaXMuY3VycmVudFZhbHVlTG93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0RyYWdnaW5nTG93ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0RyYWdnaW5nSGlnaCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZGlmZlRvTG93ID4gZGlmZlRvSGlnaCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0RyYWdnaW5nSGlnaCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzRHJhZ2dpbmdMb3cgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUN1cnJlbnRWYWx1ZXMoZXYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHB1YmxpYyBtb3VzZVVwID0gKGV2OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgdGhpcy5pc0RyYWdnaW5nSGlnaCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaXNEcmFnZ2luZ0xvdyA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtb3VzZU1vdmUoZXY6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICBzdXBlci5tb3VzZU1vdmUoZXYpO1xyXG4gICAgICAgIGlmICh0aGlzLmlzRHJhZ2dpbmdIaWdoIHx8IHRoaXMuaXNEcmFnZ2luZ0xvdykge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUN1cnJlbnRWYWx1ZXMoZXYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHVwZGF0ZUN1cnJlbnRWYWx1ZXMoZXY6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICB2YXIgdmFsID0gdGhpcy5nZXRDbGlja2VkVmFsdWUoZXYpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5pc0RyYWdnaW5nTG93KSB7XHJcbiAgICAgICAgICAgIGlmICh2YWwgPiAodGhpcy5jdXJyZW50VmFsdWVIaWdoIC0gdGhpcy5taW5EaWZmKSkge1xyXG4gICAgICAgICAgICAgICAgdmFsID0gdGhpcy5jdXJyZW50VmFsdWVIaWdoIC0gdGhpcy5taW5EaWZmO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodmFsIDwgdGhpcy5jdXJyZW50VmFsdWVMb3cgKyB0aGlzLm1pbkRpZmYpIHtcclxuICAgICAgICAgICAgICAgIHZhbCA9IHRoaXMuY3VycmVudFZhbHVlTG93ICsgdGhpcy5taW5EaWZmO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5pc0RyYWdnaW5nTG93KSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFZhbHVlTG93ID0gdmFsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50VmFsdWVIaWdoID0gdmFsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnZhbHVlc0NoYW5nZWQuZGlzcGF0Y2hFdmVudCh0aGlzLmN1cnJlbnRWYWx1ZUxvdywgdGhpcy5jdXJyZW50VmFsdWVIaWdoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldENsaWNrZWRWYWx1ZShldjogTW91c2VFdmVudCkge1xyXG4gICAgICAgIHZhciB2YWwgPSBldi5jbGllbnRYIC0gdGhpcy5kaW1lbnNpb25zLnggLSB0aGlzLnJhZGl1cztcclxuICAgICAgICB2YWwgPSB2YWwgLyAodGhpcy5kaW1lbnNpb25zLndpZHRoIC0gdGhpcy5yYWRpdXMgKiAyKSAqICh0aGlzLm1heFZhbHVlIC0gdGhpcy5taW5WYWx1ZSkgKyB0aGlzLm1pblZhbHVlO1xyXG4gICAgICAgIGlmICh2YWwgPiB0aGlzLm1heFZhbHVlKSB7XHJcbiAgICAgICAgICAgIHZhbCA9IHRoaXMubWF4VmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh2YWwgPCB0aGlzLm1pblZhbHVlKSB7XHJcbiAgICAgICAgICAgIHZhbCA9IHRoaXMubWluVmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2YWw7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBMYXlvdXRWaWV3IH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGF5b3V0Vmlld1wiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgU3RhckxheWVyIH0gZnJvbSBcIi4uLy4uL21vZGVscy9zdGFyTGF5ZXJcIjtcclxuaW1wb3J0IHsgTGlzdFZpZXcgfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9sYXlvdXRDb250cm9scy9saXN0Vmlld1wiO1xyXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9jb250cm9scy9idXR0b25cIjtcclxuaW1wb3J0IHsgQ29udHJvbCB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2NvbnRyb2xcIjtcclxuaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4uLy4uL2FwcFwiO1xyXG5pbXBvcnQgeyBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbiB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvaG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuaW1wb3J0IHsgVmVydGljYWxBbGlnbmVtZW50T3B0aW9uIH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvYWxpZ25lbWVudC92ZXJ0aWNhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuaW1wb3J0IHsgU2xpZGVyIH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvY29udHJvbHMvc2xpZGVyXCI7XHJcbmltcG9ydCB7IFJhbmdlU2xpZGVyIH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvY29udHJvbHMvcmFuZ2VTbGlkZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTdGFyTGF5ZXJWaWV3IGV4dGVuZHMgTGF5b3V0VmlldyB7XHJcbiAgICBwcml2YXRlIHNldHRpbmdzTGlzdDogTGlzdFZpZXc7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHVibGljIHN0YXJMYXllcjogU3RhckxheWVyKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdCA9IG5ldyBMaXN0VmlldygpO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LmFsaWduZW1lbnQuaG9yaXpvbnRhbEFsaWduID0gSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24uTGVmdDtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5hbGlnbmVtZW50LnZlcnRpY2FsQWxpZ24gPSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24uVG9wO1xyXG4gICAgICAgIHZhciBidG5Gb3JMYXllciA9IG5ldyBCdXR0b24oKTtcclxuICAgICAgICBidG5Gb3JMYXllci50ZXh0ID0gXCJSZW1vdmUgTGF5ZXJcIjtcclxuICAgICAgICBidG5Gb3JMYXllci5wcm9wZXJ0aWVzLmZpbGxTdHlsZSA9IFwid2hpdGVcIjtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5hZGRJdGVtKGJ0bkZvckxheWVyKTtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goYnRuRm9yTGF5ZXIpO1xyXG4gICAgICAgIGJ0bkZvckxheWVyLmNsaWNrZWQuYWRkRXZlbnRMaXN0ZW5lcigoc2VuZGVyOiBDb250cm9sKSA9PiB7XHJcbiAgICAgICAgICAgIEFwcC5zZXR0aW5nTWFuYWdlci5yZW1vdmVTdGFyTGF5ZXIodGhpcy5zdGFyTGF5ZXIpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgc2xpZGVyID0gbmV3IFNsaWRlcigpO1xyXG4gICAgICAgIHNsaWRlci5taW5WYWx1ZSA9IDEwO1xyXG4gICAgICAgIHNsaWRlci5tYXhWYWx1ZSA9IDEwMDA7XHJcbiAgICAgICAgc2xpZGVyLmN1cnJlbnRWYWx1ZSA9IHN0YXJMYXllci5zdGFycy5sZW5ndGg7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHNsaWRlcik7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QuYWRkSXRlbShzbGlkZXIpO1xyXG4gICAgICAgIHNsaWRlci52YWx1ZUNoYW5nZWQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLm51bWJlck9mU3RhcnNDaGFuZ2VkKTtcclxuXHJcbiAgICAgICAgdmFyIHNsaWRlclNwZWVkID0gbmV3IFNsaWRlcigpO1xyXG4gICAgICAgIHNsaWRlclNwZWVkLm1pblZhbHVlID0gMDtcclxuICAgICAgICBzbGlkZXJTcGVlZC5tYXhWYWx1ZSA9IDMwO1xyXG4gICAgICAgIHNsaWRlclNwZWVkLmN1cnJlbnRWYWx1ZSA9IHN0YXJMYXllci5zcGVlZDtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goc2xpZGVyU3BlZWQpO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LmFkZEl0ZW0oc2xpZGVyU3BlZWQpO1xyXG4gICAgICAgIHNsaWRlclNwZWVkLnZhbHVlQ2hhbmdlZC5hZGRFdmVudExpc3RlbmVyKHRoaXMuc3BlZWRDaGFuZ2VkKTtcclxuXHJcbiAgICAgICAgdmFyIHNsaWRlclNpemUgPSBuZXcgUmFuZ2VTbGlkZXIoKTtcclxuICAgICAgICB2YXIgc2l6ZXMgPSB0aGlzLnN0YXJMYXllci5zdGFycy5tYXAoeCA9PiB4LnIpO1xyXG4gICAgICAgIHNsaWRlclNpemUubWluVmFsdWUgPSAwLjAxO1xyXG4gICAgICAgIHNsaWRlclNpemUubWF4VmFsdWUgPSA1O1xyXG4gICAgICAgIHNsaWRlclNpemUuY3VycmVudFZhbHVlTG93ID0gTWF0aC5taW4oLi4uc2l6ZXMpO1xyXG4gICAgICAgIHNsaWRlclNpemUuY3VycmVudFZhbHVlSGlnaCA9IE1hdGgubWF4KC4uLnNpemVzKTtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goc2xpZGVyU2l6ZSk7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QuYWRkSXRlbShzbGlkZXJTaXplKTtcclxuICAgICAgICBzbGlkZXJTaXplLnZhbHVlc0NoYW5nZWQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLnNpemVzQ2hhbmdlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG51bWJlck9mU3RhcnNDaGFuZ2VkID0gKG51bWJlck9mU3RhcnM6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIEFwcC5zZXR0aW5nTWFuYWdlci5jaGFuZ2VOdW1iZXJPZlN0YXJzKHRoaXMuc3RhckxheWVyLCBNYXRoLnJvdW5kKG51bWJlck9mU3RhcnMpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3BlZWRDaGFuZ2VkID0gKHNwZWVkOiBudW1iZXIpID0+IHtcclxuICAgICAgICBBcHAuc2V0dGluZ01hbmFnZXIuY2hhbmdlU3BlZWQodGhpcy5zdGFyTGF5ZXIsIHNwZWVkKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2l6ZXNDaGFuZ2VkID0gKGxvd0JvcmRlcjogbnVtYmVyLCBoaWdoQm9yZGVyOiBudW1iZXIpID0+IHtcclxuICAgICAgICBBcHAuc2V0dGluZ01hbmFnZXIuY2hhbmdlU2l6ZXModGhpcy5zdGFyTGF5ZXIsIGxvd0JvcmRlciwgaGlnaEJvcmRlcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUxheW91dChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC51cGRhdGVMYXlvdXQoY3R4LCBuZXcgUmVjdGFuZ2xlKGJvdW5kcy54LCBib3VuZHMueSwgMCwgMCkpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgTGF5b3V0VmlldyB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xheW91dFZpZXdcIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbCB9IGZyb20gXCIuL3NldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFwiO1xyXG5pbXBvcnQgeyBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZSB9IGZyb20gXCIuL3NldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlXCI7XHJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2J1dHRvblwiO1xyXG5pbXBvcnQgeyBDb250cm9sIH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvY29udHJvbHMvY29udHJvbFwiO1xyXG5pbXBvcnQgeyBMaXN0VmlldyB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xpc3RWaWV3XCI7XHJcbmltcG9ydCB7IFN0YXJMYXllciB9IGZyb20gXCIuLi8uLi9tb2RlbHMvc3RhckxheWVyXCI7XHJcbmltcG9ydCB7IEFwcCB9IGZyb20gXCIuLi8uLi9hcHBcIjtcclxuaW1wb3J0IHsgU2V0dGluZ09wZXJhdGlvbiB9IGZyb20gXCIuLi8uLi9zZXR0aW5ncy9zZXR0aW5nT3BlcmF0aW9uXCI7XHJcbmltcG9ydCB7IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbiB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvdmVydGljYWxBbGlnbmVtZW50T3B0aW9uXCI7XHJcbmltcG9ydCB7IEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uIH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvYWxpZ25lbWVudC9ob3Jpem9udGFsQWxpZ25lbWVudE9wdGlvblwiO1xyXG5pbXBvcnQgeyBTdGFyTGF5ZXJWaWV3IH0gZnJvbSBcIi4vc3RhckxheWVyVmlld1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNldHRpbmdzT3ZlcmxheVZpZXcgZXh0ZW5kcyBMYXlvdXRWaWV3IHtcclxuICAgIHByaXZhdGUgdmlld01vZGVsOiBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWwgPSBuZXcgU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsKCk7XHJcbiAgICBwcml2YXRlIGxhc3RNb3ZlZCA9IERhdGUubm93KCk7XHJcbiAgICBwcml2YXRlIGluYWN0aXZpdHlUaW1lb3V0ID0gMjAwMDtcclxuICAgIHByaXZhdGUgc2hvd092ZXJMYXllckJ1dHRvbjogQnV0dG9uO1xyXG4gICAgcHJpdmF0ZSBzZXR0aW5nc0xpc3Q6IExpc3RWaWV3O1xyXG5cclxuICAgIHByaXZhdGUgbGF5ZXJCdXR0b25zOiBCdXR0b25bXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBhZGRMYXllckJ0bjogQnV0dG9uO1xyXG4gICAgcHJpdmF0ZSBkZXRhaWxlZFN0YXJMYXllclZpZXc6IFN0YXJMYXllclZpZXc7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLnNob3dPdmVyTGF5ZXJCdXR0b24gPSBuZXcgQnV0dG9uKCk7XHJcbiAgICAgICAgdGhpcy5zaG93T3ZlckxheWVyQnV0dG9uLnRleHQgPSBcIlNob3cvSGlkZSBTZXR0aW5nc1wiO1xyXG4gICAgICAgIHRoaXMuc2hvd092ZXJMYXllckJ1dHRvbi5wcm9wZXJ0aWVzLmZpbGxTdHlsZSA9IFwiZ3JlZW5cIjtcclxuICAgICAgICB0aGlzLnNob3dPdmVyTGF5ZXJCdXR0b24uYWxpZ25lbWVudC52ZXJ0aWNhbEFsaWduID0gVmVydGljYWxBbGlnbmVtZW50T3B0aW9uLlRvcDtcclxuICAgICAgICB0aGlzLnNob3dPdmVyTGF5ZXJCdXR0b24uYWxpZ25lbWVudC5ob3Jpem9udGFsQWxpZ24gPSBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbi5MZWZ0O1xyXG4gICAgICAgIHRoaXMuc2hvd092ZXJMYXllckJ1dHRvbi5jbGlja2VkLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5zaG93SGlkZU92ZXJsYXlDbGlja2VkKTtcclxuICAgICAgICB0aGlzLnNob3dPdmVyTGF5ZXJCdXR0b24ucHJvcGVydGllcy5iYWNrZ3JvdW5kRmlsbFN0eWxlID0gXCJyZ2JhKDAsIDAsIDAsIDAuNSlcIjtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2godGhpcy5zaG93T3ZlckxheWVyQnV0dG9uKTtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdCA9IG5ldyBMaXN0VmlldygpO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LmFsaWduZW1lbnQuaG9yaXpvbnRhbEFsaWduID0gSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24uTGVmdDtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5hbGlnbmVtZW50LnZlcnRpY2FsQWxpZ24gPSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24uVG9wO1xyXG5cclxuICAgICAgICB2YXIgYnRuRm9yTmV3TGF5ZXIgPSBuZXcgQnV0dG9uKCk7XHJcbiAgICAgICAgYnRuRm9yTmV3TGF5ZXIudGV4dCA9IFwiQWRkIExheWVyXCI7XHJcbiAgICAgICAgYnRuRm9yTmV3TGF5ZXIucHJvcGVydGllcy5maWxsU3R5bGUgPSBcIndoaXRlXCI7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QuYWRkSXRlbShidG5Gb3JOZXdMYXllcik7XHJcbiAgICAgICAgYnRuRm9yTmV3TGF5ZXIuY2xpY2tlZC5hZGRFdmVudExpc3RlbmVyKChzZW5kZXI6IENvbnRyb2wpID0+IHtcclxuICAgICAgICAgICAgQXBwLnNldHRpbmdNYW5hZ2VyLmFkZFN0YXJMYXllcigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuYWRkTGF5ZXJCdG4gPSBidG5Gb3JOZXdMYXllcjtcclxuXHJcblxyXG4gICAgICAgIEFwcC5zZXR0aW5nTWFuYWdlci51cGRhdGUuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLnNldHRpbmdzVXBkYXRlZCk7XHJcblxyXG5cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldHRpbmdzVXBkYXRlZCA9IChvcGVyYXRpb246IFNldHRpbmdPcGVyYXRpb24pID0+IHtcclxuICAgICAgICBzd2l0Y2ggKG9wZXJhdGlvbikge1xyXG4gICAgICAgICAgICBjYXNlIFNldHRpbmdPcGVyYXRpb24uQWRkU3RhckxheWVyOlxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBzdGFyTGF5ZXIgb2YgQXBwLnNldHRpbmdzLnN0YXJMYXllcnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMubGF5ZXJCdXR0b25zLm1hcCh4ID0+IHgudGFnKS5jb250YWlucyhzdGFyTGF5ZXIpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LnJlbW92ZUl0ZW0odGhpcy5hZGRMYXllckJ0bik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBidG5Gb3JMYXllciA9IG5ldyBCdXR0b24oKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnRuRm9yTGF5ZXIudGV4dCA9IFwiRWRpdCBMYXllclwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidG5Gb3JMYXllci50YWcgPSBzdGFyTGF5ZXI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ0bkZvckxheWVyLnByb3BlcnRpZXMuZmlsbFN0eWxlID0gXCJ3aGl0ZVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5hZGRJdGVtKGJ0bkZvckxheWVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXllckJ1dHRvbnMucHVzaChidG5Gb3JMYXllcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ0bkZvckxheWVyLmNsaWNrZWQuYWRkRXZlbnRMaXN0ZW5lcigoc2VuZGVyOiBDb250cm9sKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZVNob3dIaWRlU3RhckxheWVyVmlldyhzdGFyTGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QuYWRkSXRlbSh0aGlzLmFkZExheWVyQnRuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgU2V0dGluZ09wZXJhdGlvbi5SZW1vdmVTdGFyTGF5ZXI6XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHNldHRpbmdzTGF5ZXIgb2YgdGhpcy5sYXllckJ1dHRvbnMpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIUFwcC5zZXR0aW5ncy5zdGFyTGF5ZXJzLmNvbnRhaW5zKHNldHRpbmdzTGF5ZXIudGFnKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5yZW1vdmVJdGVtKHNldHRpbmdzTGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxheWVyQnV0dG9ucy5yZW1vdmVJdGVtKHNldHRpbmdzTGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnJlbW92ZUl0ZW0odGhpcy5kZXRhaWxlZFN0YXJMYXllclZpZXcpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kZXRhaWxlZFN0YXJMYXllclZpZXcgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwcml2YXRlIHRvZ2dsZVNob3dIaWRlU3RhckxheWVyVmlldyA9IChzdGFyTGF5ZXI6IFN0YXJMYXllcikgPT4ge1xyXG4gICAgICAgIGlmICghdGhpcy5kZXRhaWxlZFN0YXJMYXllclZpZXcpIHtcclxuICAgICAgICAgICAgdmFyIHZpZXcgPSBuZXcgU3RhckxheWVyVmlldyhzdGFyTGF5ZXIpO1xyXG4gICAgICAgICAgICB0aGlzLmRldGFpbGVkU3RhckxheWVyVmlldyA9IHZpZXc7XHJcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaCh0aGlzLmRldGFpbGVkU3RhckxheWVyVmlldyk7XHJcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlclVwZGF0ZUxheW91dCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICh0aGlzLmRldGFpbGVkU3RhckxheWVyVmlldy5zdGFyTGF5ZXIgIT0gc3RhckxheWVyKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucmVtb3ZlSXRlbSh0aGlzLmRldGFpbGVkU3RhckxheWVyVmlldyk7XHJcbiAgICAgICAgICAgIHRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB2YXIgdmlldyA9IG5ldyBTdGFyTGF5ZXJWaWV3KHN0YXJMYXllcik7XHJcbiAgICAgICAgICAgIHRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3ID0gdmlldztcclxuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3KTtcclxuICAgICAgICAgICAgdGhpcy50cmlnZ2VyVXBkYXRlTGF5b3V0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnJlbW92ZUl0ZW0odGhpcy5kZXRhaWxlZFN0YXJMYXllclZpZXcpO1xyXG4gICAgICAgICAgICB0aGlzLmRldGFpbGVkU3RhckxheWVyVmlldyA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzaG93SGlkZU92ZXJsYXlDbGlja2VkID0gKHNlbmRlcjogQ29udHJvbCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnZpZXdNb2RlbC5zdGF0ZSA9PSBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS52aXNpYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUuYmVmb3JlVmlzaWJsZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS52aXNpYmxlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUxheW91dChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG4gICAgICAgIHRoaXMuc2hvd092ZXJMYXllckJ1dHRvbi51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG4gICAgICAgIHZhciBzcGFjZSA9IHRoaXMuc2hvd092ZXJMYXllckJ1dHRvbi5kaW1lbnNpb25zLmhlaWdodCAqIDI7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QudXBkYXRlTGF5b3V0KGN0eCwgbmV3IFJlY3RhbmdsZShib3VuZHMueCwgYm91bmRzLnkgKyBzcGFjZSwgYm91bmRzLndpZHRoLCBib3VuZHMuaGVpZ2h0IC0gc3BhY2UpKTtcclxuICAgICAgICBpZiAodGhpcy5kZXRhaWxlZFN0YXJMYXllclZpZXcpIHtcclxuICAgICAgICAgICAgdGhpcy5kZXRhaWxlZFN0YXJMYXllclZpZXcudXBkYXRlTGF5b3V0KGN0eCwgbmV3IFJlY3RhbmdsZShib3VuZHMueCArIHRoaXMuc2V0dGluZ3NMaXN0LmRpbWVuc2lvbnMud2lkdGgsIGJvdW5kcy55ICsgc3BhY2UsIGJvdW5kcy53aWR0aCwgYm91bmRzLmhlaWdodCAtIHNwYWNlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtb3VzZU1vdmUgPSAoZXY6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICBpZiAodGhpcy52aWV3TW9kZWwuc3RhdGUgPT0gU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUuaGlkZGVuIHx8IHRoaXMudmlld01vZGVsLnN0YXRlID09IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLmJlZm9yZVZpc2libGUpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS5iZWZvcmVWaXNpYmxlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3VwZXIubW91c2VNb3ZlKGV2KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbW91c2VJbmFjdGl2aXR5SGFuZGxlciA9ICgpID0+IHtcclxuICAgICAgICBpZiAoRGF0ZS5ub3coKSAtIHRoaXMubGFzdE1vdmVkID49IHRoaXMuaW5hY3Rpdml0eVRpbWVvdXQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMudmlld01vZGVsLnN0YXRlID09IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLmJlZm9yZVZpc2libGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUuaGlkZGVuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQodGhpcy5tb3VzZUluYWN0aXZpdHlIYW5kbGVyLCB0aGlzLmluYWN0aXZpdHlUaW1lb3V0IC0gKERhdGUubm93KCkgLSB0aGlzLmxhc3RNb3ZlZCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNldFN0YXRlID0gKHN0YXRlOiBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZSkgPT4ge1xyXG4gICAgICAgIHN3aXRjaCAoc3RhdGUpIHtcclxuICAgICAgICAgICAgY2FzZSBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS5oaWRkZW46XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnJlbW92ZUl0ZW0odGhpcy5zaG93T3ZlckxheWVyQnV0dG9uKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudmlld01vZGVsLnN0YXRlID0gU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUuaGlkZGVuO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUuYmVmb3JlVmlzaWJsZTpcclxuICAgICAgICAgICAgICAgIHRoaXMubGFzdE1vdmVkID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnZpZXdNb2RlbC5zdGF0ZSA9PSBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS5oaWRkZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMubW91c2VJbmFjdGl2aXR5SGFuZGxlciwgdGhpcy5pbmFjdGl2aXR5VGltZW91dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5hZGRJdGVtSWZOb3RFeGlzdHModGhpcy5zaG93T3ZlckxheWVyQnV0dG9uKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnZpZXdNb2RlbC5zdGF0ZSA9PSBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS52aXNpYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCh0aGlzLm1vdXNlSW5hY3Rpdml0eUhhbmRsZXIsIHRoaXMuaW5hY3Rpdml0eVRpbWVvdXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucmVtb3ZlSXRlbUlmRXhpc3RzKHRoaXMuc2V0dGluZ3NMaXN0KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnJlbW92ZUl0ZW1JZkV4aXN0cyh0aGlzLmRldGFpbGVkU3RhckxheWVyVmlldyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZXRhaWxlZFN0YXJMYXllclZpZXcgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdNb2RlbC5zdGF0ZSA9IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLmJlZm9yZVZpc2libGU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS52aXNpYmxlOlxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudmlld01vZGVsLnN0YXRlID09IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLmJlZm9yZVZpc2libGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2godGhpcy5zZXR0aW5nc0xpc3QpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3TW9kZWwuc3RhdGUgPSBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS52aXNpYmxlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4uL2FwcFwiO1xyXG5pbXBvcnQgeyBTdGFyTGF5ZXIgfSBmcm9tIFwiLi4vbW9kZWxzL3N0YXJMYXllclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFN0YXJMYXllckFuaW1hdG9yIHtcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBzdGFyTGF5ZXI6IFN0YXJMYXllcikge1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUgPSAodGltZURpZmY6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGZvciAoY29uc3Qgc3RhciBvZiB0aGlzLnN0YXJMYXllci5zdGFycykge1xyXG4gICAgICAgICAgICBzdGFyLnggKz0gdGhpcy5zdGFyTGF5ZXIuc3BlZWQgKiB0aW1lRGlmZjtcclxuICAgICAgICAgICAgaWYgKHN0YXIueCA+IEFwcC5zZXR0aW5ncy53aWR0aCkge1xyXG4gICAgICAgICAgICAgICAgc3Rhci54IC09IEFwcC5zZXR0aW5ncy53aWR0aDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBEaW5qZWN0IHtcclxuICAgIHByaXZhdGUgc3RhdGljIGluc3RhbmNlczogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9IHt9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBhZGRJbnN0YW5jZSA9IChuYW1lOiBzdHJpbmcsIGluc3RhbmNlOiBhbnkpID0+IHtcclxuICAgICAgICBEaW5qZWN0Lmluc3RhbmNlc1tuYW1lXSA9IGluc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0SW5zdGFuY2UgPSA8VD4obmFtZTogc3RyaW5nKTogVCA9PiB7XHJcbiAgICAgICAgcmV0dXJuIDxUPkRpbmplY3QuaW5zdGFuY2VzW25hbWVdO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgTGF5b3V0VmlldyB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xheW91dFZpZXdcIjtcclxuXHJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2J1dHRvblwiO1xyXG5pbXBvcnQgeyBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24gfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9hbGlnbmVtZW50L3ZlcnRpY2FsQWxpZ25lbWVudE9wdGlvblwiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgTGlzdFZpZXcgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9sYXlvdXRDb250cm9scy9saXN0Vmlld1wiO1xyXG5pbXBvcnQgeyBPcmllbnRhdGlvbiB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvb3JpZW50YXRpb25cIjtcclxuaW1wb3J0IHsgRGluamVjdCB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL2RpbmplY3RcIjtcclxuaW1wb3J0IHsgQXVkaW9NYW5hZ2VyIH0gZnJvbSBcIi4uL2F1ZGlvTWFuYWdlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBsYXllclZpZXcgZXh0ZW5kcyBMYXlvdXRWaWV3IHtcclxuXHJcbiAgICBwcml2YXRlIHBsYXlJY29uVGV4dCA9IFwiXFx1ZjA0YlwiXHJcbiAgICBwcml2YXRlIHBhdXNlSWNvblRleHQgPSBcIlxcdWYwNGNcIlxyXG4gICAgcHJpdmF0ZSBzdG9wSWNvblRleHQgPSBcIlxcdWYwNGRcIlxyXG4gICAgcHJpdmF0ZSBuZXh0SWNvblRleHQgPSBcIlxcdWYwNTFcIlxyXG4gICAgcHJpdmF0ZSBwcmV2aW91c0ljb25UZXh0ID0gXCJcXHVmMDQ4XCJcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG5cclxuICAgICAgICB2YXIgYXVkaW9NYW5hZ2VyOiBBdWRpb01hbmFnZXIgPSBEaW5qZWN0LmdldEluc3RhbmNlKFwiYXVkaW9cIik7XHJcblxyXG4gICAgICAgIHZhciBsaXN0VmlldyA9IG5ldyBMaXN0VmlldygpO1xyXG4gICAgICAgIGxpc3RWaWV3LmFsaWduZW1lbnQudmVydGljYWxBbGlnbiA9IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi5Cb3R0b207XHJcbiAgICAgICAgbGlzdFZpZXcuYWxpZ25lbWVudC5tYXJnaW4uYm90dG9tID0gMTA7XHJcbiAgICAgICAgbGlzdFZpZXcucHJvcGVydGllcy5vcmllbnRhdGlvbiA9IE9yaWVudGF0aW9uLkhvcml6b250YWw7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGxpc3RWaWV3KTtcclxuXHJcbiAgICAgICAgdmFyIHBsYXlQYXVzZUJ0biA9IG5ldyBCdXR0b24oKTtcclxuICAgICAgICBwbGF5UGF1c2VCdG4ucHJvcGVydGllcy5mb250UHJlZml4ID0gXCI5MDBcIlxyXG4gICAgICAgIHBsYXlQYXVzZUJ0bi5wcm9wZXJ0aWVzLmZvbnRGYW1pbHkgPSBcIidGb250IEF3ZXNvbWUgNSBGcmVlJ1wiXHJcbiAgICAgICAgcGxheVBhdXNlQnRuLnRleHQgPSB0aGlzLnBsYXlJY29uVGV4dDtcclxuICAgICAgICBwbGF5UGF1c2VCdG4uY2xpY2tlZC5hZGRFdmVudExpc3RlbmVyKCgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHBsYXlQYXVzZUJ0bi50ZXh0ID09IHRoaXMucGxheUljb25UZXh0KSB7XHJcbiAgICAgICAgICAgICAgICBhdWRpb01hbmFnZXIucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgcGxheVBhdXNlQnRuLnRleHQgPSB0aGlzLnBhdXNlSWNvblRleHQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhdWRpb01hbmFnZXIucGF1c2UoKTtcclxuICAgICAgICAgICAgICAgIHBsYXlQYXVzZUJ0bi50ZXh0ID0gdGhpcy5wbGF5SWNvblRleHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBsaXN0Vmlldy5hZGRJdGVtKHBsYXlQYXVzZUJ0bik7XHJcblxyXG4gICAgICAgIHZhciBzdG9wQnRuID0gbmV3IEJ1dHRvbigpO1xyXG4gICAgICAgIHN0b3BCdG4ucHJvcGVydGllcy5mb250UHJlZml4ID0gXCI5MDBcIlxyXG4gICAgICAgIHN0b3BCdG4ucHJvcGVydGllcy5mb250RmFtaWx5ID0gXCInRm9udCBBd2Vzb21lIDUgRnJlZSdcIlxyXG4gICAgICAgIHN0b3BCdG4udGV4dCA9IHRoaXMuc3RvcEljb25UZXh0O1xyXG4gICAgICAgIHN0b3BCdG4uY2xpY2tlZC5hZGRFdmVudExpc3RlbmVyKCgpID0+IHtcclxuICAgICAgICAgICAgYXVkaW9NYW5hZ2VyLnN0b3AoKTtcclxuICAgICAgICAgICAgaWYgKHBsYXlQYXVzZUJ0bi50ZXh0ID09IHRoaXMucGF1c2VJY29uVGV4dCkge1xyXG4gICAgICAgICAgICAgICAgcGxheVBhdXNlQnRuLnRleHQgPSB0aGlzLnBsYXlJY29uVGV4dDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGxpc3RWaWV3LmFkZEl0ZW0oc3RvcEJ0bik7XHJcblxyXG4gICAgICAgIHZhciBwcmV2aW91c0J0biA9IG5ldyBCdXR0b24oKTtcclxuICAgICAgICBwcmV2aW91c0J0bi5wcm9wZXJ0aWVzLmZvbnRQcmVmaXggPSBcIjkwMFwiXHJcbiAgICAgICAgcHJldmlvdXNCdG4ucHJvcGVydGllcy5mb250RmFtaWx5ID0gXCInRm9udCBBd2Vzb21lIDUgRnJlZSdcIlxyXG4gICAgICAgIHByZXZpb3VzQnRuLnRleHQgPSB0aGlzLnByZXZpb3VzSWNvblRleHQ7XHJcbiAgICAgICAgcHJldmlvdXNCdG4uY2xpY2tlZC5hZGRFdmVudExpc3RlbmVyKCgpID0+IHtcclxuICAgICAgICAgICAgYXVkaW9NYW5hZ2VyLnByZXZpb3VzKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbGlzdFZpZXcuYWRkSXRlbShwcmV2aW91c0J0bik7XHJcblxyXG4gICAgICAgIHZhciBuZXh0QnRuID0gbmV3IEJ1dHRvbigpO1xyXG4gICAgICAgIG5leHRCdG4ucHJvcGVydGllcy5mb250UHJlZml4ID0gXCI5MDBcIlxyXG4gICAgICAgIG5leHRCdG4ucHJvcGVydGllcy5mb250RmFtaWx5ID0gXCInRm9udCBBd2Vzb21lIDUgRnJlZSdcIlxyXG4gICAgICAgIG5leHRCdG4udGV4dCA9IHRoaXMubmV4dEljb25UZXh0O1xyXG4gICAgICAgIG5leHRCdG4uY2xpY2tlZC5hZGRFdmVudExpc3RlbmVyKCgpID0+IHtcclxuICAgICAgICAgICAgYXVkaW9NYW5hZ2VyLm5leHQoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBsaXN0Vmlldy5hZGRJdGVtKG5leHRCdG4pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVMYXlvdXQoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGJvdW5kczogUmVjdGFuZ2xlKSB7XHJcbiAgICAgICAgc3VwZXIudXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgY2hpbGQudXBkYXRlTGF5b3V0KGN0eCwgdGhpcy5ib3VuZHMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IEltYWdlU2NhbGluZ01vZGUgfSBmcm9tIFwiLi9pbWFnZVNjYWxpbmdNb2RlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgSW1hZ2VQcm9wZXJ0aWVzIHtcclxuICAgIHB1YmxpYyBpbWFnZVNjYWxpbmdNb2RlID0gSW1hZ2VTY2FsaW5nTW9kZS5GaXRBbmRTcGFjZTtcclxuICAgIHB1YmxpYyBzY2FsZSA9IDE7XHJcbn0iLCJpbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IENvbnRyb2wgfSBmcm9tIFwiLi9jb250cm9sXCI7XHJcbmltcG9ydCB7IEltYWdlUHJvcGVydGllcyB9IGZyb20gXCIuL2ltYWdlUHJvcGVydGllc1wiO1xyXG5pbXBvcnQgeyBJbWFnZVNjYWxpbmdNb2RlIH0gZnJvbSBcIi4vaW1hZ2VTY2FsaW5nTW9kZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEVJbWFnZSBleHRlbmRzIENvbnRyb2wge1xyXG4gICAgcHJpdmF0ZSBpbWFnZTogSFRNTEltYWdlRWxlbWVudDtcclxuICAgIHB1YmxpYyBwcm9wZXJ0aWVzID0gbmV3IEltYWdlUHJvcGVydGllcygpO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50KSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmltYWdlID0gaW1hZ2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGVGcm9tVXJsID0gKGltYWdlVXJsOiBzdHJpbmcpOiBQcm9taXNlPEVJbWFnZT4gPT4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgICAgICBpbWFnZS5zcmMgPSBpbWFnZVVybDtcclxuICAgICAgICAgICAgaW1hZ2Uub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShuZXcgRUltYWdlKGltYWdlKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVuZGVyID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PiB7XHJcbiAgICAgICAgc3VwZXIucmVuZGVyKGN0eCk7XHJcblxyXG4gICAgICAgIGN0eC5kcmF3SW1hZ2UodGhpcy5pbWFnZSwgdGhpcy5kaW1lbnNpb25zLngsIHRoaXMuZGltZW5zaW9ucy55LCB0aGlzLmRpbWVuc2lvbnMud2lkdGgsIHRoaXMuZGltZW5zaW9ucy5oZWlnaHQpO1xyXG4gICAgICAgIGlmICh0aGlzLmlzTW91c2VPdmVyICYmIHRoaXMuaXNFbmFibGVkKSB7XHJcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSBcInJnYmEoMjU1LDI1NSwyNTUsMC41KVwiO1xyXG4gICAgICAgICAgICBjdHguZmlsbFJlY3QodGhpcy5kaW1lbnNpb25zLngsIHRoaXMuZGltZW5zaW9ucy55LCB0aGlzLmRpbWVuc2lvbnMud2lkdGgsIHRoaXMuZGltZW5zaW9ucy5oZWlnaHQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcblxyXG4gICAgICAgIHZhciBmaXRTY2FsZSA9IDE7XHJcblxyXG4gICAgICAgIHZhciBpbWFnZVNpemluZyA9IHRoaXMuaW1hZ2UubmF0dXJhbFdpZHRoIC8gdGhpcy5pbWFnZS5uYXR1cmFsSGVpZ2h0O1xyXG4gICAgICAgIHZhciBzdGFnZVNpemluZyA9IGJvdW5kcy53aWR0aCAvIGJvdW5kcy5oZWlnaHQ7XHJcblxyXG4gICAgICAgIHZhciBpc0ltYWdlV2lkZXIgPSBpbWFnZVNpemluZyA+IHN0YWdlU2l6aW5nO1xyXG5cclxuICAgICAgICBzd2l0Y2ggKHRoaXMucHJvcGVydGllcy5pbWFnZVNjYWxpbmdNb2RlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgSW1hZ2VTY2FsaW5nTW9kZS5GaXRBbmRPdmVyZmlsbDpcclxuICAgICAgICAgICAgICAgIGlmIChpc0ltYWdlV2lkZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBmaXRTY2FsZSA9IGJvdW5kcy5oZWlnaHQgLyB0aGlzLmltYWdlLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZml0U2NhbGUgPSBib3VuZHMud2lkdGggLyB0aGlzLmltYWdlLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgSW1hZ2VTY2FsaW5nTW9kZS5GaXRBbmRTcGFjZTpcclxuICAgICAgICAgICAgICAgIGlmIChpc0ltYWdlV2lkZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBmaXRTY2FsZSA9IGJvdW5kcy53aWR0aCAvIHRoaXMuaW1hZ2Uud2lkdGg7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpdFNjYWxlID0gYm91bmRzLmhlaWdodCAvIHRoaXMuaW1hZ2UuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmltYWdlLm5hdHVyYWxXaWR0aCAqIGZpdFNjYWxlO1xyXG4gICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmltYWdlLm5hdHVyYWxIZWlnaHQgKiBmaXRTY2FsZTtcclxuXHJcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zLnggPSB0aGlzLmFsaWduZW1lbnQuY2FsY3VsYXRlRGltZW5zaW9uc1goYm91bmRzLCB3aWR0aCk7XHJcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zLnkgPSB0aGlzLmFsaWduZW1lbnQuY2FsY3VsYXRlRGltZW5zaW9uc1koYm91bmRzLCB3aWR0aCk7XHJcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zLmhlaWdodCA9IGhlaWdodDtcclxuICAgIH1cclxufSIsImltcG9ydCB7IExheW91dFZpZXcgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9sYXlvdXRDb250cm9scy9sYXlvdXRWaWV3XCI7XHJcbmltcG9ydCB7IERpbmplY3QgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9kaW5qZWN0XCI7XHJcbmltcG9ydCB7IEFzc2V0TWFuYWdlciB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL2Fzc2V0TWFuYWdlclwiO1xyXG5pbXBvcnQgeyBFSW1hZ2UgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9jb250cm9scy9pbWFnZVwiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgSW1hZ2VTY2FsaW5nTW9kZSB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2ltYWdlU2NhbGluZ01vZGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBCYWNrZ3JvdW5kSW1hZ2VWaWV3IGV4dGVuZHMgTGF5b3V0VmlldyB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHZhciBhc3NldE1hbmFnZXIgPSBEaW5qZWN0LmdldEluc3RhbmNlKFwiYXNzZXRzXCIpIGFzIEFzc2V0TWFuYWdlcjtcclxuICAgICAgICB2YXIgYmFja2dyb3VuZCA9IGFzc2V0TWFuYWdlci5nZXRJbWFnZShcImJhY2tncm91bmRcIik7XHJcblxyXG4gICAgICAgIHZhciBpbWFnZSA9IG5ldyBFSW1hZ2UoYmFja2dyb3VuZClcclxuICAgICAgICBpbWFnZS5kaXNhYmxlTW91c2VFdmVudHMoKTtcclxuICAgICAgICBpbWFnZS5wcm9wZXJ0aWVzLmltYWdlU2NhbGluZ01vZGUgPSBJbWFnZVNjYWxpbmdNb2RlLkZpdEFuZE92ZXJmaWxsO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChpbWFnZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUxheW91dChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICBjaGlsZC51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IExheW91dFZpZXcgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9sYXlvdXRDb250cm9scy9sYXlvdXRWaWV3XCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBTdGFyTGF5ZXJEcmF3ZXIgfSBmcm9tIFwiLi9zdGFyTGF5ZXJEcmF3ZXJcIjtcclxuaW1wb3J0IHsgU2V0dGluZ3NPdmVybGF5VmlldyB9IGZyb20gXCIuL292ZXJsYXkvc2V0dGluZ3NPdmVybGF5Vmlld1wiO1xyXG5pbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi4vYXBwXCI7XHJcbmltcG9ydCB7IFN0YXJMYXllckFuaW1hdG9yIH0gZnJvbSBcIi4vc3RhckxheWVyQW5pbWF0b3JcIjtcclxuaW1wb3J0IHsgRUFuaW1hdGlvbiB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL2VBbmltYXRpb25cIjtcclxuaW1wb3J0IHsgU2V0dGluZ09wZXJhdGlvbiB9IGZyb20gXCIuLi9zZXR0aW5ncy9zZXR0aW5nT3BlcmF0aW9uXCI7XHJcbmltcG9ydCB7IERpbmplY3QgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9kaW5qZWN0XCI7XHJcbmltcG9ydCB7IFBsYXllclZpZXcgfSBmcm9tIFwiLi9wbGF5ZXJWaWV3XCI7XHJcbmltcG9ydCB7IEJhY2tncm91bmRJbWFnZVZpZXcgfSBmcm9tIFwiLi9iYWNrZ3JvdW5kSW1hZ2VWaWV3XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgSW5zcGllcnR5UGxheWVyVmlldyBleHRlbmRzIExheW91dFZpZXcge1xyXG4gICAgcHJpdmF0ZSBzdGFyTGF5ZXJzOiBTdGFyTGF5ZXJEcmF3ZXJbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBzdGFyQW5pbWF0b3JzOiBTdGFyTGF5ZXJBbmltYXRvcltdID0gW107XHJcbiAgICBwcml2YXRlIHNldHRpbmdzT3ZlcmxheTogU2V0dGluZ3NPdmVybGF5VmlldztcclxuXHJcbiAgICBwcml2YXRlIGFuaW1hdGlvbjogRUFuaW1hdGlvbjtcclxuICAgIHBsYXllclZpZXc6IFBsYXllclZpZXc7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltYXRpb24gPSBEaW5qZWN0LmdldEluc3RhbmNlKFwiYW5pbWF0aW9uXCIpO1xyXG5cclxuICAgICAgICB0aGlzLnNldHRpbmdzT3ZlcmxheSA9IG5ldyBTZXR0aW5nc092ZXJsYXlWaWV3KCk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJWaWV3ID0gbmV3IFBsYXllclZpZXcoKTtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2gobmV3IEJhY2tncm91bmRJbWFnZVZpZXcoKSk7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHRoaXMucGxheWVyVmlldyk7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHRoaXMuc2V0dGluZ3NPdmVybGF5KTtcclxuICAgICAgICBBcHAuc2V0dGluZ01hbmFnZXIudXBkYXRlLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5hcHBTZXR0aW5nc1VwZGF0ZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXBwU2V0dGluZ3NVcGRhdGVkID0gKG9wZXJhdGlvbjogU2V0dGluZ09wZXJhdGlvbikgPT4ge1xyXG4gICAgICAgIHN3aXRjaCAob3BlcmF0aW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgU2V0dGluZ09wZXJhdGlvbi5BZGRTdGFyTGF5ZXI6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFN0YXJMYXllcigpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgU2V0dGluZ09wZXJhdGlvbi5SZW1vdmVTdGFyTGF5ZXI6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVN0YXJMYXllcigpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRTdGFyTGF5ZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgZm9yIChjb25zdCBzdGFyTGF5ZXIgb2YgQXBwLnNldHRpbmdzLnN0YXJMYXllcnMpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhckxheWVycy5maXJzdE9yRGVmYXVsdCh4ID0+IHguc3RhckxheWVyID09IHN0YXJMYXllcikgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxheWVyID0gbmV3IFN0YXJMYXllckRyYXdlcihzdGFyTGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFyTGF5ZXJzLnB1c2gobGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5zcGxpY2UoMSwgMCwgbGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyVXBkYXRlTGF5b3V0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGFuaW1hdG9yID0gbmV3IFN0YXJMYXllckFuaW1hdG9yKHN0YXJMYXllcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvbi5hZGRVcGRhdGVGdW5jdGlvbihhbmltYXRvci51cGRhdGUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFyQW5pbWF0b3JzLnB1c2goYW5pbWF0b3IpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZVN0YXJMYXllciA9ICgpID0+IHtcclxuICAgICAgICBmb3IgKGNvbnN0IHN0YXJMYXllckRyYXdzIG9mIHRoaXMuc3RhckxheWVycykge1xyXG4gICAgICAgICAgICBpZiAoQXBwLnNldHRpbmdzLnN0YXJMYXllcnMuZmlyc3RPckRlZmF1bHQoeCA9PiB4ID09IHN0YXJMYXllckRyYXdzLnN0YXJMYXllcikgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFuaW1hdG9yID0gdGhpcy5zdGFyQW5pbWF0b3JzLmZpcnN0KHggPT4geC5zdGFyTGF5ZXIgPT0gc3RhckxheWVyRHJhd3Muc3RhckxheWVyKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uLnJlbW92ZVVwZGF0ZUZ1bmN0aW9uKGFuaW1hdG9yLnVwZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJBbmltYXRvcnMucmVtb3ZlSXRlbShhbmltYXRvcik7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5yZW1vdmUoeCA9PiB4ID09IHN0YXJMYXllckRyYXdzKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhckxheWVycy5yZW1vdmUoeCA9PiB4ID09IHN0YXJMYXllckRyYXdzKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlclVwZGF0ZUxheW91dCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVMYXlvdXQoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGJvdW5kczogUmVjdGFuZ2xlKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIudXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhib3VuZHMpO1xyXG4gICAgICAgIFxyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgY2hpbGQudXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBTdGFyIH0gZnJvbSBcIi4vc3RhclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFN0YXJMYXllciB7XHJcbiAgICBwdWJsaWMgc3RhcnM6IFN0YXJbXSA9IFtdO1xyXG4gICAgcHVibGljIHNwZWVkID0gTWF0aC5yYW5kb20oKSAqIDIwICsgNTtcclxufSIsImV4cG9ydCB0eXBlIFVwZGF0ZUZ1bmN0aW9uID0gKHRpbWVEaWZmOiBudW1iZXIpID0+IHZvaWQ7XHJcblxyXG5leHBvcnQgY2xhc3MgRUFuaW1hdGlvbiB7XHJcbiAgICBwcml2YXRlIHVwZGF0ZUZ1bmN0aW9uczogVXBkYXRlRnVuY3Rpb25bXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBpc1J1bm5pbmcgPSBmYWxzZTtcclxuICAgIHByaXZhdGUgbGFzdEZyYW1lVGltZTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBmcHM6IG51bWJlcjtcclxuICAgIHByaXZhdGUgZnBzSW50ZXJ2YWw6IG51bWJlcjtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRGcHMoMzApO1xyXG4gICAgICAgIHRoaXMucGxheSgpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IDgwKSB7IC8vIHBcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheVBhdXNlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGxheSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNSdW5uaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNSdW5uaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5sYXN0RnJhbWVUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25Mb29wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwYXVzZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc1J1bm5pbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5pc1J1bm5pbmcgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBsYXlQYXVzZSgpIHtcclxuICAgICAgICB0aGlzLmlzUnVubmluZyA/IHRoaXMucGF1c2UoKSA6IHRoaXMucGxheSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRVcGRhdGVGdW5jdGlvbiA9IChmdW5jOiBVcGRhdGVGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlRnVuY3Rpb25zLnB1c2goZnVuYyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZVVwZGF0ZUZ1bmN0aW9uID0gKGZ1bmM6IFVwZGF0ZUZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVGdW5jdGlvbnMuc3BsaWNlKHRoaXMudXBkYXRlRnVuY3Rpb25zLmluZGV4T2YoZnVuYyksIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRGcHMgPSAoZnBzOiBudW1iZXIpID0+IHtcclxuICAgICAgICB0aGlzLmZwcyA9IGZwcztcclxuICAgICAgICB0aGlzLmZwc0ludGVydmFsID0gMTAwMCAvIHRoaXMuZnBzO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYW5pbWF0aW9uTG9vcCA9ICgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5pc1J1bm5pbmcpIHtcclxuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0aW9uTG9vcCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTtcclxuICAgICAgICB2YXIgZWxhcHNlZCA9IG5vdyAtIHRoaXMubGFzdEZyYW1lVGltZTtcclxuXHJcbiAgICAgICAgaWYgKGVsYXBzZWQgPiB0aGlzLmZwc0ludGVydmFsKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdEZyYW1lVGltZSA9IG5vdztcclxuICAgICAgICAgICAgdmFyIHRpbWVEaWZmID0gZWxhcHNlZCAvIDEwMDA7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHVwZGF0ZUZ1bmN0aW9uIG9mIHRoaXMudXBkYXRlRnVuY3Rpb25zKSB7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVGdW5jdGlvbih0aW1lRGlmZik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgQ2FudmFzSGVscGVyIHtcclxuICAgIHB1YmxpYyBsb2FkRm9udGF3ZXNvbWVGcmVlID0gKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRGb250KFwiXFx1ZjI0NFwiLCBcIlxcdWYyNDBcIiwgXCI5MDAgMjBweCAnRm9udCBBd2Vzb21lIDUgRnJlZSdcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGxvYWRGb250YXdlc29tZUJyYW5kcyA9ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5sb2FkRm9udChcIlxcdWYzZDNcIiwgXCJcXHVmM2I4XCIsIFwiNDAwIDIwcHggJ0ZvbnQgQXdlc29tZSA1IEJyYW5kcydcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjb3VudFBpeGVscyA9IChpbWFnZURhdGE6IEltYWdlRGF0YSkgPT4ge1xyXG4gICAgICAgIHZhciBwaXhlbENvdW50ID0gMDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGltYWdlRGF0YS5kYXRhLmxlbmd0aDsgaSA9IGkgKyA0KSB7XHJcbiAgICAgICAgICAgIHZhciByID0gaW1hZ2VEYXRhLmRhdGFbaV07XHJcbiAgICAgICAgICAgIHZhciBnID0gaW1hZ2VEYXRhLmRhdGFbaSArIDFdO1xyXG4gICAgICAgICAgICB2YXIgYiA9IGltYWdlRGF0YS5kYXRhW2kgKyAyXTtcclxuICAgICAgICAgICAgdmFyIGEgPSBpbWFnZURhdGEuZGF0YVtpICsgM107XHJcblxyXG4gICAgICAgICAgICBpZiAociA8IDUwICYmIGcgPCA1MCAmJiBiIDwgNTAgJiYgYSA+IDAuOSkge1xyXG4gICAgICAgICAgICAgICAgcGl4ZWxDb3VudCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwaXhlbENvdW50XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRJY29uUGl4ZWxzID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50LCBpY29uOiBzdHJpbmcpID0+IHtcclxuICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgY3R4LmZpbGxUZXh0KGljb24sIDAsIDApO1xyXG4gICAgICAgIHZhciBpbWFnZURhdGEgPSBjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgdmFyIGljb24xUGl4ZWxDb3VudCA9IHRoaXMuY291bnRQaXhlbHMoaW1hZ2VEYXRhKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcImljb24gMSBwaXhlbCBjb3VudDogXCIgKyBpY29uMVBpeGVsQ291bnQpO1xyXG4gICAgICAgIHJldHVybiBpY29uMVBpeGVsQ291bnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBsb2FkRm9udCA9IChpY29uMTogc3RyaW5nLCBpY29uMjogc3RyaW5nLCBmb250OiBzdHJpbmcpID0+IHtcclxuICAgICAgICB2YXIgcmV0cnlEZWxheU1zID0gNTAwO1xyXG4gICAgICAgIHZhciByZXRyaWVzID0gMTBcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJsb2FkaW5nIGZvbnQgXFxcIlwiICsgZm9udCArIFwiXFxcIlwiKTtcclxuXHJcbiAgICAgICAgICAgIHZhciB0ZW1wQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgICAgICAgIHRlbXBDYW52YXMud2lkdGggPSAyMDtcclxuICAgICAgICAgICAgdGVtcENhbnZhcy5oZWlnaHQgPSAyMDtcclxuICAgICAgICAgICAgdmFyIHRlbXBDdHggPSB0ZW1wQ2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgICAgIHRlbXBDdHguZm9udCA9IGZvbnQ7XHJcbiAgICAgICAgICAgIHRlbXBDdHguZmlsbFN0eWxlID0gXCJibGFja1wiO1xyXG4gICAgICAgICAgICB0ZW1wQ3R4LnRleHRBbGlnbiA9IFwibGVmdFwiO1xyXG4gICAgICAgICAgICB0ZW1wQ3R4LnRleHRCYXNlbGluZSA9IFwidG9wXCI7XHJcblxyXG4gICAgICAgICAgICB2YXIgY2hlY2tMb2FkZWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaWNvbjFQaXhlbENvdW50ID0gdGhpcy5nZXRJY29uUGl4ZWxzKHRlbXBDdHgsIHRlbXBDYW52YXMsIGljb24xKTtcclxuICAgICAgICAgICAgICAgIHZhciBpY29uMlBpeGVsQ291bnQgPSB0aGlzLmdldEljb25QaXhlbHModGVtcEN0eCwgdGVtcENhbnZhcywgaWNvbjIpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBkaWZmUGl4ZWxzID0gTWF0aC5hYnMoaWNvbjJQaXhlbENvdW50IC0gaWNvbjFQaXhlbENvdW50KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZGlmZlBpeGVscyA+IDUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImxvYWRlZCBmb250IFxcXCJcIiArIGZvbnQgKyBcIlxcXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXRyaWVzLS07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJldHJpZXMgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInN0b3AgbG9hZGluZyBmb250IGFmdGVyIFwiICsgcmV0cmllcyArIFwiIHJldHJpZXMgd2l0aCBcIiArIHJldHJ5RGVsYXlNcyArIFwibXMgZGVsYXlcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJ3YWl0aW5nIGEgd2hpbGUgKFwiICsgcmV0cnlEZWxheU1zICsgXCJtcylcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tMb2FkZWQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmV0cnlEZWxheU1zKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2hlY2tMb2FkZWQoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBdWRpb0dyYXBoTm9kZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgbmFtZTogc3RyaW5nLCBwcm90ZWN0ZWQgYXVkaW9DdHg6IEF1ZGlvQ29udGV4dCkgeyB9XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IGdldEF1ZGlvTm9kZSgpOiBBdWRpb05vZGU7XHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgcmVsb2FkKCk6IFByb21pc2U8dm9pZD47XHJcbn0iLCJpbXBvcnQgeyBBdWRpb0dyYXBoTm9kZSB9IGZyb20gXCIuL2F1ZGlvR3JhcGhOb2RlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQXVkaW9HcmFwaE5vZGVBbmFseXNlciBleHRlbmRzIEF1ZGlvR3JhcGhOb2RlIHtcclxuICAgIGFuYWx5c2VyTm9kZTogQW5hbHlzZXJOb2RlO1xyXG4gICAgYnVmZmVyTGVuZ3RoOiBudW1iZXI7XHJcbiAgICBkYXRhQXJyYXk6IFVpbnQ4QXJyYXk7XHJcblxyXG4gICAgcHVibGljIGdldEF1ZGlvTm9kZSA9ICgpOiBBdWRpb05vZGUgPT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFuYWx5c2VyTm9kZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVsb2FkKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5hbmFseXNlck5vZGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYW5hbHlzZXJOb2RlID0gdGhpcy5hdWRpb0N0eC5jcmVhdGVBbmFseXNlcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuYW5hbHlzZXJOb2RlLmZmdFNpemUgPSAzMjtcclxuICAgICAgICAgICAgdGhpcy5hbmFseXNlck5vZGUuc21vb3RoaW5nVGltZUNvbnN0YW50ID0gMC45O1xyXG4gICAgICAgICAgICB0aGlzLmJ1ZmZlckxlbmd0aCA9IHRoaXMuYW5hbHlzZXJOb2RlLmZyZXF1ZW5jeUJpbkNvdW50O1xyXG4gICAgICAgICAgICB0aGlzLmRhdGFBcnJheSA9IG5ldyBVaW50OEFycmF5KHRoaXMuYnVmZmVyTGVuZ3RoKTtcclxuICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRTcGVjdHJ1bSgpIHtcclxuICAgICAgICBpZiAodGhpcy5hbmFseXNlck5vZGUpIHtcclxuICAgICAgICAgICAgdGhpcy5hbmFseXNlck5vZGUuZ2V0Qnl0ZUZyZXF1ZW5jeURhdGEodGhpcy5kYXRhQXJyYXkpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhQXJyYXk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheSgwKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0V2F2ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5hbmFseXNlck5vZGUpIHtcclxuICAgICAgICAgICAgdGhpcy5hbmFseXNlck5vZGUuZ2V0Qnl0ZVRpbWVEb21haW5EYXRhKHRoaXMuZGF0YUFycmF5KTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YUFycmF5O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoMCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBBdWRpb0dyYXBoTm9kZSB9IGZyb20gXCIuL2F1ZGlvR3JhcGhOb2RlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQXVkaW9HcmFwaE5vZGVEZXN0aW5hdGlvbiBleHRlbmRzIEF1ZGlvR3JhcGhOb2RlIHtcclxuICAgIHB1YmxpYyBnZXRBdWRpb05vZGUgPSAoKTogQXVkaW9Ob2RlID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hdWRpb0N0eC5kZXN0aW5hdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVsb2FkKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEF1ZGlvR3JhcGhOb2RlIH0gZnJvbSBcIi4vYXVkaW9HcmFwaE5vZGVcIjtcclxuaW1wb3J0IHsgRUV2ZW50IH0gZnJvbSBcIi4uL2VFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEF1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZSBleHRlbmRzIEF1ZGlvR3JhcGhOb2RlIHtcclxuICAgIHB1YmxpYyB1cmw6IHN0cmluZztcclxuICAgIHB1YmxpYyBhdWRpb0VuZGVkID0gbmV3IEVFdmVudCgpO1xyXG5cclxuICAgIHByaXZhdGUgc291cmNlOiBNZWRpYUVsZW1lbnRBdWRpb1NvdXJjZU5vZGU7XHJcbiAgICBwcml2YXRlIGF1ZGlvOiBIVE1MQXVkaW9FbGVtZW50O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgYXVkaW9DdHg6IEF1ZGlvQ29udGV4dCwgdXJsOiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcihuYW1lLCBhdWRpb0N0eCk7XHJcbiAgICAgICAgdGhpcy51cmwgPSB1cmw7XHJcblxyXG4gICAgICAgIHRoaXMuYXVkaW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhdWRpbycpO1xyXG4gICAgICAgIHRoaXMuYXVkaW8uY29udHJvbHMgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuYXVkaW8uc3JjID0gdGhpcy51cmw7XHJcbiAgICAgICAgdGhpcy5hdWRpby5hZGRFdmVudExpc3RlbmVyKFwiZW5kZWRcIiwgdGhpcy5hdWRpb0VuZGVkRXZlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXVkaW9FbmRlZEV2ZW50ID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuYXVkaW9FbmRlZC5kaXNwYXRjaEV2ZW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEF1ZGlvTm9kZSA9ICgpOiBBdWRpb05vZGUgPT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNvdXJjZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVsb2FkKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5zb3VyY2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc291cmNlID0gdGhpcy5hdWRpb0N0eC5jcmVhdGVNZWRpYUVsZW1lbnRTb3VyY2UodGhpcy5hdWRpbyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwbGF5ID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuYXVkaW8ucGxheSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwYXVzZSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmF1ZGlvLnBhdXNlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0b3AgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5hdWRpby5wYXVzZSgpO1xyXG4gICAgICAgIHRoaXMuYXVkaW8uY3VycmVudFRpbWUgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRVcmwgPSAodXJsOiBzdHJpbmcpID0+IHtcclxuICAgICAgICB2YXIgcGxheSA9ICF0aGlzLmF1ZGlvLnBhdXNlZDtcclxuICAgICAgICB0aGlzLnVybCA9IHVybDtcclxuICAgICAgICB0aGlzLmF1ZGlvLnNyYyA9IHVybDtcclxuICAgICAgICB0aGlzLmF1ZGlvLmxvYWQoKTtcclxuICAgICAgICBpZiAocGxheSkge1xyXG4gICAgICAgICAgICB0aGlzLmF1ZGlvLnBsYXkoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBBdWRpb0dyYXBoTm9kZSB9IGZyb20gXCIuL2F1ZGlvR3JhcGhOb2RlXCI7XHJcbmltcG9ydCB7IEF1ZGlvR3JhcGhOb2RlQW5hbHlzZXIgfSBmcm9tIFwiLi9hdWRpb0dyYXBoTm9kZUFuYWx5c2VyXCI7XHJcbmltcG9ydCB7IEF1ZGlvR3JhcGhOb2RlRGVzdGluYXRpb24gfSBmcm9tIFwiLi9hdWRpb0dyYXBoTm9kZURlc3RpbmF0aW9uXCI7XHJcbmltcG9ydCB7IEF1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZSB9IGZyb20gXCIuL2F1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZVwiO1xyXG5pbXBvcnQgeyBBdWRpb0dyYXBoTm9kZVN0cmVhbVNvdXJjZSB9IGZyb20gXCIuL2F1ZGlvR3JhcGhOb2RlU3RyZWFtU291cmNlXCI7XHJcbmltcG9ydCB7IEVFdmVudFQgfSBmcm9tIFwiLi4vZUV2ZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQXVkaW9HcmFwaCB7XHJcbiAgICBwdWJsaWMgYXVkaW9DdHg6IEF1ZGlvQ29udGV4dDtcclxuXHJcbiAgICAvLyBwcml2YXRlIHNvdXJjZU5vZGU6IEF1ZGlvR3JhcGhOb2RlPEF1ZGlvTm9kZT47XHJcbiAgICAvLyBwcml2YXRlIGFuYWx5emVyTm9kZTogQXVkaW9HcmFwaE5vZGVBbmFseXNlcjtcclxuXHJcbiAgICAvLyByZW1vdmUgZ2VuZXJpYyBUP1xyXG4gICAgcHJpdmF0ZSBhdWRpb05vZGVzOiBBdWRpb0dyYXBoTm9kZVtdID0gW107XHJcblxyXG4gICAgcHVibGljIGRlc3RpbmF0aW9uTm9kZTogQXVkaW9HcmFwaE5vZGU7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5hdWRpb0N0eCA9IG5ldyBBdWRpb0NvbnRleHQoKTtcclxuICAgICAgICB0aGlzLmF1ZGlvQ3R4LmFkZEV2ZW50TGlzdGVuZXIoXCJzdGF0ZWNoYW5nZVwiLCB0aGlzLmF1ZGlvQ29udGV4dFN0YXRlQ2hhbmdlZEV2YWx1YXRvcik7XHJcbiAgICAgICAgaWYgKHRoaXMuYXVkaW9DdHguc3RhdGUgPT09IFwic3VzcGVuZGVkXCIpIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuZG9jdW1lbnRDbGljayk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQXVkaW8gY29udGV4dCBpcyBzdXNwZW5kZWQuIENsaWNrIHRoZSBkb20gdG8gbWFrZSBpdCBydW5uaW5nLlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbk5vZGUgPSBuZXcgQXVkaW9HcmFwaE5vZGVEZXN0aW5hdGlvbihcImRlc3RpbmF0aW9uXCIsIHRoaXMuYXVkaW9DdHgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRNZWRpYUVsZW1lbnRTb3VyY2UgPSAobmFtZTogc3RyaW5nLCB1cmw6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIHZhciBzb3VyY2VOb2RlID0gbmV3IEF1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZShuYW1lLCB0aGlzLmF1ZGlvQ3R4LCB1cmwpO1xyXG4gICAgICAgIHRoaXMuYXVkaW9Ob2Rlcy5wdXNoKHNvdXJjZU5vZGUpO1xyXG4gICAgICAgIHJldHVybiBzb3VyY2VOb2RlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRBbmFseXplciA9IChuYW1lOiBzdHJpbmcpID0+IHtcclxuICAgICAgICB2YXIgYW5hbHl6ZXJOb2RlID0gbmV3IEF1ZGlvR3JhcGhOb2RlQW5hbHlzZXIobmFtZSwgdGhpcy5hdWRpb0N0eCk7XHJcbiAgICAgICAgdGhpcy5hdWRpb05vZGVzLnB1c2goYW5hbHl6ZXJOb2RlKTtcclxuICAgICAgICByZXR1cm4gYW5hbHl6ZXJOb2RlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRBdWRpb0dyYXBoTm9kZSA9IChuYW1lOiBzdHJpbmcpID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hdWRpb05vZGVzLmZpcnN0KHggPT4geC5uYW1lID09IG5hbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHB1YmxpYyBwbGF5VXJsID0gKHVybDogc3RyaW5nKSA9PiB7XHJcbiAgICAvLyAgICAgdGhpcy5zb3VyY2VOb2RlID0gbmV3IEF1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZSh0aGlzLmF1ZGlvQ3R4LCB1cmwpO1xyXG4gICAgLy8gICAgIGlmICh0aGlzLmF1ZGlvQ3R4LnN0YXRlID09PSBcInJ1bm5pbmdcIikge1xyXG4gICAgLy8gICAgICAgICB0aGlzLmJ1aWxkR3JhcGgoKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gcHVibGljIHBsYXlTdHJlYW0gPSAoKSA9PiB7XHJcbiAgICAvLyAgICAgdGhpcy5zb3VyY2VOb2RlID0gbmV3IEF1ZGlvR3JhcGhOb2RlU3RyZWFtU291cmNlKHRoaXMuYXVkaW9DdHgpO1xyXG4gICAgLy8gICAgIGlmICh0aGlzLmF1ZGlvQ3R4LnN0YXRlID09PSBcInJ1bm5pbmdcIikge1xyXG4gICAgLy8gICAgICAgICB0aGlzLmJ1aWxkR3JhcGgoKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9XHJcblxyXG4gICAgcHVibGljIGF1ZGlvQ29udGV4dFN0YXRlQ2hhbmdlZCA9IG5ldyBFRXZlbnRUPHN0cmluZz4oKTtcclxuXHJcbiAgICBwcml2YXRlIGRvY3VtZW50Q2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuYXVkaW9DdHguc3RhdGUgPT09IFwic3VzcGVuZGVkXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5hdWRpb0N0eC5yZXN1bWUoKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuZG9jdW1lbnRDbGljayk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXVkaW9Db250ZXh0U3RhdGVDaGFuZ2VkRXZhbHVhdG9yID0gKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmF1ZGlvQ3R4LnN0YXRlID09PSBcInJ1bm5pbmdcIikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImF1ZGlvIGNvbnRleHQgc3RhdGUgY2hhbmdlZFwiKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMuYXVkaW9DdHgucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInN0YXRlY2hhbmdlXCIsIHRoaXMuYXVkaW9Db250ZXh0U3RhdGVDaGFuZ2VkRXZhbHVhdG9yKTtcclxuICAgICAgICAgICAgdGhpcy5yZWxvYWQoKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXVkaW9Db250ZXh0U3RhdGVDaGFuZ2VkLmRpc3BhdGNoRXZlbnQodGhpcy5hdWRpb0N0eC5zdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbG9hZCA9ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInJlYWxvYWRpbmcgYXVkaW8gZ3JhcGhcIik7XHJcbiAgICAgICAgICAgIFByb21pc2UuYWxsKHRoaXMuYXVkaW9Ob2Rlcy5tYXAoeCA9PiB4LnJlbG9hZCgpKSlcclxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInJlbG9hZGVkIGF1ZGlvIGdyYXBoXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5hdWRpb05vZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGF1ZGlvTm9kZSA9IHRoaXMuYXVkaW9Ob2Rlc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW9Ob2RlLmdldEF1ZGlvTm9kZSgpLmRpc2Nvbm5lY3QoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpIDwgdGhpcy5hdWRpb05vZGVzLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1ZGlvTm9kZS5nZXRBdWRpb05vZGUoKS5jb25uZWN0KHRoaXMuYXVkaW9Ob2Rlc1tpICsgMV0uZ2V0QXVkaW9Ob2RlKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW9Ob2RlLmdldEF1ZGlvTm9kZSgpLmNvbm5lY3QodGhpcy5kZXN0aW5hdGlvbk5vZGUuZ2V0QXVkaW9Ob2RlKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHByaXZhdGUgYnVpbGRHcmFwaCgpIHtcclxuICAgIC8vICAgICBjb25zb2xlLmxvZyhcIkJ1aWxkaW5nIGF1ZGlvIGdyYXBoLlwiKTtcclxuXHJcbiAgICAvLyAgICAgaWYgKHRoaXMuc291cmNlTm9kZS5nZXRBdWRpb05vZGUoKSkge1xyXG4gICAgLy8gICAgICAgICB0aGlzLnNvdXJjZU5vZGUuZ2V0QXVkaW9Ob2RlKCkuZGlzY29ubmVjdCgpO1xyXG4gICAgLy8gICAgICAgICB0aGlzLmFuYWx5emVyTm9kZS5nZXRBdWRpb05vZGUoKS5kaXNjb25uZWN0KCk7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuZGVzdGluYXRpb25Ob2RlLmdldEF1ZGlvTm9kZSgpLmRpc2Nvbm5lY3QoKTtcclxuICAgIC8vICAgICAgICAgdGhpcy5zb3VyY2VOb2RlLmdldEF1ZGlvTm9kZSgpLmNvbm5lY3QodGhpcy5hbmFseXplck5vZGUuZ2V0QXVkaW9Ob2RlKCkpO1xyXG4gICAgLy8gICAgICAgICB0aGlzLmFuYWx5emVyTm9kZS5nZXRBdWRpb05vZGUoKS5jb25uZWN0KHRoaXMuZGVzdGluYXRpb25Ob2RlLmdldEF1ZGlvTm9kZSgpKTtcclxuICAgIC8vICAgICB9IGVsc2Uge1xyXG4gICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhcIkF1ZGlvIHNvdXJjZSBub3QgYXZhaWxhYmxlLiBXYWl0aW5nIHNvbWUgdGltZS5cIik7XHJcbiAgICAvLyAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgLy8gICAgICAgICAgICAgdGhpcy5idWlsZEdyYXBoKCk7XHJcbiAgICAvLyAgICAgICAgIH0sIDEwMDApO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBwdWJsaWMgZ2V0U3BlY3RydW0oKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuIHRoaXMuYW5hbHl6ZXJOb2RlLmdldFNwZWN0cnVtKCk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gcHVibGljIGdldFdhdmUoKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuIHRoaXMuYW5hbHl6ZXJOb2RlLmdldFdhdmUoKTtcclxuICAgIC8vIH1cclxufSIsImltcG9ydCB7IEF1ZGlvR3JhcGggfSBmcm9tIFwiLi4vZW5jL3NyYy9hdWRpby9hdWRpb0dyYXBoXCI7XHJcbmltcG9ydCB7IEF1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZSB9IGZyb20gXCIuLi9lbmMvc3JjL2F1ZGlvL2F1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZVwiO1xyXG5pbXBvcnQgeyBBdWRpb0dyYXBoTm9kZUFuYWx5c2VyIH0gZnJvbSBcIi4uL2VuYy9zcmMvYXVkaW8vYXVkaW9HcmFwaE5vZGVBbmFseXNlclwiO1xyXG5cclxuLy8gaW1wb3J0IEZhaW50QXNzZXRNUDMgZnJvbSBcIi4vYXNzZXRzL21wMy1kZW1vL2RlbW9fMV9mYWludF9jb2xvci5tcDNcIlxyXG4vLyBpbXBvcnQgUHJpc21Bc3NldE1QMyBmcm9tIFwiLi9hc3NldHMvbXAzLWRlbW8vZGVtb18yX3ByaXNtLm1wM1wiXHJcbi8vIGltcG9ydCBIb3BlZnVsQXNzZXRNUDMgZnJvbSBcIi4vYXNzZXRzL21wMy1kZW1vL2RlbW9fM19ob3BlZnVsLm1wM1wiXHJcbi8vIGltcG9ydCBEZWVwQXNzZXRNUDMgZnJvbSBcIi4vYXNzZXRzL21wMy1kZW1vL2RlbW9fNF9kZWVwX2ZpZWxkLm1wM1wiXHJcbi8vIGltcG9ydCBHcmF2aXR5QXNzZXRNUDMgZnJvbSBcIi4vYXNzZXRzL21wMy1kZW1vL2RlbW9fNV9ncmF2aXR5Lm1wM1wiXHJcbi8vIGltcG9ydCBKb3VybmV5QXNzZXRNUDMgZnJvbSBcIi4vYXNzZXRzL21wMy1kZW1vL2RlbW9fNl9qb3VybmV5X3RvX3RoZV9wbGFuZXRzLm1wM1wiXHJcbi8vIGltcG9ydCBEcmlmdGluZ0Fzc2V0TVAzIGZyb20gXCIuL2Fzc2V0cy9tcDMtZGVtby9kZW1vXzdfZHJpZnRpbmdfaW50b190aGVfYXRtb3NwaGVyZS5tcDNcIlxyXG5cclxuaW1wb3J0IEZhaW50QXNzZXRNUDMgZnJvbSBcIi4vYXNzZXRzL1RyYWlsZXJfQ29uc3RlbGxhdGlvbi5vZ2dcIlxyXG5pbXBvcnQgUHJpc21Bc3NldE1QMyBmcm9tIFwiLi9hc3NldHMvVHJhaWxlcl9Db25zdGVsbGF0aW9uLm9nZ1wiXHJcbmltcG9ydCBIb3BlZnVsQXNzZXRNUDMgZnJvbSBcIi4vYXNzZXRzL1RyYWlsZXJfQ29uc3RlbGxhdGlvbi5vZ2dcIlxyXG5pbXBvcnQgRGVlcEFzc2V0TVAzIGZyb20gXCIuL2Fzc2V0cy9UcmFpbGVyX0NvbnN0ZWxsYXRpb24ub2dnXCJcclxuaW1wb3J0IEdyYXZpdHlBc3NldE1QMyBmcm9tIFwiLi9hc3NldHMvVHJhaWxlcl9Db25zdGVsbGF0aW9uLm9nZ1wiXHJcbmltcG9ydCBKb3VybmV5QXNzZXRNUDMgZnJvbSBcIi4vYXNzZXRzL1RyYWlsZXJfQ29uc3RlbGxhdGlvbi5vZ2dcIlxyXG5pbXBvcnQgRHJpZnRpbmdBc3NldE1QMyBmcm9tIFwiLi9hc3NldHMvVHJhaWxlcl9Db25zdGVsbGF0aW9uLm9nZ1wiXHJcblxyXG5leHBvcnQgY2xhc3MgQXVkaW9NYW5hZ2VyIHtcclxuICAgIHByaXZhdGUgYXVkaW9HcmFwaDogQXVkaW9HcmFwaDtcclxuICAgIHByaXZhdGUgc291cmNlOiBBdWRpb0dyYXBoTm9kZUVsZW1lbnRTb3VyY2U7XHJcbiAgICBwcml2YXRlIGFuYWx5c2VyOiBBdWRpb0dyYXBoTm9kZUFuYWx5c2VyO1xyXG5cclxuICAgIHByaXZhdGUgc29uZ3MgPSBbXHJcbiAgICAgICAgRmFpbnRBc3NldE1QMyxcclxuICAgICAgICBQcmlzbUFzc2V0TVAzLFxyXG4gICAgICAgIEhvcGVmdWxBc3NldE1QMyxcclxuICAgICAgICBEZWVwQXNzZXRNUDMsXHJcbiAgICAgICAgR3Jhdml0eUFzc2V0TVAzLFxyXG4gICAgICAgIEpvdXJuZXlBc3NldE1QMyxcclxuICAgICAgICBEcmlmdGluZ0Fzc2V0TVAzXHJcbiAgICBdXHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5hdWRpb0dyYXBoID0gbmV3IEF1ZGlvR3JhcGgoKTtcclxuICAgICAgICB0aGlzLnNvdXJjZSA9IHRoaXMuYXVkaW9HcmFwaC5hZGRNZWRpYUVsZW1lbnRTb3VyY2UoXCJzb3VyY2VcIiwgdGhpcy5zb25nc1swXSlcclxuICAgICAgICB0aGlzLmFuYWx5c2VyID0gdGhpcy5hdWRpb0dyYXBoLmFkZEFuYWx5emVyKFwiYW5hbHlzZXJcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbG9hZCA9ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hdWRpb0dyYXBoLnJlbG9hZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwbGF5ID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc291cmNlLnBsYXkoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGF1c2UgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zb3VyY2UucGF1c2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbmV4dCA9ICgpID0+IHtcclxuICAgICAgICB2YXIgY3VycmVudFNvbmdJbmRleCA9IHRoaXMuc29uZ3MuaW5kZXhPZih0aGlzLnNvdXJjZS51cmwpO1xyXG4gICAgICAgIHZhciBuZXh0U29uZ0luZGV4ID0gY3VycmVudFNvbmdJbmRleCArIDE7XHJcbiAgICAgICAgaWYgKG5leHRTb25nSW5kZXggPT0gdGhpcy5zb25ncy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgbmV4dFNvbmdJbmRleCA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNvdXJjZS5zZXRVcmwodGhpcy5zb25nc1tuZXh0U29uZ0luZGV4XSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHByZXZpb3VzID0gKCkgPT4ge1xyXG4gICAgICAgIHZhciBjdXJyZW50U29uZ0luZGV4ID0gdGhpcy5zb25ncy5pbmRleE9mKHRoaXMuc291cmNlLnVybCk7XHJcbiAgICAgICAgdmFyIHByZXZpb3VzU29uZ0luZGV4ID0gY3VycmVudFNvbmdJbmRleCAtIDE7XHJcbiAgICAgICAgaWYgKHByZXZpb3VzU29uZ0luZGV4ID09IC0xKSB7XHJcbiAgICAgICAgICAgIHByZXZpb3VzU29uZ0luZGV4ID0gdGhpcy5zb25ncy5sZW5ndGggLSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnNvdXJjZS5zZXRVcmwodGhpcy5zb25nc1twcmV2aW91c1NvbmdJbmRleF0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdG9wID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc291cmNlLnN0b3AoKTtcclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBBc3NldE1hbmFnZXIge1xyXG4gICAgcHJpdmF0ZSBpbWFnZUFzc2V0czogeyBuYW1lOiBzdHJpbmcsIHVybDogc3RyaW5nLCBpbWFnZTogSFRNTEltYWdlRWxlbWVudCB9W10gPSBbXTtcclxuXHJcbiAgICBwdWJsaWMgYWRkSW1hZ2UgPSAobmFtZTogc3RyaW5nLCB1cmw6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIHRoaXMuaW1hZ2VBc3NldHMucHVzaCh7XHJcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgICAgIHVybDogdXJsLFxyXG4gICAgICAgICAgICBpbWFnZTogdW5kZWZpbmVkXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEltYWdlID0gKG5hbWU6IHN0cmluZyk6IEhUTUxJbWFnZUVsZW1lbnQgPT4ge1xyXG4gICAgICAgIHZhciBpbWFnZUFzc2V0ID0gdGhpcy5pbWFnZUFzc2V0cy5maXJzdE9yRGVmYXVsdCh4ID0+IHgubmFtZSA9PSBuYW1lKTtcclxuICAgICAgICBpZiAoaW1hZ2VBc3NldCkge1xyXG4gICAgICAgICAgICByZXR1cm4gaW1hZ2VBc3NldC5pbWFnZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbG9hZCA9ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwodGhpcy5pbWFnZUFzc2V0cy5tYXAoeCA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXguaW1hZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICBpbWFnZS5zcmMgPSB4LnVybDtcclxuICAgICAgICAgICAgICAgICAgICBpbWFnZS5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHguaW1hZ2UgPSBpbWFnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBTdGFnZSB9IGZyb20gXCIuLi9lbmMvc3JjL3VpL3N0YWdlXCI7XHJcbmltcG9ydCB7IEluc3BpZXJ0eVBsYXllclZpZXcgfSBmcm9tIFwiLi92aWV3L2luc3BpZXJ0eVBsYXllclZpZXdcIjtcclxuaW1wb3J0IHsgU2V0dGluZ3MgfSBmcm9tIFwiLi9tb2RlbHMvc2V0dGluZ3NcIjtcclxuaW1wb3J0IHsgU2V0dGluZ3NNYW5hZ2VyIH0gZnJvbSBcIi4vc2V0dGluZ3Mvc2V0dGluZ3NNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IERpbmplY3QgfSBmcm9tIFwiLi4vZW5jL3NyYy9kaW5qZWN0XCI7XHJcbmltcG9ydCB7IEVBbmltYXRpb24gfSBmcm9tIFwiLi4vZW5jL3NyYy9lQW5pbWF0aW9uXCI7XHJcbmltcG9ydCB7IEVDYW52YXMgfSBmcm9tIFwiLi4vZW5jL3NyYy91aS9lQ2FudmFzXCI7XHJcbmltcG9ydCB7IENhbnZhc0hlbHBlciB9IGZyb20gXCIuLi9lbmMvc3JjL3VpL2NhbnZhc0hlbHBlclwiO1xyXG5pbXBvcnQgeyBBdWRpb01hbmFnZXIgfSBmcm9tIFwiLi9hdWRpb01hbmFnZXJcIjtcclxuaW1wb3J0IHsgQXNzZXRNYW5hZ2VyIH0gZnJvbSBcIi4uL2VuYy9zcmMvYXNzZXRNYW5hZ2VyXCI7XHJcblxyXG5pbXBvcnQgYmFja2dyb3VuZFBuZyBmcm9tIFwiLi9hc3NldHMvYmFja2dyb3VuZC5wbmdcIlxyXG5cclxuZXhwb3J0IGNsYXNzIEFwcCB7XHJcbiAgICBwdWJsaWMgc3RhdGljIHNldHRpbmdzID0gbmV3IFNldHRpbmdzKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xyXG4gICAgcHVibGljIHN0YXRpYyBzZXR0aW5nTWFuYWdlciA9IG5ldyBTZXR0aW5nc01hbmFnZXIoKTtcclxuXHJcbiAgICBwdWJsaWMgcnVuID0gKCkgPT4ge1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJibGFja1wiO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhcImxvYWRpbmcgYXBwXCIpO1xyXG4gICAgICAgIFByb21pc2UuYWxsKFtcclxuICAgICAgICAgICAgbmV3IENhbnZhc0hlbHBlcigpLmxvYWRGb250YXdlc29tZUZyZWUoKSxcclxuICAgICAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIGF1ZGlvTWFuYWdlciA9IG5ldyBBdWRpb01hbmFnZXIoKTtcclxuICAgICAgICAgICAgICAgIGF1ZGlvTWFuYWdlci5yZWxvYWQoKVxyXG4gICAgICAgICAgICAgICAgRGluamVjdC5hZGRJbnN0YW5jZShcImF1ZGlvXCIsIGF1ZGlvTWFuYWdlcik7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2FudmFzID0gRUNhbnZhcy5jcmVhdGVGdWxsU2NyZWVuKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RhZ2UgPSBuZXcgU3RhZ2UoY2FudmFzKTtcclxuICAgICAgICAgICAgICAgIHZhciBhbmltYXRpb24gPSBuZXcgRUFuaW1hdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uLmFkZFVwZGF0ZUZ1bmN0aW9uKGNhbnZhcy5kcmF3KTtcclxuXHJcbiAgICAgICAgICAgICAgICBEaW5qZWN0LmFkZEluc3RhbmNlKFwiY2FudmFzXCIsIGNhbnZhcyk7XHJcbiAgICAgICAgICAgICAgICBEaW5qZWN0LmFkZEluc3RhbmNlKFwic3RhZ2VcIiwgc3RhZ2UpO1xyXG4gICAgICAgICAgICAgICAgRGluamVjdC5hZGRJbnN0YW5jZShcImFuaW1hdGlvblwiLCBhbmltYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFzc2V0TWFuYWdlciA9IG5ldyBBc3NldE1hbmFnZXIoKTtcclxuICAgICAgICAgICAgICAgIERpbmplY3QuYWRkSW5zdGFuY2UoXCJhc3NldHNcIiwgYXNzZXRNYW5hZ2VyKTtcclxuICAgICAgICAgICAgICAgIGFzc2V0TWFuYWdlci5hZGRJbWFnZShcImJhY2tncm91bmRcIiwgYmFja2dyb3VuZFBuZyk7XHJcbiAgICAgICAgICAgICAgICBhc3NldE1hbmFnZXIubG9hZCgpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICBdKS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJsb2FkZWQgYXBwXCIpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHN0YWdlID0gRGluamVjdC5nZXRJbnN0YW5jZShcInN0YWdlXCIpIGFzIFN0YWdlO1xyXG4gICAgICAgICAgICB2YXIgdmlldyA9IG5ldyBJbnNwaWVydHlQbGF5ZXJWaWV3KCk7XHJcbiAgICAgICAgICAgIHN0YWdlLnNldFZpZXcodmlldyk7XHJcblxyXG4gICAgICAgICAgICBBcHAuc2V0dGluZ01hbmFnZXIuYWRkU3RhckxheWVyKCk7XHJcbiAgICAgICAgICAgIEFwcC5zZXR0aW5nTWFuYWdlci5hZGRTdGFyTGF5ZXIoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFN0YXJMYXllciB9IGZyb20gXCIuL3N0YXJMYXllclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNldHRpbmdzIHtcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyB3aWR0aDogbnVtYmVyLCBwdWJsaWMgaGVpZ2h0OiBudW1iZXIpIHsgfVxyXG5cclxuICAgIHB1YmxpYyBzdGFyTGF5ZXJzOiBTdGFyTGF5ZXJbXSA9IFtdO1xyXG59XHJcbiIsImltcG9ydCB7IFNldHRpbmdPcGVyYXRpb24gfSBmcm9tIFwiLi9zZXR0aW5nT3BlcmF0aW9uXCI7XHJcbmltcG9ydCB7IEVFdmVudFQgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9lRXZlbnRcIjtcclxuaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4uL2FwcFwiO1xyXG5pbXBvcnQgeyBTdGFyTGF5ZXIgfSBmcm9tIFwiLi4vbW9kZWxzL3N0YXJMYXllclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNldHRpbmdzTWFuYWdlciB7XHJcbiAgICBwdWJsaWMgdXBkYXRlID0gbmV3IEVFdmVudFQ8U2V0dGluZ09wZXJhdGlvbj4oKTtcclxuXHJcbiAgICBwdWJsaWMgYWRkU3RhckxheWVyID0gKCkgPT4ge1xyXG4gICAgICAgIHZhciBsYXllciA9IG5ldyBTdGFyTGF5ZXIoKTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDA7IGkrKykge1xyXG4gICAgICAgICAgICBsYXllci5zdGFycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHg6IE1hdGgucmFuZG9tKCkgKiBBcHAuc2V0dGluZ3Mud2lkdGgsXHJcbiAgICAgICAgICAgICAgICB5OiBNYXRoLnJhbmRvbSgpICogQXBwLnNldHRpbmdzLmhlaWdodCxcclxuICAgICAgICAgICAgICAgIHI6IE1hdGgucmFuZG9tKCkgKiAyICsgMC4wNVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgQXBwLnNldHRpbmdzLnN0YXJMYXllcnMucHVzaChsYXllcik7XHJcbiAgICAgICAgdGhpcy51cGRhdGUuZGlzcGF0Y2hFdmVudChTZXR0aW5nT3BlcmF0aW9uLkFkZFN0YXJMYXllcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZVN0YXJMYXllciA9IChzdGFyTGF5ZXI6IFN0YXJMYXllcikgPT4ge1xyXG4gICAgICAgIEFwcC5zZXR0aW5ncy5zdGFyTGF5ZXJzLnJlbW92ZUl0ZW0oc3RhckxheWVyKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZS5kaXNwYXRjaEV2ZW50KFNldHRpbmdPcGVyYXRpb24uUmVtb3ZlU3RhckxheWVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2hhbmdlTnVtYmVyT2ZTdGFycyA9IChzdGFyTGF5ZXI6IFN0YXJMYXllciwgbnVtYmVyT2ZTdGFyczogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgaWYgKG51bWJlck9mU3RhcnMgPiAwKSB7XHJcbiAgICAgICAgICAgIHZhciBkaWZmID0gbnVtYmVyT2ZTdGFycyAtIHN0YXJMYXllci5zdGFycy5sZW5ndGg7XHJcbiAgICAgICAgICAgIGlmIChkaWZmID4gMCkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaWZmOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFyTGF5ZXIuc3RhcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IE1hdGgucmFuZG9tKCkgKiBBcHAuc2V0dGluZ3Mud2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IE1hdGgucmFuZG9tKCkgKiBBcHAuc2V0dGluZ3MuaGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByOiBNYXRoLnJhbmRvbSgpICogMiArIDAuMDVcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGRpZmYgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IC1kaWZmOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFyTGF5ZXIuc3RhcnMuc3BsaWNlKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHN0YXJMYXllci5zdGFycy5sZW5ndGgpLCAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZS5kaXNwYXRjaEV2ZW50KFNldHRpbmdPcGVyYXRpb24uQ2hhbmdlTnVtYmVyT2ZTdGFycyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjaGFuZ2VTcGVlZCA9IChzdGFyTGF5ZXI6IFN0YXJMYXllciwgc3BlZWQ6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIHN0YXJMYXllci5zcGVlZCA9IHNwZWVkO1xyXG4gICAgICAgIHRoaXMudXBkYXRlLmRpc3BhdGNoRXZlbnQoU2V0dGluZ09wZXJhdGlvbi5DaGFuZ2VTcGVlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNoYW5nZVNpemVzID0gKHN0YXJMYXllcjogU3RhckxheWVyLCBsb3dCb3JkZXI6IG51bWJlciwgaGlnaEJvcmRlcjogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgdmFyIHNpemVzID0gc3RhckxheWVyLnN0YXJzLm1hcCh4ID0+IHgucik7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRWYWx1ZUxvdyA9IE1hdGgubWluKC4uLnNpemVzKTtcclxuICAgICAgICB2YXIgY3VycmVudFZhbHVlSGlnaCA9IE1hdGgubWF4KC4uLnNpemVzKTtcclxuXHJcbiAgICAgICAgdmFyIG1pbkZpeCA9IChjdXJyZW50VmFsdWVIaWdoIC0gY3VycmVudFZhbHVlTG93KTtcclxuICAgICAgICBpZiAobWluRml4IDw9IDApIHtcclxuICAgICAgICAgICAgbWluRml4ID0gMC4wMDAxXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAoY29uc3Qgc3RhciBvZiBzdGFyTGF5ZXIuc3RhcnMpIHtcclxuICAgICAgICAgICAgc3Rhci5yID0gKChzdGFyLnIgLSBjdXJyZW50VmFsdWVMb3cpIC8gbWluRml4ICogKGhpZ2hCb3JkZXIgLSBsb3dCb3JkZXIpKSArIGxvd0JvcmRlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy51cGRhdGUuZGlzcGF0Y2hFdmVudChTZXR0aW5nT3BlcmF0aW9uLkNoYW5nZVNwZWVkKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEFwcCB9IGZyb20gXCIuL2FwcFwiO1xyXG5pbXBvcnQgXCIuLi9lbmMvc3JjL2V4dGVuc2lvbnNcIjtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBtYWluLCBmYWxzZSk7XHJcblxyXG5mdW5jdGlvbiBtYWluKCkge1xyXG4gICAgdmFyIGFwcCA9IG5ldyBBcHAoKTtcclxuICAgIGFwcC5ydW4oKTtcclxufSJdLCJzb3VyY2VSb290IjoiIn0=