!function(t){var e={};function i(s){if(e[s])return e[s].exports;var a=e[s]={i:s,l:!1,exports:{}};return t[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(s,a,function(e){return t[e]}.bind(null,a));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=7)}([function(t,e,i){t.exports=i.p+"4548616750b49599e29ad31f27052fc7.mp3"},function(t,e,i){t.exports=i.p+"42e1c91573e0327cd3f17f251e8af2a6.mp3"},function(t,e,i){t.exports=i.p+"f1ceea5d555947c80281f368bfaf8fa8.mp3"},function(t,e,i){t.exports=i.p+"689f34416f2a30b778e18f523a068af4.png"},function(t,e,i){t.exports=i.p+"4a2d1fef95cd91bc66caa315b22be2dd.png"},function(t,e,i){t.exports=i.p+"43075ffb3d6eafe5a17341ce79d9eb1d.png"},function(t,e){Array.prototype.firstOrDefault=function(t){for(const e of this)if(t(e))return e;return null},Array.prototype.first=function(t){for(const e of this)if(t(e))return e;throw console.log("item not found"),console.log(this),"item not found"},Array.prototype.getNext=function(t,e){var i=e(t)+1,s=this.firstOrDefault(t=>e(t)==i);return s||(s=this.first(t=>1==e(t))),s},Array.prototype.removeItem=function(t){var e=this.indexOf(t);if(-1==e)throw"item not found";this.splice(e,1)},Array.prototype.contains=function(t){return-1!==this.indexOf(t)},Array.prototype.removeItemIfExists=function(t){var e=this.indexOf(t);-1!=e&&this.splice(e,1)},Array.prototype.addItemIfNotExists=function(t){-1==this.indexOf(t)&&this.push(t)},Array.prototype.remove=function(t){this.removeItem(this.first(t))},Array.prototype.toList=function(){return this.filter(t=>!0)}},function(t,e,i){"use strict";i.r(e);class s{constructor(t,e,i,s){this.x=t,this.y=e,this.width=i,this.height=s,this.collidesWith=(t=>{var e=!1,i=!1;return this.x<=t.x?this.x<=t.x&&this.x+this.width>t.x&&(e=!0):t.x<=this.x&&t.x+t.width>this.x&&(e=!0),e&&(this.y<=t.y?this.y<=t.y&&this.y+this.width>t.y&&(i=!0):t.y<=this.y&&t.y+t.width>this.y&&(i=!0)),e&&i}),this.isHitBy=((t,e)=>t>this.x&&t<this.x+this.width&&e>this.y&&e<this.y+this.height)}}class a{constructor(t){this.canvas=t,this.canvasResized=(()=>{this.shouldUpdateLayout=!0}),this.mouseDown=(t=>{this.view&&this.view.mouseDown({clientX:t.clientX/this.canvas.dpr,clientY:t.clientY/this.canvas.dpr,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey})}),this.mouseUp=(t=>{this.view&&this.view.mouseUp({clientX:t.clientX/this.canvas.dpr,clientY:t.clientY/this.canvas.dpr,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey})}),this.mouseMove=(t=>{this.view&&this.view.mouseMove({clientX:t.clientX/this.canvas.dpr,clientY:t.clientY/this.canvas.dpr,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey})}),this.click=(t=>{this.view&&this.view.click({clientX:t.clientX/this.canvas.dpr,clientY:t.clientY/this.canvas.dpr,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey})}),this.render=((t,e,i)=>{this.view&&(this.shouldUpdateLayout&&(this.view.updateLayout(t,new s(0,0,e,i)),this.shouldUpdateLayout=!1),t.clearRect(0,0,e,i),this.view.render(t))}),this.setView=(t=>{this.view=t,this.shouldUpdateLayout=!0}),t.addDrawFunction(this.render),t.resized.addEventListener(this.canvasResized),document.addEventListener("mousedown",this.mouseDown),document.addEventListener("mouseup",this.mouseUp),document.addEventListener("mousemove",this.mouseMove),document.addEventListener("click",this.click)}}var n,r,h,o,d,l;!function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right"}(n||(n={})),function(t){t[t.Top=0]="Top",t[t.Center=1]="Center",t[t.Bottom=2]="Bottom"}(r||(r={}));class u{constructor(){this.top=0,this.right=0,this.bottom=0,this.left=0}}class c{constructor(){this.horizontalAlign=n.Center,this.verticalAlign=r.Center,this.margin=new u,this.calculateDimensionsX=((t,e)=>{switch(this.horizontalAlign){case n.Left:return t.x+this.margin.left;case n.Center:return t.x+t.width/2-e/2;case n.Right:return t.x+t.width-e-this.margin.right}}),this.calculateDimensionsY=((t,e)=>{switch(this.verticalAlign){case r.Top:return t.y+this.margin.top;case r.Center:return t.y+t.height/2-e/2;case r.Bottom:return t.y+t.height-e-this.margin.bottom}})}}class p{constructor(t,e,i){this.executer=t,this.setMethod=i,this.methods=[],this.add=(t=>{var e=t(this.methods[this.methods.length-1]);this.methods.push(e),this.setMethod(e)}),this.remove=(()=>{this.methods.pop(),this.setMethod(this.methods[this.methods.length-1])}),e.bind(this.executer),this.methods.push(e)}}class g{constructor(t=!0){this.generateNewId=(()=>(g.idCounter++,g.idCounter)),this.bounds=new s(0,0,0,0),this.dimensions=new s(0,0,0,0),this.alignement=new c,this.shouldUpdateLayout=!1,this.render=(t=>{this.shouldUpdateLayout&&(this.updateLayout(t,this.bounds),this.shouldUpdateLayout=!1)}),this.triggerUpdateLayout=(()=>{this.shouldUpdateLayout=!0}),this.isActive=!1,this.activate=(()=>{this.startTime=Date.now(),this.duration=3,this.renderMethodManipulation.add(t=>e=>{var i=Date.now()-this.startTime;i<=5e3?(e.save(),e.globalAlpha=i/1e3/this.duration,t(e),e.restore()):(t(e),this.renderMethodManipulation.remove())})}),this.deactivate=(()=>{}),this.disableMouseEvents=(()=>{this.mouseDown=(()=>{}),this.mouseUp=(()=>{}),this.mouseMove=(()=>{}),this.click=(()=>{})}),this.id=this.generateNewId(),this.name="object "+this.id,this.isActive=t,this.isActive||this.deactivate()}get renderMethodManipulation(){return this._renderMethodManipulation||(this._renderMethodManipulation=new p(this,this.render,t=>this.render=t)),this._renderMethodManipulation}updateLayout(t,e){this.bounds=e,this.shouldUpdateLayout=!1}}g.idCounter=0;class m extends g{constructor(){super(...arguments),this.children=[],this.superRender=this.render,this.render=(t=>{this.superRender(t);for(const e of this.children)e.render(t)})}mouseDown(t){for(const e of this.children)e.mouseDown(t)}mouseUp(t){for(const e of this.children)e.mouseUp(t)}mouseMove(t){for(const e of this.children)e.mouseMove(t)}click(t){for(const e of this.children.toList())e.click(t)}}class y extends g{constructor(t){super(),this.star=t,this.render=(t=>{var e=3*this.star.r,i=t.createRadialGradient(this.star.x,this.star.y,this.star.r,this.star.x,this.star.y,e);i.addColorStop(0,"rgba(255, 255, 255, 0.2)"),i.addColorStop(1,"rgba(255, 255, 255, 0)"),t.fillStyle=i,t.arc(this.star.x,this.star.y,e,0,2*Math.PI),t.fill(),t.fillStyle="white",t.beginPath(),t.arc(this.star.x,this.star.y,this.star.r,0,2*Math.PI),t.fill()})}mouseDown(t){}mouseUp(t){}mouseMove(t){throw new Error("Method not implemented.")}click(t){throw new Error("Method not implemented.")}}!function(t){t[t.AddStarLayer=0]="AddStarLayer",t[t.RemoveStarLayer=1]="RemoveStarLayer",t[t.ChangeNumberOfStars=2]="ChangeNumberOfStars",t[t.ChangeSpeed=3]="ChangeSpeed",t[t.ChangeSizes=4]="ChangeSizes"}(h||(h={}));class v extends m{constructor(t){super(),this.starLayer=t,this.settingsUpdated=(t=>{switch(t){case h.ChangeNumberOfStars:this.updateNumberOfStars()}}),this.updateNumberOfStars=(()=>{this.triggerUpdateLayout()}),ut.settingManager.update.addEventListener(this.settingsUpdated),this.disableMouseEvents(),this.triggerUpdateLayout()}updateLayout(t,e){this.children=[];for(const t of this.starLayer.stars)this.children.push(new y(t))}mouseMove(t){}click(t){}}!function(t){t[t.hidden=0]="hidden",t[t.beforeVisible=1]="beforeVisible",t[t.visible=2]="visible"}(o||(o={}));class f{constructor(){this.state=o.hidden}}class w{constructor(){this.listeners=[],this.addEventListener=(t=>{if(!t||this.listeners.indexOf(t)>=0)throw"listener already added";this.listeners.push(t)}),this.addEventListenerIfNotExists=(t=>{!t||this.listeners.indexOf(t)>=0||this.listeners.push(t)}),this.dispatchEvent=(()=>{for(let t=0;t<this.listeners.length;t++){(0,this.listeners[t])()}}),this.removeEventListener=(t=>{if(!t||this.listeners.indexOf(t)<0)throw"listener not found";this.listeners.splice(this.listeners.indexOf(t),1)}),this.removeEventListenerIfExists=(t=>{!t||this.listeners.indexOf(t)<0||this.listeners.splice(this.listeners.indexOf(t),1)})}}class L{constructor(){this.listeners=[],this.addEventListener=(t=>{if(!t||this.listeners.indexOf(t)>=0)throw"listener already added";this.listeners.push(t)}),this.dispatchEvent=(t=>{for(let e=0;e<this.listeners.length;e++){(0,this.listeners[e])(t)}}),this.removeEventListener=(t=>{if(!t||this.listeners.indexOf(t)<0)throw"listener not found";this.listeners.splice(this.listeners.indexOf(t),1)})}}class x{constructor(){this.listeners=[],this.addEventListener=(t=>{if(!t||this.listeners.indexOf(t)>=0)throw"listener already added";this.listeners.push(t)}),this.dispatchEvent=((t,e)=>{for(let i=0;i<this.listeners.length;i++){(0,this.listeners[i])(t,e)}}),this.removeEventListener=(t=>{if(!t||this.listeners.indexOf(t)<0)throw"listener not found";this.listeners.splice(this.listeners.indexOf(t),1)})}}class S{constructor(){this.drawFunctions=[],this.dpr=1,this.dprScalingEnabled=!0,this.enableDprScaling=(()=>{this.dprScalingEnabled=!0,this.resize()}),this.disableDprScaling=(()=>{this.dprScalingEnabled=!1,this.resize()}),this.resized=new w,this.resize=(()=>{this.dpr=this.dprScalingEnabled&&window.devicePixelRatio||1,this.canvas.width=this.canvas.clientWidth,this.canvas.height=this.canvas.clientHeight,this.resized.dispatchEvent()}),this.draw=(()=>{this.ctx.save(),this.ctx.scale(this.dpr,this.dpr);for(const t of this.drawFunctions)t(this.ctx,this.width,this.height);this.ctx.restore()}),this.addDrawFunction=(t=>{this.drawFunctions.push(t)}),this.removeDrawFunction=(t=>{this.drawFunctions.splice(this.drawFunctions.indexOf(t),1)})}get width(){return this.canvas.clientWidth/this.dpr}get height(){return this.canvas.clientHeight/this.dpr}static createFullScreen(){document.body.parentElement.style.height="100%",document.body.style.height="100%",document.body.style.margin="0",document.body.style.overflow="hidden";var t=document.createElement("canvas");document.body.appendChild(t),t.style.width="100%",t.style.height="100%";var e=new S;return e.canvas=t,e.ctx=t.getContext("2d"),window.addEventListener("resize",e.resize),e.resize(),e}}S.cursorLock=null,S.SetCursor=((t,e)=>{e?(document.body.style.cursor="pointer",S.cursorLock=t):t==S.cursorLock&&(document.body.style.cursor="default",S.cursorLock=null)});class b extends g{constructor(){super(...arguments),this.isMouseOver=!1,this.isEnabled=!0,this.clicked=new L,this.click=(t=>{this.isEnabled&&this.dimensions.isHitBy(t.clientX,t.clientY)&&this.clicked.dispatchEvent(this)})}mouseMove(t){this.isEnabled&&(this.dimensions.isHitBy(t.clientX,t.clientY)?(this.isMouseOver=!0,S.SetCursor(this.name,!0)):(this.isMouseOver=!1,S.SetCursor(this.name,!1)))}mouseDown(t){}mouseUp(t){}}class M{constructor(){this.fontSize=40,this.fontPrefix="",this.fontFamily="fontawesome",this.fillStyle="blue",this.mouseOverFillStyle="red",this.backgroundFillStyle=void 0,this.getFont=(()=>{var t="";return this.fontPrefix&&(t+=this.fontPrefix+" "),t+=this.fontSize+"px "+this.fontFamily})}}class V extends b{constructor(){super(...arguments),this.properties=new M,this.render=(t=>{this.properties.backgroundFillStyle&&(t.fillStyle=this.properties.backgroundFillStyle,t.fillRect(this.dimensions.x,this.dimensions.y,this.dimensions.width,this.dimensions.height)),this.isMouseOver?t.fillStyle=this.properties.mouseOverFillStyle:t.fillStyle=this.properties.fillStyle,t.font=this.properties.getFont(),t.textAlign="left",t.textBaseline="top",t.fillText(this.text,this.dimensions.x,this.dimensions.y)}),this.updateLayout=((t,e)=>{super.updateLayout(t,e),t.font=this.properties.getFont(),t.textAlign="left",t.textBaseline="top";var i=t.measureText(this.text),a=this.alignement.calculateDimensionsX(e,i.width),n=this.alignement.calculateDimensionsY(e,this.properties.fontSize);this.dimensions=new s(a,n,i.width,this.properties.fontSize)})}}!function(t){t[t.Horizontal=0]="Horizontal",t[t.Vertical=1]="Vertical"}(d||(d={}));class I{constructor(){this.itemSpacing=30,this.orientation=d.Vertical}}class E extends m{constructor(){super(...arguments),this.properties=new I,this.addItem=(t=>{t.alignement.horizontalAlign=n.Left,t.alignement.verticalAlign=r.Top,this.children.push(t),this.triggerUpdateLayout()}),this.removeItem=(t=>{this.children.removeItem(t),this.triggerUpdateLayout()})}updateLayout(t,e){super.updateLayout(t,e);var i=this.alignement.calculateDimensionsX(e,this.dimensions.width),a=this.alignement.calculateDimensionsY(e,this.dimensions.height),n=0,r=0;if(this.properties.orientation==d.Vertical)for(let e=0;e<this.children.length;e++){const h=this.children[e];e>0&&(a+=this.properties.itemSpacing,r+=this.properties.itemSpacing),h.updateLayout(t,new s(i,a,0,0)),a+=h.dimensions.height,r+=h.dimensions.height,n=Math.max(n,h.dimensions.width)}else for(let e=0;e<this.children.length;e++){const h=this.children[e];e>0&&(i+=this.properties.itemSpacing,n+=this.properties.itemSpacing),h.updateLayout(t,new s(i,a,0,0)),i+=h.dimensions.width,n+=h.dimensions.width,r=Math.max(r,h.dimensions.height)}this.dimensions.x==i&&this.dimensions.y==a&&this.dimensions.width==n&&this.dimensions.height==r||(this.dimensions.x=i,this.dimensions.y=a,this.dimensions.height=r,this.dimensions.width=n,this.updateLayout(t,e))}}class C extends b{constructor(){super(),this.radius=10,this.minValue=0,this.maxValue=100,this.currentValue=50,this.valueChanged=new L,this.render=(t=>{var e=this.dimensions.x,i=this.dimensions.y;t.strokeStyle="white",t.lineWidth=2,t.beginPath(),t.moveTo(e+this.radius,i+this.dimensions.height/2),t.lineTo(e+this.dimensions.width-this.radius,i+this.dimensions.height/2),t.stroke();var s=(this.currentValue-this.minValue)/(this.maxValue-this.minValue);t.fillStyle="blue",t.beginPath(),t.arc(e+this.radius+(this.dimensions.width-2*this.radius)*s,i+this.dimensions.height/2,this.radius,0,2*Math.PI),t.closePath(),t.fill()}),this.updateLayout=((t,e)=>{super.updateLayout(t,e),this.dimensions=new s(e.x,e.y,200,2*this.radius)}),this.mouseDown=(t=>{this.dimensions.isHitBy(t.clientX,t.clientY)&&(this.isDragging=!0,this.updateCurrentValue(t))}),this.mouseUp=(t=>{this.isDragging=!1})}mouseMove(t){super.mouseMove(t),this.isDragging&&this.updateCurrentValue(t)}updateCurrentValue(t){var e=t.clientX-this.dimensions.x-this.radius;(e=e/(this.dimensions.width-2*this.radius)*(this.maxValue-this.minValue)+this.minValue)>this.maxValue&&(e=this.maxValue),e<this.minValue&&(e=this.minValue),this.currentValue=e,this.valueChanged.dispatchEvent(this.currentValue)}}class A extends b{constructor(){super(),this.radius=10,this.minValue=0,this.maxValue=100,this.currentValueLow=25,this.currentValueHigh=75,this.minDiff=.1,this.valuesChanged=new x,this.render=(t=>{var e=this.dimensions.x,i=this.dimensions.y;t.strokeStyle="white",t.lineWidth=2,t.beginPath(),t.moveTo(e+this.radius,i+this.dimensions.height/2),t.lineTo(e+this.dimensions.width-this.radius,i+this.dimensions.height/2),t.stroke(),t.fillStyle="blue";var s=i+this.dimensions.height/2,a=(this.currentValueLow-this.minValue)/(this.maxValue-this.minValue),n=e+this.radius+(this.dimensions.width-2*this.radius)*a,r=(this.currentValueHigh-this.minValue)/(this.maxValue-this.minValue),h=e+this.radius+(this.dimensions.width-2*this.radius)*r;t.strokeStyle="blue",t.lineWidth=2,t.beginPath(),t.moveTo(n,s),t.lineTo(h,s),t.stroke(),t.beginPath(),t.arc(n,s,this.radius,0,2*Math.PI),t.closePath(),t.fill(),t.beginPath(),t.arc(h,s,this.radius,0,2*Math.PI),t.closePath(),t.fill()}),this.updateLayout=((t,e)=>{super.updateLayout(t,e),this.dimensions=new s(e.x,e.y,200,2*this.radius)}),this.mouseDown=(t=>{if(this.dimensions.isHitBy(t.clientX,t.clientY)){var e=this.getClickedValue(t),i=Math.abs(this.currentValueLow-e),s=Math.abs(this.currentValueHigh-e);i==s?e<this.currentValueLow?this.isDraggingLow=!0:this.isDraggingHigh=!0:i>s?this.isDraggingHigh=!0:this.isDraggingLow=!0,this.updateCurrentValues(t)}}),this.mouseUp=(t=>{this.isDraggingHigh=!1,this.isDraggingLow=!1})}mouseMove(t){super.mouseMove(t),(this.isDraggingHigh||this.isDraggingLow)&&this.updateCurrentValues(t)}updateCurrentValues(t){var e=this.getClickedValue(t);this.isDraggingLow?e>this.currentValueHigh-this.minDiff&&(e=this.currentValueHigh-this.minDiff):e<this.currentValueLow+this.minDiff&&(e=this.currentValueLow+this.minDiff),this.isDraggingLow?this.currentValueLow=e:this.currentValueHigh=e,this.valuesChanged.dispatchEvent(this.currentValueLow,this.currentValueHigh)}getClickedValue(t){var e=t.clientX-this.dimensions.x-this.radius;return(e=e/(this.dimensions.width-2*this.radius)*(this.maxValue-this.minValue)+this.minValue)>this.maxValue&&(e=this.maxValue),e<this.minValue&&(e=this.minValue),e}}class F extends m{constructor(t){super(),this.starLayer=t,this.numberOfStarsChanged=(t=>{ut.settingManager.changeNumberOfStars(this.starLayer,Math.round(t))}),this.speedChanged=(t=>{ut.settingManager.changeSpeed(this.starLayer,t)}),this.sizesChanged=((t,e)=>{ut.settingManager.changeSizes(this.starLayer,t,e)}),this.settingsList=new E,this.settingsList.alignement.horizontalAlign=n.Left,this.settingsList.alignement.verticalAlign=r.Top;var e=new V;e.text="Remove Layer",e.properties.fillStyle="white",this.settingsList.addItem(e),this.children.push(e),e.clicked.addEventListener(t=>{ut.settingManager.removeStarLayer(this.starLayer)});var i=new C;i.minValue=10,i.maxValue=1e3,i.currentValue=t.stars.length,this.children.push(i),this.settingsList.addItem(i),i.valueChanged.addEventListener(this.numberOfStarsChanged);var s=new C;s.minValue=0,s.maxValue=20,s.currentValue=t.speed,this.children.push(s),this.settingsList.addItem(s),s.valueChanged.addEventListener(this.speedChanged);var a=new A,h=this.starLayer.stars.map(t=>t.r);a.minValue=.001,a.maxValue=2,a.currentValueLow=Math.min(...h),a.currentValueHigh=Math.max(...h),this.children.push(a),this.settingsList.addItem(a),a.valuesChanged.addEventListener(this.sizesChanged)}updateLayout(t,e){this.settingsList.updateLayout(t,new s(e.x,e.y,0,0))}}class O extends m{constructor(){super(),this.viewModel=new f,this.lastMoved=Date.now(),this.inactivityTimeout=2e3,this.layerButtons=[],this.settingsUpdated=(t=>{switch(t){case h.AddStarLayer:for(const t of ut.settings.starLayers)if(!this.layerButtons.map(t=>t.tag).contains(t)){this.settingsList.removeItem(this.addLayerBtn);var e=new V;e.text="Edit Layer",e.tag=t,e.properties.fillStyle="white",this.settingsList.addItem(e),this.layerButtons.push(e),e.clicked.addEventListener(e=>{this.toggleShowHideStarLayerView(t)}),this.settingsList.addItem(this.addLayerBtn);break}break;case h.RemoveStarLayer:for(const t of this.layerButtons)if(!ut.settings.starLayers.contains(t.tag)){this.settingsList.removeItem(t),this.layerButtons.removeItem(t);break}this.children.removeItem(this.detailedStarLayerView),this.detailedStarLayerView=void 0}}),this.toggleShowHideStarLayerView=(t=>{if(this.detailedStarLayerView)if(this.detailedStarLayerView.starLayer!=t){this.children.removeItem(this.detailedStarLayerView),this.detailedStarLayerView=void 0;e=new F(t);this.detailedStarLayerView=e,this.children.push(this.detailedStarLayerView),this.triggerUpdateLayout()}else this.children.removeItem(this.detailedStarLayerView),this.detailedStarLayerView=void 0;else{var e=new F(t);this.detailedStarLayerView=e,this.children.push(this.detailedStarLayerView),this.triggerUpdateLayout()}}),this.showHideOverlayClicked=(t=>{this.viewModel.state==o.visible?this.setState(o.beforeVisible):this.setState(o.visible)}),this.mouseMove=(t=>{this.viewModel.state!=o.hidden&&this.viewModel.state!=o.beforeVisible||this.setState(o.beforeVisible),super.mouseMove(t)}),this.mouseInactivityHandler=(()=>{Date.now()-this.lastMoved>=this.inactivityTimeout?this.viewModel.state==o.beforeVisible&&this.setState(o.hidden):setTimeout(this.mouseInactivityHandler,this.inactivityTimeout-(Date.now()-this.lastMoved))}),this.setState=(t=>{switch(t){case o.hidden:this.children.removeItem(this.showOverLayerButton),this.viewModel.state=o.hidden;break;case o.beforeVisible:this.lastMoved=Date.now(),this.viewModel.state==o.hidden&&(setTimeout(this.mouseInactivityHandler,this.inactivityTimeout),this.children.addItemIfNotExists(this.showOverLayerButton)),this.viewModel.state==o.visible&&(setTimeout(this.mouseInactivityHandler,this.inactivityTimeout),this.children.removeItemIfExists(this.settingsList),this.children.removeItemIfExists(this.detailedStarLayerView),this.detailedStarLayerView=void 0),this.viewModel.state=o.beforeVisible;break;case o.visible:this.viewModel.state==o.beforeVisible&&this.children.push(this.settingsList),this.viewModel.state=o.visible}}),this.showOverLayerButton=new V,this.showOverLayerButton.text="Show/Hide Settings",this.showOverLayerButton.properties.fillStyle="green",this.showOverLayerButton.alignement.verticalAlign=r.Top,this.showOverLayerButton.alignement.horizontalAlign=n.Left,this.showOverLayerButton.clicked.addEventListener(this.showHideOverlayClicked),this.showOverLayerButton.properties.backgroundFillStyle="rgba(0, 0, 0, 0.5)",this.children.push(this.showOverLayerButton),this.settingsList=new E,this.settingsList.alignement.horizontalAlign=n.Left,this.settingsList.alignement.verticalAlign=r.Top;var t=new V;t.text="Add Layer",t.properties.fillStyle="white",this.settingsList.addItem(t),t.clicked.addEventListener(t=>{ut.settingManager.addStarLayer()}),this.addLayerBtn=t,ut.settingManager.update.addEventListener(this.settingsUpdated)}updateLayout(t,e){super.updateLayout(t,e),this.showOverLayerButton.updateLayout(t,e);var i=2*this.showOverLayerButton.dimensions.height;this.settingsList.updateLayout(t,new s(e.x,e.y+i,e.width,e.height-i)),this.detailedStarLayerView&&this.detailedStarLayerView.updateLayout(t,new s(e.x+this.settingsList.dimensions.width,e.y+i,e.width,e.height-i))}}class k{constructor(t){this.starLayer=t,this.update=(t=>{for(const e of this.starLayer.stars)e.x+=this.starLayer.speed*t,e.y+=this.starLayer.speed*t,e.x>ut.settings.width&&(e.x-=ut.settings.width),e.y>ut.settings.height&&(e.y-=ut.settings.height)})}}class D{}D.instances={},D.addInstance=((t,e)=>{D.instances[t]=e}),D.getInstance=(t=>D.instances[t]);class T extends m{constructor(){super(),this.playIconText="",this.pauseIconText="",this.stopIconText="",this.nextIconText="",this.previousIconText="";var t=D.getInstance("audio"),e=new E;e.alignement.verticalAlign=r.Bottom,e.alignement.margin.bottom=10,e.properties.orientation=d.Horizontal,this.children.push(e);var i=new V;i.properties.fontPrefix="900",i.properties.fontFamily="'Font Awesome 5 Free'",i.text=this.playIconText,i.clicked.addEventListener(()=>{i.text==this.playIconText?(t.play(),i.text=this.pauseIconText):(t.pause(),i.text=this.playIconText),this.triggerUpdateLayout()}),e.addItem(i);var s=new V;s.properties.fontPrefix="900",s.properties.fontFamily="'Font Awesome 5 Free'",s.text=this.stopIconText,s.clicked.addEventListener(()=>{t.stop(),i.text==this.pauseIconText&&(i.text=this.playIconText),this.triggerUpdateLayout()}),e.addItem(s);var a=new V;a.properties.fontPrefix="900",a.properties.fontFamily="'Font Awesome 5 Free'",a.text=this.previousIconText,a.clicked.addEventListener(()=>{t.previous()}),e.addItem(a);var n=new V;n.properties.fontPrefix="900",n.properties.fontFamily="'Font Awesome 5 Free'",n.text=this.nextIconText,n.clicked.addEventListener(()=>{t.next()}),e.addItem(n)}updateLayout(t,e){super.updateLayout(t,e);for(const e of this.children)e.updateLayout(t,this.bounds)}}!function(t){t[t.FitAndOverfill=0]="FitAndOverfill",t[t.FitAndSpace=1]="FitAndSpace"}(l||(l={}));class P{constructor(){this.imageScalingMode=l.FitAndSpace,this.scale=1}}class U extends b{constructor(t){super(),this.properties=new P,this.superRender=this.render,this.render=(t=>{this.superRender(t),t.drawImage(this.image,this.dimensions.x,this.dimensions.y,this.dimensions.width,this.dimensions.height),this.isMouseOver&&this.isEnabled&&(t.fillStyle="rgba(255,255,255,0.5)",t.fillRect(this.dimensions.x,this.dimensions.y,this.dimensions.width,this.dimensions.height))}),this.image=t}updateLayout(t,e){super.updateLayout(t,e);var i=1,s=this.image.naturalWidth/this.image.naturalHeight>e.width/e.height;switch(this.properties.imageScalingMode){case l.FitAndOverfill:i=s?e.height/this.image.height:e.width/this.image.width;break;case l.FitAndSpace:i=s?e.width/this.image.width:e.height/this.image.height}var a=this.image.naturalWidth*i,n=this.image.naturalHeight*i;this.dimensions.x=this.alignement.calculateDimensionsX(e,a),this.dimensions.y=this.alignement.calculateDimensionsY(e,a),this.dimensions.width=a,this.dimensions.height=n}}U.createFromUrl=(t=>new Promise((e,i)=>{var s=new Image;s.src=t,s.onload=(()=>{e(new U(s))})}));class B extends m{constructor(){super(!1);var t=D.getInstance("assets").getImage("background"),e=new U(t);e.disableMouseEvents(),e.properties.imageScalingMode=l.FitAndOverfill,this.children.push(e)}updateLayout(t,e){super.updateLayout(t,e);for(const i of this.children)i.updateLayout(t,e)}}class N extends m{constructor(){super(!1),this.frequencyIndex=7,this.lowerBorder=.4,this.upperBorder=.9;var t=D.getInstance("assets"),e=D.getInstance("audio");this.analyser=e.getAnalyser();var i=t.getImage("logo"),s=t.getImage("logo-nova");this.disableMouseEvents();var a=new U(s);a.properties.imageScalingMode=l.FitAndOverfill,this.children.push(a);var n=a.render;a.render=(t=>{var e=this.analyser.getSpectrum(),i=this.calculateRelDataValue(e[this.frequencyIndex]);t.save(),t.globalAlpha=i,n(t),t.restore()});var r=new U(i);r.properties.imageScalingMode=l.FitAndOverfill,this.children.push(r)}calculateRelDataValue(t){var e=t/255;return e<this.lowerBorder&&(e=this.lowerBorder),e>this.upperBorder&&(e=this.upperBorder),(e-this.lowerBorder)/(this.upperBorder-this.lowerBorder)}updateLayout(t,e){super.updateLayout(t,e);for(const i of this.children)i.updateLayout(t,e)}}class z{constructor(){this.fontSize=40,this.fontPrefix="",this.fontFamily="fontawesome",this.fillStyle="blue",this.backgroundFillStyle=void 0,this.getFont=(()=>{var t="";return this.fontPrefix&&(t+=this.fontPrefix+" "),t+=this.fontSize+"px "+this.fontFamily})}}class H extends b{constructor(){super(),this.properties=new z,this.render=(t=>{t.fillStyle=this.properties.fillStyle,t.font=this.properties.getFont(),t.textAlign="left",t.textBaseline="top",t.fillText(this.text,this.dimensions.x,this.dimensions.y)}),this.updateLayout=((t,e)=>{super.updateLayout(t,e),t.font=this.properties.getFont(),t.textAlign="left",t.textBaseline="top";var i=t.measureText(this.text),a=this.alignement.calculateDimensionsX(e,i.width),n=this.alignement.calculateDimensionsY(e,this.properties.fontSize);this.dimensions=new s(a,n,i.width,this.properties.fontSize),console.log(this.dimensions)}),this.disableMouseEvents()}}class R extends m{constructor(){super();var t=new H;t.text="Loading...",t.properties.fillStyle="white",this.children.push(t)}updateLayout(t,e){super.updateLayout(t,e);for(const e of this.children)e.updateLayout(t,this.bounds)}}class K extends m{constructor(){super(),this.starLayers=[],this.starAnimators=[],this.start=(()=>{this.children.removeItem(this.loadingView);var t=new B;this.children.push(t),t.activate(),document.testit=t,this.children.push(new T);var e=new N;this.children.push(e),e.activate(),this.children.push(new O),ut.settingManager.update.addEventListener(this.appSettingsUpdated),this.triggerUpdateLayout()}),this.appSettingsUpdated=(t=>{switch(t){case h.AddStarLayer:this.addStarLayer();break;case h.RemoveStarLayer:this.removeStarLayer()}}),this.addStarLayer=(()=>{for(const i of ut.settings.starLayers)if(null==this.starLayers.firstOrDefault(t=>t.starLayer==i)){var t=new v(i);this.starLayers.push(t),this.children.splice(1,0,t),this.triggerUpdateLayout();var e=new k(i);this.animation.addUpdateFunction(e.update),this.starAnimators.push(e);break}}),this.removeStarLayer=(()=>{for(const e of this.starLayers)if(null==ut.settings.starLayers.firstOrDefault(t=>t==e.starLayer)){var t=this.starAnimators.first(t=>t.starLayer==e.starLayer);this.animation.removeUpdateFunction(t.update),this.starAnimators.removeItem(t),this.children.remove(t=>t==e),this.starLayers.remove(t=>t==e),this.triggerUpdateLayout()}}),this.animation=D.getInstance("animation"),this.loadingView=new R,this.children.push(this.loadingView)}updateLayout(t,e){super.updateLayout(t,e);for(const i of this.children)i.updateLayout(t,e)}}class X{constructor(){this.stars=[],this.speed=1*Math.random()+.1}}class Y{constructor(){this.updateFunctions=[],this.isRunning=!1,this.addUpdateFunction=(t=>{this.updateFunctions.push(t)}),this.removeUpdateFunction=(t=>{this.updateFunctions.splice(this.updateFunctions.indexOf(t),1)}),this.setFps=(t=>{this.fps=t,this.fpsInterval=1e3/this.fps}),this.animationLoop=(()=>{this.isRunning&&requestAnimationFrame(this.animationLoop);var t=Date.now(),e=t-this.lastFrameTime;if(e>this.fpsInterval){this.lastFrameTime=t;var i=e/1e3;for(const t of this.updateFunctions)t(i)}}),this.setFps(30),this.play(),document.addEventListener("keyup",t=>{80==t.keyCode&&this.playPause()})}play(){this.isRunning||(this.isRunning=!0,this.lastFrameTime=Date.now(),this.animationLoop())}pause(){this.isRunning&&(this.isRunning=!1)}playPause(){this.isRunning?this.pause():this.play()}}class W{constructor(){this.loadFontawesomeFree=(()=>this.loadFont("","","900 20px 'Font Awesome 5 Free'")),this.loadFontawesomeBrands=(()=>this.loadFont("","","400 20px 'Font Awesome 5 Brands'")),this.countPixels=(t=>{var e=0;for(let r=0;r<t.data.length;r+=4){var i=t.data[r],s=t.data[r+1],a=t.data[r+2],n=t.data[r+3];i<50&&s<50&&a<50&&n>.9&&e++}return e}),this.getIconPixels=((t,e,i)=>{t.clearRect(0,0,e.width,e.height),t.fillText(i,0,0);var s=t.getImageData(0,0,e.width,e.height);return this.countPixels(s)}),this.loadFont=((t,e,i)=>{var s=10;return new Promise((a,n)=>{console.log('loading font "'+i+'"');var r=document.createElement("canvas");r.width=20,r.height=20;var h=r.getContext("2d");h.font=i,h.fillStyle="black",h.textAlign="left",h.textBaseline="top";var o=()=>{var n=this.getIconPixels(h,r,t),d=this.getIconPixels(h,r,e);Math.abs(d-n)>5?(console.log('loaded font "'+i+'"'),a()):0==--s?(console.log("stop loading font after "+s+" retries with 500ms delay"),a()):setTimeout(()=>{o()},500)};o()})})}}class j{constructor(t,e){this.name=t,this.audioCtx=e}}class _ extends j{constructor(){super(...arguments),this.getAudioNode=(()=>this.analyserNode)}reload(){return new Promise((t,e)=>{this.analyserNode||(this.analyserNode=this.audioCtx.createAnalyser()),this.analyserNode.fftSize=32,this.analyserNode.smoothingTimeConstant=.9,this.bufferLength=this.analyserNode.frequencyBinCount,this.dataArray=new Uint8Array(this.bufferLength),t()})}getSpectrum(){return this.analyserNode?(this.analyserNode.getByteFrequencyData(this.dataArray),this.dataArray):new Uint8Array(0)}getWave(){return this.analyserNode?(this.analyserNode.getByteTimeDomainData(this.dataArray),this.dataArray):new Uint8Array(0)}}class G extends j{constructor(){super(...arguments),this.getAudioNode=(()=>this.audioCtx.destination)}reload(){}}class q extends j{constructor(t,e,i){super(t,e),this.audioEnded=new w,this.audioEndedEvent=(()=>{this.audioEnded.dispatchEvent()}),this.getAudioNode=(()=>this.source),this.play=(()=>{this.audio.play()}),this.pause=(()=>{this.audio.pause()}),this.stop=(()=>{this.audio.pause(),this.audio.currentTime=0}),this.setUrl=(t=>{var e=!this.audio.paused;this.url=t,this.audio.src=t,this.audio.load(),e&&this.audio.play()}),this.url=i,this.audio=document.createElement("audio"),this.audio.controls=!0,this.audio.src=this.url,this.audio.addEventListener("ended",this.audioEndedEvent)}reload(){return new Promise((t,e)=>{this.source||(this.source=this.audioCtx.createMediaElementSource(this.audio)),t()})}}class J{constructor(){this.audioNodes=[],this.addMediaElementSource=((t,e)=>{var i=new q(t,this.audioCtx,e);return this.audioNodes.push(i),i}),this.addAnalyzer=(t=>{var e=new _(t,this.audioCtx);return this.audioNodes.push(e),e}),this.getAudioGraphNode=(t=>this.audioNodes.first(e=>e.name==t)),this.audioContextStateChanged=new L,this.documentClick=(()=>{"suspended"===this.audioCtx.state&&(this.audioCtx.resume(),document.removeEventListener("click",this.documentClick))}),this.audioContextStateChangedEvaluator=(()=>{"running"===this.audioCtx.state&&(console.log("audio context state changed"),this.audioCtx.removeEventListener("statechange",this.audioContextStateChangedEvaluator),this.reload().then(()=>{this.audioContextStateChanged.dispatchEvent(this.audioCtx.state)}))}),this.reload=(()=>new Promise((t,e)=>{console.log("realoading audio graph"),Promise.all(this.audioNodes.map(t=>t.reload())).then(()=>{console.log("reloaded audio graph");for(let t=0;t<this.audioNodes.length;t++){const e=this.audioNodes[t];e.getAudioNode().disconnect(),t<this.audioNodes.length-1?e.getAudioNode().connect(this.audioNodes[t+1].getAudioNode()):e.getAudioNode().connect(this.destinationNode.getAudioNode())}t()})})),this.audioCtx=new AudioContext,this.audioCtx.addEventListener("statechange",this.audioContextStateChangedEvaluator),"suspended"===this.audioCtx.state&&(document.addEventListener("click",this.documentClick),console.log("Audio context is suspended. Click the dom to make it running.")),this.destinationNode=new G("destination",this.audioCtx)}}var Q=i(0),Z=i.n(Q),$=i(1),tt=i.n($),et=i(2),it=i.n(et);class st{constructor(){this.songs=[Z.a,tt.a,it.a],this.reload=(()=>this.audioGraph.reload()),this.play=(()=>{this.source.play()}),this.pause=(()=>{this.source.pause()}),this.next=(()=>{var t=this.songs.indexOf(this.source.url)+1;t==this.songs.length&&(t=0),this.source.setUrl(this.songs[t])}),this.previous=(()=>{var t=this.songs.indexOf(this.source.url)-1;-1==t&&(t=this.songs.length-1),this.source.setUrl(this.songs[t])}),this.getAnalyser=(()=>this.analyser),this.stop=(()=>{this.source.stop()}),this.audioGraph=new J,this.source=this.audioGraph.addMediaElementSource("source",this.songs[0]),this.analyser=this.audioGraph.addAnalyzer("analyser")}}class at{constructor(){this.imageAssets=[],this.addImage=((t,e)=>{this.imageAssets.push({name:t,url:e,image:void 0})}),this.getImage=(t=>{var e=this.imageAssets.firstOrDefault(e=>e.name==t);return e?e.image:void 0}),this.load=(()=>Promise.all(this.imageAssets.map(t=>new Promise((e,i)=>{if(t.image)e();else{var s=new Image;s.src=t.url,s.onload=(()=>{t.image=s,e()})}}))))}}var nt=i(3),rt=i.n(nt),ht=i(4),ot=i.n(ht),dt=i(5),lt=i.n(dt);class ut{constructor(){this.run=(()=>{document.body.style.backgroundColor="black";var t=S.createFullScreen(),e=new a(t),i=new Y;i.addUpdateFunction(t.draw),D.addInstance("canvas",t),D.addInstance("stage",e),D.addInstance("animation",i);var s=new K;e.setView(s),console.log("loading app"),Promise.all([(new W).loadFontawesomeFree(),new Promise((t,e)=>{var i=new st;i.reload(),D.addInstance("audio",i),t()}),new Promise((t,e)=>{var i=new at;D.addInstance("assets",i),i.addImage("background",rt.a),i.addImage("logo",ot.a),i.addImage("logo-nova",lt.a),i.load().then(()=>{t()})})]).then(()=>{console.log("loaded app"),ut.settingManager.addStarLayer(),ut.settingManager.addStarLayer(),ut.settingManager.addStarLayer(),ut.settingManager.addStarLayer(),s.start()})})}}ut.settings=new class{constructor(t,e){this.width=t,this.height=e,this.starLayers=[]}}(window.innerWidth,window.innerHeight),ut.settingManager=new class{constructor(){this.update=new L,this.addStarLayer=(()=>{var t=new X;for(let e=0;e<300;e++)t.stars.push({x:Math.random()*ut.settings.width,y:Math.random()*ut.settings.height,r:.5*Math.random()+.05});ut.settings.starLayers.push(t),this.update.dispatchEvent(h.AddStarLayer)}),this.removeStarLayer=(t=>{ut.settings.starLayers.removeItem(t),this.update.dispatchEvent(h.RemoveStarLayer)}),this.changeNumberOfStars=((t,e)=>{if(e>0){var i=e-t.stars.length;if(i>0)for(let e=0;e<i;e++){var s=t.stars.map(t=>t.r),a=Math.min(...s),n=Math.max(...s);t.stars.push({x:Math.random()*ut.settings.width,y:Math.random()*ut.settings.height,r:Math.random()*(n-a)+a})}else if(i<0)for(let e=0;e<-i;e++)t.stars.splice(Math.floor(Math.random()*t.stars.length),1);this.update.dispatchEvent(h.ChangeNumberOfStars)}}),this.changeSpeed=((t,e)=>{t.speed=e,this.update.dispatchEvent(h.ChangeSpeed)}),this.changeSizes=((t,e,i)=>{var s=t.stars.map(t=>t.r),a=Math.min(...s),n=Math.max(...s)-a;n<=0&&(n=1e-4);for(const s of t.stars)s.r=(s.r-a)/n*(i-e)+e;this.update.dispatchEvent(h.ChangeSpeed)})}};i(6);document.addEventListener("DOMContentLoaded",function(){(new ut).run()},!1),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/service-worker.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9kZW1vL1RyYWlsZXJfZmFpbnRDb2xvci5tcDMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9kZW1vL1RyYWlsZXJfRGVlcEZpZWxkLm1wMyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL2RlbW8vVHJhaWxlcl9EcmlmdGluZ0ludG9UaGVBdG1vc3BoZXJlLm1wMyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL2JhY2tncm91bmQucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvbG9nby1mcm9udC5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9sb2dvLW5vdmEucG5nIiwid2VicGFjazovLy8uL2VuYy9zcmMvZXh0ZW5zaW9ucy50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL2dlb21ldHJ5L3JlY3RhbmdsZS50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL3N0YWdlLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvYWxpZ25lbWVudC9ob3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvdmVydGljYWxBbGlnbmVtZW50T3B0aW9uLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXR0aW5ncy9zZXR0aW5nT3BlcmF0aW9uLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3L292ZXJsYXkvc2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9hbGlnbmVtZW50L29yaWVudGF0aW9uLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvY29udHJvbHMvaW1hZ2VTY2FsaW5nTW9kZS50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvc3BhY2luZy50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvYWxpZ25lbWVudC50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL21ldGhvZE1hbmlwdWxhdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL3JlbmRlck9iamVjdC50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xheW91dFZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXcvc3RhclJlbmRlck9iamVjdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy9zdGFyTGF5ZXJEcmF3ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXcvb3ZlcmxheS9zZXR0aW5nc092ZXJsYXlWaWV3TW9kZWwudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy9lRXZlbnQudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9lQ2FudmFzLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvY29udHJvbHMvY29udHJvbC50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2J1dHRvblByb3BlcnRpZXMudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9jb250cm9scy9idXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9sYXlvdXRDb250cm9scy9saXN0Vmlld1Byb3BlcnRpZXMudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9sYXlvdXRDb250cm9scy9saXN0Vmlldy50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2NvbnRyb2xzL3NsaWRlci50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2NvbnRyb2xzL3JhbmdlU2xpZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3L292ZXJsYXkvc3RhckxheWVyVmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy9vdmVybGF5L3NldHRpbmdzT3ZlcmxheVZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXcvc3RhckxheWVyQW5pbWF0b3IudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy9kaW5qZWN0LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3L3BsYXllclZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9jb250cm9scy9pbWFnZVByb3BlcnRpZXMudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9jb250cm9scy9pbWFnZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy9iYWNrZ3JvdW5kSW1hZ2VWaWV3LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3L2Zyb250Vmlldy50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2xhYmVsUHJvcGVydGllcy50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2xhYmVsLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3L2xvYWRpbmdWaWV3LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3L2luc3BpZXJ0eVBsYXllclZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9zdGFyTGF5ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy9lQW5pbWF0aW9uLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvY2FudmFzSGVscGVyLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvYXVkaW8vYXVkaW9HcmFwaE5vZGUudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy9hdWRpby9hdWRpb0dyYXBoTm9kZUFuYWx5c2VyLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvYXVkaW8vYXVkaW9HcmFwaE5vZGVEZXN0aW5hdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL2F1ZGlvL2F1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZS50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL2F1ZGlvL2F1ZGlvR3JhcGgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2F1ZGlvTWFuYWdlci50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL2Fzc2V0TWFuYWdlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwLnRzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvc2V0dGluZ3MudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NldHRpbmdzL3NldHRpbmdzTWFuYWdlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJBcnJheSIsImZpcnN0T3JEZWZhdWx0IiwiZnVuYyIsImFycmF5SXRlbSIsInRoaXMiLCJmaXJzdCIsImNvbnNvbGUiLCJsb2ciLCJnZXROZXh0IiwiY3VycmVudCIsInNlbGVjdG9yIiwibmV4dFBvc2l0aW9uIiwibmV4dCIsIngiLCJyZW1vdmVJdGVtIiwiaXRlbSIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsImNvbnRhaW5zIiwicmVtb3ZlSXRlbUlmRXhpc3RzIiwiYWRkSXRlbUlmTm90RXhpc3RzIiwicHVzaCIsInJlbW92ZSIsInRvTGlzdCIsImZpbHRlciIsIlJlY3RhbmdsZSIsIltvYmplY3QgT2JqZWN0XSIsInkiLCJ3aWR0aCIsImhlaWdodCIsImNvbGxpZGVzV2l0aCIsInJlY3RhbmdsZSIsImhpdHgiLCJoaXR5IiwiaXNIaXRCeSIsInN0YWdlX1N0YWdlIiwiY2FudmFzIiwiY2FudmFzUmVzaXplZCIsInNob3VsZFVwZGF0ZUxheW91dCIsIm1vdXNlRG93biIsImV2IiwidmlldyIsImNsaWVudFgiLCJkcHIiLCJjbGllbnRZIiwiYWx0S2V5IiwiY3RybEtleSIsInNoaWZ0S2V5IiwibW91c2VVcCIsIm1vdXNlTW92ZSIsImNsaWNrIiwicmVuZGVyIiwiY3R4IiwidXBkYXRlTGF5b3V0IiwiY2xlYXJSZWN0Iiwic2V0VmlldyIsImFkZERyYXdGdW5jdGlvbiIsInJlc2l6ZWQiLCJhZGRFdmVudExpc3RlbmVyIiwiZG9jdW1lbnQiLCJIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbiIsIlZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbiIsIlNldHRpbmdPcGVyYXRpb24iLCJTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZSIsIk9yaWVudGF0aW9uIiwiSW1hZ2VTY2FsaW5nTW9kZSIsIlNwYWNpbmciLCJ0b3AiLCJyaWdodCIsImJvdHRvbSIsImxlZnQiLCJhbGlnbmVtZW50X0FsaWduZW1lbnQiLCJob3Jpem9udGFsQWxpZ24iLCJDZW50ZXIiLCJ2ZXJ0aWNhbEFsaWduIiwibWFyZ2luIiwiY2FsY3VsYXRlRGltZW5zaW9uc1giLCJib3VuZHMiLCJMZWZ0IiwiUmlnaHQiLCJjYWxjdWxhdGVEaW1lbnNpb25zWSIsIlRvcCIsIkJvdHRvbSIsIk1ldGhvZE1hbmlwdWxhdGlvbiIsImV4ZWN1dGVyIiwiaW5pdGlhbE1ldGhvZCIsInNldE1ldGhvZCIsIm1ldGhvZHMiLCJhZGQiLCJidWlsZE1ldGhvZCIsIm5ld01ldGhvZCIsImxlbmd0aCIsInBvcCIsInJlbmRlck9iamVjdF9SZW5kZXJPYmplY3QiLCJpbml0aWFsaXplQXNBY3RpdmUiLCJnZW5lcmF0ZU5ld0lkIiwiaWRDb3VudGVyIiwiZGltZW5zaW9ucyIsImFsaWduZW1lbnQiLCJ0cmlnZ2VyVXBkYXRlTGF5b3V0IiwiaXNBY3RpdmUiLCJhY3RpdmF0ZSIsInN0YXJ0VGltZSIsIkRhdGUiLCJub3ciLCJkdXJhdGlvbiIsInJlbmRlck1ldGhvZE1hbmlwdWxhdGlvbiIsImN1cnJlbnRNZXRob2QiLCJkaWZmIiwic2F2ZSIsImdsb2JhbEFscGhhIiwicmVzdG9yZSIsImRlYWN0aXZhdGUiLCJkaXNhYmxlTW91c2VFdmVudHMiLCJpZCIsIl9yZW5kZXJNZXRob2RNYW5pcHVsYXRpb24iLCJsYXlvdXRWaWV3X0xheW91dFZpZXciLCJjaGlsZHJlbiIsInN1cGVyUmVuZGVyIiwiY2hpbGQiLCJzdGFyUmVuZGVyT2JqZWN0X1N0YXJSZW5kZXJPYmplY3QiLCJzdGFyIiwic3VwZXIiLCJlbmQiLCJncmFkIiwiY3JlYXRlUmFkaWFsR3JhZGllbnQiLCJhZGRDb2xvclN0b3AiLCJmaWxsU3R5bGUiLCJhcmMiLCJNYXRoIiwiUEkiLCJmaWxsIiwiYmVnaW5QYXRoIiwiRXJyb3IiLCJzdGFyTGF5ZXJEcmF3ZXJfU3RhckxheWVyRHJhd2VyIiwic3RhckxheWVyIiwic2V0dGluZ3NVcGRhdGVkIiwib3BlcmF0aW9uIiwiQ2hhbmdlTnVtYmVyT2ZTdGFycyIsInVwZGF0ZU51bWJlck9mU3RhcnMiLCJhcHBfQXBwIiwic2V0dGluZ01hbmFnZXIiLCJ1cGRhdGUiLCJzdGFycyIsInNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbF9TZXR0aW5nc092ZXJsYXlWaWV3TW9kZWwiLCJzdGF0ZSIsImhpZGRlbiIsIkVFdmVudCIsImxpc3RlbmVycyIsImxpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lcklmTm90RXhpc3RzIiwiZGlzcGF0Y2hFdmVudCIsImV2ZW50IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXJJZkV4aXN0cyIsIkVFdmVudFQiLCJhcmciLCJFRXZlbnRUVCIsImFyZzEiLCJhcmcyIiwiZUNhbnZhc19FQ2FudmFzIiwiZHJhd0Z1bmN0aW9ucyIsImRwclNjYWxpbmdFbmFibGVkIiwiZW5hYmxlRHByU2NhbGluZyIsInJlc2l6ZSIsImRpc2FibGVEcHJTY2FsaW5nIiwid2luZG93IiwiZGV2aWNlUGl4ZWxSYXRpbyIsImNsaWVudFdpZHRoIiwiY2xpZW50SGVpZ2h0IiwiZHJhdyIsInNjYWxlIiwiZHJhd0Z1bmN0aW9uIiwicmVtb3ZlRHJhd0Z1bmN0aW9uIiwiYm9keSIsInBhcmVudEVsZW1lbnQiLCJzdHlsZSIsIm92ZXJmbG93IiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZENoaWxkIiwiZW5DYW52YXMiLCJnZXRDb250ZXh0IiwiY3Vyc29yTG9jayIsIlNldEN1cnNvciIsInBvaW50ZXIiLCJjdXJzb3IiLCJjb250cm9sX0NvbnRyb2wiLCJpc01vdXNlT3ZlciIsImlzRW5hYmxlZCIsImNsaWNrZWQiLCJCdXR0b25Qcm9wZXJ0aWVzIiwiZm9udFNpemUiLCJmb250UHJlZml4IiwiZm9udEZhbWlseSIsIm1vdXNlT3ZlckZpbGxTdHlsZSIsImJhY2tncm91bmRGaWxsU3R5bGUiLCJ1bmRlZmluZWQiLCJnZXRGb250IiwiZm9udCIsImJ1dHRvbl9CdXR0b24iLCJwcm9wZXJ0aWVzIiwiZmlsbFJlY3QiLCJ0ZXh0QWxpZ24iLCJ0ZXh0QmFzZWxpbmUiLCJmaWxsVGV4dCIsInRleHQiLCJzaXplIiwibWVhc3VyZVRleHQiLCJsaXN0Vmlld1Byb3BlcnRpZXNfTGlzdFZpZXdQcm9wZXJ0aWVzIiwiaXRlbVNwYWNpbmciLCJvcmllbnRhdGlvbiIsIlZlcnRpY2FsIiwibGlzdFZpZXdfTGlzdFZpZXciLCJhZGRJdGVtIiwibGF5b3V0VmlldyIsIm1heCIsInNsaWRlcl9TbGlkZXIiLCJyYWRpdXMiLCJtaW5WYWx1ZSIsIm1heFZhbHVlIiwiY3VycmVudFZhbHVlIiwidmFsdWVDaGFuZ2VkIiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2UiLCJyZWxWYWx1ZSIsImNsb3NlUGF0aCIsImlzRHJhZ2dpbmciLCJ1cGRhdGVDdXJyZW50VmFsdWUiLCJ2YWwiLCJyYW5nZVNsaWRlcl9SYW5nZVNsaWRlciIsImN1cnJlbnRWYWx1ZUxvdyIsImN1cnJlbnRWYWx1ZUhpZ2giLCJtaW5EaWZmIiwidmFsdWVzQ2hhbmdlZCIsInNsaWRlclkiLCJyZWxWYWx1ZUxvdyIsImxvd1giLCJyZWxWYWx1ZUhpZ2giLCJoaWdoWCIsImdldENsaWNrZWRWYWx1ZSIsImRpZmZUb0xvdyIsImFicyIsImRpZmZUb0hpZ2giLCJpc0RyYWdnaW5nTG93IiwiaXNEcmFnZ2luZ0hpZ2giLCJ1cGRhdGVDdXJyZW50VmFsdWVzIiwic3RhckxheWVyVmlld19TdGFyTGF5ZXJWaWV3IiwibnVtYmVyT2ZTdGFyc0NoYW5nZWQiLCJudW1iZXJPZlN0YXJzIiwiY2hhbmdlTnVtYmVyT2ZTdGFycyIsInJvdW5kIiwic3BlZWRDaGFuZ2VkIiwic3BlZWQiLCJjaGFuZ2VTcGVlZCIsInNpemVzQ2hhbmdlZCIsImxvd0JvcmRlciIsImhpZ2hCb3JkZXIiLCJjaGFuZ2VTaXplcyIsInNldHRpbmdzTGlzdCIsImJ0bkZvckxheWVyIiwic2VuZGVyIiwicmVtb3ZlU3RhckxheWVyIiwic2xpZGVyIiwic2xpZGVyU3BlZWQiLCJzbGlkZXJTaXplIiwic2l6ZXMiLCJtYXAiLCJtaW4iLCJzZXR0aW5nc092ZXJsYXlWaWV3X1NldHRpbmdzT3ZlcmxheVZpZXciLCJ2aWV3TW9kZWwiLCJsYXN0TW92ZWQiLCJpbmFjdGl2aXR5VGltZW91dCIsImxheWVyQnV0dG9ucyIsIkFkZFN0YXJMYXllciIsInNldHRpbmdzIiwic3RhckxheWVycyIsInRhZyIsImFkZExheWVyQnRuIiwidG9nZ2xlU2hvd0hpZGVTdGFyTGF5ZXJWaWV3IiwiUmVtb3ZlU3RhckxheWVyIiwic2V0dGluZ3NMYXllciIsImRldGFpbGVkU3RhckxheWVyVmlldyIsInNob3dIaWRlT3ZlcmxheUNsaWNrZWQiLCJ2aXNpYmxlIiwic2V0U3RhdGUiLCJiZWZvcmVWaXNpYmxlIiwibW91c2VJbmFjdGl2aXR5SGFuZGxlciIsInNldFRpbWVvdXQiLCJzaG93T3ZlckxheWVyQnV0dG9uIiwiYnRuRm9yTmV3TGF5ZXIiLCJhZGRTdGFyTGF5ZXIiLCJzcGFjZSIsInN0YXJMYXllckFuaW1hdG9yX1N0YXJMYXllckFuaW1hdG9yIiwidGltZURpZmYiLCJEaW5qZWN0IiwiaW5zdGFuY2VzIiwiYWRkSW5zdGFuY2UiLCJpbnN0YW5jZSIsImdldEluc3RhbmNlIiwicGxheWVyVmlld19QbGF5ZXJWaWV3IiwicGxheUljb25UZXh0IiwicGF1c2VJY29uVGV4dCIsInN0b3BJY29uVGV4dCIsIm5leHRJY29uVGV4dCIsInByZXZpb3VzSWNvblRleHQiLCJhdWRpb01hbmFnZXIiLCJsaXN0VmlldyIsIkhvcml6b250YWwiLCJwbGF5UGF1c2VCdG4iLCJwbGF5IiwicGF1c2UiLCJzdG9wQnRuIiwic3RvcCIsInByZXZpb3VzQnRuIiwicHJldmlvdXMiLCJuZXh0QnRuIiwiaW1hZ2VQcm9wZXJ0aWVzX0ltYWdlUHJvcGVydGllcyIsImltYWdlU2NhbGluZ01vZGUiLCJGaXRBbmRTcGFjZSIsImltYWdlX0VJbWFnZSIsImltYWdlIiwiZHJhd0ltYWdlIiwiZml0U2NhbGUiLCJpc0ltYWdlV2lkZXIiLCJuYXR1cmFsV2lkdGgiLCJuYXR1cmFsSGVpZ2h0IiwiRml0QW5kT3ZlcmZpbGwiLCJjcmVhdGVGcm9tVXJsIiwiaW1hZ2VVcmwiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsIkltYWdlIiwic3JjIiwib25sb2FkIiwiYmFja2dyb3VuZEltYWdlVmlld19CYWNrZ3JvdW5kSW1hZ2VWaWV3IiwiYmFja2dyb3VuZCIsImdldEltYWdlIiwiZnJvbnRWaWV3X0Zyb250VmlldyIsImZyZXF1ZW5jeUluZGV4IiwibG93ZXJCb3JkZXIiLCJ1cHBlckJvcmRlciIsImFzc2V0TWFuYWdlciIsImFuYWx5c2VyIiwiZ2V0QW5hbHlzZXIiLCJsb2dvIiwibG9nb05vdmEiLCJsb2dvTm92YUVJbWFnZSIsImRhdGEiLCJnZXRTcGVjdHJ1bSIsInJlbERhdGFWYWx1ZSIsImNhbGN1bGF0ZVJlbERhdGFWYWx1ZSIsImxvZ29Gcm9udCIsImRhdGFWYWx1ZSIsIkxhYmVsUHJvcGVydGllcyIsImxhYmVsX0xhYmVsIiwibG9hZGluZ1ZpZXdfTG9hZGluZ1ZpZXciLCJsb2FkaW5nTGFiZWwiLCJpbnNwaWVydHlQbGF5ZXJWaWV3X0luc3BpZXJ0eVBsYXllclZpZXciLCJzdGFyQW5pbWF0b3JzIiwic3RhcnQiLCJsb2FkaW5nVmlldyIsInRlc3RpdCIsImZyb250IiwiYXBwU2V0dGluZ3NVcGRhdGVkIiwibGF5ZXIiLCJhbmltYXRvciIsImFuaW1hdGlvbiIsImFkZFVwZGF0ZUZ1bmN0aW9uIiwic3RhckxheWVyRHJhd3MiLCJyZW1vdmVVcGRhdGVGdW5jdGlvbiIsIlN0YXJMYXllciIsInJhbmRvbSIsIkVBbmltYXRpb24iLCJ1cGRhdGVGdW5jdGlvbnMiLCJpc1J1bm5pbmciLCJzZXRGcHMiLCJmcHMiLCJmcHNJbnRlcnZhbCIsImFuaW1hdGlvbkxvb3AiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJlbGFwc2VkIiwibGFzdEZyYW1lVGltZSIsInVwZGF0ZUZ1bmN0aW9uIiwia2V5Q29kZSIsInBsYXlQYXVzZSIsIkNhbnZhc0hlbHBlciIsImxvYWRGb250YXdlc29tZUZyZWUiLCJsb2FkRm9udCIsImxvYWRGb250YXdlc29tZUJyYW5kcyIsImNvdW50UGl4ZWxzIiwiaW1hZ2VEYXRhIiwicGl4ZWxDb3VudCIsImciLCJiIiwiYSIsImdldEljb25QaXhlbHMiLCJpY29uIiwiZ2V0SW1hZ2VEYXRhIiwiaWNvbjEiLCJpY29uMiIsInJldHJpZXMiLCJ0ZW1wQ2FudmFzIiwidGVtcEN0eCIsImNoZWNrTG9hZGVkIiwiaWNvbjFQaXhlbENvdW50IiwiaWNvbjJQaXhlbENvdW50IiwiQXVkaW9HcmFwaE5vZGUiLCJhdWRpb0N0eCIsImF1ZGlvR3JhcGhOb2RlQW5hbHlzZXJfQXVkaW9HcmFwaE5vZGVBbmFseXNlciIsImdldEF1ZGlvTm9kZSIsImFuYWx5c2VyTm9kZSIsImNyZWF0ZUFuYWx5c2VyIiwiZmZ0U2l6ZSIsInNtb290aGluZ1RpbWVDb25zdGFudCIsImJ1ZmZlckxlbmd0aCIsImZyZXF1ZW5jeUJpbkNvdW50IiwiZGF0YUFycmF5IiwiVWludDhBcnJheSIsImdldEJ5dGVGcmVxdWVuY3lEYXRhIiwiZ2V0Qnl0ZVRpbWVEb21haW5EYXRhIiwiYXVkaW9HcmFwaE5vZGVEZXN0aW5hdGlvbl9BdWRpb0dyYXBoTm9kZURlc3RpbmF0aW9uIiwiZGVzdGluYXRpb24iLCJhdWRpb0dyYXBoTm9kZUVsZW1lbnRTb3VyY2VfQXVkaW9HcmFwaE5vZGVFbGVtZW50U291cmNlIiwidXJsIiwiYXVkaW9FbmRlZCIsImF1ZGlvRW5kZWRFdmVudCIsInNvdXJjZSIsImF1ZGlvIiwiY3VycmVudFRpbWUiLCJzZXRVcmwiLCJwYXVzZWQiLCJsb2FkIiwiY29udHJvbHMiLCJjcmVhdGVNZWRpYUVsZW1lbnRTb3VyY2UiLCJhdWRpb0dyYXBoX0F1ZGlvR3JhcGgiLCJhdWRpb05vZGVzIiwiYWRkTWVkaWFFbGVtZW50U291cmNlIiwic291cmNlTm9kZSIsImFkZEFuYWx5emVyIiwiYW5hbHl6ZXJOb2RlIiwiZ2V0QXVkaW9HcmFwaE5vZGUiLCJhdWRpb0NvbnRleHRTdGF0ZUNoYW5nZWQiLCJkb2N1bWVudENsaWNrIiwicmVzdW1lIiwiYXVkaW9Db250ZXh0U3RhdGVDaGFuZ2VkRXZhbHVhdG9yIiwicmVsb2FkIiwidGhlbiIsImFsbCIsImF1ZGlvTm9kZSIsImRpc2Nvbm5lY3QiLCJjb25uZWN0IiwiZGVzdGluYXRpb25Ob2RlIiwiQXVkaW9Db250ZXh0IiwiYXVkaW9NYW5hZ2VyX0F1ZGlvTWFuYWdlciIsInNvbmdzIiwiVHJhaWxlcl9mYWludENvbG9yX2RlZmF1bHQiLCJUcmFpbGVyX0RlZXBGaWVsZF9kZWZhdWx0IiwiVHJhaWxlcl9EcmlmdGluZ0ludG9UaGVBdG1vc3BoZXJlX2RlZmF1bHQiLCJhdWRpb0dyYXBoIiwibmV4dFNvbmdJbmRleCIsInByZXZpb3VzU29uZ0luZGV4IiwiQXNzZXRNYW5hZ2VyIiwiaW1hZ2VBc3NldHMiLCJhZGRJbWFnZSIsImltYWdlQXNzZXQiLCJydW4iLCJiYWNrZ3JvdW5kQ29sb3IiLCJjcmVhdGVGdWxsU2NyZWVuIiwic3RhZ2UiLCJiYWNrZ3JvdW5kX2RlZmF1bHQiLCJsb2dvX2Zyb250X2RlZmF1bHQiLCJsb2dvX25vdmFfZGVmYXVsdCIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImZsb29yIiwiQ2hhbmdlU3BlZWQiLCJtaW5GaXgiLCJuYXZpZ2F0b3IiLCJzZXJ2aWNlV29ya2VyIiwicmVnaXN0ZXIiLCJyZWdpc3RyYXRpb24iLCJjYXRjaCIsInJlZ2lzdHJhdGlvbkVycm9yIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFFBQUEsSUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsRUFBQSxDQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsWUFBQSxDQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLE9BQUEsS0FRakRyQixFQUFBc0IsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdBREEsRUFBQUEsSUFBQUYsRUFBQXJCLEVBQUFxQixJQUNBLEVBQUFFLEVBQUEsT0FBQUYsRUFDQSxLQUFBRSxHQUFBLGlCQUFBRixRQUFBRyxXQUFBLE9BQUFILEVBQ0EsSUFBQUksRUFBQVgsT0FBQVksT0FBQSxNQUdBLEdBRkExQixFQUFBa0IsRUFBQU8sR0FDQVgsT0FBQUMsZUFBQVUsRUFBQSxXQUF5Q1QsWUFBQSxFQUFBSyxV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NUN2SSxLQUFBNlAsWUFBYyxFQUFDekgsRUFBc0J3SCxLQUN4Q3hILEVBQVV3SCxNQUFRQSxFQUNsQjVQLEtBQUsySSxPQUFPUyxjQUFjekYsRUFBaUJpYSxlQUd4QzVkLEtBQUFpUSxZQUFjLEVBQUM3SCxFQUFzQjJILEVBQW1CQyxLQUMzRCxJQUFJUyxFQUFRckksRUFBVVEsTUFBTThILElBQUlqUSxHQUFLQSxFQUFFL0IsR0FDbkM0UCxFQUFrQnhHLEtBQUs2SSxPQUFPRixHQUc5Qm9OLEVBRm1CL1YsS0FBS3NGLE9BQU9xRCxHQUVGbkMsRUFDN0J1UCxHQUFVLElBQ1ZBLEVBQVMsTUFFYixJQUFLLE1BQU12VyxLQUFRYyxFQUFVUSxNQUN6QnRCLEVBQUs1SSxHQUFNNEksRUFBSzVJLEVBQUk0UCxHQUFtQnVQLEdBQVU3TixFQUFhRCxHQUFjQSxFQUVoRi9QLEtBQUsySSxPQUFPUyxjQUFjekYsRUFBaUJpYSxzQkNuRW5EcGEsU0FBU0QsaUJBQWlCLG1CQUUxQixZQUNjLElBQUlrRixJQUNWeVUsUUFKNEMsR0FPaEQsa0JBQW1CWSxXQUNuQjNULE9BQU81RyxpQkFBaUIsT0FBUSxLQUM1QnVhLFVBQVVDLGNBQWNDLFNBQVMsc0JBQzVCakMsS0FBS2tDLElBQ0YvZCxRQUFRQyxJQUFJLGtCQUFtQjhkLEtBQ2hDQyxNQUFNQyxJQUNMamUsUUFBUUMsSUFBSSwyQkFBNEJnZSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDcpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiNDU0ODYxNjc1MGI0OTU5OWUyOWFkMzFmMjcwNTJmYzcubXAzXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiNDJlMWM5MTU3M2UwMzI3Y2QzZjE3ZjI1MWU4YWYyYTYubXAzXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiZjFjZWVhNWQ1NTU5NDdjODAyODFmMzY4YmZhZjhmYTgubXAzXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiNjg5ZjM0NDE2ZjJhMzBiNzc4ZTE4ZjUyM2EwNjhhZjQucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiNGEyZDFmZWY5NWNkOTFiYzY2Y2FhMzE1YjIyYmUyZGQucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiNDMwNzVmZmIzZDZlYWZlNWExNzM0MWNlNzlkOWViMWQucG5nXCI7IiwiaW50ZXJmYWNlIEFycmF5PFQ+IHtcclxuICAgIHJlbW92ZUl0ZW1JZkV4aXN0cyhpdGVtOiBUKTogdm9pZDtcclxuICAgIGNvbnRhaW5zKGl0ZW06IFQpOiBib29sZWFuO1xyXG4gICAgcmVtb3ZlSXRlbShpdGVtOiBUKTogdm9pZDtcclxuICAgIHJlbW92ZShzZWxlY3RvcjogKGl0ZW06IFQpID0+IGJvb2xlYW4pOiB2b2lkO1xyXG4gICAgYWRkSXRlbUlmTm90RXhpc3RzKGl0ZW06IFQpOiB2b2lkO1xyXG4gICAgdG9MaXN0KCk6IFRbXTtcclxuICAgIGdldE5leHQoY3VycmVudDogVCwgc2VsZWN0b3I6IChpdGVtOiBUKSA9PiBudW1iZXIpOiBUO1xyXG4gICAgZmlyc3Qoc2VsZWN0b3I6IChpdGVtOiBUKSA9PiBib29sZWFuKTogVDtcclxuICAgIGZpcnN0T3JEZWZhdWx0KHNlbGVjdG9yOiAoaXRlbTogVCkgPT4gYm9vbGVhbik6IFQ7XHJcbn1cclxuXHJcbkFycmF5LnByb3RvdHlwZS5maXJzdE9yRGVmYXVsdCA9IGZ1bmN0aW9uIChmdW5jKSB7XHJcbiAgICBmb3IgKGNvbnN0IGFycmF5SXRlbSBvZiB0aGlzKSB7XHJcbiAgICAgICAgaWYgKGZ1bmMoYXJyYXlJdGVtKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYXJyYXlJdGVtO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcblxyXG5BcnJheS5wcm90b3R5cGUuZmlyc3QgPSBmdW5jdGlvbiAoZnVuYykge1xyXG4gICAgZm9yIChjb25zdCBhcnJheUl0ZW0gb2YgdGhpcykge1xyXG4gICAgICAgIGlmIChmdW5jKGFycmF5SXRlbSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFycmF5SXRlbTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZyhcIml0ZW0gbm90IGZvdW5kXCIpO1xyXG4gICAgY29uc29sZS5sb2codGhpcyk7XHJcbiAgICB0aHJvdyBcIml0ZW0gbm90IGZvdW5kXCI7XHJcbn1cclxuXHJcbkFycmF5LnByb3RvdHlwZS5nZXROZXh0ID0gZnVuY3Rpb24gPFQ+KGN1cnJlbnQ6IFQsIHNlbGVjdG9yOiAoaXRlbTogVCkgPT4gbnVtYmVyKTogVCB7XHJcbiAgICB2YXIgbmV4dFBvc2l0aW9uID0gc2VsZWN0b3IoY3VycmVudCkgKyAxO1xyXG4gICAgdmFyIG5leHQgPSAodGhpcyBhcyBUW10pLmZpcnN0T3JEZWZhdWx0KCh4KSA9PiBzZWxlY3Rvcih4KSA9PSBuZXh0UG9zaXRpb24pO1xyXG4gICAgaWYgKCFuZXh0KSB7XHJcbiAgICAgICAgbmV4dCA9ICh0aGlzIGFzIFRbXSkuZmlyc3QoeCA9PiBzZWxlY3Rvcih4KSA9PSAxKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbmV4dDtcclxufVxyXG5cclxuQXJyYXkucHJvdG90eXBlLnJlbW92ZUl0ZW0gPSBmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleE9mKGl0ZW0pO1xyXG4gICAgaWYgKGluZGV4ICE9IC0xKSB7XHJcbiAgICAgICAgdGhpcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB0aHJvdyBcIml0ZW0gbm90IGZvdW5kXCI7XHJcbiAgICB9XHJcbn1cclxuXHJcbkFycmF5LnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uIDxUPihpdGVtOiBUKSB7XHJcbiAgICByZXR1cm4gdGhpcy5pbmRleE9mKGl0ZW0pICE9PSAtMTtcclxufVxyXG5cclxuQXJyYXkucHJvdG90eXBlLnJlbW92ZUl0ZW1JZkV4aXN0cyA9IGZ1bmN0aW9uIDxUPihpdGVtOiBUKSB7XHJcbiAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4T2YoaXRlbSk7XHJcbiAgICBpZiAoaW5kZXggIT0gLTEpIHtcclxuICAgICAgICB0aGlzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbkFycmF5LnByb3RvdHlwZS5hZGRJdGVtSWZOb3RFeGlzdHMgPSBmdW5jdGlvbiA8VD4oaXRlbTogVCkge1xyXG4gICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleE9mKGl0ZW0pO1xyXG4gICAgaWYgKGluZGV4ID09IC0xKSB7XHJcbiAgICAgICAgKHRoaXMgYXMgVFtdKS5wdXNoKGl0ZW0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5BcnJheS5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gPFQ+KHNlbGVjdG9yOiAoaXRlbTogVCkgPT4gYm9vbGVhbikge1xyXG4gICAgKHRoaXMgYXMgVFtdKS5yZW1vdmVJdGVtKCh0aGlzIGFzIFRbXSkuZmlyc3Qoc2VsZWN0b3IpKTtcclxufVxyXG5cclxuQXJyYXkucHJvdG90eXBlLnRvTGlzdCA9IGZ1bmN0aW9uIDxUPigpOiBUW10ge1xyXG4gICAgcmV0dXJuICh0aGlzIGFzIFRbXSkuZmlsdGVyKHggPT4gdHJ1ZSk7XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIFJlY3RhbmdsZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgeDogbnVtYmVyLCBwdWJsaWMgeTogbnVtYmVyLCBwdWJsaWMgd2lkdGg6IG51bWJlciwgcHVibGljIGhlaWdodDogbnVtYmVyKSB7IH1cclxuXHJcbiAgICBwdWJsaWMgY29sbGlkZXNXaXRoID0gKHJlY3RhbmdsZTogUmVjdGFuZ2xlKSA9PiB7XHJcbiAgICAgICAgdmFyIGhpdHggPSBmYWxzZTtcclxuICAgICAgICB2YXIgaGl0eSA9IGZhbHNlO1xyXG4gICAgICAgIGlmICh0aGlzLnggPD0gcmVjdGFuZ2xlLngpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMueCA8PSByZWN0YW5nbGUueCAmJiB0aGlzLnggKyB0aGlzLndpZHRoID4gcmVjdGFuZ2xlLngpIHtcclxuICAgICAgICAgICAgICAgIGhpdHggPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHJlY3RhbmdsZS54IDw9IHRoaXMueCAmJiByZWN0YW5nbGUueCArIHJlY3RhbmdsZS53aWR0aCA+IHRoaXMueCkge1xyXG4gICAgICAgICAgICAgICAgaGl0eCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChoaXR4KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnkgPD0gcmVjdGFuZ2xlLnkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnkgPD0gcmVjdGFuZ2xlLnkgJiYgdGhpcy55ICsgdGhpcy53aWR0aCA+IHJlY3RhbmdsZS55KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGl0eSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVjdGFuZ2xlLnkgPD0gdGhpcy55ICYmIHJlY3RhbmdsZS55ICsgcmVjdGFuZ2xlLndpZHRoID4gdGhpcy55KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGl0eSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBoaXR4ICYmIGhpdHk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzSGl0QnkgPSAoeDogbnVtYmVyLCB5OiBudW1iZXIpID0+IHtcclxuICAgICAgICByZXR1cm4geCA+IHRoaXMueCAmJiB4IDwgdGhpcy54ICsgdGhpcy53aWR0aFxyXG4gICAgICAgICAgICAmJiB5ID4gdGhpcy55ICYmIHkgPCB0aGlzLnkgKyB0aGlzLmhlaWdodDtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEVDYW52YXMgfSBmcm9tIFwiLi9lQ2FudmFzXCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgTGF5b3V0VmlldyB9IGZyb20gXCIuL2xheW91dENvbnRyb2xzL2xheW91dFZpZXdcIjtcclxuaW1wb3J0IHsgRUFuaW1hdGlvbiB9IGZyb20gXCIuLi9lQW5pbWF0aW9uXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU3RhZ2Uge1xyXG4gICAgcHJpdmF0ZSB2aWV3OiBMYXlvdXRWaWV3O1xyXG4gICAgcHJpdmF0ZSBzaG91bGRVcGRhdGVMYXlvdXQ6IGJvb2xlYW47XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBjYW52YXM6IEVDYW52YXMpIHtcclxuICAgICAgICBjYW52YXMuYWRkRHJhd0Z1bmN0aW9uKHRoaXMucmVuZGVyKTtcclxuICAgICAgICBjYW52YXMucmVzaXplZC5hZGRFdmVudExpc3RlbmVyKHRoaXMuY2FudmFzUmVzaXplZCk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLm1vdXNlRG93bik7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5tb3VzZVVwKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMubW91c2VNb3ZlKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5jbGljayk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjYW52YXNSZXNpemVkID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2hvdWxkVXBkYXRlTGF5b3V0ID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG1vdXNlRG93biA9IChldjogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnZpZXcpIHtcclxuICAgICAgICAgICAgdGhpcy52aWV3Lm1vdXNlRG93bih7XHJcbiAgICAgICAgICAgICAgICBjbGllbnRYOiBldi5jbGllbnRYIC8gdGhpcy5jYW52YXMuZHByLFxyXG4gICAgICAgICAgICAgICAgY2xpZW50WTogZXYuY2xpZW50WSAvIHRoaXMuY2FudmFzLmRwcixcclxuICAgICAgICAgICAgICAgIGFsdEtleTogZXYuYWx0S2V5LFxyXG4gICAgICAgICAgICAgICAgY3RybEtleTogZXYuY3RybEtleSxcclxuICAgICAgICAgICAgICAgIHNoaWZ0S2V5OiBldi5zaGlmdEtleVxyXG4gICAgICAgICAgICB9IGFzIE1vdXNlRXZlbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG1vdXNlVXAgPSAoZXY6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICBpZiAodGhpcy52aWV3KSB7XHJcbiAgICAgICAgICAgIHRoaXMudmlldy5tb3VzZVVwKHtcclxuICAgICAgICAgICAgICAgIGNsaWVudFg6IGV2LmNsaWVudFggLyB0aGlzLmNhbnZhcy5kcHIsXHJcbiAgICAgICAgICAgICAgICBjbGllbnRZOiBldi5jbGllbnRZIC8gdGhpcy5jYW52YXMuZHByLFxyXG4gICAgICAgICAgICAgICAgYWx0S2V5OiBldi5hbHRLZXksXHJcbiAgICAgICAgICAgICAgICBjdHJsS2V5OiBldi5jdHJsS2V5LFxyXG4gICAgICAgICAgICAgICAgc2hpZnRLZXk6IGV2LnNoaWZ0S2V5XHJcbiAgICAgICAgICAgIH0gYXMgTW91c2VFdmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbW91c2VNb3ZlID0gKGV2OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMudmlldykge1xyXG4gICAgICAgICAgICB0aGlzLnZpZXcubW91c2VNb3ZlKHtcclxuICAgICAgICAgICAgICAgIGNsaWVudFg6IGV2LmNsaWVudFggLyB0aGlzLmNhbnZhcy5kcHIsXHJcbiAgICAgICAgICAgICAgICBjbGllbnRZOiBldi5jbGllbnRZIC8gdGhpcy5jYW52YXMuZHByLFxyXG4gICAgICAgICAgICAgICAgYWx0S2V5OiBldi5hbHRLZXksXHJcbiAgICAgICAgICAgICAgICBjdHJsS2V5OiBldi5jdHJsS2V5LFxyXG4gICAgICAgICAgICAgICAgc2hpZnRLZXk6IGV2LnNoaWZ0S2V5XHJcbiAgICAgICAgICAgIH0gYXMgTW91c2VFdmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2xpY2sgPSAoZXY6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICBpZiAodGhpcy52aWV3KSB7XHJcbiAgICAgICAgICAgIHRoaXMudmlldy5jbGljayh7XHJcbiAgICAgICAgICAgICAgICBjbGllbnRYOiBldi5jbGllbnRYIC8gdGhpcy5jYW52YXMuZHByLFxyXG4gICAgICAgICAgICAgICAgY2xpZW50WTogZXYuY2xpZW50WSAvIHRoaXMuY2FudmFzLmRwcixcclxuICAgICAgICAgICAgICAgIGFsdEtleTogZXYuYWx0S2V5LFxyXG4gICAgICAgICAgICAgICAgY3RybEtleTogZXYuY3RybEtleSxcclxuICAgICAgICAgICAgICAgIHNoaWZ0S2V5OiBldi5zaGlmdEtleVxyXG4gICAgICAgICAgICB9IGFzIE1vdXNlRXZlbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlbmRlciA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgd2lkdGg/OiBudW1iZXIsIGhlaWdodD86IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnZpZXcpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2hvdWxkVXBkYXRlTGF5b3V0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcudXBkYXRlTGF5b3V0KGN0eCwgbmV3IFJlY3RhbmdsZSgwLCAwLCB3aWR0aCwgaGVpZ2h0KSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3VsZFVwZGF0ZUxheW91dCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgIHRoaXMudmlldy5yZW5kZXIoY3R4KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFZpZXcgPSAodmlldzogTGF5b3V0VmlldykgPT4ge1xyXG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XHJcbiAgICAgICAgdGhpcy5zaG91bGRVcGRhdGVMYXlvdXQgPSB0cnVlO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGVudW0gSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24ge1xyXG4gICAgTGVmdCxcclxuICAgIENlbnRlcixcclxuICAgIFJpZ2h0LFxyXG59IiwiZXhwb3J0IGVudW0gVmVydGljYWxBbGlnbmVtZW50T3B0aW9uIHtcclxuICAgIFRvcCxcclxuICAgIENlbnRlcixcclxuICAgIEJvdHRvbSxcclxufSIsImV4cG9ydCBlbnVtIFNldHRpbmdPcGVyYXRpb24ge1xyXG4gICAgQWRkU3RhckxheWVyLFxyXG4gICAgUmVtb3ZlU3RhckxheWVyLFxyXG4gICAgQ2hhbmdlTnVtYmVyT2ZTdGFycyxcclxuICAgIENoYW5nZVNwZWVkLFxyXG4gICAgQ2hhbmdlU2l6ZXNcclxufSIsImV4cG9ydCBlbnVtIFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlIHtcclxuICAgIGhpZGRlbixcclxuICAgIGJlZm9yZVZpc2libGUsXHJcbiAgICB2aXNpYmxlXHJcbn0iLCJleHBvcnQgZW51bSBPcmllbnRhdGlvbiB7XHJcbiAgICBIb3Jpem9udGFsLFxyXG4gICAgVmVydGljYWxcclxufSIsImV4cG9ydCBlbnVtIEltYWdlU2NhbGluZ01vZGV7XHJcbiAgICBGaXRBbmRPdmVyZmlsbCxcclxuICAgIEZpdEFuZFNwYWNlXHJcbn0iLCJleHBvcnQgY2xhc3MgU3BhY2luZyB7XHJcbiAgICBwdWJsaWMgdG9wOiBudW1iZXIgPSAwO1xyXG4gICAgcHVibGljIHJpZ2h0OiBudW1iZXIgPSAwO1xyXG4gICAgcHVibGljIGJvdHRvbTogbnVtYmVyID0gMDtcclxuICAgIHB1YmxpYyBsZWZ0OiBudW1iZXIgPSAwO1xyXG59IiwiaW1wb3J0IHsgSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24gfSBmcm9tIFwiLi9ob3Jpem9udGFsQWxpZ25lbWVudE9wdGlvblwiO1xyXG5pbXBvcnQgeyBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24gfSBmcm9tIFwiLi92ZXJ0aWNhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBTcGFjaW5nIH0gZnJvbSBcIi4vc3BhY2luZ1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEFsaWduZW1lbnQge1xyXG4gICAgcHVibGljIGhvcml6b250YWxBbGlnbiA9IEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uLkNlbnRlcjtcclxuICAgIHB1YmxpYyB2ZXJ0aWNhbEFsaWduID0gVmVydGljYWxBbGlnbmVtZW50T3B0aW9uLkNlbnRlcjtcclxuXHJcbiAgICBwdWJsaWMgbWFyZ2luID0gbmV3IFNwYWNpbmcoKTtcclxuICAgIC8vIHB1YmxpYyBwYWRkaW5nID0gbmV3IFNwYWNpbmcoKTtcclxuXHJcbiAgICBwdWJsaWMgY2FsY3VsYXRlRGltZW5zaW9uc1ggPSAoYm91bmRzOiBSZWN0YW5nbGUsIHdpZHRoOiBudW1iZXIpID0+IHtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuaG9yaXpvbnRhbEFsaWduKSB7XHJcbiAgICAgICAgICAgIGNhc2UgSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24uTGVmdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBib3VuZHMueCArIHRoaXMubWFyZ2luLmxlZnQ7XHJcbiAgICAgICAgICAgIGNhc2UgSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24uQ2VudGVyOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJvdW5kcy54ICsgYm91bmRzLndpZHRoIC8gMiAtIHdpZHRoIC8gMjtcclxuICAgICAgICAgICAgY2FzZSBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbi5SaWdodDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBib3VuZHMueCArIGJvdW5kcy53aWR0aCAtIHdpZHRoIC0gdGhpcy5tYXJnaW4ucmlnaHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjYWxjdWxhdGVEaW1lbnNpb25zWSA9IChib3VuZHM6IFJlY3RhbmdsZSwgaGVpZ2h0OiBudW1iZXIpID0+IHtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMudmVydGljYWxBbGlnbikge1xyXG4gICAgICAgICAgICBjYXNlIFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi5Ub3A6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYm91bmRzLnkgKyB0aGlzLm1hcmdpbi50b3A7XHJcbiAgICAgICAgICAgIGNhc2UgVmVydGljYWxBbGlnbmVtZW50T3B0aW9uLkNlbnRlcjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBib3VuZHMueSArIGJvdW5kcy5oZWlnaHQgLyAyIC0gaGVpZ2h0IC8gMjtcclxuICAgICAgICAgICAgY2FzZSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24uQm90dG9tOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJvdW5kcy55ICsgYm91bmRzLmhlaWdodCAtIGhlaWdodCAtIHRoaXMubWFyZ2luLmJvdHRvbTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgTWV0aG9kTWFuaXB1bGF0aW9uPFQgZXh0ZW5kcyAoLi4uYXJnczogYW55W10pID0+IGFueT4ge1xyXG4gICAgcHJpdmF0ZSBtZXRob2RzOiBUW10gPSBbXTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGV4ZWN1dGVyOiBhbnksIGluaXRpYWxNZXRob2Q6IFQsIHByaXZhdGUgc2V0TWV0aG9kOiAobWV0aG9kOiBUKSA9PiB2b2lkKSB7XHJcbiAgICAgICAgaW5pdGlhbE1ldGhvZC5iaW5kKHRoaXMuZXhlY3V0ZXIpO1xyXG4gICAgICAgIHRoaXMubWV0aG9kcy5wdXNoKGluaXRpYWxNZXRob2QpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGQgPSAoYnVpbGRNZXRob2Q6IChjdXJyZW50TWV0aG9kOiBUKSA9PiBUKSA9PiB7XHJcbiAgICAgICAgdmFyIG9sZCA9IHRoaXMubWV0aG9kc1t0aGlzLm1ldGhvZHMubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgdmFyIG5ld01ldGhvZCA9IGJ1aWxkTWV0aG9kKG9sZCk7XHJcbiAgICAgICAgdGhpcy5tZXRob2RzLnB1c2gobmV3TWV0aG9kKTtcclxuICAgICAgICB0aGlzLnNldE1ldGhvZChuZXdNZXRob2QpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmUgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5tZXRob2RzLnBvcCgpO1xyXG4gICAgICAgIHRoaXMuc2V0TWV0aG9kKHRoaXMubWV0aG9kc1t0aGlzLm1ldGhvZHMubGVuZ3RoIC0gMV0pO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBBbGlnbmVtZW50IH0gZnJvbSBcIi4vYWxpZ25lbWVudC9hbGlnbmVtZW50XCI7XHJcbmltcG9ydCB7IE1ldGhvZE1hbmlwdWxhdGlvbiB9IGZyb20gXCIuLi9tZXRob2RNYW5pcHVsYXRpb25cIjtcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBSZW5kZXJPYmplY3Qge1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgaWRDb3VudGVyID0gMDtcclxuICAgIHByaXZhdGUgZ2VuZXJhdGVOZXdJZCA9ICgpID0+IHtcclxuICAgICAgICBSZW5kZXJPYmplY3QuaWRDb3VudGVyKys7XHJcbiAgICAgICAgcmV0dXJuIFJlbmRlck9iamVjdC5pZENvdW50ZXI7XHJcbiAgICB9XHJcbiAgICBzdGFydFRpbWU6IG51bWJlcjtcclxuICAgIGR1cmF0aW9uOiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IoaW5pdGlhbGl6ZUFzQWN0aXZlID0gdHJ1ZSkge1xyXG4gICAgICAgIHRoaXMuaWQgPSB0aGlzLmdlbmVyYXRlTmV3SWQoKTtcclxuICAgICAgICB0aGlzLm5hbWUgPSBcIm9iamVjdCBcIiArIHRoaXMuaWQ7XHJcblxyXG4gICAgICAgIHRoaXMuaXNBY3RpdmUgPSBpbml0aWFsaXplQXNBY3RpdmU7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzQWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGVhY3RpdmF0ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaWQ6IG51bWJlcjtcclxuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgdGFnOiBhbnk7XHJcblxyXG4gICAgcHVibGljIGJvdW5kczogUmVjdGFuZ2xlID0gbmV3IFJlY3RhbmdsZSgwLCAwLCAwLCAwKTtcclxuICAgIHB1YmxpYyBkaW1lbnNpb25zOiBSZWN0YW5nbGUgPSBuZXcgUmVjdGFuZ2xlKDAsIDAsIDAsIDApO1xyXG5cclxuICAgIHB1YmxpYyBhbGlnbmVtZW50ID0gbmV3IEFsaWduZW1lbnQoKTtcclxuXHJcbiAgICBwcml2YXRlIHNob3VsZFVwZGF0ZUxheW91dCA9IGZhbHNlO1xyXG5cclxuICAgIHByaXZhdGUgX3JlbmRlck1ldGhvZE1hbmlwdWxhdGlvbjogTWV0aG9kTWFuaXB1bGF0aW9uPChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4gdm9pZD47XHJcbiAgICBwdWJsaWMgZ2V0IHJlbmRlck1ldGhvZE1hbmlwdWxhdGlvbigpOiBNZXRob2RNYW5pcHVsYXRpb248KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PiB2b2lkPiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLl9yZW5kZXJNZXRob2RNYW5pcHVsYXRpb24pIHtcclxuICAgICAgICAgICAgdGhpcy5fcmVuZGVyTWV0aG9kTWFuaXB1bGF0aW9uID0gbmV3IE1ldGhvZE1hbmlwdWxhdGlvbih0aGlzLCB0aGlzLnJlbmRlciwgKHJlbmRlcikgPT4gdGhpcy5yZW5kZXIgPSByZW5kZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5fcmVuZGVyTWV0aG9kTWFuaXB1bGF0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW5kZXIgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5zaG91bGRVcGRhdGVMYXlvdXQpIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVMYXlvdXQoY3R4LCB0aGlzLmJvdW5kcyk7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvdWxkVXBkYXRlTGF5b3V0ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSkge1xyXG4gICAgICAgIHRoaXMuYm91bmRzID0gYm91bmRzO1xyXG4gICAgICAgIHRoaXMuc2hvdWxkVXBkYXRlTGF5b3V0ID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRyaWdnZXJVcGRhdGVMYXlvdXQgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zaG91bGRVcGRhdGVMYXlvdXQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgaXNBY3RpdmUgPSBmYWxzZTtcclxuICAgIHB1YmxpYyBhY3RpdmF0ZSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgdGhpcy5kdXJhdGlvbiA9IDM7XHJcblxyXG4gICAgICAgIHRoaXMucmVuZGVyTWV0aG9kTWFuaXB1bGF0aW9uLmFkZCgoY3VycmVudE1ldGhvZCkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY3VycmVudCA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZGlmZiA9IGN1cnJlbnQgLSB0aGlzLnN0YXJ0VGltZTtcclxuICAgICAgICAgICAgICAgIGlmIChkaWZmIDw9IDUwMDApIHtcclxuICAgICAgICAgICAgICAgICAgICBjdHguc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5nbG9iYWxBbHBoYSA9IGRpZmYgLyAxMDAwIC8gdGhpcy5kdXJhdGlvblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIGN1cnJlbnRNZXRob2QgPSBjdXJyZW50TWV0aG9kLmJpbmQodGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE1ldGhvZChjdHgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGN1cnJlbnRNZXRob2QgPSBjdXJyZW50TWV0aG9kLmJpbmQodGhpcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE1ldGhvZChjdHgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyTWV0aG9kTWFuaXB1bGF0aW9uLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRlYWN0aXZhdGUgPSAoKSA9PiB7XHJcbiAgICAgICAgLy8gdGhpcy5yZW5kZXJNZXRob2RDYWNoZSA9IHRoaXMucmVuZGVyO1xyXG4gICAgICAgIC8vIHRoaXMucmVuZGVyID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PiB7IH07XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRpc2FibGVNb3VzZUV2ZW50cyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLm1vdXNlRG93biA9ICgpID0+IHsgfTtcclxuICAgICAgICB0aGlzLm1vdXNlVXAgPSAoKSA9PiB7IH07XHJcbiAgICAgICAgdGhpcy5tb3VzZU1vdmUgPSAoKSA9PiB7IH07XHJcbiAgICAgICAgdGhpcy5jbGljayA9ICgpID0+IHsgfTtcclxuICAgIH1cclxuXHJcbiAgICBhYnN0cmFjdCBtb3VzZURvd24oZXY6IE1vdXNlRXZlbnQpOiB2b2lkO1xyXG4gICAgYWJzdHJhY3QgbW91c2VVcChldjogTW91c2VFdmVudCk6IHZvaWQ7XHJcbiAgICBhYnN0cmFjdCBtb3VzZU1vdmUoZXY6IE1vdXNlRXZlbnQpOiB2b2lkO1xyXG4gICAgYWJzdHJhY3QgY2xpY2soZXY6IE1vdXNlRXZlbnQpOiB2b2lkO1xyXG59IiwiaW1wb3J0IHsgUmVuZGVyT2JqZWN0IH0gZnJvbSBcIi4uL3JlbmRlck9iamVjdFwiO1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIExheW91dFZpZXcgZXh0ZW5kcyBSZW5kZXJPYmplY3Qge1xyXG4gICAgcHJvdGVjdGVkIGNoaWxkcmVuOiBSZW5kZXJPYmplY3RbXSA9IFtdO1xyXG5cclxuICAgIHByaXZhdGUgc3VwZXJSZW5kZXIgPSB0aGlzLnJlbmRlcjtcclxuICAgIHB1YmxpYyByZW5kZXIgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpID0+IHtcclxuICAgICAgICB0aGlzLnN1cGVyUmVuZGVyKGN0eCk7XHJcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGNoaWxkLnJlbmRlcihjdHgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcHVibGljIG1vdXNlRG93bihldjogTW91c2VFdmVudCkge1xyXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICBjaGlsZC5tb3VzZURvd24oZXYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbW91c2VVcChldjogTW91c2VFdmVudCkge1xyXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICBjaGlsZC5tb3VzZVVwKGV2KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG1vdXNlTW92ZShldjogTW91c2VFdmVudCkge1xyXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICBjaGlsZC5tb3VzZU1vdmUoZXYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2xpY2soZXY6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4udG9MaXN0KCkpIHtcclxuICAgICAgICAgICAgY2hpbGQuY2xpY2soZXYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IFJlbmRlck9iamVjdCB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL3JlbmRlck9iamVjdFwiO1xyXG5pbXBvcnQgeyBTdGFyIH0gZnJvbSBcIi4uL21vZGVscy9zdGFyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU3RhclJlbmRlck9iamVjdCBleHRlbmRzIFJlbmRlck9iamVjdCB7XHJcbiAgICBtb3VzZURvd24oZXY6IE1vdXNlRXZlbnQpOiB2b2lkIHtcclxuICAgIH1cclxuICAgIG1vdXNlVXAoZXY6IE1vdXNlRXZlbnQpOiB2b2lkIHtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHN0YXI6IFN0YXIpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW5kZXIgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkID0+IHtcclxuXHJcbiAgICAgICAgdmFyIGVuZCA9IHRoaXMuc3Rhci5yICogMztcclxuICAgICAgICB2YXIgZ3JhZCA9IGN0eC5jcmVhdGVSYWRpYWxHcmFkaWVudCh0aGlzLnN0YXIueCwgdGhpcy5zdGFyLnksIHRoaXMuc3Rhci5yLCB0aGlzLnN0YXIueCwgdGhpcy5zdGFyLnksIGVuZCk7XHJcbiAgICAgICAgZ3JhZC5hZGRDb2xvclN0b3AoMCwgJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKScpO1xyXG4gICAgICAgIGdyYWQuYWRkQ29sb3JTdG9wKDEsICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDApJyk7XHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGdyYWQ7XHJcbiAgICAgICAgY3R4LmFyYyh0aGlzLnN0YXIueCwgdGhpcy5zdGFyLnksIGVuZCwgMCwgTWF0aC5QSSAqIDIpO1xyXG4gICAgICAgIGN0eC5maWxsKCk7XHJcblxyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBcIndoaXRlXCI7XHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5hcmModGhpcy5zdGFyLngsIHRoaXMuc3Rhci55LCB0aGlzLnN0YXIuciwgMCwgTWF0aC5QSSAqIDIpO1xyXG4gICAgICAgIGN0eC5maWxsKCk7XHJcbiAgICB9XHJcbiAgICBtb3VzZU1vdmUoZXY6IE1vdXNlRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcclxuICAgIH1cclxuICAgIGNsaWNrKGV2OiBNb3VzZUV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBMYXlvdXRWaWV3IH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGF5b3V0Vmlld1wiO1xyXG5pbXBvcnQgeyBTdGFyUmVuZGVyT2JqZWN0IH0gZnJvbSBcIi4vc3RhclJlbmRlck9iamVjdFwiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgU3RhckxheWVyIH0gZnJvbSBcIi4uL21vZGVscy9zdGFyTGF5ZXJcIjtcclxuaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4uL2FwcFwiO1xyXG5pbXBvcnQgeyBTZXR0aW5nT3BlcmF0aW9uIH0gZnJvbSBcIi4uL3NldHRpbmdzL3NldHRpbmdPcGVyYXRpb25cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTdGFyTGF5ZXJEcmF3ZXIgZXh0ZW5kcyBMYXlvdXRWaWV3IHtcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBzdGFyTGF5ZXI6IFN0YXJMYXllcikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgQXBwLnNldHRpbmdNYW5hZ2VyLnVwZGF0ZS5hZGRFdmVudExpc3RlbmVyKHRoaXMuc2V0dGluZ3NVcGRhdGVkKVxyXG4gICAgICAgIHRoaXMuZGlzYWJsZU1vdXNlRXZlbnRzKCk7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyVXBkYXRlTGF5b3V0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXR0aW5nc1VwZGF0ZWQgPSAob3BlcmF0aW9uOiBTZXR0aW5nT3BlcmF0aW9uKSA9PiB7XHJcbiAgICAgICAgc3dpdGNoIChvcGVyYXRpb24pIHtcclxuICAgICAgICAgICAgY2FzZSBTZXR0aW5nT3BlcmF0aW9uLkNoYW5nZU51bWJlck9mU3RhcnM6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZU51bWJlck9mU3RhcnMoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHVwZGF0ZU51bWJlck9mU3RhcnMgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyVXBkYXRlTGF5b3V0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUxheW91dChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107XHJcblxyXG4gICAgICAgIGZvciAoY29uc3Qgc3RhciBvZiB0aGlzLnN0YXJMYXllci5zdGFycykge1xyXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2gobmV3IFN0YXJSZW5kZXJPYmplY3Qoc3RhcikpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIG1vdXNlTW92ZShldjogTW91c2VFdmVudCkge1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjbGljayhldjogTW91c2VFdmVudCkge1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUgfSBmcm9tIFwiLi9zZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbCB7XHJcbiAgICBwdWJsaWMgc3RhdGU6IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlID0gU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUuaGlkZGVuO1xyXG59IiwiZXhwb3J0IGNsYXNzIEVFdmVudCB7XHJcbiAgICBwcml2YXRlIGxpc3RlbmVyczogKCgpID0+IHZvaWQpW10gPSBbXTtcclxuXHJcbiAgICBwdWJsaWMgYWRkRXZlbnRMaXN0ZW5lciA9IChsaXN0ZW5lcjogKCkgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIC8vIHZhbGlkYXRpb25cclxuICAgICAgICBpZiAoIWxpc3RlbmVyIHx8IHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpID49IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJsaXN0ZW5lciBhbHJlYWR5IGFkZGVkXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkRXZlbnRMaXN0ZW5lcklmTm90RXhpc3RzID0gKGxpc3RlbmVyOiAoKSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgLy8gdmFsaWRhdGlvblxyXG4gICAgICAgIGlmICghbGlzdGVuZXIgfHwgdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcikgPj0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGlzcGF0Y2hFdmVudCA9ICgpID0+IHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5saXN0ZW5lcnNbaV07XHJcbiAgICAgICAgICAgIGV2ZW50KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVFdmVudExpc3RlbmVyID0gKGxpc3RlbmVyOiAoKSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgLy8gdmFsaWRhdGlvblxyXG4gICAgICAgIGlmICghbGlzdGVuZXIgfHwgdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcikgPCAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IFwibGlzdGVuZXIgbm90IGZvdW5kXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5zcGxpY2UodGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lciksIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVFdmVudExpc3RlbmVySWZFeGlzdHMgPSAobGlzdGVuZXI6ICgpID0+IHZvaWQpID0+IHtcclxuICAgICAgICAvLyB2YWxpZGF0aW9uXHJcbiAgICAgICAgaWYgKCFsaXN0ZW5lciB8fCB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSA8IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuc3BsaWNlKHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpLCAxKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEVFdmVudFQ8VD4ge1xyXG4gICAgcHJpdmF0ZSBsaXN0ZW5lcnM6ICgoYXJnOiBUKSA9PiB2b2lkKVtdID0gW107XHJcblxyXG4gICAgcHVibGljIGFkZEV2ZW50TGlzdGVuZXIgPSAobGlzdGVuZXI6IChhcmc6IFQpID0+IHZvaWQpID0+IHtcclxuICAgICAgICAvLyB2YWxpZGF0aW9uXHJcbiAgICAgICAgaWYgKCFsaXN0ZW5lciB8fCB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IFwibGlzdGVuZXIgYWxyZWFkeSBhZGRlZFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRpc3BhdGNoRXZlbnQgPSAoYXJnOiBUKSA9PiB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBldmVudCA9IHRoaXMubGlzdGVuZXJzW2ldO1xyXG4gICAgICAgICAgICBldmVudChhcmcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlRXZlbnRMaXN0ZW5lciA9IChsaXN0ZW5lcjogKGFyZzogVCkgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIC8vIHZhbGlkYXRpb25cclxuICAgICAgICBpZiAoIWxpc3RlbmVyIHx8IHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpIDwgMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBcImxpc3RlbmVyIG5vdCBmb3VuZFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuc3BsaWNlKHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpLCAxKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEVFdmVudFRUPFQxLCBUMj4ge1xyXG4gICAgcHJpdmF0ZSBsaXN0ZW5lcnM6ICgoYXJnMTogVDEsIGFyZzI6IFQyKSA9PiB2b2lkKVtdID0gW107XHJcblxyXG4gICAgcHVibGljIGFkZEV2ZW50TGlzdGVuZXIgPSAobGlzdGVuZXI6IChhcmcxOiBUMSwgYXJnMjogVDIpID0+IHZvaWQpID0+IHtcclxuICAgICAgICAvLyB2YWxpZGF0aW9uXHJcbiAgICAgICAgaWYgKCFsaXN0ZW5lciB8fCB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IFwibGlzdGVuZXIgYWxyZWFkeSBhZGRlZFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRpc3BhdGNoRXZlbnQgPSAoYXJnMTogVDEsIGFyZzI6IFQyKSA9PiB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBldmVudCA9IHRoaXMubGlzdGVuZXJzW2ldO1xyXG4gICAgICAgICAgICBldmVudChhcmcxLCBhcmcyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZUV2ZW50TGlzdGVuZXIgPSAobGlzdGVuZXI6IChhcmcxOiBUMSwgYXJnMjogVDIpID0+IHZvaWQpID0+IHtcclxuICAgICAgICAvLyB2YWxpZGF0aW9uXHJcbiAgICAgICAgaWYgKCFsaXN0ZW5lciB8fCB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSA8IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJsaXN0ZW5lciBub3QgZm91bmRcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnNwbGljZSh0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSwgMSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBFQW5pbWF0aW9uIH0gZnJvbSBcIi4uL2VBbmltYXRpb25cIjtcclxuaW1wb3J0IHsgRUV2ZW50IH0gZnJvbSBcIi4uL2VFdmVudFwiO1xyXG5cclxuZXhwb3J0IHR5cGUgRHJhd0Z1bmN0aW9uID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB3aWR0aD86IG51bWJlciwgaGVpZ2h0PzogbnVtYmVyKSA9PiB2b2lkO1xyXG5cclxuZXhwb3J0IGNsYXNzIEVDYW52YXMge1xyXG4gICAgcHJpdmF0ZSBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuXHJcbiAgICBwcml2YXRlIGRyYXdGdW5jdGlvbnM6IERyYXdGdW5jdGlvbltdID0gW107XHJcbiAgICBwdWJsaWMgZHByID0gMTtcclxuXHJcbiAgICBwdWJsaWMgZ2V0IHdpZHRoKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzLmNsaWVudFdpZHRoIC8gdGhpcy5kcHI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBoZWlnaHQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXMuY2xpZW50SGVpZ2h0IC8gdGhpcy5kcHI7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBkcHJTY2FsaW5nRW5hYmxlZCA9IHRydWU7XHJcbiAgICBwdWJsaWMgZW5hYmxlRHByU2NhbGluZyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmRwclNjYWxpbmdFbmFibGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnJlc2l6ZSgpO1xyXG4gICAgfVxyXG4gICAgcHVibGljIGRpc2FibGVEcHJTY2FsaW5nID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuZHByU2NhbGluZ0VuYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnJlc2l6ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZXNpemVkID0gbmV3IEVFdmVudCgpXHJcblxyXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHsgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlRnVsbFNjcmVlbigpOiBFQ2FudmFzIHtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnBhcmVudEVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm1hcmdpbiA9IFwiMFwiO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xyXG5cclxuICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjYW52YXMpO1xyXG4gICAgICAgIGNhbnZhcy5zdHlsZS53aWR0aCA9IFwiMTAwJVwiXHJcbiAgICAgICAgY2FudmFzLnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiO1xyXG5cclxuICAgICAgICB2YXIgZW5DYW52YXMgPSBuZXcgRUNhbnZhcygpO1xyXG4gICAgICAgIGVuQ2FudmFzLmNhbnZhcyA9IGNhbnZhcztcclxuICAgICAgICBlbkNhbnZhcy5jdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBlbkNhbnZhcy5yZXNpemUpO1xyXG4gICAgICAgIGVuQ2FudmFzLnJlc2l6ZSgpO1xyXG4gICAgICAgIHJldHVybiBlbkNhbnZhcztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBjdXJzb3JMb2NrOiBzdHJpbmcgPSBudWxsO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgU2V0Q3Vyc29yID0gKG5hbWU6IHN0cmluZywgcG9pbnRlcjogYm9vbGVhbikgPT4ge1xyXG4gICAgICAgIGlmIChwb2ludGVyKSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gXCJwb2ludGVyXCI7XHJcbiAgICAgICAgICAgIEVDYW52YXMuY3Vyc29yTG9jayA9IG5hbWU7XHJcbiAgICAgICAgfSBlbHNlIGlmIChuYW1lID09IEVDYW52YXMuY3Vyc29yTG9jaykge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwiZGVmYXVsdFwiO1xyXG4gICAgICAgICAgICBFQ2FudmFzLmN1cnNvckxvY2sgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVzaXplID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuZHByID0gdGhpcy5kcHJTY2FsaW5nRW5hYmxlZCA/IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDEgOiAxO1xyXG5cclxuICAgICAgICB0aGlzLmNhbnZhcy53aWR0aCA9IHRoaXMuY2FudmFzLmNsaWVudFdpZHRoO1xyXG4gICAgICAgIHRoaXMuY2FudmFzLmhlaWdodCA9IHRoaXMuY2FudmFzLmNsaWVudEhlaWdodDtcclxuXHJcbiAgICAgICAgdGhpcy5yZXNpemVkLmRpc3BhdGNoRXZlbnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZHJhdyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmN0eC5zYXZlKCk7XHJcbiAgICAgICAgdGhpcy5jdHguc2NhbGUodGhpcy5kcHIsIHRoaXMuZHByKTtcclxuICAgICAgICBmb3IgKGNvbnN0IGRyYXdGdW5jdGlvbiBvZiB0aGlzLmRyYXdGdW5jdGlvbnMpIHtcclxuICAgICAgICAgICAgZHJhd0Z1bmN0aW9uKHRoaXMuY3R4LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY3R4LnJlc3RvcmUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkRHJhd0Z1bmN0aW9uID0gKGZ1bmM6IERyYXdGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgIHRoaXMuZHJhd0Z1bmN0aW9ucy5wdXNoKGZ1bmMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVEcmF3RnVuY3Rpb24gPSAoZnVuYzogRHJhd0Z1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgdGhpcy5kcmF3RnVuY3Rpb25zLnNwbGljZSh0aGlzLmRyYXdGdW5jdGlvbnMuaW5kZXhPZihmdW5jKSwgMSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBSZW5kZXJPYmplY3QgfSBmcm9tIFwiLi4vcmVuZGVyT2JqZWN0XCI7XHJcbmltcG9ydCB7IEVDYW52YXMgfSBmcm9tIFwiLi4vZUNhbnZhc1wiO1xyXG5pbXBvcnQgeyBFRXZlbnRUIH0gZnJvbSBcIi4uLy4uL2VFdmVudFwiO1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIENvbnRyb2wgZXh0ZW5kcyBSZW5kZXJPYmplY3Qge1xyXG4gICAgcHJvdGVjdGVkIGlzTW91c2VPdmVyID0gZmFsc2U7XHJcbiAgICBwdWJsaWMgaXNFbmFibGVkID0gdHJ1ZTtcclxuXHJcbiAgICBwdWJsaWMgY2xpY2tlZCA9IG5ldyBFRXZlbnRUPENvbnRyb2w+KCk7XHJcblxyXG4gICAgcHVibGljIG1vdXNlTW92ZShldjogTW91c2VFdmVudCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzRW5hYmxlZCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5kaW1lbnNpb25zLmlzSGl0QnkoZXYuY2xpZW50WCwgZXYuY2xpZW50WSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNNb3VzZU92ZXIgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgRUNhbnZhcy5TZXRDdXJzb3IodGhpcy5uYW1lLCB0cnVlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNNb3VzZU92ZXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIEVDYW52YXMuU2V0Q3Vyc29yKHRoaXMubmFtZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjbGljayA9IChldjogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmlzRW5hYmxlZCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5kaW1lbnNpb25zLmlzSGl0QnkoZXYuY2xpZW50WCwgZXYuY2xpZW50WSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xpY2tlZC5kaXNwYXRjaEV2ZW50KHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtb3VzZURvd24oZXY6IE1vdXNlRXZlbnQpOiB2b2lkIHsgfVxyXG4gICAgcHVibGljIG1vdXNlVXAoZXY6IE1vdXNlRXZlbnQpOiB2b2lkIHsgfVxyXG59IiwiZXhwb3J0IGNsYXNzIEJ1dHRvblByb3BlcnRpZXMge1xyXG4gICAgcHVibGljIGZvbnRTaXplID0gNDA7XHJcbiAgICBwdWJsaWMgZm9udFByZWZpeCA9IFwiXCI7XHJcbiAgICBwdWJsaWMgZm9udEZhbWlseSA9IFwiZm9udGF3ZXNvbWVcIjtcclxuICAgIHB1YmxpYyBmaWxsU3R5bGUgPSBcImJsdWVcIjtcclxuICAgIHB1YmxpYyBtb3VzZU92ZXJGaWxsU3R5bGUgPSBcInJlZFwiO1xyXG4gICAgcHVibGljIGJhY2tncm91bmRGaWxsU3R5bGU6IHN0cmluZyA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICBwdWJsaWMgZ2V0Rm9udCA9ICgpID0+IHtcclxuICAgICAgICB2YXIgZm9udCA9IFwiXCI7XHJcbiAgICAgICAgaWYgKHRoaXMuZm9udFByZWZpeCkge1xyXG4gICAgICAgICAgICBmb250ICs9IHRoaXMuZm9udFByZWZpeCArIFwiIFwiXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvbnQgKz0gdGhpcy5mb250U2l6ZSArIFwicHhcIiArIFwiIFwiICsgdGhpcy5mb250RmFtaWx5O1xyXG4gICAgICAgIHJldHVybiBmb250O1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBDb250cm9sIH0gZnJvbSBcIi4vY29udHJvbFwiO1xyXG5pbXBvcnQgeyBCdXR0b25Qcm9wZXJ0aWVzIH0gZnJvbSBcIi4vYnV0dG9uUHJvcGVydGllc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJ1dHRvbiBleHRlbmRzIENvbnRyb2wge1xyXG5cclxuICAgIHB1YmxpYyBwcm9wZXJ0aWVzID0gbmV3IEJ1dHRvblByb3BlcnRpZXMoKTtcclxuICAgIHB1YmxpYyB0ZXh0OiBzdHJpbmc7XHJcblxyXG4gICAgcHVibGljIHJlbmRlciA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuYmFja2dyb3VuZEZpbGxTdHlsZSkge1xyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5wcm9wZXJ0aWVzLmJhY2tncm91bmRGaWxsU3R5bGU7XHJcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdCh0aGlzLmRpbWVuc2lvbnMueCwgdGhpcy5kaW1lbnNpb25zLnksIHRoaXMuZGltZW5zaW9ucy53aWR0aCwgdGhpcy5kaW1lbnNpb25zLmhlaWdodCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5pc01vdXNlT3Zlcikge1xyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5wcm9wZXJ0aWVzLm1vdXNlT3ZlckZpbGxTdHlsZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5wcm9wZXJ0aWVzLmZpbGxTdHlsZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGN0eC5mb250ID0gdGhpcy5wcm9wZXJ0aWVzLmdldEZvbnQoKTtcclxuICAgICAgICBjdHgudGV4dEFsaWduID0gXCJsZWZ0XCI7XHJcbiAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9IFwidG9wXCI7XHJcbiAgICAgICAgY3R4LmZpbGxUZXh0KHRoaXMudGV4dCwgdGhpcy5kaW1lbnNpb25zLngsIHRoaXMuZGltZW5zaW9ucy55KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0ID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHN1cGVyLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcblxyXG4gICAgICAgIGN0eC5mb250ID0gdGhpcy5wcm9wZXJ0aWVzLmdldEZvbnQoKTtcclxuICAgICAgICBjdHgudGV4dEFsaWduID0gXCJsZWZ0XCI7XHJcbiAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9IFwidG9wXCI7XHJcbiAgICAgICAgdmFyIHNpemUgPSBjdHgubWVhc3VyZVRleHQodGhpcy50ZXh0KTtcclxuICAgICAgICBcclxuICAgICAgICB2YXIgeCA9IHRoaXMuYWxpZ25lbWVudC5jYWxjdWxhdGVEaW1lbnNpb25zWChib3VuZHMsIHNpemUud2lkdGgpO1xyXG4gICAgICAgIHZhciB5ID0gdGhpcy5hbGlnbmVtZW50LmNhbGN1bGF0ZURpbWVuc2lvbnNZKGJvdW5kcywgdGhpcy5wcm9wZXJ0aWVzLmZvbnRTaXplKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmRpbWVuc2lvbnMgPSBuZXcgUmVjdGFuZ2xlKHgsIHksIHNpemUud2lkdGgsIHRoaXMucHJvcGVydGllcy5mb250U2l6ZSlcclxuICAgIH1cclxufSIsImltcG9ydCB7IE9yaWVudGF0aW9uIH0gZnJvbSBcIi4uL2FsaWduZW1lbnQvb3JpZW50YXRpb25cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBMaXN0Vmlld1Byb3BlcnRpZXMge1xyXG4gICAgcHVibGljIGl0ZW1TcGFjaW5nID0gMzA7XHJcbiAgICBwdWJsaWMgb3JpZW50YXRpb24gPSBPcmllbnRhdGlvbi5WZXJ0aWNhbDtcclxufSIsImltcG9ydCB7IExheW91dFZpZXcgfSBmcm9tIFwiLi9sYXlvdXRWaWV3XCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgUmVuZGVyT2JqZWN0IH0gZnJvbSBcIi4uL3JlbmRlck9iamVjdFwiO1xyXG5pbXBvcnQgeyBMaXN0Vmlld1Byb3BlcnRpZXMgfSBmcm9tIFwiLi9saXN0Vmlld1Byb3BlcnRpZXNcIjtcclxuaW1wb3J0IHsgSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24gfSBmcm9tIFwiLi4vYWxpZ25lbWVudC9ob3Jpem9udGFsQWxpZ25lbWVudE9wdGlvblwiO1xyXG5pbXBvcnQgeyBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24gfSBmcm9tIFwiLi4vYWxpZ25lbWVudC92ZXJ0aWNhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuaW1wb3J0IHsgT3JpZW50YXRpb24gfSBmcm9tIFwiLi4vYWxpZ25lbWVudC9vcmllbnRhdGlvblwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIExpc3RWaWV3IGV4dGVuZHMgTGF5b3V0VmlldyB7XHJcbiAgICBwdWJsaWMgcHJvcGVydGllcyA9IG5ldyBMaXN0Vmlld1Byb3BlcnRpZXMoKTtcclxuXHJcbiAgICBwdWJsaWMgYWRkSXRlbSA9IChsYXlvdXRWaWV3OiBSZW5kZXJPYmplY3QpID0+IHtcclxuICAgICAgICBsYXlvdXRWaWV3LmFsaWduZW1lbnQuaG9yaXpvbnRhbEFsaWduID0gSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24uTGVmdDtcclxuICAgICAgICBsYXlvdXRWaWV3LmFsaWduZW1lbnQudmVydGljYWxBbGlnbiA9IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi5Ub3A7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGxheW91dFZpZXcpO1xyXG4gICAgICAgIHRoaXMudHJpZ2dlclVwZGF0ZUxheW91dCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVJdGVtID0gKGxheW91dFZpZXc6IFJlbmRlck9iamVjdCkgPT4ge1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucmVtb3ZlSXRlbShsYXlvdXRWaWV3KTtcclxuICAgICAgICB0aGlzLnRyaWdnZXJVcGRhdGVMYXlvdXQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcblxyXG4gICAgICAgIHZhciB4ID0gdGhpcy5hbGlnbmVtZW50LmNhbGN1bGF0ZURpbWVuc2lvbnNYKGJvdW5kcywgdGhpcy5kaW1lbnNpb25zLndpZHRoKTtcclxuICAgICAgICB2YXIgeSA9IHRoaXMuYWxpZ25lbWVudC5jYWxjdWxhdGVEaW1lbnNpb25zWShib3VuZHMsIHRoaXMuZGltZW5zaW9ucy5oZWlnaHQpO1xyXG5cclxuICAgICAgICB2YXIgd2lkdGggPSAwO1xyXG4gICAgICAgIHZhciBoZWlnaHQgPSAwO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLm9yaWVudGF0aW9uID09IE9yaWVudGF0aW9uLlZlcnRpY2FsKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKGkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeSArPSB0aGlzLnByb3BlcnRpZXMuaXRlbVNwYWNpbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ICs9IHRoaXMucHJvcGVydGllcy5pdGVtU3BhY2luZztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNoaWxkLnVwZGF0ZUxheW91dChjdHgsIG5ldyBSZWN0YW5nbGUoeCwgeSwgMCwgMCkpO1xyXG4gICAgICAgICAgICAgICAgeSArPSBjaGlsZC5kaW1lbnNpb25zLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIGhlaWdodCArPSBjaGlsZC5kaW1lbnNpb25zLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIHdpZHRoID0gTWF0aC5tYXgod2lkdGgsIGNoaWxkLmRpbWVuc2lvbnMud2lkdGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XHJcbiAgICAgICAgICAgICAgICBpZiAoaSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB4ICs9IHRoaXMucHJvcGVydGllcy5pdGVtU3BhY2luZztcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aCArPSB0aGlzLnByb3BlcnRpZXMuaXRlbVNwYWNpbmc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjaGlsZC51cGRhdGVMYXlvdXQoY3R4LCBuZXcgUmVjdGFuZ2xlKHgsIHksIDAsIDApKTtcclxuICAgICAgICAgICAgICAgIHggKz0gY2hpbGQuZGltZW5zaW9ucy53aWR0aDtcclxuICAgICAgICAgICAgICAgIHdpZHRoICs9IGNoaWxkLmRpbWVuc2lvbnMud2lkdGg7XHJcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSBNYXRoLm1heChoZWlnaHQsIGNoaWxkLmRpbWVuc2lvbnMuaGVpZ2h0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZGltZW5zaW9ucy54ICE9IHggfHwgdGhpcy5kaW1lbnNpb25zLnkgIT0geSB8fCB0aGlzLmRpbWVuc2lvbnMud2lkdGggIT0gd2lkdGggfHwgdGhpcy5kaW1lbnNpb25zLmhlaWdodCAhPSBoZWlnaHQpIHtcclxuICAgICAgICAgICAgdGhpcy5kaW1lbnNpb25zLnggPSB4O1xyXG4gICAgICAgICAgICB0aGlzLmRpbWVuc2lvbnMueSA9IHk7XHJcbiAgICAgICAgICAgIHRoaXMuZGltZW5zaW9ucy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgICAgIHRoaXMuZGltZW5zaW9ucy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQ29udHJvbCB9IGZyb20gXCIuL2NvbnRyb2xcIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBFRXZlbnRUIH0gZnJvbSBcIi4uLy4uL2VFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNsaWRlciBleHRlbmRzIENvbnRyb2wge1xyXG4gICAgcHVibGljIHJhZGl1czogbnVtYmVyID0gMTA7XHJcblxyXG4gICAgcHVibGljIG1pblZhbHVlID0gMDtcclxuICAgIHB1YmxpYyBtYXhWYWx1ZSA9IDEwMDtcclxuICAgIHB1YmxpYyBjdXJyZW50VmFsdWUgPSA1MDtcclxuICAgIGlzRHJhZ2dpbmc6IGJvb2xlYW47XHJcblxyXG4gICAgcHVibGljIHZhbHVlQ2hhbmdlZCA9IG5ldyBFRXZlbnRUPG51bWJlcj4oKTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW5kZXIgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkID0+IHtcclxuICAgICAgICB2YXIgeCA9IHRoaXMuZGltZW5zaW9ucy54O1xyXG4gICAgICAgIHZhciB5ID0gdGhpcy5kaW1lbnNpb25zLnk7XHJcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gXCJ3aGl0ZVwiO1xyXG4gICAgICAgIGN0eC5saW5lV2lkdGggPSAyO1xyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdHgubW92ZVRvKHggKyB0aGlzLnJhZGl1cywgeSArIHRoaXMuZGltZW5zaW9ucy5oZWlnaHQgLyAyKTtcclxuICAgICAgICBjdHgubGluZVRvKHggKyB0aGlzLmRpbWVuc2lvbnMud2lkdGggLSB0aGlzLnJhZGl1cywgeSArIHRoaXMuZGltZW5zaW9ucy5oZWlnaHQgLyAyKTtcclxuICAgICAgICBjdHguc3Ryb2tlKCk7XHJcblxyXG4gICAgICAgIHZhciByZWxWYWx1ZSA9ICh0aGlzLmN1cnJlbnRWYWx1ZSAtIHRoaXMubWluVmFsdWUpIC8gKHRoaXMubWF4VmFsdWUgLSB0aGlzLm1pblZhbHVlKTtcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gXCJibHVlXCI7XHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5hcmMoeCArIHRoaXMucmFkaXVzICsgKHRoaXMuZGltZW5zaW9ucy53aWR0aCAtIHRoaXMucmFkaXVzICogMikgKiByZWxWYWx1ZSwgeSArIHRoaXMuZGltZW5zaW9ucy5oZWlnaHQgLyAyLCB0aGlzLnJhZGl1cywgMCwgTWF0aC5QSSAqIDIpO1xyXG4gICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcclxuICAgICAgICBjdHguZmlsbCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVMYXlvdXQgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGJvdW5kczogUmVjdGFuZ2xlKTogdm9pZCA9PiB7XHJcbiAgICAgICAgc3VwZXIudXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuXHJcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zID0gbmV3IFJlY3RhbmdsZShib3VuZHMueCwgYm91bmRzLnksIDIwMCwgdGhpcy5yYWRpdXMgKiAyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbW91c2VEb3duID0gKGV2OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuZGltZW5zaW9ucy5pc0hpdEJ5KGV2LmNsaWVudFgsIGV2LmNsaWVudFkpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNEcmFnZ2luZyA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ3VycmVudFZhbHVlKGV2KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgbW91c2VVcCA9IChldjogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtb3VzZU1vdmUoZXY6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICBzdXBlci5tb3VzZU1vdmUoZXYpO1xyXG4gICAgICAgIGlmICh0aGlzLmlzRHJhZ2dpbmcpIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVDdXJyZW50VmFsdWUoZXYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHVwZGF0ZUN1cnJlbnRWYWx1ZShldjogTW91c2VFdmVudCkge1xyXG4gICAgICAgIHZhciB2YWwgPSBldi5jbGllbnRYIC0gdGhpcy5kaW1lbnNpb25zLnggLSB0aGlzLnJhZGl1cztcclxuICAgICAgICB2YWwgPSB2YWwgLyAodGhpcy5kaW1lbnNpb25zLndpZHRoIC0gdGhpcy5yYWRpdXMgKiAyKSAqICh0aGlzLm1heFZhbHVlIC0gdGhpcy5taW5WYWx1ZSkgKyB0aGlzLm1pblZhbHVlO1xyXG4gICAgICAgIGlmICh2YWwgPiB0aGlzLm1heFZhbHVlKSB7XHJcbiAgICAgICAgICAgIHZhbCA9IHRoaXMubWF4VmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh2YWwgPCB0aGlzLm1pblZhbHVlKSB7XHJcbiAgICAgICAgICAgIHZhbCA9IHRoaXMubWluVmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gdmFsO1xyXG4gICAgICAgIHRoaXMudmFsdWVDaGFuZ2VkLmRpc3BhdGNoRXZlbnQodGhpcy5jdXJyZW50VmFsdWUpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQ29udHJvbCB9IGZyb20gXCIuL2NvbnRyb2xcIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBFRXZlbnRUVCB9IGZyb20gXCIuLi8uLi9lRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBSYW5nZVNsaWRlciBleHRlbmRzIENvbnRyb2wge1xyXG4gICAgcHVibGljIHJhZGl1czogbnVtYmVyID0gMTA7XHJcblxyXG4gICAgcHVibGljIG1pblZhbHVlID0gMDtcclxuICAgIHB1YmxpYyBtYXhWYWx1ZSA9IDEwMDtcclxuICAgIHB1YmxpYyBjdXJyZW50VmFsdWVMb3cgPSAyNTtcclxuICAgIHB1YmxpYyBjdXJyZW50VmFsdWVIaWdoID0gNzU7XHJcbiAgICBwdWJsaWMgbWluRGlmZiA9IDAuMTtcclxuXHJcbiAgICBwcml2YXRlIGlzRHJhZ2dpbmdMb3c6IGJvb2xlYW47XHJcbiAgICBwcml2YXRlIGlzRHJhZ2dpbmdIaWdoOiBib29sZWFuO1xyXG5cclxuICAgIHB1YmxpYyB2YWx1ZXNDaGFuZ2VkID0gbmV3IEVFdmVudFRUPG51bWJlciwgbnVtYmVyPigpO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyByZW5kZXIgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkID0+IHtcclxuICAgICAgICB2YXIgeCA9IHRoaXMuZGltZW5zaW9ucy54O1xyXG4gICAgICAgIHZhciB5ID0gdGhpcy5kaW1lbnNpb25zLnk7XHJcblxyXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IFwid2hpdGVcIjtcclxuICAgICAgICBjdHgubGluZVdpZHRoID0gMjtcclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY3R4Lm1vdmVUbyh4ICsgdGhpcy5yYWRpdXMsIHkgKyB0aGlzLmRpbWVuc2lvbnMuaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgY3R4LmxpbmVUbyh4ICsgdGhpcy5kaW1lbnNpb25zLndpZHRoIC0gdGhpcy5yYWRpdXMsIHkgKyB0aGlzLmRpbWVuc2lvbnMuaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG5cclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gXCJibHVlXCI7XHJcbiAgICAgICAgdmFyIHNsaWRlclkgPSB5ICsgdGhpcy5kaW1lbnNpb25zLmhlaWdodCAvIDI7XHJcblxyXG4gICAgICAgIHZhciByZWxWYWx1ZUxvdyA9ICh0aGlzLmN1cnJlbnRWYWx1ZUxvdyAtIHRoaXMubWluVmFsdWUpIC8gKHRoaXMubWF4VmFsdWUgLSB0aGlzLm1pblZhbHVlKTtcclxuICAgICAgICB2YXIgbG93WCA9IHggKyB0aGlzLnJhZGl1cyArICh0aGlzLmRpbWVuc2lvbnMud2lkdGggLSB0aGlzLnJhZGl1cyAqIDIpICogcmVsVmFsdWVMb3c7XHJcblxyXG4gICAgICAgIHZhciByZWxWYWx1ZUhpZ2ggPSAodGhpcy5jdXJyZW50VmFsdWVIaWdoIC0gdGhpcy5taW5WYWx1ZSkgLyAodGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWUpO1xyXG4gICAgICAgIHZhciBoaWdoWCA9IHggKyB0aGlzLnJhZGl1cyArICh0aGlzLmRpbWVuc2lvbnMud2lkdGggLSB0aGlzLnJhZGl1cyAqIDIpICogcmVsVmFsdWVIaWdoO1xyXG5cclxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBcImJsdWVcIjtcclxuICAgICAgICBjdHgubGluZVdpZHRoID0gMjtcclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY3R4Lm1vdmVUbyhsb3dYLCBzbGlkZXJZKTtcclxuICAgICAgICBjdHgubGluZVRvKGhpZ2hYLCBzbGlkZXJZKTtcclxuICAgICAgICBjdHguc3Ryb2tlKCk7XHJcblxyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdHguYXJjKGxvd1gsIHNsaWRlclksIHRoaXMucmFkaXVzLCAwLCBNYXRoLlBJICogMik7XHJcbiAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xyXG4gICAgICAgIGN0eC5maWxsKCk7XHJcblxyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdHguYXJjKGhpZ2hYLCBzbGlkZXJZLCB0aGlzLnJhZGl1cywgMCwgTWF0aC5QSSAqIDIpO1xyXG4gICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcclxuICAgICAgICBjdHguZmlsbCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVMYXlvdXQgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGJvdW5kczogUmVjdGFuZ2xlKTogdm9pZCA9PiB7XHJcbiAgICAgICAgc3VwZXIudXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuXHJcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zID0gbmV3IFJlY3RhbmdsZShib3VuZHMueCwgYm91bmRzLnksIDIwMCwgdGhpcy5yYWRpdXMgKiAyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbW91c2VEb3duID0gKGV2OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuZGltZW5zaW9ucy5pc0hpdEJ5KGV2LmNsaWVudFgsIGV2LmNsaWVudFkpKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWwgPSB0aGlzLmdldENsaWNrZWRWYWx1ZShldik7XHJcbiAgICAgICAgICAgIHZhciBkaWZmVG9Mb3cgPSBNYXRoLmFicyh0aGlzLmN1cnJlbnRWYWx1ZUxvdyAtIHZhbCk7XHJcbiAgICAgICAgICAgIHZhciBkaWZmVG9IaWdoID0gTWF0aC5hYnModGhpcy5jdXJyZW50VmFsdWVIaWdoIC0gdmFsKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChkaWZmVG9Mb3cgPT0gZGlmZlRvSGlnaCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHZhbCA8IHRoaXMuY3VycmVudFZhbHVlTG93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0RyYWdnaW5nTG93ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0RyYWdnaW5nSGlnaCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAoZGlmZlRvTG93ID4gZGlmZlRvSGlnaCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0RyYWdnaW5nSGlnaCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzRHJhZ2dpbmdMb3cgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUN1cnJlbnRWYWx1ZXMoZXYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHB1YmxpYyBtb3VzZVVwID0gKGV2OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgdGhpcy5pc0RyYWdnaW5nSGlnaCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuaXNEcmFnZ2luZ0xvdyA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtb3VzZU1vdmUoZXY6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICBzdXBlci5tb3VzZU1vdmUoZXYpO1xyXG4gICAgICAgIGlmICh0aGlzLmlzRHJhZ2dpbmdIaWdoIHx8IHRoaXMuaXNEcmFnZ2luZ0xvdykge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUN1cnJlbnRWYWx1ZXMoZXYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHVwZGF0ZUN1cnJlbnRWYWx1ZXMoZXY6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICB2YXIgdmFsID0gdGhpcy5nZXRDbGlja2VkVmFsdWUoZXYpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5pc0RyYWdnaW5nTG93KSB7XHJcbiAgICAgICAgICAgIGlmICh2YWwgPiAodGhpcy5jdXJyZW50VmFsdWVIaWdoIC0gdGhpcy5taW5EaWZmKSkge1xyXG4gICAgICAgICAgICAgICAgdmFsID0gdGhpcy5jdXJyZW50VmFsdWVIaWdoIC0gdGhpcy5taW5EaWZmO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAodmFsIDwgdGhpcy5jdXJyZW50VmFsdWVMb3cgKyB0aGlzLm1pbkRpZmYpIHtcclxuICAgICAgICAgICAgICAgIHZhbCA9IHRoaXMuY3VycmVudFZhbHVlTG93ICsgdGhpcy5taW5EaWZmO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5pc0RyYWdnaW5nTG93KSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFZhbHVlTG93ID0gdmFsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50VmFsdWVIaWdoID0gdmFsO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnZhbHVlc0NoYW5nZWQuZGlzcGF0Y2hFdmVudCh0aGlzLmN1cnJlbnRWYWx1ZUxvdywgdGhpcy5jdXJyZW50VmFsdWVIaWdoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldENsaWNrZWRWYWx1ZShldjogTW91c2VFdmVudCkge1xyXG4gICAgICAgIHZhciB2YWwgPSBldi5jbGllbnRYIC0gdGhpcy5kaW1lbnNpb25zLnggLSB0aGlzLnJhZGl1cztcclxuICAgICAgICB2YWwgPSB2YWwgLyAodGhpcy5kaW1lbnNpb25zLndpZHRoIC0gdGhpcy5yYWRpdXMgKiAyKSAqICh0aGlzLm1heFZhbHVlIC0gdGhpcy5taW5WYWx1ZSkgKyB0aGlzLm1pblZhbHVlO1xyXG4gICAgICAgIGlmICh2YWwgPiB0aGlzLm1heFZhbHVlKSB7XHJcbiAgICAgICAgICAgIHZhbCA9IHRoaXMubWF4VmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh2YWwgPCB0aGlzLm1pblZhbHVlKSB7XHJcbiAgICAgICAgICAgIHZhbCA9IHRoaXMubWluVmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB2YWw7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBMYXlvdXRWaWV3IH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGF5b3V0Vmlld1wiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgU3RhckxheWVyIH0gZnJvbSBcIi4uLy4uL21vZGVscy9zdGFyTGF5ZXJcIjtcclxuaW1wb3J0IHsgTGlzdFZpZXcgfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9sYXlvdXRDb250cm9scy9saXN0Vmlld1wiO1xyXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9jb250cm9scy9idXR0b25cIjtcclxuaW1wb3J0IHsgQ29udHJvbCB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2NvbnRyb2xcIjtcclxuaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4uLy4uL2FwcFwiO1xyXG5pbXBvcnQgeyBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbiB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvaG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuaW1wb3J0IHsgVmVydGljYWxBbGlnbmVtZW50T3B0aW9uIH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvYWxpZ25lbWVudC92ZXJ0aWNhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuaW1wb3J0IHsgU2xpZGVyIH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvY29udHJvbHMvc2xpZGVyXCI7XHJcbmltcG9ydCB7IFJhbmdlU2xpZGVyIH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvY29udHJvbHMvcmFuZ2VTbGlkZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTdGFyTGF5ZXJWaWV3IGV4dGVuZHMgTGF5b3V0VmlldyB7XHJcbiAgICBwcml2YXRlIHNldHRpbmdzTGlzdDogTGlzdFZpZXc7XHJcblxyXG4gICAgY29uc3RydWN0b3IocHVibGljIHN0YXJMYXllcjogU3RhckxheWVyKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdCA9IG5ldyBMaXN0VmlldygpO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LmFsaWduZW1lbnQuaG9yaXpvbnRhbEFsaWduID0gSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24uTGVmdDtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5hbGlnbmVtZW50LnZlcnRpY2FsQWxpZ24gPSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24uVG9wO1xyXG4gICAgICAgIHZhciBidG5Gb3JMYXllciA9IG5ldyBCdXR0b24oKTtcclxuICAgICAgICBidG5Gb3JMYXllci50ZXh0ID0gXCJSZW1vdmUgTGF5ZXJcIjtcclxuICAgICAgICBidG5Gb3JMYXllci5wcm9wZXJ0aWVzLmZpbGxTdHlsZSA9IFwid2hpdGVcIjtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5hZGRJdGVtKGJ0bkZvckxheWVyKTtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goYnRuRm9yTGF5ZXIpO1xyXG4gICAgICAgIGJ0bkZvckxheWVyLmNsaWNrZWQuYWRkRXZlbnRMaXN0ZW5lcigoc2VuZGVyOiBDb250cm9sKSA9PiB7XHJcbiAgICAgICAgICAgIEFwcC5zZXR0aW5nTWFuYWdlci5yZW1vdmVTdGFyTGF5ZXIodGhpcy5zdGFyTGF5ZXIpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB2YXIgc2xpZGVyID0gbmV3IFNsaWRlcigpO1xyXG4gICAgICAgIHNsaWRlci5taW5WYWx1ZSA9IDEwO1xyXG4gICAgICAgIHNsaWRlci5tYXhWYWx1ZSA9IDEwMDA7XHJcbiAgICAgICAgc2xpZGVyLmN1cnJlbnRWYWx1ZSA9IHN0YXJMYXllci5zdGFycy5sZW5ndGg7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHNsaWRlcik7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QuYWRkSXRlbShzbGlkZXIpO1xyXG4gICAgICAgIHNsaWRlci52YWx1ZUNoYW5nZWQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLm51bWJlck9mU3RhcnNDaGFuZ2VkKTtcclxuXHJcbiAgICAgICAgdmFyIHNsaWRlclNwZWVkID0gbmV3IFNsaWRlcigpO1xyXG4gICAgICAgIHNsaWRlclNwZWVkLm1pblZhbHVlID0gMDtcclxuICAgICAgICBzbGlkZXJTcGVlZC5tYXhWYWx1ZSA9IDIwO1xyXG4gICAgICAgIHNsaWRlclNwZWVkLmN1cnJlbnRWYWx1ZSA9IHN0YXJMYXllci5zcGVlZDtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goc2xpZGVyU3BlZWQpO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LmFkZEl0ZW0oc2xpZGVyU3BlZWQpO1xyXG4gICAgICAgIHNsaWRlclNwZWVkLnZhbHVlQ2hhbmdlZC5hZGRFdmVudExpc3RlbmVyKHRoaXMuc3BlZWRDaGFuZ2VkKTtcclxuXHJcbiAgICAgICAgdmFyIHNsaWRlclNpemUgPSBuZXcgUmFuZ2VTbGlkZXIoKTtcclxuICAgICAgICB2YXIgc2l6ZXMgPSB0aGlzLnN0YXJMYXllci5zdGFycy5tYXAoeCA9PiB4LnIpO1xyXG4gICAgICAgIHNsaWRlclNpemUubWluVmFsdWUgPSAwLjAwMTtcclxuICAgICAgICBzbGlkZXJTaXplLm1heFZhbHVlID0gMjtcclxuICAgICAgICBzbGlkZXJTaXplLmN1cnJlbnRWYWx1ZUxvdyA9IE1hdGgubWluKC4uLnNpemVzKTtcclxuICAgICAgICBzbGlkZXJTaXplLmN1cnJlbnRWYWx1ZUhpZ2ggPSBNYXRoLm1heCguLi5zaXplcyk7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHNsaWRlclNpemUpO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LmFkZEl0ZW0oc2xpZGVyU2l6ZSk7XHJcbiAgICAgICAgc2xpZGVyU2l6ZS52YWx1ZXNDaGFuZ2VkLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5zaXplc0NoYW5nZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBudW1iZXJPZlN0YXJzQ2hhbmdlZCA9IChudW1iZXJPZlN0YXJzOiBudW1iZXIpID0+IHtcclxuICAgICAgICBBcHAuc2V0dGluZ01hbmFnZXIuY2hhbmdlTnVtYmVyT2ZTdGFycyh0aGlzLnN0YXJMYXllciwgTWF0aC5yb3VuZChudW1iZXJPZlN0YXJzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNwZWVkQ2hhbmdlZCA9IChzcGVlZDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgQXBwLnNldHRpbmdNYW5hZ2VyLmNoYW5nZVNwZWVkKHRoaXMuc3RhckxheWVyLCBzcGVlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNpemVzQ2hhbmdlZCA9IChsb3dCb3JkZXI6IG51bWJlciwgaGlnaEJvcmRlcjogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgQXBwLnNldHRpbmdNYW5hZ2VyLmNoYW5nZVNpemVzKHRoaXMuc3RhckxheWVyLCBsb3dCb3JkZXIsIGhpZ2hCb3JkZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVMYXlvdXQoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGJvdW5kczogUmVjdGFuZ2xlKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QudXBkYXRlTGF5b3V0KGN0eCwgbmV3IFJlY3RhbmdsZShib3VuZHMueCwgYm91bmRzLnksIDAsIDApKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IExheW91dFZpZXcgfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9sYXlvdXRDb250cm9scy9sYXlvdXRWaWV3XCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWwgfSBmcm9tIFwiLi9zZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxcIjtcclxuaW1wb3J0IHsgU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUgfSBmcm9tIFwiLi9zZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZVwiO1xyXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9jb250cm9scy9idXR0b25cIjtcclxuaW1wb3J0IHsgQ29udHJvbCB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2NvbnRyb2xcIjtcclxuaW1wb3J0IHsgTGlzdFZpZXcgfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9sYXlvdXRDb250cm9scy9saXN0Vmlld1wiO1xyXG5pbXBvcnQgeyBTdGFyTGF5ZXIgfSBmcm9tIFwiLi4vLi4vbW9kZWxzL3N0YXJMYXllclwiO1xyXG5pbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi4vLi4vYXBwXCI7XHJcbmltcG9ydCB7IFNldHRpbmdPcGVyYXRpb24gfSBmcm9tIFwiLi4vLi4vc2V0dGluZ3Mvc2V0dGluZ09wZXJhdGlvblwiO1xyXG5pbXBvcnQgeyBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24gfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9hbGlnbmVtZW50L3ZlcnRpY2FsQWxpZ25lbWVudE9wdGlvblwiO1xyXG5pbXBvcnQgeyBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbiB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvaG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuaW1wb3J0IHsgU3RhckxheWVyVmlldyB9IGZyb20gXCIuL3N0YXJMYXllclZpZXdcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTZXR0aW5nc092ZXJsYXlWaWV3IGV4dGVuZHMgTGF5b3V0VmlldyB7XHJcbiAgICBwcml2YXRlIHZpZXdNb2RlbDogU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsID0gbmV3IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbCgpO1xyXG4gICAgcHJpdmF0ZSBsYXN0TW92ZWQgPSBEYXRlLm5vdygpO1xyXG4gICAgcHJpdmF0ZSBpbmFjdGl2aXR5VGltZW91dCA9IDIwMDA7XHJcbiAgICBwcml2YXRlIHNob3dPdmVyTGF5ZXJCdXR0b246IEJ1dHRvbjtcclxuICAgIHByaXZhdGUgc2V0dGluZ3NMaXN0OiBMaXN0VmlldztcclxuXHJcbiAgICBwcml2YXRlIGxheWVyQnV0dG9uczogQnV0dG9uW10gPSBbXTtcclxuICAgIHByaXZhdGUgYWRkTGF5ZXJCdG46IEJ1dHRvbjtcclxuICAgIHByaXZhdGUgZGV0YWlsZWRTdGFyTGF5ZXJWaWV3OiBTdGFyTGF5ZXJWaWV3O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5zaG93T3ZlckxheWVyQnV0dG9uID0gbmV3IEJ1dHRvbigpO1xyXG4gICAgICAgIHRoaXMuc2hvd092ZXJMYXllckJ1dHRvbi50ZXh0ID0gXCJTaG93L0hpZGUgU2V0dGluZ3NcIjtcclxuICAgICAgICB0aGlzLnNob3dPdmVyTGF5ZXJCdXR0b24ucHJvcGVydGllcy5maWxsU3R5bGUgPSBcImdyZWVuXCI7XHJcbiAgICAgICAgdGhpcy5zaG93T3ZlckxheWVyQnV0dG9uLmFsaWduZW1lbnQudmVydGljYWxBbGlnbiA9IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi5Ub3A7XHJcbiAgICAgICAgdGhpcy5zaG93T3ZlckxheWVyQnV0dG9uLmFsaWduZW1lbnQuaG9yaXpvbnRhbEFsaWduID0gSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24uTGVmdDtcclxuICAgICAgICB0aGlzLnNob3dPdmVyTGF5ZXJCdXR0b24uY2xpY2tlZC5hZGRFdmVudExpc3RlbmVyKHRoaXMuc2hvd0hpZGVPdmVybGF5Q2xpY2tlZCk7XHJcbiAgICAgICAgdGhpcy5zaG93T3ZlckxheWVyQnV0dG9uLnByb3BlcnRpZXMuYmFja2dyb3VuZEZpbGxTdHlsZSA9IFwicmdiYSgwLCAwLCAwLCAwLjUpXCI7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHRoaXMuc2hvd092ZXJMYXllckJ1dHRvbik7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QgPSBuZXcgTGlzdFZpZXcoKTtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5hbGlnbmVtZW50Lmhvcml6b250YWxBbGlnbiA9IEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uLkxlZnQ7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QuYWxpZ25lbWVudC52ZXJ0aWNhbEFsaWduID0gVmVydGljYWxBbGlnbmVtZW50T3B0aW9uLlRvcDtcclxuXHJcbiAgICAgICAgdmFyIGJ0bkZvck5ld0xheWVyID0gbmV3IEJ1dHRvbigpO1xyXG4gICAgICAgIGJ0bkZvck5ld0xheWVyLnRleHQgPSBcIkFkZCBMYXllclwiO1xyXG4gICAgICAgIGJ0bkZvck5ld0xheWVyLnByb3BlcnRpZXMuZmlsbFN0eWxlID0gXCJ3aGl0ZVwiO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LmFkZEl0ZW0oYnRuRm9yTmV3TGF5ZXIpO1xyXG4gICAgICAgIGJ0bkZvck5ld0xheWVyLmNsaWNrZWQuYWRkRXZlbnRMaXN0ZW5lcigoc2VuZGVyOiBDb250cm9sKSA9PiB7XHJcbiAgICAgICAgICAgIEFwcC5zZXR0aW5nTWFuYWdlci5hZGRTdGFyTGF5ZXIoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFkZExheWVyQnRuID0gYnRuRm9yTmV3TGF5ZXI7XHJcblxyXG5cclxuICAgICAgICBBcHAuc2V0dGluZ01hbmFnZXIudXBkYXRlLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5zZXR0aW5nc1VwZGF0ZWQpO1xyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXR0aW5nc1VwZGF0ZWQgPSAob3BlcmF0aW9uOiBTZXR0aW5nT3BlcmF0aW9uKSA9PiB7XHJcbiAgICAgICAgc3dpdGNoIChvcGVyYXRpb24pIHtcclxuICAgICAgICAgICAgY2FzZSBTZXR0aW5nT3BlcmF0aW9uLkFkZFN0YXJMYXllcjpcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc3RhckxheWVyIG9mIEFwcC5zZXR0aW5ncy5zdGFyTGF5ZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmxheWVyQnV0dG9ucy5tYXAoeCA9PiB4LnRhZykuY29udGFpbnMoc3RhckxheWVyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5yZW1vdmVJdGVtKHRoaXMuYWRkTGF5ZXJCdG4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYnRuRm9yTGF5ZXIgPSBuZXcgQnV0dG9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ0bkZvckxheWVyLnRleHQgPSBcIkVkaXQgTGF5ZXJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnRuRm9yTGF5ZXIudGFnID0gc3RhckxheWVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidG5Gb3JMYXllci5wcm9wZXJ0aWVzLmZpbGxTdHlsZSA9IFwid2hpdGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QuYWRkSXRlbShidG5Gb3JMYXllcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGF5ZXJCdXR0b25zLnB1c2goYnRuRm9yTGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidG5Gb3JMYXllci5jbGlja2VkLmFkZEV2ZW50TGlzdGVuZXIoKHNlbmRlcjogQ29udHJvbCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b2dnbGVTaG93SGlkZVN0YXJMYXllclZpZXcoc3RhckxheWVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LmFkZEl0ZW0odGhpcy5hZGRMYXllckJ0bik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFNldHRpbmdPcGVyYXRpb24uUmVtb3ZlU3RhckxheWVyOlxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBzZXR0aW5nc0xheWVyIG9mIHRoaXMubGF5ZXJCdXR0b25zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFBcHAuc2V0dGluZ3Muc3RhckxheWVycy5jb250YWlucyhzZXR0aW5nc0xheWVyLnRhZykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QucmVtb3ZlSXRlbShzZXR0aW5nc0xheWVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXllckJ1dHRvbnMucmVtb3ZlSXRlbShzZXR0aW5nc0xheWVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5yZW1vdmVJdGVtKHRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSB0b2dnbGVTaG93SGlkZVN0YXJMYXllclZpZXcgPSAoc3RhckxheWVyOiBTdGFyTGF5ZXIpID0+IHtcclxuICAgICAgICBpZiAoIXRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3KSB7XHJcbiAgICAgICAgICAgIHZhciB2aWV3ID0gbmV3IFN0YXJMYXllclZpZXcoc3RhckxheWVyKTtcclxuICAgICAgICAgICAgdGhpcy5kZXRhaWxlZFN0YXJMYXllclZpZXcgPSB2aWV3O1xyXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2godGhpcy5kZXRhaWxlZFN0YXJMYXllclZpZXcpO1xyXG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJVcGRhdGVMYXlvdXQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5kZXRhaWxlZFN0YXJMYXllclZpZXcuc3RhckxheWVyICE9IHN0YXJMYXllcikge1xyXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnJlbW92ZUl0ZW0odGhpcy5kZXRhaWxlZFN0YXJMYXllclZpZXcpO1xyXG4gICAgICAgICAgICB0aGlzLmRldGFpbGVkU3RhckxheWVyVmlldyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgdmFyIHZpZXcgPSBuZXcgU3RhckxheWVyVmlldyhzdGFyTGF5ZXIpO1xyXG4gICAgICAgICAgICB0aGlzLmRldGFpbGVkU3RhckxheWVyVmlldyA9IHZpZXc7XHJcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaCh0aGlzLmRldGFpbGVkU3RhckxheWVyVmlldyk7XHJcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlclVwZGF0ZUxheW91dCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5yZW1vdmVJdGVtKHRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3KTtcclxuICAgICAgICAgICAgdGhpcy5kZXRhaWxlZFN0YXJMYXllclZpZXcgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2hvd0hpZGVPdmVybGF5Q2xpY2tlZCA9IChzZW5kZXI6IENvbnRyb2wpID0+IHtcclxuICAgICAgICBpZiAodGhpcy52aWV3TW9kZWwuc3RhdGUgPT0gU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUudmlzaWJsZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLmJlZm9yZVZpc2libGUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUudmlzaWJsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVMYXlvdXQoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGJvdW5kczogUmVjdGFuZ2xlKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIudXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuICAgICAgICB0aGlzLnNob3dPdmVyTGF5ZXJCdXR0b24udXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuICAgICAgICB2YXIgc3BhY2UgPSB0aGlzLnNob3dPdmVyTGF5ZXJCdXR0b24uZGltZW5zaW9ucy5oZWlnaHQgKiAyO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LnVwZGF0ZUxheW91dChjdHgsIG5ldyBSZWN0YW5nbGUoYm91bmRzLngsIGJvdW5kcy55ICsgc3BhY2UsIGJvdW5kcy53aWR0aCwgYm91bmRzLmhlaWdodCAtIHNwYWNlKSk7XHJcbiAgICAgICAgaWYgKHRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3LnVwZGF0ZUxheW91dChjdHgsIG5ldyBSZWN0YW5nbGUoYm91bmRzLnggKyB0aGlzLnNldHRpbmdzTGlzdC5kaW1lbnNpb25zLndpZHRoLCBib3VuZHMueSArIHNwYWNlLCBib3VuZHMud2lkdGgsIGJvdW5kcy5oZWlnaHQgLSBzcGFjZSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbW91c2VNb3ZlID0gKGV2OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMudmlld01vZGVsLnN0YXRlID09IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLmhpZGRlbiB8fCB0aGlzLnZpZXdNb2RlbC5zdGF0ZSA9PSBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS5iZWZvcmVWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUuYmVmb3JlVmlzaWJsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN1cGVyLm1vdXNlTW92ZShldik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG1vdXNlSW5hY3Rpdml0eUhhbmRsZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKERhdGUubm93KCkgLSB0aGlzLmxhc3RNb3ZlZCA+PSB0aGlzLmluYWN0aXZpdHlUaW1lb3V0KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnZpZXdNb2RlbC5zdGF0ZSA9PSBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS5iZWZvcmVWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLmhpZGRlbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMubW91c2VJbmFjdGl2aXR5SGFuZGxlciwgdGhpcy5pbmFjdGl2aXR5VGltZW91dCAtIChEYXRlLm5vdygpIC0gdGhpcy5sYXN0TW92ZWQpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXRTdGF0ZSA9IChzdGF0ZTogU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUpID0+IHtcclxuICAgICAgICBzd2l0Y2ggKHN0YXRlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUuaGlkZGVuOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5yZW1vdmVJdGVtKHRoaXMuc2hvd092ZXJMYXllckJ1dHRvbik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdNb2RlbC5zdGF0ZSA9IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLmhpZGRlbjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLmJlZm9yZVZpc2libGU6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RNb3ZlZCA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy52aWV3TW9kZWwuc3RhdGUgPT0gU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUuaGlkZGVuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCh0aGlzLm1vdXNlSW5hY3Rpdml0eUhhbmRsZXIsIHRoaXMuaW5hY3Rpdml0eVRpbWVvdXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4uYWRkSXRlbUlmTm90RXhpc3RzKHRoaXMuc2hvd092ZXJMYXllckJ1dHRvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy52aWV3TW9kZWwuc3RhdGUgPT0gU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUudmlzaWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQodGhpcy5tb3VzZUluYWN0aXZpdHlIYW5kbGVyLCB0aGlzLmluYWN0aXZpdHlUaW1lb3V0KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnJlbW92ZUl0ZW1JZkV4aXN0cyh0aGlzLnNldHRpbmdzTGlzdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5yZW1vdmVJdGVtSWZFeGlzdHModGhpcy5kZXRhaWxlZFN0YXJMYXllclZpZXcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3TW9kZWwuc3RhdGUgPSBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS5iZWZvcmVWaXNpYmxlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUudmlzaWJsZTpcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnZpZXdNb2RlbC5zdGF0ZSA9PSBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS5iZWZvcmVWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHRoaXMuc2V0dGluZ3NMaXN0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMudmlld01vZGVsLnN0YXRlID0gU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUudmlzaWJsZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IEFwcCB9IGZyb20gXCIuLi9hcHBcIjtcclxuaW1wb3J0IHsgU3RhckxheWVyIH0gZnJvbSBcIi4uL21vZGVscy9zdGFyTGF5ZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTdGFyTGF5ZXJBbmltYXRvciB7XHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgc3RhckxheWVyOiBTdGFyTGF5ZXIpIHtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlID0gKHRpbWVEaWZmOiBudW1iZXIpID0+IHtcclxuICAgICAgICBmb3IgKGNvbnN0IHN0YXIgb2YgdGhpcy5zdGFyTGF5ZXIuc3RhcnMpIHtcclxuICAgICAgICAgICAgc3Rhci54ICs9IHRoaXMuc3RhckxheWVyLnNwZWVkICogdGltZURpZmY7XHJcbiAgICAgICAgICAgIHN0YXIueSArPSB0aGlzLnN0YXJMYXllci5zcGVlZCAqIHRpbWVEaWZmO1xyXG4gICAgICAgICAgICBpZiAoc3Rhci54ID4gQXBwLnNldHRpbmdzLndpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICBzdGFyLnggLT0gQXBwLnNldHRpbmdzLndpZHRoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzdGFyLnkgPiBBcHAuc2V0dGluZ3MuaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICBzdGFyLnkgLT0gQXBwLnNldHRpbmdzLmhlaWdodDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBEaW5qZWN0IHtcclxuICAgIHByaXZhdGUgc3RhdGljIGluc3RhbmNlczogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9IHt9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBhZGRJbnN0YW5jZSA9IChuYW1lOiBzdHJpbmcsIGluc3RhbmNlOiBhbnkpID0+IHtcclxuICAgICAgICBEaW5qZWN0Lmluc3RhbmNlc1tuYW1lXSA9IGluc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0SW5zdGFuY2UgPSA8VD4obmFtZTogc3RyaW5nKTogVCA9PiB7XHJcbiAgICAgICAgcmV0dXJuIDxUPkRpbmplY3QuaW5zdGFuY2VzW25hbWVdO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgTGF5b3V0VmlldyB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xheW91dFZpZXdcIjtcclxuXHJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2J1dHRvblwiO1xyXG5pbXBvcnQgeyBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24gfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9hbGlnbmVtZW50L3ZlcnRpY2FsQWxpZ25lbWVudE9wdGlvblwiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgTGlzdFZpZXcgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9sYXlvdXRDb250cm9scy9saXN0Vmlld1wiO1xyXG5pbXBvcnQgeyBPcmllbnRhdGlvbiB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvb3JpZW50YXRpb25cIjtcclxuaW1wb3J0IHsgRGluamVjdCB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL2RpbmplY3RcIjtcclxuaW1wb3J0IHsgQXVkaW9NYW5hZ2VyIH0gZnJvbSBcIi4uL2F1ZGlvTWFuYWdlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBsYXllclZpZXcgZXh0ZW5kcyBMYXlvdXRWaWV3IHtcclxuXHJcbiAgICBwcml2YXRlIHBsYXlJY29uVGV4dCA9IFwiXFx1ZjA0YlwiXHJcbiAgICBwcml2YXRlIHBhdXNlSWNvblRleHQgPSBcIlxcdWYwNGNcIlxyXG4gICAgcHJpdmF0ZSBzdG9wSWNvblRleHQgPSBcIlxcdWYwNGRcIlxyXG4gICAgcHJpdmF0ZSBuZXh0SWNvblRleHQgPSBcIlxcdWYwNTFcIlxyXG4gICAgcHJpdmF0ZSBwcmV2aW91c0ljb25UZXh0ID0gXCJcXHVmMDQ4XCJcclxuXHJcbiAgICAvLyBwcml2YXRlIHBsYXlJY29uVGV4dCA9IFwicGxheVwiXHJcbiAgICAvLyBwcml2YXRlIHBhdXNlSWNvblRleHQgPSBcInBhdXNlXCJcclxuICAgIC8vIHByaXZhdGUgc3RvcEljb25UZXh0ID0gXCJzdG9wXCJcclxuICAgIC8vIHByaXZhdGUgbmV4dEljb25UZXh0ID0gXCJuZXh0XCJcclxuICAgIC8vIHByaXZhdGUgcHJldmlvdXNJY29uVGV4dCA9IFwicHJldmlvdXNcIlxyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgIHZhciBhdWRpb01hbmFnZXI6IEF1ZGlvTWFuYWdlciA9IERpbmplY3QuZ2V0SW5zdGFuY2UoXCJhdWRpb1wiKTtcclxuXHJcbiAgICAgICAgdmFyIGxpc3RWaWV3ID0gbmV3IExpc3RWaWV3KCk7XHJcbiAgICAgICAgbGlzdFZpZXcuYWxpZ25lbWVudC52ZXJ0aWNhbEFsaWduID0gVmVydGljYWxBbGlnbmVtZW50T3B0aW9uLkJvdHRvbTtcclxuICAgICAgICBsaXN0Vmlldy5hbGlnbmVtZW50Lm1hcmdpbi5ib3R0b20gPSAxMDtcclxuICAgICAgICBsaXN0Vmlldy5wcm9wZXJ0aWVzLm9yaWVudGF0aW9uID0gT3JpZW50YXRpb24uSG9yaXpvbnRhbDtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2gobGlzdFZpZXcpO1xyXG5cclxuICAgICAgICB2YXIgcGxheVBhdXNlQnRuID0gbmV3IEJ1dHRvbigpO1xyXG4gICAgICAgIHBsYXlQYXVzZUJ0bi5wcm9wZXJ0aWVzLmZvbnRQcmVmaXggPSBcIjkwMFwiXHJcbiAgICAgICAgcGxheVBhdXNlQnRuLnByb3BlcnRpZXMuZm9udEZhbWlseSA9IFwiJ0ZvbnQgQXdlc29tZSA1IEZyZWUnXCJcclxuICAgICAgICBwbGF5UGF1c2VCdG4udGV4dCA9IHRoaXMucGxheUljb25UZXh0O1xyXG4gICAgICAgIHBsYXlQYXVzZUJ0bi5jbGlja2VkLmFkZEV2ZW50TGlzdGVuZXIoKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocGxheVBhdXNlQnRuLnRleHQgPT0gdGhpcy5wbGF5SWNvblRleHQpIHtcclxuICAgICAgICAgICAgICAgIGF1ZGlvTWFuYWdlci5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICBwbGF5UGF1c2VCdG4udGV4dCA9IHRoaXMucGF1c2VJY29uVGV4dDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGF1ZGlvTWFuYWdlci5wYXVzZSgpO1xyXG4gICAgICAgICAgICAgICAgcGxheVBhdXNlQnRuLnRleHQgPSB0aGlzLnBsYXlJY29uVGV4dDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJVcGRhdGVMYXlvdXQoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBsaXN0Vmlldy5hZGRJdGVtKHBsYXlQYXVzZUJ0bik7XHJcblxyXG4gICAgICAgIHZhciBzdG9wQnRuID0gbmV3IEJ1dHRvbigpO1xyXG4gICAgICAgIHN0b3BCdG4ucHJvcGVydGllcy5mb250UHJlZml4ID0gXCI5MDBcIlxyXG4gICAgICAgIHN0b3BCdG4ucHJvcGVydGllcy5mb250RmFtaWx5ID0gXCInRm9udCBBd2Vzb21lIDUgRnJlZSdcIlxyXG4gICAgICAgIHN0b3BCdG4udGV4dCA9IHRoaXMuc3RvcEljb25UZXh0O1xyXG4gICAgICAgIHN0b3BCdG4uY2xpY2tlZC5hZGRFdmVudExpc3RlbmVyKCgpID0+IHtcclxuICAgICAgICAgICAgYXVkaW9NYW5hZ2VyLnN0b3AoKTtcclxuICAgICAgICAgICAgaWYgKHBsYXlQYXVzZUJ0bi50ZXh0ID09IHRoaXMucGF1c2VJY29uVGV4dCkge1xyXG4gICAgICAgICAgICAgICAgcGxheVBhdXNlQnRuLnRleHQgPSB0aGlzLnBsYXlJY29uVGV4dDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJVcGRhdGVMYXlvdXQoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBsaXN0Vmlldy5hZGRJdGVtKHN0b3BCdG4pO1xyXG5cclxuICAgICAgICB2YXIgcHJldmlvdXNCdG4gPSBuZXcgQnV0dG9uKCk7XHJcbiAgICAgICAgcHJldmlvdXNCdG4ucHJvcGVydGllcy5mb250UHJlZml4ID0gXCI5MDBcIlxyXG4gICAgICAgIHByZXZpb3VzQnRuLnByb3BlcnRpZXMuZm9udEZhbWlseSA9IFwiJ0ZvbnQgQXdlc29tZSA1IEZyZWUnXCJcclxuICAgICAgICBwcmV2aW91c0J0bi50ZXh0ID0gdGhpcy5wcmV2aW91c0ljb25UZXh0O1xyXG4gICAgICAgIHByZXZpb3VzQnRuLmNsaWNrZWQuYWRkRXZlbnRMaXN0ZW5lcigoKSA9PiB7XHJcbiAgICAgICAgICAgIGF1ZGlvTWFuYWdlci5wcmV2aW91cygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGxpc3RWaWV3LmFkZEl0ZW0ocHJldmlvdXNCdG4pO1xyXG5cclxuICAgICAgICB2YXIgbmV4dEJ0biA9IG5ldyBCdXR0b24oKTtcclxuICAgICAgICBuZXh0QnRuLnByb3BlcnRpZXMuZm9udFByZWZpeCA9IFwiOTAwXCJcclxuICAgICAgICBuZXh0QnRuLnByb3BlcnRpZXMuZm9udEZhbWlseSA9IFwiJ0ZvbnQgQXdlc29tZSA1IEZyZWUnXCJcclxuICAgICAgICBuZXh0QnRuLnRleHQgPSB0aGlzLm5leHRJY29uVGV4dDtcclxuICAgICAgICBuZXh0QnRuLmNsaWNrZWQuYWRkRXZlbnRMaXN0ZW5lcigoKSA9PiB7XHJcbiAgICAgICAgICAgIGF1ZGlvTWFuYWdlci5uZXh0KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbGlzdFZpZXcuYWRkSXRlbShuZXh0QnRuKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSkge1xyXG4gICAgICAgIHN1cGVyLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGNoaWxkLnVwZGF0ZUxheW91dChjdHgsIHRoaXMuYm91bmRzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBJbWFnZVNjYWxpbmdNb2RlIH0gZnJvbSBcIi4vaW1hZ2VTY2FsaW5nTW9kZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEltYWdlUHJvcGVydGllcyB7XHJcbiAgICBwdWJsaWMgaW1hZ2VTY2FsaW5nTW9kZSA9IEltYWdlU2NhbGluZ01vZGUuRml0QW5kU3BhY2U7XHJcbiAgICBwdWJsaWMgc2NhbGUgPSAxO1xyXG59IiwiaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBDb250cm9sIH0gZnJvbSBcIi4vY29udHJvbFwiO1xyXG5pbXBvcnQgeyBJbWFnZVByb3BlcnRpZXMgfSBmcm9tIFwiLi9pbWFnZVByb3BlcnRpZXNcIjtcclxuaW1wb3J0IHsgSW1hZ2VTY2FsaW5nTW9kZSB9IGZyb20gXCIuL2ltYWdlU2NhbGluZ01vZGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBFSW1hZ2UgZXh0ZW5kcyBDb250cm9sIHtcclxuICAgIHByaXZhdGUgaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQ7XHJcbiAgICBwdWJsaWMgcHJvcGVydGllcyA9IG5ldyBJbWFnZVByb3BlcnRpZXMoKTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihpbWFnZTogSFRNTEltYWdlRWxlbWVudCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5pbWFnZSA9IGltYWdlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlRnJvbVVybCA9IChpbWFnZVVybDogc3RyaW5nKTogUHJvbWlzZTxFSW1hZ2U+ID0+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICAgICAgaW1hZ2Uuc3JjID0gaW1hZ2VVcmw7XHJcbiAgICAgICAgICAgIGltYWdlLm9ubG9hZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUobmV3IEVJbWFnZShpbWFnZSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdXBlclJlbmRlciA9IHRoaXMucmVuZGVyO1xyXG4gICAgcHVibGljIHJlbmRlciA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc3VwZXJSZW5kZXIoY3R4KTtcclxuXHJcbiAgICAgICAgY3R4LmRyYXdJbWFnZSh0aGlzLmltYWdlLCB0aGlzLmRpbWVuc2lvbnMueCwgdGhpcy5kaW1lbnNpb25zLnksIHRoaXMuZGltZW5zaW9ucy53aWR0aCwgdGhpcy5kaW1lbnNpb25zLmhlaWdodCk7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNNb3VzZU92ZXIgJiYgdGhpcy5pc0VuYWJsZWQpIHtcclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwicmdiYSgyNTUsMjU1LDI1NSwwLjUpXCI7XHJcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdCh0aGlzLmRpbWVuc2lvbnMueCwgdGhpcy5kaW1lbnNpb25zLnksIHRoaXMuZGltZW5zaW9ucy53aWR0aCwgdGhpcy5kaW1lbnNpb25zLmhlaWdodCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVMYXlvdXQoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGJvdW5kczogUmVjdGFuZ2xlKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIudXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuXHJcbiAgICAgICAgdmFyIGZpdFNjYWxlID0gMTtcclxuXHJcbiAgICAgICAgdmFyIGltYWdlU2l6aW5nID0gdGhpcy5pbWFnZS5uYXR1cmFsV2lkdGggLyB0aGlzLmltYWdlLm5hdHVyYWxIZWlnaHQ7XHJcbiAgICAgICAgdmFyIHN0YWdlU2l6aW5nID0gYm91bmRzLndpZHRoIC8gYm91bmRzLmhlaWdodDtcclxuXHJcbiAgICAgICAgdmFyIGlzSW1hZ2VXaWRlciA9IGltYWdlU2l6aW5nID4gc3RhZ2VTaXppbmc7XHJcblxyXG4gICAgICAgIHN3aXRjaCAodGhpcy5wcm9wZXJ0aWVzLmltYWdlU2NhbGluZ01vZGUpIHtcclxuICAgICAgICAgICAgY2FzZSBJbWFnZVNjYWxpbmdNb2RlLkZpdEFuZE92ZXJmaWxsOlxyXG4gICAgICAgICAgICAgICAgaWYgKGlzSW1hZ2VXaWRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpdFNjYWxlID0gYm91bmRzLmhlaWdodCAvIHRoaXMuaW1hZ2UuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBmaXRTY2FsZSA9IGJvdW5kcy53aWR0aCAvIHRoaXMuaW1hZ2Uud2lkdGg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBJbWFnZVNjYWxpbmdNb2RlLkZpdEFuZFNwYWNlOlxyXG4gICAgICAgICAgICAgICAgaWYgKGlzSW1hZ2VXaWRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpdFNjYWxlID0gYm91bmRzLndpZHRoIC8gdGhpcy5pbWFnZS53aWR0aDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZml0U2NhbGUgPSBib3VuZHMuaGVpZ2h0IC8gdGhpcy5pbWFnZS5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMuaW1hZ2UubmF0dXJhbFdpZHRoICogZml0U2NhbGU7XHJcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuaW1hZ2UubmF0dXJhbEhlaWdodCAqIGZpdFNjYWxlO1xyXG5cclxuICAgICAgICB0aGlzLmRpbWVuc2lvbnMueCA9IHRoaXMuYWxpZ25lbWVudC5jYWxjdWxhdGVEaW1lbnNpb25zWChib3VuZHMsIHdpZHRoKTtcclxuICAgICAgICB0aGlzLmRpbWVuc2lvbnMueSA9IHRoaXMuYWxpZ25lbWVudC5jYWxjdWxhdGVEaW1lbnNpb25zWShib3VuZHMsIHdpZHRoKTtcclxuICAgICAgICB0aGlzLmRpbWVuc2lvbnMud2lkdGggPSB3aWR0aDtcclxuICAgICAgICB0aGlzLmRpbWVuc2lvbnMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgTGF5b3V0VmlldyB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xheW91dFZpZXdcIjtcclxuaW1wb3J0IHsgRGluamVjdCB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL2RpbmplY3RcIjtcclxuaW1wb3J0IHsgQXNzZXRNYW5hZ2VyIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvYXNzZXRNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IEVJbWFnZSB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2ltYWdlXCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBJbWFnZVNjYWxpbmdNb2RlIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvY29udHJvbHMvaW1hZ2VTY2FsaW5nTW9kZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJhY2tncm91bmRJbWFnZVZpZXcgZXh0ZW5kcyBMYXlvdXRWaWV3IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKGZhbHNlKTtcclxuICAgICAgICB2YXIgYXNzZXRNYW5hZ2VyID0gRGluamVjdC5nZXRJbnN0YW5jZShcImFzc2V0c1wiKSBhcyBBc3NldE1hbmFnZXI7XHJcbiAgICAgICAgdmFyIGJhY2tncm91bmQgPSBhc3NldE1hbmFnZXIuZ2V0SW1hZ2UoXCJiYWNrZ3JvdW5kXCIpO1xyXG5cclxuICAgICAgICB2YXIgaW1hZ2UgPSBuZXcgRUltYWdlKGJhY2tncm91bmQpXHJcbiAgICAgICAgaW1hZ2UuZGlzYWJsZU1vdXNlRXZlbnRzKCk7XHJcbiAgICAgICAgaW1hZ2UucHJvcGVydGllcy5pbWFnZVNjYWxpbmdNb2RlID0gSW1hZ2VTY2FsaW5nTW9kZS5GaXRBbmRPdmVyZmlsbDtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goaW1hZ2UpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVMYXlvdXQoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGJvdW5kczogUmVjdGFuZ2xlKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIudXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgY2hpbGQudXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBMYXlvdXRWaWV3IH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGF5b3V0Vmlld1wiO1xyXG5pbXBvcnQgeyBEaW5qZWN0IH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvZGluamVjdFwiO1xyXG5pbXBvcnQgeyBBc3NldE1hbmFnZXIgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9hc3NldE1hbmFnZXJcIjtcclxuaW1wb3J0IHsgRUltYWdlIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvY29udHJvbHMvaW1hZ2VcIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IEltYWdlU2NhbGluZ01vZGUgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9jb250cm9scy9pbWFnZVNjYWxpbmdNb2RlXCI7XHJcbmltcG9ydCB7IEVBbmltYXRpb24gfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9lQW5pbWF0aW9uXCI7XHJcbmltcG9ydCB7IEF1ZGlvTWFuYWdlciB9IGZyb20gXCIuLi9hdWRpb01hbmFnZXJcIjtcclxuaW1wb3J0IHsgQXVkaW9HcmFwaE5vZGVBbmFseXNlciB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL2F1ZGlvL2F1ZGlvR3JhcGhOb2RlQW5hbHlzZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBGcm9udFZpZXcgZXh0ZW5kcyBMYXlvdXRWaWV3IHtcclxuICAgIGFuYWx5c2VyOiBBdWRpb0dyYXBoTm9kZUFuYWx5c2VyO1xyXG5cclxuICAgIHByaXZhdGUgZnJlcXVlbmN5SW5kZXggPSA3O1xyXG4gICAgcHJpdmF0ZSBsb3dlckJvcmRlciA9IDAuNDtcclxuICAgIHByaXZhdGUgdXBwZXJCb3JkZXIgPSAwLjk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoZmFsc2UpO1xyXG4gICAgICAgIHZhciBhc3NldE1hbmFnZXIgPSBEaW5qZWN0LmdldEluc3RhbmNlKFwiYXNzZXRzXCIpIGFzIEFzc2V0TWFuYWdlcjtcclxuXHJcbiAgICAgICAgdmFyIGF1ZGlvTWFuYWdlciA9IERpbmplY3QuZ2V0SW5zdGFuY2UoXCJhdWRpb1wiKSBhcyBBdWRpb01hbmFnZXI7XHJcbiAgICAgICAgdGhpcy5hbmFseXNlciA9IGF1ZGlvTWFuYWdlci5nZXRBbmFseXNlcigpO1xyXG5cclxuICAgICAgICB2YXIgbG9nbyA9IGFzc2V0TWFuYWdlci5nZXRJbWFnZShcImxvZ29cIik7XHJcbiAgICAgICAgdmFyIGxvZ29Ob3ZhID0gYXNzZXRNYW5hZ2VyLmdldEltYWdlKFwibG9nby1ub3ZhXCIpO1xyXG5cclxuICAgICAgICB0aGlzLmRpc2FibGVNb3VzZUV2ZW50cygpO1xyXG5cclxuICAgICAgICB2YXIgbG9nb05vdmFFSW1hZ2UgPSBuZXcgRUltYWdlKGxvZ29Ob3ZhKTtcclxuICAgICAgICBsb2dvTm92YUVJbWFnZS5wcm9wZXJ0aWVzLmltYWdlU2NhbGluZ01vZGUgPSBJbWFnZVNjYWxpbmdNb2RlLkZpdEFuZE92ZXJmaWxsO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChsb2dvTm92YUVJbWFnZSk7XHJcblxyXG4gICAgICAgIHZhciBmdW5jID0gbG9nb05vdmFFSW1hZ2UucmVuZGVyXHJcblxyXG4gICAgICAgIGxvZ29Ob3ZhRUltYWdlLnJlbmRlciA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4ge1xyXG4gICAgICAgICAgICB2YXIgZGF0YSA9IHRoaXMuYW5hbHlzZXIuZ2V0U3BlY3RydW0oKTtcclxuICAgICAgICAgICAgdmFyIHJlbERhdGFWYWx1ZSA9IHRoaXMuY2FsY3VsYXRlUmVsRGF0YVZhbHVlKGRhdGFbdGhpcy5mcmVxdWVuY3lJbmRleF0pO1xyXG5cclxuICAgICAgICAgICAgY3R4LnNhdmUoKTtcclxuICAgICAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gcmVsRGF0YVZhbHVlO1xyXG4gICAgICAgICAgICBmdW5jKGN0eCk7XHJcbiAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgbG9nb0Zyb250ID0gbmV3IEVJbWFnZShsb2dvKTtcclxuICAgICAgICBsb2dvRnJvbnQucHJvcGVydGllcy5pbWFnZVNjYWxpbmdNb2RlID0gSW1hZ2VTY2FsaW5nTW9kZS5GaXRBbmRPdmVyZmlsbDtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2gobG9nb0Zyb250KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNhbGN1bGF0ZVJlbERhdGFWYWx1ZShkYXRhVmFsdWU6IG51bWJlcikge1xyXG4gICAgICAgIHZhciByZWxEYXRhVmFsdWUgPSBkYXRhVmFsdWUgLyAyNTU7XHJcbiAgICAgICAgaWYgKHJlbERhdGFWYWx1ZSA8IHRoaXMubG93ZXJCb3JkZXIpIHtcclxuICAgICAgICAgICAgcmVsRGF0YVZhbHVlID0gdGhpcy5sb3dlckJvcmRlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHJlbERhdGFWYWx1ZSA+IHRoaXMudXBwZXJCb3JkZXIpIHtcclxuICAgICAgICAgICAgcmVsRGF0YVZhbHVlID0gdGhpcy51cHBlckJvcmRlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGZpbmFsUmVsRGF0YVZhbHVlID0gKHJlbERhdGFWYWx1ZSAtIHRoaXMubG93ZXJCb3JkZXIpIC8gKHRoaXMudXBwZXJCb3JkZXIgLSB0aGlzLmxvd2VyQm9yZGVyKTtcclxuICAgICAgICByZXR1cm4gZmluYWxSZWxEYXRhVmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUxheW91dChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICBjaGlsZC51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBMYWJlbFByb3BlcnRpZXMge1xyXG4gICAgcHVibGljIGZvbnRTaXplID0gNDA7XHJcbiAgICBwdWJsaWMgZm9udFByZWZpeCA9IFwiXCI7XHJcbiAgICBwdWJsaWMgZm9udEZhbWlseSA9IFwiZm9udGF3ZXNvbWVcIjtcclxuICAgIHB1YmxpYyBmaWxsU3R5bGUgPSBcImJsdWVcIjtcclxuICAgIHB1YmxpYyBiYWNrZ3JvdW5kRmlsbFN0eWxlOiBzdHJpbmcgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgcHVibGljIGdldEZvbnQgPSAoKSA9PiB7XHJcbiAgICAgICAgdmFyIGZvbnQgPSBcIlwiO1xyXG4gICAgICAgIGlmICh0aGlzLmZvbnRQcmVmaXgpIHtcclxuICAgICAgICAgICAgZm9udCArPSB0aGlzLmZvbnRQcmVmaXggKyBcIiBcIlxyXG4gICAgICAgIH1cclxuICAgICAgICBmb250ICs9IHRoaXMuZm9udFNpemUgKyBcInB4XCIgKyBcIiBcIiArIHRoaXMuZm9udEZhbWlseTtcclxuICAgICAgICByZXR1cm4gZm9udDtcclxuICAgIH1cclxufSIsImltcG9ydCB7IENvbnRyb2wgfSBmcm9tIFwiLi9jb250cm9sXCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgTGFiZWxQcm9wZXJ0aWVzIH0gZnJvbSBcIi4vbGFiZWxQcm9wZXJ0aWVzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTGFiZWwgZXh0ZW5kcyBDb250cm9sIHtcclxuICAgIHB1YmxpYyBwcm9wZXJ0aWVzID0gbmV3IExhYmVsUHJvcGVydGllcygpO1xyXG5cclxuICAgIHB1YmxpYyB0ZXh0OiBzdHJpbmc7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmRpc2FibGVNb3VzZUV2ZW50cygpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW5kZXIgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpID0+IHtcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5wcm9wZXJ0aWVzLmZpbGxTdHlsZTtcclxuICAgICAgICBjdHguZm9udCA9IHRoaXMucHJvcGVydGllcy5nZXRGb250KCk7XHJcbiAgICAgICAgY3R4LnRleHRBbGlnbiA9IFwibGVmdFwiO1xyXG4gICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSBcInRvcFwiO1xyXG4gICAgICAgIGN0eC5maWxsVGV4dCh0aGlzLnRleHQsIHRoaXMuZGltZW5zaW9ucy54LCB0aGlzLmRpbWVuc2lvbnMueSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUxheW91dCA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpOiB2b2lkID0+IHtcclxuICAgICAgICBzdXBlci51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG5cclxuICAgICAgICBjdHguZm9udCA9IHRoaXMucHJvcGVydGllcy5nZXRGb250KCk7XHJcbiAgICAgICAgY3R4LnRleHRBbGlnbiA9IFwibGVmdFwiO1xyXG4gICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSBcInRvcFwiO1xyXG4gICAgICAgIHZhciBzaXplID0gY3R4Lm1lYXN1cmVUZXh0KHRoaXMudGV4dCk7XHJcblxyXG4gICAgICAgIHZhciB4ID0gdGhpcy5hbGlnbmVtZW50LmNhbGN1bGF0ZURpbWVuc2lvbnNYKGJvdW5kcywgc2l6ZS53aWR0aCk7XHJcbiAgICAgICAgdmFyIHkgPSB0aGlzLmFsaWduZW1lbnQuY2FsY3VsYXRlRGltZW5zaW9uc1koYm91bmRzLCB0aGlzLnByb3BlcnRpZXMuZm9udFNpemUpO1xyXG5cclxuICAgICAgICB0aGlzLmRpbWVuc2lvbnMgPSBuZXcgUmVjdGFuZ2xlKHgsIHksIHNpemUud2lkdGgsIHRoaXMucHJvcGVydGllcy5mb250U2l6ZSlcclxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmRpbWVuc2lvbnMpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgTGF5b3V0VmlldyB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xheW91dFZpZXdcIjtcclxuaW1wb3J0IHsgTGFiZWwgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9jb250cm9scy9sYWJlbFwiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBMb2FkaW5nVmlldyBleHRlbmRzIExheW91dFZpZXcge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB2YXIgbG9hZGluZ0xhYmVsID0gbmV3IExhYmVsKCk7XHJcbiAgICAgICAgbG9hZGluZ0xhYmVsLnRleHQgPSBcIkxvYWRpbmcuLi5cIjtcclxuICAgICAgICBsb2FkaW5nTGFiZWwucHJvcGVydGllcy5maWxsU3R5bGUgPSBcIndoaXRlXCJcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2gobG9hZGluZ0xhYmVsKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSkge1xyXG4gICAgICAgIHN1cGVyLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGNoaWxkLnVwZGF0ZUxheW91dChjdHgsIHRoaXMuYm91bmRzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBMYXlvdXRWaWV3IH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGF5b3V0Vmlld1wiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgU3RhckxheWVyRHJhd2VyIH0gZnJvbSBcIi4vc3RhckxheWVyRHJhd2VyXCI7XHJcbmltcG9ydCB7IFNldHRpbmdzT3ZlcmxheVZpZXcgfSBmcm9tIFwiLi9vdmVybGF5L3NldHRpbmdzT3ZlcmxheVZpZXdcIjtcclxuaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4uL2FwcFwiO1xyXG5pbXBvcnQgeyBTdGFyTGF5ZXJBbmltYXRvciB9IGZyb20gXCIuL3N0YXJMYXllckFuaW1hdG9yXCI7XHJcbmltcG9ydCB7IEVBbmltYXRpb24gfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9lQW5pbWF0aW9uXCI7XHJcbmltcG9ydCB7IFNldHRpbmdPcGVyYXRpb24gfSBmcm9tIFwiLi4vc2V0dGluZ3Mvc2V0dGluZ09wZXJhdGlvblwiO1xyXG5pbXBvcnQgeyBEaW5qZWN0IH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvZGluamVjdFwiO1xyXG5pbXBvcnQgeyBQbGF5ZXJWaWV3IH0gZnJvbSBcIi4vcGxheWVyVmlld1wiO1xyXG5pbXBvcnQgeyBCYWNrZ3JvdW5kSW1hZ2VWaWV3IH0gZnJvbSBcIi4vYmFja2dyb3VuZEltYWdlVmlld1wiO1xyXG5pbXBvcnQgeyBGcm9udFZpZXcgfSBmcm9tIFwiLi9mcm9udFZpZXdcIjtcclxuaW1wb3J0IHsgTG9hZGluZ1ZpZXcgfSBmcm9tIFwiLi9sb2FkaW5nVmlld1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEluc3BpZXJ0eVBsYXllclZpZXcgZXh0ZW5kcyBMYXlvdXRWaWV3IHtcclxuICAgIHByaXZhdGUgc3RhckxheWVyczogU3RhckxheWVyRHJhd2VyW10gPSBbXTtcclxuICAgIHByaXZhdGUgc3RhckFuaW1hdG9yczogU3RhckxheWVyQW5pbWF0b3JbXSA9IFtdO1xyXG5cclxuICAgIHByaXZhdGUgYW5pbWF0aW9uOiBFQW5pbWF0aW9uO1xyXG5cclxuICAgIHByaXZhdGUgbG9hZGluZ1ZpZXc6IExvYWRpbmdWaWV3O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uID0gRGluamVjdC5nZXRJbnN0YW5jZShcImFuaW1hdGlvblwiKTtcclxuXHJcbiAgICAgICAgdGhpcy5sb2FkaW5nVmlldyA9IG5ldyBMb2FkaW5nVmlldygpO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaCh0aGlzLmxvYWRpbmdWaWV3KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhcnQgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5yZW1vdmVJdGVtKHRoaXMubG9hZGluZ1ZpZXcpO1xyXG4gICAgICAgIHZhciBiYWNrZ3JvdW5kID0gbmV3IEJhY2tncm91bmRJbWFnZVZpZXcoKTtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goYmFja2dyb3VuZCk7XHJcbiAgICAgICAgYmFja2dyb3VuZC5hY3RpdmF0ZSgpO1xyXG4gICAgICAgIChkb2N1bWVudCBhcyBhbnkpLnRlc3RpdCA9IGJhY2tncm91bmQ7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKG5ldyBQbGF5ZXJWaWV3KCkpO1xyXG4gICAgICAgIHZhciBmcm9udCA9IG5ldyBGcm9udFZpZXcoKTtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goZnJvbnQpO1xyXG4gICAgICAgIGZyb250LmFjdGl2YXRlKCk7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKG5ldyBTZXR0aW5nc092ZXJsYXlWaWV3KCkpO1xyXG4gICAgICAgIEFwcC5zZXR0aW5nTWFuYWdlci51cGRhdGUuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLmFwcFNldHRpbmdzVXBkYXRlZCk7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyVXBkYXRlTGF5b3V0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhcHBTZXR0aW5nc1VwZGF0ZWQgPSAob3BlcmF0aW9uOiBTZXR0aW5nT3BlcmF0aW9uKSA9PiB7XHJcbiAgICAgICAgc3dpdGNoIChvcGVyYXRpb24pIHtcclxuICAgICAgICAgICAgY2FzZSBTZXR0aW5nT3BlcmF0aW9uLkFkZFN0YXJMYXllcjpcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRkU3RhckxheWVyKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBTZXR0aW5nT3BlcmF0aW9uLlJlbW92ZVN0YXJMYXllcjpcclxuICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlU3RhckxheWVyKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZFN0YXJMYXllciA9ICgpID0+IHtcclxuICAgICAgICBmb3IgKGNvbnN0IHN0YXJMYXllciBvZiBBcHAuc2V0dGluZ3Muc3RhckxheWVycykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zdGFyTGF5ZXJzLmZpcnN0T3JEZWZhdWx0KHggPT4geC5zdGFyTGF5ZXIgPT0gc3RhckxheWVyKSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbGF5ZXIgPSBuZXcgU3RhckxheWVyRHJhd2VyKHN0YXJMYXllcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJMYXllcnMucHVzaChsYXllcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnNwbGljZSgxLCAwLCBsYXllcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXJVcGRhdGVMYXlvdXQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgYW5pbWF0b3IgPSBuZXcgU3RhckxheWVyQW5pbWF0b3Ioc3RhckxheWVyKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uLmFkZFVwZGF0ZUZ1bmN0aW9uKGFuaW1hdG9yLnVwZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJBbmltYXRvcnMucHVzaChhbmltYXRvcik7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlU3RhckxheWVyID0gKCkgPT4ge1xyXG4gICAgICAgIGZvciAoY29uc3Qgc3RhckxheWVyRHJhd3Mgb2YgdGhpcy5zdGFyTGF5ZXJzKSB7XHJcbiAgICAgICAgICAgIGlmIChBcHAuc2V0dGluZ3Muc3RhckxheWVycy5maXJzdE9yRGVmYXVsdCh4ID0+IHggPT0gc3RhckxheWVyRHJhd3Muc3RhckxheWVyKSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYW5pbWF0b3IgPSB0aGlzLnN0YXJBbmltYXRvcnMuZmlyc3QoeCA9PiB4LnN0YXJMYXllciA9PSBzdGFyTGF5ZXJEcmF3cy5zdGFyTGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb24ucmVtb3ZlVXBkYXRlRnVuY3Rpb24oYW5pbWF0b3IudXBkYXRlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhckFuaW1hdG9ycy5yZW1vdmVJdGVtKGFuaW1hdG9yKTtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnJlbW92ZSh4ID0+IHggPT0gc3RhckxheWVyRHJhd3MpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFyTGF5ZXJzLnJlbW92ZSh4ID0+IHggPT0gc3RhckxheWVyRHJhd3MpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyVXBkYXRlTGF5b3V0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUxheW91dChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICBjaGlsZC51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IFN0YXIgfSBmcm9tIFwiLi9zdGFyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU3RhckxheWVyIHtcclxuICAgIHB1YmxpYyBzdGFyczogU3RhcltdID0gW107XHJcbiAgICBwdWJsaWMgc3BlZWQgPSBNYXRoLnJhbmRvbSgpICogMSArIDAuMTtcclxufSIsImV4cG9ydCB0eXBlIFVwZGF0ZUZ1bmN0aW9uID0gKHRpbWVEaWZmOiBudW1iZXIpID0+IHZvaWQ7XHJcblxyXG5leHBvcnQgY2xhc3MgRUFuaW1hdGlvbiB7XHJcbiAgICBwcml2YXRlIHVwZGF0ZUZ1bmN0aW9uczogVXBkYXRlRnVuY3Rpb25bXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBpc1J1bm5pbmcgPSBmYWxzZTtcclxuICAgIHByaXZhdGUgbGFzdEZyYW1lVGltZTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBmcHM6IG51bWJlcjtcclxuICAgIHByaXZhdGUgZnBzSW50ZXJ2YWw6IG51bWJlcjtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRGcHMoMzApO1xyXG4gICAgICAgIHRoaXMucGxheSgpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IDgwKSB7IC8vIHBcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheVBhdXNlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGxheSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNSdW5uaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNSdW5uaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5sYXN0RnJhbWVUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25Mb29wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwYXVzZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc1J1bm5pbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5pc1J1bm5pbmcgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBsYXlQYXVzZSgpIHtcclxuICAgICAgICB0aGlzLmlzUnVubmluZyA/IHRoaXMucGF1c2UoKSA6IHRoaXMucGxheSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRVcGRhdGVGdW5jdGlvbiA9IChmdW5jOiBVcGRhdGVGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlRnVuY3Rpb25zLnB1c2goZnVuYyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZVVwZGF0ZUZ1bmN0aW9uID0gKGZ1bmM6IFVwZGF0ZUZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVGdW5jdGlvbnMuc3BsaWNlKHRoaXMudXBkYXRlRnVuY3Rpb25zLmluZGV4T2YoZnVuYyksIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRGcHMgPSAoZnBzOiBudW1iZXIpID0+IHtcclxuICAgICAgICB0aGlzLmZwcyA9IGZwcztcclxuICAgICAgICB0aGlzLmZwc0ludGVydmFsID0gMTAwMCAvIHRoaXMuZnBzO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYW5pbWF0aW9uTG9vcCA9ICgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5pc1J1bm5pbmcpIHtcclxuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0aW9uTG9vcCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTtcclxuICAgICAgICB2YXIgZWxhcHNlZCA9IG5vdyAtIHRoaXMubGFzdEZyYW1lVGltZTtcclxuXHJcbiAgICAgICAgaWYgKGVsYXBzZWQgPiB0aGlzLmZwc0ludGVydmFsKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdEZyYW1lVGltZSA9IG5vdztcclxuICAgICAgICAgICAgdmFyIHRpbWVEaWZmID0gZWxhcHNlZCAvIDEwMDA7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHVwZGF0ZUZ1bmN0aW9uIG9mIHRoaXMudXBkYXRlRnVuY3Rpb25zKSB7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVGdW5jdGlvbih0aW1lRGlmZik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgQ2FudmFzSGVscGVyIHtcclxuICAgIHB1YmxpYyBsb2FkRm9udGF3ZXNvbWVGcmVlID0gKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRGb250KFwiXFx1ZjI0NFwiLCBcIlxcdWYyNDBcIiwgXCI5MDAgMjBweCAnRm9udCBBd2Vzb21lIDUgRnJlZSdcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGxvYWRGb250YXdlc29tZUJyYW5kcyA9ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5sb2FkRm9udChcIlxcdWYzZDNcIiwgXCJcXHVmM2I4XCIsIFwiNDAwIDIwcHggJ0ZvbnQgQXdlc29tZSA1IEJyYW5kcydcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjb3VudFBpeGVscyA9IChpbWFnZURhdGE6IEltYWdlRGF0YSkgPT4ge1xyXG4gICAgICAgIHZhciBwaXhlbENvdW50ID0gMDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGltYWdlRGF0YS5kYXRhLmxlbmd0aDsgaSA9IGkgKyA0KSB7XHJcbiAgICAgICAgICAgIHZhciByID0gaW1hZ2VEYXRhLmRhdGFbaV07XHJcbiAgICAgICAgICAgIHZhciBnID0gaW1hZ2VEYXRhLmRhdGFbaSArIDFdO1xyXG4gICAgICAgICAgICB2YXIgYiA9IGltYWdlRGF0YS5kYXRhW2kgKyAyXTtcclxuICAgICAgICAgICAgdmFyIGEgPSBpbWFnZURhdGEuZGF0YVtpICsgM107XHJcblxyXG4gICAgICAgICAgICBpZiAociA8IDUwICYmIGcgPCA1MCAmJiBiIDwgNTAgJiYgYSA+IDAuOSkge1xyXG4gICAgICAgICAgICAgICAgcGl4ZWxDb3VudCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwaXhlbENvdW50XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRJY29uUGl4ZWxzID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50LCBpY29uOiBzdHJpbmcpID0+IHtcclxuICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgY3R4LmZpbGxUZXh0KGljb24sIDAsIDApO1xyXG4gICAgICAgIHZhciBpbWFnZURhdGEgPSBjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgdmFyIGljb24xUGl4ZWxDb3VudCA9IHRoaXMuY291bnRQaXhlbHMoaW1hZ2VEYXRhKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcImljb24gMSBwaXhlbCBjb3VudDogXCIgKyBpY29uMVBpeGVsQ291bnQpO1xyXG4gICAgICAgIHJldHVybiBpY29uMVBpeGVsQ291bnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBsb2FkRm9udCA9IChpY29uMTogc3RyaW5nLCBpY29uMjogc3RyaW5nLCBmb250OiBzdHJpbmcpID0+IHtcclxuICAgICAgICB2YXIgcmV0cnlEZWxheU1zID0gNTAwO1xyXG4gICAgICAgIHZhciByZXRyaWVzID0gMTBcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJsb2FkaW5nIGZvbnQgXFxcIlwiICsgZm9udCArIFwiXFxcIlwiKTtcclxuXHJcbiAgICAgICAgICAgIHZhciB0ZW1wQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgICAgICAgIHRlbXBDYW52YXMud2lkdGggPSAyMDtcclxuICAgICAgICAgICAgdGVtcENhbnZhcy5oZWlnaHQgPSAyMDtcclxuICAgICAgICAgICAgdmFyIHRlbXBDdHggPSB0ZW1wQ2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgICAgIHRlbXBDdHguZm9udCA9IGZvbnQ7XHJcbiAgICAgICAgICAgIHRlbXBDdHguZmlsbFN0eWxlID0gXCJibGFja1wiO1xyXG4gICAgICAgICAgICB0ZW1wQ3R4LnRleHRBbGlnbiA9IFwibGVmdFwiO1xyXG4gICAgICAgICAgICB0ZW1wQ3R4LnRleHRCYXNlbGluZSA9IFwidG9wXCI7XHJcblxyXG4gICAgICAgICAgICB2YXIgY2hlY2tMb2FkZWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaWNvbjFQaXhlbENvdW50ID0gdGhpcy5nZXRJY29uUGl4ZWxzKHRlbXBDdHgsIHRlbXBDYW52YXMsIGljb24xKTtcclxuICAgICAgICAgICAgICAgIHZhciBpY29uMlBpeGVsQ291bnQgPSB0aGlzLmdldEljb25QaXhlbHModGVtcEN0eCwgdGVtcENhbnZhcywgaWNvbjIpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBkaWZmUGl4ZWxzID0gTWF0aC5hYnMoaWNvbjJQaXhlbENvdW50IC0gaWNvbjFQaXhlbENvdW50KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZGlmZlBpeGVscyA+IDUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImxvYWRlZCBmb250IFxcXCJcIiArIGZvbnQgKyBcIlxcXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXRyaWVzLS07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJldHJpZXMgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInN0b3AgbG9hZGluZyBmb250IGFmdGVyIFwiICsgcmV0cmllcyArIFwiIHJldHJpZXMgd2l0aCBcIiArIHJldHJ5RGVsYXlNcyArIFwibXMgZGVsYXlcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIndhaXRpbmcgYSB3aGlsZSAoXCIgKyByZXRyeURlbGF5TXMgKyBcIm1zKVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja0xvYWRlZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCByZXRyeURlbGF5TXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjaGVja0xvYWRlZCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGFic3RyYWN0IGNsYXNzIEF1ZGlvR3JhcGhOb2RlIHtcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBuYW1lOiBzdHJpbmcsIHByb3RlY3RlZCBhdWRpb0N0eDogQXVkaW9Db250ZXh0KSB7IH1cclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0QXVkaW9Ob2RlKCk6IEF1ZGlvTm9kZTtcclxuICAgIHB1YmxpYyBhYnN0cmFjdCByZWxvYWQoKTogUHJvbWlzZTx2b2lkPjtcclxufSIsImltcG9ydCB7IEF1ZGlvR3JhcGhOb2RlIH0gZnJvbSBcIi4vYXVkaW9HcmFwaE5vZGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBdWRpb0dyYXBoTm9kZUFuYWx5c2VyIGV4dGVuZHMgQXVkaW9HcmFwaE5vZGUge1xyXG4gICAgYW5hbHlzZXJOb2RlOiBBbmFseXNlck5vZGU7XHJcbiAgICBidWZmZXJMZW5ndGg6IG51bWJlcjtcclxuICAgIGRhdGFBcnJheTogVWludDhBcnJheTtcclxuXHJcbiAgICBwdWJsaWMgZ2V0QXVkaW9Ob2RlID0gKCk6IEF1ZGlvTm9kZSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYW5hbHlzZXJOb2RlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZWxvYWQoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmFuYWx5c2VyTm9kZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hbmFseXNlck5vZGUgPSB0aGlzLmF1ZGlvQ3R4LmNyZWF0ZUFuYWx5c2VyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5hbmFseXNlck5vZGUuZmZ0U2l6ZSA9IDMyO1xyXG4gICAgICAgICAgICB0aGlzLmFuYWx5c2VyTm9kZS5zbW9vdGhpbmdUaW1lQ29uc3RhbnQgPSAwLjk7XHJcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyTGVuZ3RoID0gdGhpcy5hbmFseXNlck5vZGUuZnJlcXVlbmN5QmluQ291bnQ7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YUFycmF5ID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5idWZmZXJMZW5ndGgpO1xyXG4gICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFNwZWN0cnVtKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmFuYWx5c2VyTm9kZSkge1xyXG4gICAgICAgICAgICB0aGlzLmFuYWx5c2VyTm9kZS5nZXRCeXRlRnJlcXVlbmN5RGF0YSh0aGlzLmRhdGFBcnJheSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGFBcnJheTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KDApO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRXYXZlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmFuYWx5c2VyTm9kZSkge1xyXG4gICAgICAgICAgICB0aGlzLmFuYWx5c2VyTm9kZS5nZXRCeXRlVGltZURvbWFpbkRhdGEodGhpcy5kYXRhQXJyYXkpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhQXJyYXk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheSgwKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEF1ZGlvR3JhcGhOb2RlIH0gZnJvbSBcIi4vYXVkaW9HcmFwaE5vZGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBdWRpb0dyYXBoTm9kZURlc3RpbmF0aW9uIGV4dGVuZHMgQXVkaW9HcmFwaE5vZGUge1xyXG4gICAgcHVibGljIGdldEF1ZGlvTm9kZSA9ICgpOiBBdWRpb05vZGUgPT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmF1ZGlvQ3R4LmRlc3RpbmF0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZWxvYWQoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQXVkaW9HcmFwaE5vZGUgfSBmcm9tIFwiLi9hdWRpb0dyYXBoTm9kZVwiO1xyXG5pbXBvcnQgeyBFRXZlbnQgfSBmcm9tIFwiLi4vZUV2ZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQXVkaW9HcmFwaE5vZGVFbGVtZW50U291cmNlIGV4dGVuZHMgQXVkaW9HcmFwaE5vZGUge1xyXG4gICAgcHVibGljIHVybDogc3RyaW5nO1xyXG4gICAgcHVibGljIGF1ZGlvRW5kZWQgPSBuZXcgRUV2ZW50KCk7XHJcblxyXG4gICAgcHJpdmF0ZSBzb3VyY2U6IE1lZGlhRWxlbWVudEF1ZGlvU291cmNlTm9kZTtcclxuICAgIHByaXZhdGUgYXVkaW86IEhUTUxBdWRpb0VsZW1lbnQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IobmFtZTogc3RyaW5nLCBhdWRpb0N0eDogQXVkaW9Db250ZXh0LCB1cmw6IHN0cmluZykge1xyXG4gICAgICAgIHN1cGVyKG5hbWUsIGF1ZGlvQ3R4KTtcclxuICAgICAgICB0aGlzLnVybCA9IHVybDtcclxuXHJcbiAgICAgICAgdGhpcy5hdWRpbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2F1ZGlvJyk7XHJcbiAgICAgICAgdGhpcy5hdWRpby5jb250cm9scyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5hdWRpby5zcmMgPSB0aGlzLnVybDtcclxuICAgICAgICB0aGlzLmF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLCB0aGlzLmF1ZGlvRW5kZWRFdmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhdWRpb0VuZGVkRXZlbnQgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5hdWRpb0VuZGVkLmRpc3BhdGNoRXZlbnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0QXVkaW9Ob2RlID0gKCk6IEF1ZGlvTm9kZSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZWxvYWQoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnNvdXJjZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VyY2UgPSB0aGlzLmF1ZGlvQ3R4LmNyZWF0ZU1lZGlhRWxlbWVudFNvdXJjZSh0aGlzLmF1ZGlvKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBsYXkgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5hdWRpby5wbGF5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBhdXNlID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuYXVkaW8ucGF1c2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RvcCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmF1ZGlvLnBhdXNlKCk7XHJcbiAgICAgICAgdGhpcy5hdWRpby5jdXJyZW50VGltZSA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFVybCA9ICh1cmw6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIHZhciBwbGF5ID0gIXRoaXMuYXVkaW8ucGF1c2VkO1xyXG4gICAgICAgIHRoaXMudXJsID0gdXJsO1xyXG4gICAgICAgIHRoaXMuYXVkaW8uc3JjID0gdXJsO1xyXG4gICAgICAgIHRoaXMuYXVkaW8ubG9hZCgpO1xyXG4gICAgICAgIGlmIChwbGF5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuYXVkaW8ucGxheSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IEF1ZGlvR3JhcGhOb2RlIH0gZnJvbSBcIi4vYXVkaW9HcmFwaE5vZGVcIjtcclxuaW1wb3J0IHsgQXVkaW9HcmFwaE5vZGVBbmFseXNlciB9IGZyb20gXCIuL2F1ZGlvR3JhcGhOb2RlQW5hbHlzZXJcIjtcclxuaW1wb3J0IHsgQXVkaW9HcmFwaE5vZGVEZXN0aW5hdGlvbiB9IGZyb20gXCIuL2F1ZGlvR3JhcGhOb2RlRGVzdGluYXRpb25cIjtcclxuaW1wb3J0IHsgQXVkaW9HcmFwaE5vZGVFbGVtZW50U291cmNlIH0gZnJvbSBcIi4vYXVkaW9HcmFwaE5vZGVFbGVtZW50U291cmNlXCI7XHJcbmltcG9ydCB7IEF1ZGlvR3JhcGhOb2RlU3RyZWFtU291cmNlIH0gZnJvbSBcIi4vYXVkaW9HcmFwaE5vZGVTdHJlYW1Tb3VyY2VcIjtcclxuaW1wb3J0IHsgRUV2ZW50VCB9IGZyb20gXCIuLi9lRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBdWRpb0dyYXBoIHtcclxuICAgIHB1YmxpYyBhdWRpb0N0eDogQXVkaW9Db250ZXh0O1xyXG5cclxuICAgIC8vIHByaXZhdGUgc291cmNlTm9kZTogQXVkaW9HcmFwaE5vZGU8QXVkaW9Ob2RlPjtcclxuICAgIC8vIHByaXZhdGUgYW5hbHl6ZXJOb2RlOiBBdWRpb0dyYXBoTm9kZUFuYWx5c2VyO1xyXG5cclxuICAgIC8vIHJlbW92ZSBnZW5lcmljIFQ/XHJcbiAgICBwcml2YXRlIGF1ZGlvTm9kZXM6IEF1ZGlvR3JhcGhOb2RlW10gPSBbXTtcclxuXHJcbiAgICBwdWJsaWMgZGVzdGluYXRpb25Ob2RlOiBBdWRpb0dyYXBoTm9kZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmF1ZGlvQ3R4ID0gbmV3IEF1ZGlvQ29udGV4dCgpO1xyXG4gICAgICAgIHRoaXMuYXVkaW9DdHguYWRkRXZlbnRMaXN0ZW5lcihcInN0YXRlY2hhbmdlXCIsIHRoaXMuYXVkaW9Db250ZXh0U3RhdGVDaGFuZ2VkRXZhbHVhdG9yKTtcclxuICAgICAgICBpZiAodGhpcy5hdWRpb0N0eC5zdGF0ZSA9PT0gXCJzdXNwZW5kZWRcIikge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5kb2N1bWVudENsaWNrKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJBdWRpbyBjb250ZXh0IGlzIHN1c3BlbmRlZC4gQ2xpY2sgdGhlIGRvbSB0byBtYWtlIGl0IHJ1bm5pbmcuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uTm9kZSA9IG5ldyBBdWRpb0dyYXBoTm9kZURlc3RpbmF0aW9uKFwiZGVzdGluYXRpb25cIiwgdGhpcy5hdWRpb0N0eCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZE1lZGlhRWxlbWVudFNvdXJjZSA9IChuYW1lOiBzdHJpbmcsIHVybDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgdmFyIHNvdXJjZU5vZGUgPSBuZXcgQXVkaW9HcmFwaE5vZGVFbGVtZW50U291cmNlKG5hbWUsIHRoaXMuYXVkaW9DdHgsIHVybCk7XHJcbiAgICAgICAgdGhpcy5hdWRpb05vZGVzLnB1c2goc291cmNlTm9kZSk7XHJcbiAgICAgICAgcmV0dXJuIHNvdXJjZU5vZGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZEFuYWx5emVyID0gKG5hbWU6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIHZhciBhbmFseXplck5vZGUgPSBuZXcgQXVkaW9HcmFwaE5vZGVBbmFseXNlcihuYW1lLCB0aGlzLmF1ZGlvQ3R4KTtcclxuICAgICAgICB0aGlzLmF1ZGlvTm9kZXMucHVzaChhbmFseXplck5vZGUpO1xyXG4gICAgICAgIHJldHVybiBhbmFseXplck5vZGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEF1ZGlvR3JhcGhOb2RlID0gKG5hbWU6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmF1ZGlvTm9kZXMuZmlyc3QoeCA9PiB4Lm5hbWUgPT0gbmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcHVibGljIHBsYXlVcmwgPSAodXJsOiBzdHJpbmcpID0+IHtcclxuICAgIC8vICAgICB0aGlzLnNvdXJjZU5vZGUgPSBuZXcgQXVkaW9HcmFwaE5vZGVFbGVtZW50U291cmNlKHRoaXMuYXVkaW9DdHgsIHVybCk7XHJcbiAgICAvLyAgICAgaWYgKHRoaXMuYXVkaW9DdHguc3RhdGUgPT09IFwicnVubmluZ1wiKSB7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuYnVpbGRHcmFwaCgpO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBwdWJsaWMgcGxheVN0cmVhbSA9ICgpID0+IHtcclxuICAgIC8vICAgICB0aGlzLnNvdXJjZU5vZGUgPSBuZXcgQXVkaW9HcmFwaE5vZGVTdHJlYW1Tb3VyY2UodGhpcy5hdWRpb0N0eCk7XHJcbiAgICAvLyAgICAgaWYgKHRoaXMuYXVkaW9DdHguc3RhdGUgPT09IFwicnVubmluZ1wiKSB7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuYnVpbGRHcmFwaCgpO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH1cclxuXHJcbiAgICBwdWJsaWMgYXVkaW9Db250ZXh0U3RhdGVDaGFuZ2VkID0gbmV3IEVFdmVudFQ8c3RyaW5nPigpO1xyXG5cclxuICAgIHByaXZhdGUgZG9jdW1lbnRDbGljayA9ICgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5hdWRpb0N0eC5zdGF0ZSA9PT0gXCJzdXNwZW5kZWRcIikge1xyXG4gICAgICAgICAgICB0aGlzLmF1ZGlvQ3R4LnJlc3VtZSgpO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5kb2N1bWVudENsaWNrKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhdWRpb0NvbnRleHRTdGF0ZUNoYW5nZWRFdmFsdWF0b3IgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuYXVkaW9DdHguc3RhdGUgPT09IFwicnVubmluZ1wiKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiYXVkaW8gY29udGV4dCBzdGF0ZSBjaGFuZ2VkXCIpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5hdWRpb0N0eC5yZW1vdmVFdmVudExpc3RlbmVyKFwic3RhdGVjaGFuZ2VcIiwgdGhpcy5hdWRpb0NvbnRleHRTdGF0ZUNoYW5nZWRFdmFsdWF0b3IpO1xyXG4gICAgICAgICAgICB0aGlzLnJlbG9hZCgpXHJcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdWRpb0NvbnRleHRTdGF0ZUNoYW5nZWQuZGlzcGF0Y2hFdmVudCh0aGlzLmF1ZGlvQ3R4LnN0YXRlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVsb2FkID0gKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmVhbG9hZGluZyBhdWRpbyBncmFwaFwiKTtcclxuICAgICAgICAgICAgUHJvbWlzZS5hbGwodGhpcy5hdWRpb05vZGVzLm1hcCh4ID0+IHgucmVsb2FkKCkpKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmVsb2FkZWQgYXVkaW8gZ3JhcGhcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmF1ZGlvTm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXVkaW9Ob2RlID0gdGhpcy5hdWRpb05vZGVzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdWRpb05vZGUuZ2V0QXVkaW9Ob2RlKCkuZGlzY29ubmVjdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPCB0aGlzLmF1ZGlvTm9kZXMubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW9Ob2RlLmdldEF1ZGlvTm9kZSgpLmNvbm5lY3QodGhpcy5hdWRpb05vZGVzW2kgKyAxXS5nZXRBdWRpb05vZGUoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdWRpb05vZGUuZ2V0QXVkaW9Ob2RlKCkuY29ubmVjdCh0aGlzLmRlc3RpbmF0aW9uTm9kZS5nZXRBdWRpb05vZGUoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcHJpdmF0ZSBidWlsZEdyYXBoKCkge1xyXG4gICAgLy8gICAgIGNvbnNvbGUubG9nKFwiQnVpbGRpbmcgYXVkaW8gZ3JhcGguXCIpO1xyXG5cclxuICAgIC8vICAgICBpZiAodGhpcy5zb3VyY2VOb2RlLmdldEF1ZGlvTm9kZSgpKSB7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuc291cmNlTm9kZS5nZXRBdWRpb05vZGUoKS5kaXNjb25uZWN0KCk7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuYW5hbHl6ZXJOb2RlLmdldEF1ZGlvTm9kZSgpLmRpc2Nvbm5lY3QoKTtcclxuICAgIC8vICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbk5vZGUuZ2V0QXVkaW9Ob2RlKCkuZGlzY29ubmVjdCgpO1xyXG4gICAgLy8gICAgICAgICB0aGlzLnNvdXJjZU5vZGUuZ2V0QXVkaW9Ob2RlKCkuY29ubmVjdCh0aGlzLmFuYWx5emVyTm9kZS5nZXRBdWRpb05vZGUoKSk7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuYW5hbHl6ZXJOb2RlLmdldEF1ZGlvTm9kZSgpLmNvbm5lY3QodGhpcy5kZXN0aW5hdGlvbk5vZGUuZ2V0QXVkaW9Ob2RlKCkpO1xyXG4gICAgLy8gICAgIH0gZWxzZSB7XHJcbiAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKFwiQXVkaW8gc291cmNlIG5vdCBhdmFpbGFibGUuIFdhaXRpbmcgc29tZSB0aW1lLlwiKTtcclxuICAgIC8vICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAvLyAgICAgICAgICAgICB0aGlzLmJ1aWxkR3JhcGgoKTtcclxuICAgIC8vICAgICAgICAgfSwgMTAwMCk7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIHB1YmxpYyBnZXRTcGVjdHJ1bSgpIHtcclxuICAgIC8vICAgICByZXR1cm4gdGhpcy5hbmFseXplck5vZGUuZ2V0U3BlY3RydW0oKTtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBwdWJsaWMgZ2V0V2F2ZSgpIHtcclxuICAgIC8vICAgICByZXR1cm4gdGhpcy5hbmFseXplck5vZGUuZ2V0V2F2ZSgpO1xyXG4gICAgLy8gfVxyXG59IiwiaW1wb3J0IHsgQXVkaW9HcmFwaCB9IGZyb20gXCIuLi9lbmMvc3JjL2F1ZGlvL2F1ZGlvR3JhcGhcIjtcclxuaW1wb3J0IHsgQXVkaW9HcmFwaE5vZGVFbGVtZW50U291cmNlIH0gZnJvbSBcIi4uL2VuYy9zcmMvYXVkaW8vYXVkaW9HcmFwaE5vZGVFbGVtZW50U291cmNlXCI7XHJcbmltcG9ydCB7IEF1ZGlvR3JhcGhOb2RlQW5hbHlzZXIgfSBmcm9tIFwiLi4vZW5jL3NyYy9hdWRpby9hdWRpb0dyYXBoTm9kZUFuYWx5c2VyXCI7XHJcblxyXG4vLyBpbXBvcnQgRmFpbnRBc3NldE1QMyBmcm9tIFwiLi9hc3NldHMvbXAzLWRlbW8vZGVtb18xX2ZhaW50X2NvbG9yLm1wM1wiXHJcbi8vIGltcG9ydCBQcmlzbUFzc2V0TVAzIGZyb20gXCIuL2Fzc2V0cy9tcDMtZGVtby9kZW1vXzJfcHJpc20ubXAzXCJcclxuLy8gaW1wb3J0IEhvcGVmdWxBc3NldE1QMyBmcm9tIFwiLi9hc3NldHMvbXAzLWRlbW8vZGVtb18zX2hvcGVmdWwubXAzXCJcclxuLy8gaW1wb3J0IERlZXBBc3NldE1QMyBmcm9tIFwiLi9hc3NldHMvbXAzLWRlbW8vZGVtb180X2RlZXBfZmllbGQubXAzXCJcclxuLy8gaW1wb3J0IEdyYXZpdHlBc3NldE1QMyBmcm9tIFwiLi9hc3NldHMvbXAzLWRlbW8vZGVtb181X2dyYXZpdHkubXAzXCJcclxuLy8gaW1wb3J0IEpvdXJuZXlBc3NldE1QMyBmcm9tIFwiLi9hc3NldHMvbXAzLWRlbW8vZGVtb182X2pvdXJuZXlfdG9fdGhlX3BsYW5ldHMubXAzXCJcclxuLy8gaW1wb3J0IERyaWZ0aW5nQXNzZXRNUDMgZnJvbSBcIi4vYXNzZXRzL21wMy1kZW1vL2RlbW9fN19kcmlmdGluZ19pbnRvX3RoZV9hdG1vc3BoZXJlLm1wM1wiXHJcblxyXG5pbXBvcnQgRmFpbnRBc3NldE1QMyBmcm9tIFwiLi9hc3NldHMvZGVtby9UcmFpbGVyX2ZhaW50Q29sb3IubXAzXCJcclxuaW1wb3J0IERlZXBBc3NldE1QMyBmcm9tIFwiLi9hc3NldHMvZGVtby9UcmFpbGVyX0RlZXBGaWVsZC5tcDNcIlxyXG5pbXBvcnQgRHJpZnRpbmdBc3NldE1QMyBmcm9tIFwiLi9hc3NldHMvZGVtby9UcmFpbGVyX0RyaWZ0aW5nSW50b1RoZUF0bW9zcGhlcmUubXAzXCJcclxuXHJcbmV4cG9ydCBjbGFzcyBBdWRpb01hbmFnZXIge1xyXG4gICAgcHJpdmF0ZSBhdWRpb0dyYXBoOiBBdWRpb0dyYXBoO1xyXG4gICAgcHJpdmF0ZSBzb3VyY2U6IEF1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZTtcclxuICAgIHByaXZhdGUgYW5hbHlzZXI6IEF1ZGlvR3JhcGhOb2RlQW5hbHlzZXI7XHJcblxyXG4gICAgcHJpdmF0ZSBzb25ncyA9IFtcclxuICAgICAgICBGYWludEFzc2V0TVAzLFxyXG4gICAgICAgIC8vIFByaXNtQXNzZXRNUDMsXHJcbiAgICAgICAgLy8gSG9wZWZ1bEFzc2V0TVAzLFxyXG4gICAgICAgIERlZXBBc3NldE1QMyxcclxuICAgICAgICAvLyBHcmF2aXR5QXNzZXRNUDMsXHJcbiAgICAgICAgLy8gSm91cm5leUFzc2V0TVAzLFxyXG4gICAgICAgIERyaWZ0aW5nQXNzZXRNUDNcclxuICAgIF1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmF1ZGlvR3JhcGggPSBuZXcgQXVkaW9HcmFwaCgpO1xyXG4gICAgICAgIHRoaXMuc291cmNlID0gdGhpcy5hdWRpb0dyYXBoLmFkZE1lZGlhRWxlbWVudFNvdXJjZShcInNvdXJjZVwiLCB0aGlzLnNvbmdzWzBdKVxyXG4gICAgICAgIHRoaXMuYW5hbHlzZXIgPSB0aGlzLmF1ZGlvR3JhcGguYWRkQW5hbHl6ZXIoXCJhbmFseXNlclwiKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVsb2FkID0gKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmF1ZGlvR3JhcGgucmVsb2FkKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBsYXkgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zb3VyY2UucGxheSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwYXVzZSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNvdXJjZS5wYXVzZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBuZXh0ID0gKCkgPT4ge1xyXG4gICAgICAgIHZhciBjdXJyZW50U29uZ0luZGV4ID0gdGhpcy5zb25ncy5pbmRleE9mKHRoaXMuc291cmNlLnVybCk7XHJcbiAgICAgICAgdmFyIG5leHRTb25nSW5kZXggPSBjdXJyZW50U29uZ0luZGV4ICsgMTtcclxuICAgICAgICBpZiAobmV4dFNvbmdJbmRleCA9PSB0aGlzLnNvbmdzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBuZXh0U29uZ0luZGV4ID0gMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc291cmNlLnNldFVybCh0aGlzLnNvbmdzW25leHRTb25nSW5kZXhdKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcHJldmlvdXMgPSAoKSA9PiB7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRTb25nSW5kZXggPSB0aGlzLnNvbmdzLmluZGV4T2YodGhpcy5zb3VyY2UudXJsKTtcclxuICAgICAgICB2YXIgcHJldmlvdXNTb25nSW5kZXggPSBjdXJyZW50U29uZ0luZGV4IC0gMTtcclxuICAgICAgICBpZiAocHJldmlvdXNTb25nSW5kZXggPT0gLTEpIHtcclxuICAgICAgICAgICAgcHJldmlvdXNTb25nSW5kZXggPSB0aGlzLnNvbmdzLmxlbmd0aCAtIDE7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNvdXJjZS5zZXRVcmwodGhpcy5zb25nc1twcmV2aW91c1NvbmdJbmRleF0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRBbmFseXNlciA9ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hbmFseXNlcjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RvcCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNvdXJjZS5zdG9wKCk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgQXNzZXRNYW5hZ2VyIHtcclxuICAgIHByaXZhdGUgaW1hZ2VBc3NldHM6IHsgbmFtZTogc3RyaW5nLCB1cmw6IHN0cmluZywgaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQgfVtdID0gW107XHJcblxyXG4gICAgcHVibGljIGFkZEltYWdlID0gKG5hbWU6IHN0cmluZywgdXJsOiBzdHJpbmcpID0+IHtcclxuICAgICAgICB0aGlzLmltYWdlQXNzZXRzLnB1c2goe1xyXG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgICAgICB1cmw6IHVybCxcclxuICAgICAgICAgICAgaW1hZ2U6IHVuZGVmaW5lZFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRJbWFnZSA9IChuYW1lOiBzdHJpbmcpOiBIVE1MSW1hZ2VFbGVtZW50ID0+IHtcclxuICAgICAgICB2YXIgaW1hZ2VBc3NldCA9IHRoaXMuaW1hZ2VBc3NldHMuZmlyc3RPckRlZmF1bHQoeCA9PiB4Lm5hbWUgPT0gbmFtZSk7XHJcbiAgICAgICAgaWYgKGltYWdlQXNzZXQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGltYWdlQXNzZXQuaW1hZ2U7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHRoaXMuaW1hZ2VBc3NldHMubWFwKHggPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF4LmltYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2Uuc3JjID0geC51cmw7XHJcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2Uub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB4LmltYWdlID0gaW1hZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSkpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgU3RhZ2UgfSBmcm9tIFwiLi4vZW5jL3NyYy91aS9zdGFnZVwiO1xyXG5pbXBvcnQgeyBJbnNwaWVydHlQbGF5ZXJWaWV3IH0gZnJvbSBcIi4vdmlldy9pbnNwaWVydHlQbGF5ZXJWaWV3XCI7XHJcbmltcG9ydCB7IFNldHRpbmdzIH0gZnJvbSBcIi4vbW9kZWxzL3NldHRpbmdzXCI7XHJcbmltcG9ydCB7IFNldHRpbmdzTWFuYWdlciB9IGZyb20gXCIuL3NldHRpbmdzL3NldHRpbmdzTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBEaW5qZWN0IH0gZnJvbSBcIi4uL2VuYy9zcmMvZGluamVjdFwiO1xyXG5pbXBvcnQgeyBFQW5pbWF0aW9uIH0gZnJvbSBcIi4uL2VuYy9zcmMvZUFuaW1hdGlvblwiO1xyXG5pbXBvcnQgeyBFQ2FudmFzIH0gZnJvbSBcIi4uL2VuYy9zcmMvdWkvZUNhbnZhc1wiO1xyXG5pbXBvcnQgeyBDYW52YXNIZWxwZXIgfSBmcm9tIFwiLi4vZW5jL3NyYy91aS9jYW52YXNIZWxwZXJcIjtcclxuaW1wb3J0IHsgQXVkaW9NYW5hZ2VyIH0gZnJvbSBcIi4vYXVkaW9NYW5hZ2VyXCI7XHJcbmltcG9ydCB7IEFzc2V0TWFuYWdlciB9IGZyb20gXCIuLi9lbmMvc3JjL2Fzc2V0TWFuYWdlclwiO1xyXG5cclxuaW1wb3J0IGJhY2tncm91bmRQbmcgZnJvbSBcIi4vYXNzZXRzL2JhY2tncm91bmQucG5nXCJcclxuaW1wb3J0IGxvZ29Gcm9udFBuZyBmcm9tIFwiLi9hc3NldHMvbG9nby1mcm9udC5wbmdcIlxyXG5pbXBvcnQgbG9nb05vdmFQbmcgZnJvbSBcIi4vYXNzZXRzL2xvZ28tbm92YS5wbmdcIlxyXG5cclxuZXhwb3J0IGNsYXNzIEFwcCB7XHJcbiAgICBwdWJsaWMgc3RhdGljIHNldHRpbmdzID0gbmV3IFNldHRpbmdzKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xyXG4gICAgcHVibGljIHN0YXRpYyBzZXR0aW5nTWFuYWdlciA9IG5ldyBTZXR0aW5nc01hbmFnZXIoKTtcclxuXHJcbiAgICBwdWJsaWMgcnVuID0gKCkgPT4ge1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJibGFja1wiO1xyXG5cclxuICAgICAgICB2YXIgY2FudmFzID0gRUNhbnZhcy5jcmVhdGVGdWxsU2NyZWVuKCk7XHJcbiAgICAgICAgdmFyIHN0YWdlID0gbmV3IFN0YWdlKGNhbnZhcyk7XHJcbiAgICAgICAgdmFyIGFuaW1hdGlvbiA9IG5ldyBFQW5pbWF0aW9uKCk7XHJcbiAgICAgICAgYW5pbWF0aW9uLmFkZFVwZGF0ZUZ1bmN0aW9uKGNhbnZhcy5kcmF3KTtcclxuXHJcbiAgICAgICAgRGluamVjdC5hZGRJbnN0YW5jZShcImNhbnZhc1wiLCBjYW52YXMpO1xyXG4gICAgICAgIERpbmplY3QuYWRkSW5zdGFuY2UoXCJzdGFnZVwiLCBzdGFnZSk7XHJcbiAgICAgICAgRGluamVjdC5hZGRJbnN0YW5jZShcImFuaW1hdGlvblwiLCBhbmltYXRpb24pO1xyXG5cclxuICAgICAgICB2YXIgdmlldyA9IG5ldyBJbnNwaWVydHlQbGF5ZXJWaWV3KCk7XHJcbiAgICAgICAgc3RhZ2Uuc2V0Vmlldyh2aWV3KTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJsb2FkaW5nIGFwcFwiKTtcclxuICAgICAgICBQcm9taXNlLmFsbChbXHJcbiAgICAgICAgICAgIG5ldyBDYW52YXNIZWxwZXIoKS5sb2FkRm9udGF3ZXNvbWVGcmVlKCksXHJcbiAgICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBhdWRpb01hbmFnZXIgPSBuZXcgQXVkaW9NYW5hZ2VyKCk7XHJcbiAgICAgICAgICAgICAgICBhdWRpb01hbmFnZXIucmVsb2FkKClcclxuICAgICAgICAgICAgICAgIERpbmplY3QuYWRkSW5zdGFuY2UoXCJhdWRpb1wiLCBhdWRpb01hbmFnZXIpO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFzc2V0TWFuYWdlciA9IG5ldyBBc3NldE1hbmFnZXIoKTtcclxuICAgICAgICAgICAgICAgIERpbmplY3QuYWRkSW5zdGFuY2UoXCJhc3NldHNcIiwgYXNzZXRNYW5hZ2VyKTtcclxuICAgICAgICAgICAgICAgIGFzc2V0TWFuYWdlci5hZGRJbWFnZShcImJhY2tncm91bmRcIiwgYmFja2dyb3VuZFBuZyk7XHJcbiAgICAgICAgICAgICAgICBhc3NldE1hbmFnZXIuYWRkSW1hZ2UoXCJsb2dvXCIsIGxvZ29Gcm9udFBuZyk7XHJcbiAgICAgICAgICAgICAgICBhc3NldE1hbmFnZXIuYWRkSW1hZ2UoXCJsb2dvLW5vdmFcIiwgbG9nb05vdmFQbmcpO1xyXG4gICAgICAgICAgICAgICAgYXNzZXRNYW5hZ2VyLmxvYWQoKVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgXSkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwibG9hZGVkIGFwcFwiKTtcclxuXHJcbiAgICAgICAgICAgIEFwcC5zZXR0aW5nTWFuYWdlci5hZGRTdGFyTGF5ZXIoKTtcclxuICAgICAgICAgICAgQXBwLnNldHRpbmdNYW5hZ2VyLmFkZFN0YXJMYXllcigpO1xyXG4gICAgICAgICAgICBBcHAuc2V0dGluZ01hbmFnZXIuYWRkU3RhckxheWVyKCk7XHJcbiAgICAgICAgICAgIEFwcC5zZXR0aW5nTWFuYWdlci5hZGRTdGFyTGF5ZXIoKTtcclxuXHJcbiAgICAgICAgICAgIHZpZXcuc3RhcnQoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFN0YXJMYXllciB9IGZyb20gXCIuL3N0YXJMYXllclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNldHRpbmdzIHtcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyB3aWR0aDogbnVtYmVyLCBwdWJsaWMgaGVpZ2h0OiBudW1iZXIpIHsgfVxyXG5cclxuICAgIHB1YmxpYyBzdGFyTGF5ZXJzOiBTdGFyTGF5ZXJbXSA9IFtdO1xyXG59XHJcbiIsImltcG9ydCB7IFNldHRpbmdPcGVyYXRpb24gfSBmcm9tIFwiLi9zZXR0aW5nT3BlcmF0aW9uXCI7XHJcbmltcG9ydCB7IEVFdmVudFQgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9lRXZlbnRcIjtcclxuaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4uL2FwcFwiO1xyXG5pbXBvcnQgeyBTdGFyTGF5ZXIgfSBmcm9tIFwiLi4vbW9kZWxzL3N0YXJMYXllclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNldHRpbmdzTWFuYWdlciB7XHJcbiAgICBwdWJsaWMgdXBkYXRlID0gbmV3IEVFdmVudFQ8U2V0dGluZ09wZXJhdGlvbj4oKTtcclxuXHJcbiAgICBwdWJsaWMgYWRkU3RhckxheWVyID0gKCkgPT4ge1xyXG4gICAgICAgIHZhciBsYXllciA9IG5ldyBTdGFyTGF5ZXIoKTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAzMDA7IGkrKykge1xyXG4gICAgICAgICAgICBsYXllci5zdGFycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHg6IE1hdGgucmFuZG9tKCkgKiBBcHAuc2V0dGluZ3Mud2lkdGgsXHJcbiAgICAgICAgICAgICAgICB5OiBNYXRoLnJhbmRvbSgpICogQXBwLnNldHRpbmdzLmhlaWdodCxcclxuICAgICAgICAgICAgICAgIHI6IE1hdGgucmFuZG9tKCkgKiAwLjUgKyAwLjA1XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBBcHAuc2V0dGluZ3Muc3RhckxheWVycy5wdXNoKGxheWVyKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZS5kaXNwYXRjaEV2ZW50KFNldHRpbmdPcGVyYXRpb24uQWRkU3RhckxheWVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlU3RhckxheWVyID0gKHN0YXJMYXllcjogU3RhckxheWVyKSA9PiB7XHJcbiAgICAgICAgQXBwLnNldHRpbmdzLnN0YXJMYXllcnMucmVtb3ZlSXRlbShzdGFyTGF5ZXIpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlLmRpc3BhdGNoRXZlbnQoU2V0dGluZ09wZXJhdGlvbi5SZW1vdmVTdGFyTGF5ZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjaGFuZ2VOdW1iZXJPZlN0YXJzID0gKHN0YXJMYXllcjogU3RhckxheWVyLCBudW1iZXJPZlN0YXJzOiBudW1iZXIpID0+IHtcclxuICAgICAgICBpZiAobnVtYmVyT2ZTdGFycyA+IDApIHtcclxuICAgICAgICAgICAgdmFyIGRpZmYgPSBudW1iZXJPZlN0YXJzIC0gc3RhckxheWVyLnN0YXJzLmxlbmd0aDtcclxuICAgICAgICAgICAgaWYgKGRpZmYgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRpZmY7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBzaXplcyA9IHN0YXJMYXllci5zdGFycy5tYXAoeCA9PiB4LnIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50VmFsdWVMb3cgPSBNYXRoLm1pbiguLi5zaXplcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRWYWx1ZUhpZ2ggPSBNYXRoLm1heCguLi5zaXplcyk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJMYXllci5zdGFycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgeDogTWF0aC5yYW5kb20oKSAqIEFwcC5zZXR0aW5ncy53aWR0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgeTogTWF0aC5yYW5kb20oKSAqIEFwcC5zZXR0aW5ncy5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHI6IE1hdGgucmFuZG9tKCkgKiAoY3VycmVudFZhbHVlSGlnaCAtIGN1cnJlbnRWYWx1ZUxvdykgKyBjdXJyZW50VmFsdWVMb3dcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGRpZmYgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IC1kaWZmOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFyTGF5ZXIuc3RhcnMuc3BsaWNlKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHN0YXJMYXllci5zdGFycy5sZW5ndGgpLCAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZS5kaXNwYXRjaEV2ZW50KFNldHRpbmdPcGVyYXRpb24uQ2hhbmdlTnVtYmVyT2ZTdGFycyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjaGFuZ2VTcGVlZCA9IChzdGFyTGF5ZXI6IFN0YXJMYXllciwgc3BlZWQ6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIHN0YXJMYXllci5zcGVlZCA9IHNwZWVkO1xyXG4gICAgICAgIHRoaXMudXBkYXRlLmRpc3BhdGNoRXZlbnQoU2V0dGluZ09wZXJhdGlvbi5DaGFuZ2VTcGVlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNoYW5nZVNpemVzID0gKHN0YXJMYXllcjogU3RhckxheWVyLCBsb3dCb3JkZXI6IG51bWJlciwgaGlnaEJvcmRlcjogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgdmFyIHNpemVzID0gc3RhckxheWVyLnN0YXJzLm1hcCh4ID0+IHgucik7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRWYWx1ZUxvdyA9IE1hdGgubWluKC4uLnNpemVzKTtcclxuICAgICAgICB2YXIgY3VycmVudFZhbHVlSGlnaCA9IE1hdGgubWF4KC4uLnNpemVzKTtcclxuXHJcbiAgICAgICAgdmFyIG1pbkZpeCA9IChjdXJyZW50VmFsdWVIaWdoIC0gY3VycmVudFZhbHVlTG93KTtcclxuICAgICAgICBpZiAobWluRml4IDw9IDApIHtcclxuICAgICAgICAgICAgbWluRml4ID0gMC4wMDAxXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAoY29uc3Qgc3RhciBvZiBzdGFyTGF5ZXIuc3RhcnMpIHtcclxuICAgICAgICAgICAgc3Rhci5yID0gKChzdGFyLnIgLSBjdXJyZW50VmFsdWVMb3cpIC8gbWluRml4ICogKGhpZ2hCb3JkZXIgLSBsb3dCb3JkZXIpKSArIGxvd0JvcmRlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy51cGRhdGUuZGlzcGF0Y2hFdmVudChTZXR0aW5nT3BlcmF0aW9uLkNoYW5nZVNwZWVkKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEFwcCB9IGZyb20gXCIuL2FwcFwiO1xyXG5pbXBvcnQgXCIuLi9lbmMvc3JjL2V4dGVuc2lvbnNcIjtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBtYWluLCBmYWxzZSk7XHJcblxyXG5mdW5jdGlvbiBtYWluKCkge1xyXG4gICAgdmFyIGFwcCA9IG5ldyBBcHAoKTtcclxuICAgIGFwcC5ydW4oKTtcclxufVxyXG5cclxuaWYgKCdzZXJ2aWNlV29ya2VyJyBpbiBuYXZpZ2F0b3IpIHtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xyXG4gICAgICAgIG5hdmlnYXRvci5zZXJ2aWNlV29ya2VyLnJlZ2lzdGVyKCcvc2VydmljZS13b3JrZXIuanMnKVxyXG4gICAgICAgICAgICAudGhlbihyZWdpc3RyYXRpb24gPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1NXIHJlZ2lzdGVyZWQ6ICcsIHJlZ2lzdHJhdGlvbik7XHJcbiAgICAgICAgICAgIH0pLmNhdGNoKHJlZ2lzdHJhdGlvbkVycm9yID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTVyByZWdpc3RyYXRpb24gZmFpbGVkOiAnLCByZWdpc3RyYXRpb25FcnJvcik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==