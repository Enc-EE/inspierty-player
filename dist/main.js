!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=3)}([function(t,e,i){t.exports=i.p+"ef12961f66786d579f3985c19fea303b.ogg"},function(t,e,i){t.exports=i.p+"4f3b71289b7ebbf613233710c9237407.png"},function(t,e){Array.prototype.firstOrDefault=function(t){for(const e of this)if(t(e))return e;return null},Array.prototype.first=function(t){for(const e of this)if(t(e))return e;throw console.log("item not found"),console.log(this),"item not found"},Array.prototype.getNext=function(t,e){var i=e(t)+1,s=this.firstOrDefault(t=>e(t)==i);return s||(s=this.first(t=>1==e(t))),s},Array.prototype.removeItem=function(t){var e=this.indexOf(t);if(-1==e)throw"item not found";this.splice(e,1)},Array.prototype.contains=function(t){return-1!==this.indexOf(t)},Array.prototype.removeItemIfExists=function(t){var e=this.indexOf(t);-1!=e&&this.splice(e,1)},Array.prototype.addItemIfNotExists=function(t){-1==this.indexOf(t)&&this.push(t)},Array.prototype.remove=function(t){this.removeItem(this.first(t))},Array.prototype.toList=function(){return this.filter(t=>!0)}},function(t,e,i){"use strict";i.r(e);class s{constructor(t,e,i,s){this.x=t,this.y=e,this.width=i,this.height=s,this.collidesWith=(t=>{var e=!1,i=!1;return this.x<=t.x?this.x<=t.x&&this.x+this.width>t.x&&(e=!0):t.x<=this.x&&t.x+t.width>this.x&&(e=!0),e&&(this.y<=t.y?this.y<=t.y&&this.y+this.width>t.y&&(i=!0):t.y<=this.y&&t.y+t.width>this.y&&(i=!0)),e&&i}),this.isHitBy=((t,e)=>t>this.x&&t<this.x+this.width&&e>this.y&&e<this.y+this.height)}}class n{constructor(t){this.canvas=t,this.canvasResized=(()=>{this.shouldUpdateLayout=!0}),this.mouseDown=(t=>{this.view&&this.view.mouseDown(t)}),this.mouseUp=(t=>{this.view&&this.view.mouseUp(t)}),this.mouseMove=(t=>{this.view&&this.view.mouseMove(t)}),this.click=(t=>{this.view&&this.view.click(t)}),this.render=((t,e,i)=>{this.view&&(this.shouldUpdateLayout&&(this.view.updateLayout(t,new s(0,0,e,i)),this.shouldUpdateLayout=!1),t.clearRect(0,0,e,i),this.view.render(t))}),this.setView=(t=>{this.view=t,this.shouldUpdateLayout=!0}),t.addDrawFunction(this.render),t.resized.addEventListener(this.canvasResized),document.addEventListener("mousedown",this.mouseDown),document.addEventListener("mouseup",this.mouseUp),document.addEventListener("mousemove",this.mouseMove),document.addEventListener("click",this.click)}}var a,r,o,h,d,u;!function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right"}(a||(a={})),function(t){t[t.Top=0]="Top",t[t.Center=1]="Center",t[t.Bottom=2]="Bottom"}(r||(r={}));class l{constructor(){this.top=0,this.right=0,this.bottom=0,this.left=0}}class c{constructor(){this.horizontalAlign=a.Center,this.verticalAlign=r.Center,this.margin=new l,this.calculateDimensionsX=((t,e)=>{switch(this.horizontalAlign){case a.Left:return t.x+this.margin.left;case a.Center:return t.x+t.width/2-e/2;case a.Right:return t.x+t.width-e-this.margin.right}}),this.calculateDimensionsY=((t,e)=>{switch(this.verticalAlign){case r.Top:return t.y+this.margin.top;case r.Center:return t.y+t.height/2-e/2;case r.Bottom:return t.y+t.height-e-this.margin.bottom}})}}class m{constructor(){this.generateNewId=(()=>(m.idCounter++,m.idCounter)),this.bounds=new s(0,0,0,0),this.dimensions=new s(0,0,0,0),this.alignement=new c,this.shouldUpdateLayout=!1,this.triggerUpdateLayout=(()=>{this.shouldUpdateLayout=!0}),this.disableMouseMove=(()=>{this.mouseMove=(()=>{})}),this.id=this.generateNewId(),this.name="object "+this.id}render(t){this.shouldUpdateLayout&&(this.updateLayout(t,this.bounds),this.shouldUpdateLayout=!1)}updateLayout(t,e){this.bounds=e}}m.idCounter=0;class p extends m{constructor(){super(...arguments),this.children=[]}render(t){super.render(t);for(const e of this.children)e.render(t)}mouseDown(t){for(const e of this.children)e.mouseDown(t)}mouseUp(t){for(const e of this.children)e.mouseUp(t)}mouseMove(t){for(const e of this.children)e.mouseMove(t)}click(t){for(const e of this.children.toList())e.click(t)}}class g extends m{constructor(t){super(),this.star=t}mouseDown(t){}mouseUp(t){}render(t){t.fillStyle="white",t.beginPath(),t.arc(this.star.x,this.star.y,this.star.r,0,2*Math.PI),t.fill()}mouseMove(t){throw new Error("Method not implemented.")}click(t){throw new Error("Method not implemented.")}}!function(t){t[t.AddStarLayer=0]="AddStarLayer",t[t.RemoveStarLayer=1]="RemoveStarLayer",t[t.ChangeNumberOfStars=2]="ChangeNumberOfStars",t[t.ChangeSpeed=3]="ChangeSpeed"}(o||(o={}));class y extends p{constructor(t){super(),this.starLayer=t,this.settingsUpdated=(t=>{switch(t){case o.ChangeNumberOfStars:this.updateNumberOfStars()}}),this.updateNumberOfStars=(()=>{this.triggerUpdateLayout()}),K.settingManager.update.addEventListener(this.settingsUpdated),this.triggerUpdateLayout()}updateLayout(t,e){this.children=[];for(const t of this.starLayer.stars)this.children.push(new g(t))}mouseMove(t){}click(t){}}!function(t){t[t.hidden=0]="hidden",t[t.beforeVisible=1]="beforeVisible",t[t.visible=2]="visible"}(h||(h={}));class v{constructor(){this.state=h.hidden}}class f{constructor(){this.listeners=[],this.addEventListener=(t=>{if(!t||this.listeners.indexOf(t)>=0)throw"listener already added";this.listeners.push(t)}),this.addEventListenerIfNotExists=(t=>{!t||this.listeners.indexOf(t)>=0||this.listeners.push(t)}),this.dispatchEvent=(()=>{for(let t=0;t<this.listeners.length;t++){(0,this.listeners[t])()}}),this.removeEventListener=(t=>{if(!t||this.listeners.indexOf(t)<0)throw"listener not found";this.listeners.splice(this.listeners.indexOf(t),1)}),this.removeEventListenerIfExists=(t=>{!t||this.listeners.indexOf(t)<0||this.listeners.splice(this.listeners.indexOf(t),1)})}}class w{constructor(){this.listeners=[],this.addEventListener=(t=>{if(!t||this.listeners.indexOf(t)>=0)throw"listener already added";this.listeners.push(t)}),this.dispatchEvent=(t=>{for(let e=0;e<this.listeners.length;e++){(0,this.listeners[e])(t)}}),this.removeEventListener=(t=>{if(!t||this.listeners.indexOf(t)<0)throw"listener not found";this.listeners.splice(this.listeners.indexOf(t),1)})}}class L{constructor(){this.drawFunctions=[],this.resized=new f,this.resize=(()=>{this.canvas.width=this.canvas.clientWidth,this.canvas.height=this.canvas.clientHeight,this.resized.dispatchEvent()}),this.draw=(()=>{for(const t of this.drawFunctions)t(this.ctx,this.width,this.height)}),this.addDrawFunction=(t=>{this.drawFunctions.push(t)}),this.removeDrawFunction=(t=>{this.drawFunctions.splice(this.drawFunctions.indexOf(t),1)})}get width(){return this.canvas.width}get height(){return this.canvas.height}static createFullScreen(){document.body.parentElement.style.height="100%",document.body.style.height="100%",document.body.style.margin="0",document.body.style.overflow="hidden";var t=document.createElement("canvas");document.body.appendChild(t),t.style.width="100%",t.style.height="100%";var e=new L;return e.canvas=t,e.ctx=t.getContext("2d"),window.addEventListener("resize",e.resize),e.resize(),e}}L.cursorLock=null,L.SetCursor=((t,e)=>{e?(document.body.style.cursor="pointer",L.cursorLock=t):t==L.cursorLock&&(document.body.style.cursor="default",L.cursorLock=null)});class x extends m{constructor(){super(...arguments),this.isMouseOver=!1,this.isEnabled=!0,this.clicked=new w,this.click=(t=>{this.isEnabled&&this.dimensions.isHitBy(t.clientX,t.clientY)&&this.clicked.dispatchEvent(this)})}mouseMove(t){this.isEnabled&&(this.dimensions.isHitBy(t.clientX,t.clientY)?(this.isMouseOver=!0,L.SetCursor(this.name,!0)):(this.isMouseOver=!1,L.SetCursor(this.name,!1)))}mouseDown(t){}mouseUp(t){}}class S{constructor(){this.fontSize=40,this.fontPrefix="",this.fontFamily="fontawesome",this.fillStyle="blue",this.mouseOverFillStyle="red",this.backgroundFillStyle=void 0,this.getFont=(()=>{var t="";return this.fontPrefix&&(t+=this.fontPrefix+" "),t+=this.fontSize+"px "+this.fontFamily})}}class b extends x{constructor(){super(...arguments),this.properties=new S,this.render=(t=>{this.properties.backgroundFillStyle&&(t.fillStyle=this.properties.backgroundFillStyle,t.fillRect(this.dimensions.x,this.dimensions.y,this.dimensions.width,this.dimensions.height)),this.isMouseOver?t.fillStyle=this.properties.mouseOverFillStyle:t.fillStyle=this.properties.fillStyle,t.font=this.properties.getFont(),t.textAlign="left",t.textBaseline="top",t.fillText(this.text,this.dimensions.x,this.dimensions.y)}),this.updateLayout=((t,e)=>{super.updateLayout(t,e),t.font=this.properties.getFont(),t.textAlign="left",t.textBaseline="top";var i=t.measureText(this.text),n=this.alignement.calculateDimensionsX(e,i.width),a=this.alignement.calculateDimensionsY(e,this.properties.fontSize);this.dimensions=new s(n,a,i.width,this.properties.fontSize)})}}!function(t){t[t.Horizontal=0]="Horizontal",t[t.Vertical=1]="Vertical"}(d||(d={}));class I{constructor(){this.itemSpacing=30,this.orientation=d.Vertical}}class A extends p{constructor(){super(...arguments),this.properties=new I,this.addItem=(t=>{t.alignement.horizontalAlign=a.Left,t.alignement.verticalAlign=r.Top,this.children.push(t),this.triggerUpdateLayout()}),this.removeItem=(t=>{this.children.removeItem(t),this.triggerUpdateLayout()})}updateLayout(t,e){super.updateLayout(t,e);var i=this.alignement.calculateDimensionsX(e,this.dimensions.width),n=this.alignement.calculateDimensionsY(e,this.dimensions.height),a=0,r=0;if(this.properties.orientation==d.Vertical)for(let e=0;e<this.children.length;e++){const o=this.children[e];e>0&&(n+=this.properties.itemSpacing,r+=this.properties.itemSpacing),o.updateLayout(t,new s(i,n,0,0)),n+=o.dimensions.height,r+=o.dimensions.height,a=Math.max(a,o.dimensions.width)}else for(let e=0;e<this.children.length;e++){const o=this.children[e];e>0&&(i+=this.properties.itemSpacing,a+=this.properties.itemSpacing),o.updateLayout(t,new s(i,n,0,0)),i+=o.dimensions.width,a+=o.dimensions.width,r=Math.max(r,o.dimensions.height)}this.dimensions.x==i&&this.dimensions.y==n&&this.dimensions.width==a&&this.dimensions.height==r||(this.dimensions.x=i,this.dimensions.y=n,this.dimensions.height=r,this.dimensions.width=a,this.updateLayout(t,e))}}class M extends x{constructor(){super(),this.radius=10,this.minValue=0,this.maxValue=100,this.currentValue=50,this.valueChanged=new w,this.updateLayout=((t,e)=>{super.updateLayout(t,e),this.dimensions=new s(e.x,e.y,200,2*this.radius)}),this.mouseDown=(t=>{this.dimensions.isHitBy(t.clientX,t.clientY)&&(this.isDragging=!0,this.updateCurrentValue(t))}),this.mouseUp=(t=>{this.isDragging=!1})}render(t){var e=this.dimensions.x,i=this.dimensions.y;t.strokeStyle="white",t.lineWidth=2,t.beginPath(),t.moveTo(e+this.radius,i+this.dimensions.height/2),t.lineTo(e+this.dimensions.width-this.radius,i+this.dimensions.height/2),t.stroke();var s=(this.currentValue-this.minValue)/(this.maxValue-this.minValue);t.fillStyle="blue",t.beginPath(),t.arc(e+this.radius+(this.dimensions.width-2*this.radius)*s,i+this.dimensions.height/2,this.radius,0,2*Math.PI),t.closePath(),t.fill()}mouseMove(t){super.mouseMove(t),this.isDragging&&this.updateCurrentValue(t)}updateCurrentValue(t){var e=t.clientX-this.dimensions.x-this.radius;(e=e/(this.dimensions.width-2*this.radius)*(this.maxValue-this.minValue)+this.minValue)>this.maxValue&&(e=this.maxValue),e<this.minValue&&(e=this.minValue),this.currentValue=e,this.valueChanged.dispatchEvent(this.currentValue)}}class E extends p{constructor(t){super(),this.starLayer=t,this.numberOfStarsChanged=(t=>{K.settingManager.changeNumberOfStars(this.starLayer,Math.round(t))}),this.speedChanged=(t=>{K.settingManager.changeSpeed(this.starLayer,t)}),this.settingsList=new A,this.settingsList.alignement.horizontalAlign=a.Left,this.settingsList.alignement.verticalAlign=r.Top;var e=new b;e.text="Remove Layer",e.properties.fillStyle="white",this.settingsList.addItem(e),this.children.push(e),e.clicked.addEventListener(t=>{K.settingManager.removeStarLayer(this.starLayer)});var i=new M;i.minValue=10,i.maxValue=1e3,i.currentValue=t.stars.length,this.children.push(i),this.settingsList.addItem(i),i.valueChanged.addEventListener(this.numberOfStarsChanged);var s=new M;s.minValue=0,s.maxValue=30,s.currentValue=t.speed,this.children.push(s),this.settingsList.addItem(s),s.valueChanged.addEventListener(this.speedChanged)}updateLayout(t,e){this.settingsList.updateLayout(t,new s(e.x,e.y,0,0))}}class C extends p{constructor(){super(),this.viewModel=new v,this.lastMoved=Date.now(),this.inactivityTimeout=2e3,this.layerButtons=[],this.settingsUpdated=(t=>{switch(t){case o.AddStarLayer:for(const t of K.settings.starLayers)if(!this.layerButtons.map(t=>t.tag).contains(t)){this.settingsList.removeItem(this.addLayerBtn);var e=new b;e.text="Edit Layer",e.tag=t,e.properties.fillStyle="white",this.settingsList.addItem(e),this.layerButtons.push(e),e.clicked.addEventListener(e=>{this.toggleShowHideStarLayerView(t)}),this.settingsList.addItem(this.addLayerBtn);break}break;case o.RemoveStarLayer:for(const t of this.layerButtons)if(!K.settings.starLayers.contains(t.tag)){this.settingsList.removeItem(t),this.layerButtons.removeItem(t);break}this.children.removeItem(this.detailedStarLayerView),this.detailedStarLayerView=void 0}}),this.toggleShowHideStarLayerView=(t=>{if(this.detailedStarLayerView)if(this.detailedStarLayerView.starLayer!=t){this.children.removeItem(this.detailedStarLayerView),this.detailedStarLayerView=void 0;e=new E(t);this.detailedStarLayerView=e,this.children.push(this.detailedStarLayerView),this.triggerUpdateLayout()}else this.children.removeItem(this.detailedStarLayerView),this.detailedStarLayerView=void 0;else{var e=new E(t);this.detailedStarLayerView=e,this.children.push(this.detailedStarLayerView),this.triggerUpdateLayout()}}),this.showHideOverlayClicked=(t=>{this.viewModel.state==h.visible?this.setState(h.beforeVisible):this.setState(h.visible)}),this.mouseMove=(t=>{this.viewModel.state!=h.hidden&&this.viewModel.state!=h.beforeVisible||this.setState(h.beforeVisible),super.mouseMove(t)}),this.mouseInactivityHandler=(()=>{Date.now()-this.lastMoved>=this.inactivityTimeout?this.viewModel.state==h.beforeVisible&&this.setState(h.hidden):setTimeout(this.mouseInactivityHandler,this.inactivityTimeout-(Date.now()-this.lastMoved))}),this.setState=(t=>{switch(t){case h.hidden:this.children.removeItem(this.showOverLayerButton),this.viewModel.state=h.hidden;break;case h.beforeVisible:this.lastMoved=Date.now(),this.viewModel.state==h.hidden&&(setTimeout(this.mouseInactivityHandler,this.inactivityTimeout),this.children.addItemIfNotExists(this.showOverLayerButton)),this.viewModel.state==h.visible&&(setTimeout(this.mouseInactivityHandler,this.inactivityTimeout),this.children.removeItemIfExists(this.settingsList),this.children.removeItemIfExists(this.detailedStarLayerView),this.detailedStarLayerView=void 0),this.viewModel.state=h.beforeVisible;break;case h.visible:this.viewModel.state==h.beforeVisible&&this.children.push(this.settingsList),this.viewModel.state=h.visible}}),this.showOverLayerButton=new b,this.showOverLayerButton.text="Show/Hide Settings",this.showOverLayerButton.properties.fillStyle="green",this.showOverLayerButton.alignement.verticalAlign=r.Top,this.showOverLayerButton.alignement.horizontalAlign=a.Left,this.showOverLayerButton.clicked.addEventListener(this.showHideOverlayClicked),this.showOverLayerButton.properties.backgroundFillStyle="rgba(0, 0, 0, 0.5)",this.children.push(this.showOverLayerButton),this.settingsList=new A,this.settingsList.alignement.horizontalAlign=a.Left,this.settingsList.alignement.verticalAlign=r.Top;var t=new b;t.text="Add Layer",t.properties.fillStyle="white",this.settingsList.addItem(t),t.clicked.addEventListener(t=>{K.settingManager.addStarLayer()}),this.addLayerBtn=t,K.settingManager.update.addEventListener(this.settingsUpdated)}updateLayout(t,e){super.updateLayout(t,e),this.showOverLayerButton.updateLayout(t,e);var i=2*this.showOverLayerButton.dimensions.height;this.settingsList.updateLayout(t,new s(e.x,e.y+i,e.width,e.height-i)),this.detailedStarLayerView&&this.detailedStarLayerView.updateLayout(t,new s(e.x+this.settingsList.dimensions.width,e.y+i,e.width,e.height-i))}}class F{constructor(t){this.starLayer=t,this.update=(t=>{for(const e of this.starLayer.stars)e.x+=this.starLayer.speed*t,e.x>K.settings.width&&(e.x-=K.settings.width)})}}class O{}O.instances={},O.addInstance=((t,e)=>{O.instances[t]=e}),O.getInstance=(t=>O.instances[t]);class V extends p{constructor(){super(),this.playIconText="",this.pauseIconText="",this.stopIconText="",this.nextIconText="",this.previousIconText="";var t=O.getInstance("audio"),e=new A;e.alignement.verticalAlign=r.Bottom,e.alignement.margin.bottom=10,e.properties.orientation=d.Horizontal,this.children.push(e);var i=new b;i.properties.fontPrefix="900",i.properties.fontFamily="'Font Awesome 5 Free'",i.text=this.playIconText,i.clicked.addEventListener(()=>{i.text==this.playIconText?(t.play(),i.text=this.pauseIconText):(t.pause(),i.text=this.playIconText)}),e.addItem(i);var s=new b;s.properties.fontPrefix="900",s.properties.fontFamily="'Font Awesome 5 Free'",s.text=this.stopIconText,s.clicked.addEventListener(()=>{t.stop(),i.text==this.pauseIconText&&(i.text=this.playIconText)}),e.addItem(s);var n=new b;n.properties.fontPrefix="900",n.properties.fontFamily="'Font Awesome 5 Free'",n.text=this.previousIconText,n.clicked.addEventListener(()=>{t.previous()}),e.addItem(n);var a=new b;a.properties.fontPrefix="900",a.properties.fontFamily="'Font Awesome 5 Free'",a.text=this.nextIconText,a.clicked.addEventListener(()=>{t.next()}),e.addItem(a)}updateLayout(t,e){super.updateLayout(t,e);for(const e of this.children)e.updateLayout(t,this.bounds)}}!function(t){t[t.FitAndOverfill=0]="FitAndOverfill",t[t.FitAndSpace=1]="FitAndSpace"}(u||(u={}));class k{constructor(){this.imageScalingMode=u.FitAndSpace,this.scale=1}}class N extends x{constructor(t){super(),this.properties=new k,this.render=(t=>{super.render(t),t.drawImage(this.image,this.dimensions.x,this.dimensions.y,this.dimensions.width,this.dimensions.height),this.isMouseOver&&this.isEnabled&&(t.fillStyle="rgba(255,255,255,0.5)",t.fillRect(this.dimensions.x,this.dimensions.y,this.dimensions.width,this.dimensions.height))}),this.image=t}updateLayout(t,e){super.updateLayout(t,e);var i=1,s=this.image.naturalWidth/this.image.naturalHeight>e.width/e.height;switch(this.properties.imageScalingMode){case u.FitAndOverfill:i=s?e.height/this.image.height:e.width/this.image.width;break;case u.FitAndSpace:i=s?e.width/this.image.width:e.height/this.image.height}var n=this.image.naturalWidth*i,a=this.image.naturalHeight*i;this.dimensions.x=this.alignement.calculateDimensionsX(e,n),this.dimensions.y=this.alignement.calculateDimensionsY(e,n),this.dimensions.width=n,this.dimensions.height=a}}N.createFromUrl=(t=>new Promise((e,i)=>{var s=new Image;s.src=t,s.onload=(()=>{e(new N(s))})}));class T extends p{constructor(){super();var t=O.getInstance("assets").getImage("background"),e=new N(t);e.disableMouseMove(),e.properties.imageScalingMode=u.FitAndOverfill,this.children.push(e)}updateLayout(t,e){super.updateLayout(t,e);for(const i of this.children)i.updateLayout(t,e)}}class U extends p{constructor(){super(),this.starLayers=[],this.starAnimators=[],this.appSettingsUpdated=(t=>{switch(t){case o.AddStarLayer:this.addStarLayer();break;case o.RemoveStarLayer:this.removeStarLayer()}}),this.addStarLayer=(()=>{for(const i of K.settings.starLayers)if(null==this.starLayers.firstOrDefault(t=>t.starLayer==i)){var t=new y(i);this.starLayers.push(t),this.children.splice(1,0,t),this.triggerUpdateLayout();var e=new F(i);this.animation.addUpdateFunction(e.update),this.starAnimators.push(e);break}}),this.removeStarLayer=(()=>{for(const e of this.starLayers)if(null==K.settings.starLayers.firstOrDefault(t=>t==e.starLayer)){var t=this.starAnimators.first(t=>t.starLayer==e.starLayer);this.animation.removeUpdateFunction(t.update),this.starAnimators.removeItem(t),this.children.remove(t=>t==e),this.starLayers.remove(t=>t==e),this.triggerUpdateLayout()}}),this.animation=O.getInstance("animation"),this.settingsOverlay=new C,this.playerView=new V,this.children.push(new T),this.children.push(this.playerView),this.children.push(this.settingsOverlay),K.settingManager.update.addEventListener(this.appSettingsUpdated)}updateLayout(t,e){super.updateLayout(t,e);for(const i of this.children)i.updateLayout(t,e)}}class D{constructor(){this.stars=[],this.speed=20*Math.random()+5}}class P{constructor(){this.updateFunctions=[],this.isRunning=!1,this.addUpdateFunction=(t=>{this.updateFunctions.push(t)}),this.removeUpdateFunction=(t=>{this.updateFunctions.splice(this.updateFunctions.indexOf(t),1)}),this.setFps=(t=>{this.fps=t,this.fpsInterval=1e3/this.fps}),this.animationLoop=(()=>{this.isRunning&&requestAnimationFrame(this.animationLoop);var t=Date.now(),e=t-this.lastFrameTime;if(e>this.fpsInterval){this.lastFrameTime=t;var i=e/1e3;for(const t of this.updateFunctions)t(i)}}),this.setFps(30),this.play(),document.addEventListener("keyup",t=>{80==t.keyCode&&this.playPause()})}play(){this.isRunning||(this.isRunning=!0,this.lastFrameTime=Date.now(),this.animationLoop())}pause(){this.isRunning&&(this.isRunning=!1)}playPause(){this.isRunning?this.pause():this.play()}}class B{constructor(){this.loadFontawesomeFree=(()=>this.loadFont("","","900 20px 'Font Awesome 5 Free'")),this.loadFontawesomeBrands=(()=>this.loadFont("","","400 20px 'Font Awesome 5 Brands'")),this.countPixels=(t=>{var e=0;for(let r=0;r<t.data.length;r+=4){var i=t.data[r],s=t.data[r+1],n=t.data[r+2],a=t.data[r+3];i<50&&s<50&&n<50&&a>.9&&e++}return e}),this.getIconPixels=((t,e,i)=>{t.clearRect(0,0,e.width,e.height),t.fillText(i,0,0);var s=t.getImageData(0,0,e.width,e.height);return this.countPixels(s)}),this.loadFont=((t,e,i)=>{var s=10;return new Promise((n,a)=>{console.log('loading font "'+i+'"');var r=document.createElement("canvas");r.width=20,r.height=20;var o=r.getContext("2d");o.font=i,o.fillStyle="black",o.textAlign="left",o.textBaseline="top";var h=()=>{var a=this.getIconPixels(o,r,t),d=this.getIconPixels(o,r,e);Math.abs(d-a)>5?(console.log('loaded font "'+i+'"'),n()):0==--s?console.log("stop loading font after "+s+" retries with 500ms delay"):setTimeout(()=>{h()},500)};h()})})}}class z{constructor(t,e){this.name=t,this.audioCtx=e}}class R extends z{constructor(){super(...arguments),this.getAudioNode=(()=>this.analyserNode)}reload(){return new Promise((t,e)=>{this.analyserNode||(this.analyserNode=this.audioCtx.createAnalyser()),this.analyserNode.fftSize=32,this.analyserNode.smoothingTimeConstant=.9,this.bufferLength=this.analyserNode.frequencyBinCount,this.dataArray=new Uint8Array(this.bufferLength),t()})}getSpectrum(){return this.analyserNode?(this.analyserNode.getByteFrequencyData(this.dataArray),this.dataArray):new Uint8Array(0)}getWave(){return this.analyserNode?(this.analyserNode.getByteTimeDomainData(this.dataArray),this.dataArray):new Uint8Array(0)}}class H extends z{constructor(){super(...arguments),this.getAudioNode=(()=>this.audioCtx.destination)}reload(){}}class j extends z{constructor(t,e,i){super(t,e),this.audioEnded=new f,this.audioEndedEvent=(()=>{this.audioEnded.dispatchEvent()}),this.getAudioNode=(()=>this.source),this.play=(()=>{this.audio.play()}),this.pause=(()=>{this.audio.pause()}),this.stop=(()=>{this.audio.pause(),this.audio.currentTime=0}),this.setUrl=(t=>{var e=!this.audio.paused;this.url=t,this.audio.src=t,this.audio.load(),e&&this.audio.play()}),this.url=i,this.audio=document.createElement("audio"),this.audio.controls=!0,this.audio.src=this.url,this.audio.addEventListener("ended",this.audioEndedEvent)}reload(){return new Promise((t,e)=>{this.source||(this.source=this.audioCtx.createMediaElementSource(this.audio)),t()})}}class X{constructor(){this.audioNodes=[],this.addMediaElementSource=((t,e)=>{var i=new j(t,this.audioCtx,e);return this.audioNodes.push(i),i}),this.addAnalyzer=(t=>{var e=new R(t,this.audioCtx);return this.audioNodes.push(e),e}),this.getAudioGraphNode=(t=>this.audioNodes.first(e=>e.name==t)),this.audioContextStateChanged=new w,this.documentClick=(()=>{"suspended"===this.audioCtx.state&&(this.audioCtx.resume(),document.removeEventListener("click",this.documentClick))}),this.audioContextStateChangedEvaluator=(()=>{"running"===this.audioCtx.state&&(console.log("audio context state changed"),this.audioCtx.removeEventListener("statechange",this.audioContextStateChangedEvaluator),this.reload().then(()=>{this.audioContextStateChanged.dispatchEvent(this.audioCtx.state)}))}),this.reload=(()=>new Promise((t,e)=>{console.log("realoading audio graph"),Promise.all(this.audioNodes.map(t=>t.reload())).then(()=>{console.log("reloaded audio graph");for(let t=0;t<this.audioNodes.length;t++){const e=this.audioNodes[t];e.getAudioNode().disconnect(),t<this.audioNodes.length-1?e.getAudioNode().connect(this.audioNodes[t+1].getAudioNode()):e.getAudioNode().connect(this.destinationNode.getAudioNode())}t()})})),this.audioCtx=new AudioContext,this.audioCtx.addEventListener("statechange",this.audioContextStateChangedEvaluator),"suspended"===this.audioCtx.state&&(document.addEventListener("click",this.documentClick),console.log("Audio context is suspended. Click the dom to make it running.")),this.destinationNode=new H("destination",this.audioCtx)}}var W=i(0),Y=i.n(W);class _{constructor(){this.songs=[Y.a,Y.a,Y.a,Y.a,Y.a,Y.a,Y.a],this.reload=(()=>this.audioGraph.reload()),this.play=(()=>{this.source.play()}),this.pause=(()=>{this.source.pause()}),this.next=(()=>{var t=this.songs.indexOf(this.source.url)+1;t==this.songs.length&&(t=0),this.source.setUrl(this.songs[t])}),this.previous=(()=>{var t=this.songs.indexOf(this.source.url)-1;-1==t&&(t=this.songs.length-1),this.source.setUrl(this.songs[t])}),this.stop=(()=>{this.source.stop()}),this.audioGraph=new X,this.source=this.audioGraph.addMediaElementSource("source",this.songs[0]),this.analyser=this.audioGraph.addAnalyzer("analyser")}}class G{constructor(){this.imageAssets=[],this.addImage=((t,e)=>{this.imageAssets.push({name:t,url:e,image:void 0})}),this.getImage=(t=>{var e=this.imageAssets.firstOrDefault(e=>e.name==t);return e?e.image:void 0}),this.load=(()=>Promise.all(this.imageAssets.map(t=>new Promise((e,i)=>{if(t.image)e();else{var s=new Image;s.src=t.url,s.onload=(()=>{t.image=s,e()})}}))))}}var q=i(1),J=i.n(q);class K{constructor(){this.run=(()=>{document.body.style.backgroundColor="black",console.log("loading app"),Promise.all([(new B).loadFontawesomeFree(),new Promise((t,e)=>{var i=new _;i.reload(),O.addInstance("audio",i),t()}),new Promise((t,e)=>{var i=L.createFullScreen(),s=new n(i),a=new P;a.addUpdateFunction(i.draw),O.addInstance("canvas",i),O.addInstance("stage",s),O.addInstance("animation",a),t()}),new Promise((t,e)=>{var i=new G;O.addInstance("assets",i),i.addImage("background",J.a),i.load().then(()=>{t()})})]).then(()=>{console.log("loaded app");var t=O.getInstance("stage"),e=new U;t.setView(e),K.settingManager.addStarLayer(),K.settingManager.addStarLayer()})})}}K.settings=new class{constructor(t,e){this.width=t,this.height=e,this.starLayers=[]}}(window.innerWidth,window.innerHeight),K.settingManager=new class{constructor(){this.update=new w,this.addStarLayer=(()=>{var t=new D;for(let e=0;e<100;e++)t.stars.push({x:Math.random()*K.settings.width,y:Math.random()*K.settings.height,r:2*Math.random()+.05});K.settings.starLayers.push(t),this.update.dispatchEvent(o.AddStarLayer)}),this.removeStarLayer=(t=>{K.settings.starLayers.removeItem(t),this.update.dispatchEvent(o.RemoveStarLayer)}),this.changeNumberOfStars=((t,e)=>{if(e>0){var i=e-t.stars.length;if(i>0)for(let e=0;e<i;e++)t.stars.push({x:Math.random()*K.settings.width,y:Math.random()*K.settings.height,r:2*Math.random()+.05});else if(i<0)for(let e=0;e<-i;e++)t.stars.splice(Math.floor(Math.random()*t.stars.length),1);this.update.dispatchEvent(o.ChangeNumberOfStars)}}),this.changeSpeed=((t,e)=>{t.speed=e,this.update.dispatchEvent(o.ChangeSpeed)})}};i(2);document.addEventListener("DOMContentLoaded",function(){(new K).run()},!1)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9UcmFpbGVyX0NvbnN0ZWxsYXRpb24ub2dnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvYmFja2dyb3VuZC5wbmciLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy9leHRlbnNpb25zLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvZ2VvbWV0cnkvcmVjdGFuZ2xlLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvc3RhZ2UudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9hbGlnbmVtZW50L2hvcml6b250YWxBbGlnbmVtZW50T3B0aW9uLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvYWxpZ25lbWVudC92ZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NldHRpbmdzL3NldHRpbmdPcGVyYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXcvb3ZlcmxheS9zZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvb3JpZW50YXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9jb250cm9scy9pbWFnZVNjYWxpbmdNb2RlLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvYWxpZ25lbWVudC9zcGFjaW5nLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvYWxpZ25lbWVudC9hbGlnbmVtZW50LnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvcmVuZGVyT2JqZWN0LnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGF5b3V0Vmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy9zdGFyUmVuZGVyT2JqZWN0LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3L3N0YXJMYXllckRyYXdlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy9vdmVybGF5L3NldHRpbmdzT3ZlcmxheVZpZXdNb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL2VFdmVudC50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2VDYW52YXMudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9jb250cm9scy9jb250cm9sLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvY29udHJvbHMvYnV0dG9uUHJvcGVydGllcy50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2J1dHRvbi50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xpc3RWaWV3UHJvcGVydGllcy50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xpc3RWaWV3LnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvY29udHJvbHMvc2xpZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3L292ZXJsYXkvc3RhckxheWVyVmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy9vdmVybGF5L3NldHRpbmdzT3ZlcmxheVZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXcvc3RhckxheWVyQW5pbWF0b3IudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy9kaW5qZWN0LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3L3BsYXllclZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9jb250cm9scy9pbWFnZVByb3BlcnRpZXMudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9jb250cm9scy9pbWFnZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy9iYWNrZ3JvdW5kSW1hZ2VWaWV3LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3L2luc3BpZXJ0eVBsYXllclZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9zdGFyTGF5ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy9lQW5pbWF0aW9uLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvY2FudmFzSGVscGVyLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvYXVkaW8vYXVkaW9HcmFwaE5vZGUudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy9hdWRpby9hdWRpb0dyYXBoTm9kZUFuYWx5c2VyLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvYXVkaW8vYXVkaW9HcmFwaE5vZGVEZXN0aW5hdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL2F1ZGlvL2F1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZS50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL2F1ZGlvL2F1ZGlvR3JhcGgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2F1ZGlvTWFuYWdlci50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL2Fzc2V0TWFuYWdlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwLnRzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvc2V0dGluZ3MudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NldHRpbmdzL3NldHRpbmdzTWFuYWdlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJBcnJheSIsImZpcnN0T3JEZWZhdWx0IiwiZnVuYyIsImFycmF5SXRlbSIsInRoaXMiLCJmaXJzdCIsImNvbnNvbGUiLCJsb2ciLCJnZXROZXh0IiwiY3VycmVudCIsInNlbGVjdG9yIiwibmV4dFBvc2l0aW9uIiwibmV4dCIsIngiLCJyZW1vdmVJdGVtIiwiaXRlbSIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsImNvbnRhaW5zIiwicmVtb3ZlSXRlbUlmRXhpc3RzIiwiYWRkSXRlbUlmTm90RXhpc3RzIiwicHVzaCIsInJlbW92ZSIsInRvTGlzdCIsImZpbHRlciIsIlJlY3RhbmdsZSIsIltvYmplY3QgT2JqZWN0XSIsInkiLCJ3aWR0aCIsImhlaWdodCIsImNvbGxpZGVzV2l0aCIsInJlY3RhbmdsZSIsImhpdHgiLCJoaXR5IiwiaXNIaXRCeSIsInN0YWdlX1N0YWdlIiwiY2FudmFzIiwiY2FudmFzUmVzaXplZCIsInNob3VsZFVwZGF0ZUxheW91dCIsIm1vdXNlRG93biIsImV2IiwidmlldyIsIm1vdXNlVXAiLCJtb3VzZU1vdmUiLCJjbGljayIsInJlbmRlciIsImN0eCIsInVwZGF0ZUxheW91dCIsImNsZWFyUmVjdCIsInNldFZpZXciLCJhZGREcmF3RnVuY3Rpb24iLCJyZXNpemVkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImRvY3VtZW50IiwiSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24iLCJWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24iLCJTZXR0aW5nT3BlcmF0aW9uIiwiU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUiLCJPcmllbnRhdGlvbiIsIkltYWdlU2NhbGluZ01vZGUiLCJTcGFjaW5nIiwidG9wIiwicmlnaHQiLCJib3R0b20iLCJsZWZ0IiwiYWxpZ25lbWVudF9BbGlnbmVtZW50IiwiaG9yaXpvbnRhbEFsaWduIiwiQ2VudGVyIiwidmVydGljYWxBbGlnbiIsIm1hcmdpbiIsImNhbGN1bGF0ZURpbWVuc2lvbnNYIiwiYm91bmRzIiwiTGVmdCIsIlJpZ2h0IiwiY2FsY3VsYXRlRGltZW5zaW9uc1kiLCJUb3AiLCJCb3R0b20iLCJyZW5kZXJPYmplY3RfUmVuZGVyT2JqZWN0IiwiZ2VuZXJhdGVOZXdJZCIsImlkQ291bnRlciIsImRpbWVuc2lvbnMiLCJhbGlnbmVtZW50IiwidHJpZ2dlclVwZGF0ZUxheW91dCIsImRpc2FibGVNb3VzZU1vdmUiLCJpZCIsImxheW91dFZpZXdfTGF5b3V0VmlldyIsImNoaWxkcmVuIiwic3VwZXIiLCJjaGlsZCIsInN0YXJSZW5kZXJPYmplY3RfU3RhclJlbmRlck9iamVjdCIsInN0YXIiLCJmaWxsU3R5bGUiLCJiZWdpblBhdGgiLCJhcmMiLCJNYXRoIiwiUEkiLCJmaWxsIiwiRXJyb3IiLCJzdGFyTGF5ZXJEcmF3ZXJfU3RhckxheWVyRHJhd2VyIiwic3RhckxheWVyIiwic2V0dGluZ3NVcGRhdGVkIiwib3BlcmF0aW9uIiwiQ2hhbmdlTnVtYmVyT2ZTdGFycyIsInVwZGF0ZU51bWJlck9mU3RhcnMiLCJhcHBfQXBwIiwic2V0dGluZ01hbmFnZXIiLCJ1cGRhdGUiLCJzdGFycyIsInNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbF9TZXR0aW5nc092ZXJsYXlWaWV3TW9kZWwiLCJzdGF0ZSIsImhpZGRlbiIsIkVFdmVudCIsImxpc3RlbmVycyIsImxpc3RlbmVyIiwiYWRkRXZlbnRMaXN0ZW5lcklmTm90RXhpc3RzIiwiZGlzcGF0Y2hFdmVudCIsImxlbmd0aCIsImV2ZW50IiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXJJZkV4aXN0cyIsIkVFdmVudFQiLCJhcmciLCJlQ2FudmFzX0VDYW52YXMiLCJkcmF3RnVuY3Rpb25zIiwicmVzaXplIiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJkcmF3IiwiZHJhd0Z1bmN0aW9uIiwicmVtb3ZlRHJhd0Z1bmN0aW9uIiwiYm9keSIsInBhcmVudEVsZW1lbnQiLCJzdHlsZSIsIm92ZXJmbG93IiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZENoaWxkIiwiZW5DYW52YXMiLCJnZXRDb250ZXh0Iiwid2luZG93IiwiY3Vyc29yTG9jayIsIlNldEN1cnNvciIsInBvaW50ZXIiLCJjdXJzb3IiLCJjb250cm9sX0NvbnRyb2wiLCJpc01vdXNlT3ZlciIsImlzRW5hYmxlZCIsImNsaWNrZWQiLCJjbGllbnRYIiwiY2xpZW50WSIsIkJ1dHRvblByb3BlcnRpZXMiLCJmb250U2l6ZSIsImZvbnRQcmVmaXgiLCJmb250RmFtaWx5IiwibW91c2VPdmVyRmlsbFN0eWxlIiwiYmFja2dyb3VuZEZpbGxTdHlsZSIsInVuZGVmaW5lZCIsImdldEZvbnQiLCJmb250IiwiYnV0dG9uX0J1dHRvbiIsInByb3BlcnRpZXMiLCJmaWxsUmVjdCIsInRleHRBbGlnbiIsInRleHRCYXNlbGluZSIsImZpbGxUZXh0IiwidGV4dCIsInNpemUiLCJtZWFzdXJlVGV4dCIsImxpc3RWaWV3UHJvcGVydGllc19MaXN0Vmlld1Byb3BlcnRpZXMiLCJpdGVtU3BhY2luZyIsIm9yaWVudGF0aW9uIiwiVmVydGljYWwiLCJsaXN0Vmlld19MaXN0VmlldyIsImFkZEl0ZW0iLCJsYXlvdXRWaWV3IiwibWF4Iiwic2xpZGVyX1NsaWRlciIsInJhZGl1cyIsIm1pblZhbHVlIiwibWF4VmFsdWUiLCJjdXJyZW50VmFsdWUiLCJ2YWx1ZUNoYW5nZWQiLCJpc0RyYWdnaW5nIiwidXBkYXRlQ3VycmVudFZhbHVlIiwic3Ryb2tlU3R5bGUiLCJsaW5lV2lkdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2UiLCJyZWxWYWx1ZSIsImNsb3NlUGF0aCIsInZhbCIsInN0YXJMYXllclZpZXdfU3RhckxheWVyVmlldyIsIm51bWJlck9mU3RhcnNDaGFuZ2VkIiwibnVtYmVyT2ZTdGFycyIsImNoYW5nZU51bWJlck9mU3RhcnMiLCJyb3VuZCIsInNwZWVkQ2hhbmdlZCIsInNwZWVkIiwiY2hhbmdlU3BlZWQiLCJzZXR0aW5nc0xpc3QiLCJidG5Gb3JMYXllciIsInNlbmRlciIsInJlbW92ZVN0YXJMYXllciIsInNsaWRlciIsInNsaWRlclNwZWVkIiwic2V0dGluZ3NPdmVybGF5Vmlld19TZXR0aW5nc092ZXJsYXlWaWV3Iiwidmlld01vZGVsIiwibGFzdE1vdmVkIiwiRGF0ZSIsIm5vdyIsImluYWN0aXZpdHlUaW1lb3V0IiwibGF5ZXJCdXR0b25zIiwiQWRkU3RhckxheWVyIiwic2V0dGluZ3MiLCJzdGFyTGF5ZXJzIiwibWFwIiwidGFnIiwiYWRkTGF5ZXJCdG4iLCJ0b2dnbGVTaG93SGlkZVN0YXJMYXllclZpZXciLCJSZW1vdmVTdGFyTGF5ZXIiLCJzZXR0aW5nc0xheWVyIiwiZGV0YWlsZWRTdGFyTGF5ZXJWaWV3Iiwic2hvd0hpZGVPdmVybGF5Q2xpY2tlZCIsInZpc2libGUiLCJzZXRTdGF0ZSIsImJlZm9yZVZpc2libGUiLCJtb3VzZUluYWN0aXZpdHlIYW5kbGVyIiwic2V0VGltZW91dCIsInNob3dPdmVyTGF5ZXJCdXR0b24iLCJidG5Gb3JOZXdMYXllciIsImFkZFN0YXJMYXllciIsInNwYWNlIiwic3RhckxheWVyQW5pbWF0b3JfU3RhckxheWVyQW5pbWF0b3IiLCJ0aW1lRGlmZiIsIkRpbmplY3QiLCJpbnN0YW5jZXMiLCJhZGRJbnN0YW5jZSIsImluc3RhbmNlIiwiZ2V0SW5zdGFuY2UiLCJwbGF5ZXJWaWV3X1BsYXllclZpZXciLCJwbGF5SWNvblRleHQiLCJwYXVzZUljb25UZXh0Iiwic3RvcEljb25UZXh0IiwibmV4dEljb25UZXh0IiwicHJldmlvdXNJY29uVGV4dCIsImF1ZGlvTWFuYWdlciIsImxpc3RWaWV3IiwiSG9yaXpvbnRhbCIsInBsYXlQYXVzZUJ0biIsInBsYXkiLCJwYXVzZSIsInN0b3BCdG4iLCJzdG9wIiwicHJldmlvdXNCdG4iLCJwcmV2aW91cyIsIm5leHRCdG4iLCJpbWFnZVByb3BlcnRpZXNfSW1hZ2VQcm9wZXJ0aWVzIiwiaW1hZ2VTY2FsaW5nTW9kZSIsIkZpdEFuZFNwYWNlIiwic2NhbGUiLCJpbWFnZV9FSW1hZ2UiLCJpbWFnZSIsImRyYXdJbWFnZSIsImZpdFNjYWxlIiwiaXNJbWFnZVdpZGVyIiwibmF0dXJhbFdpZHRoIiwibmF0dXJhbEhlaWdodCIsIkZpdEFuZE92ZXJmaWxsIiwiY3JlYXRlRnJvbVVybCIsImltYWdlVXJsIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJJbWFnZSIsInNyYyIsIm9ubG9hZCIsImJhY2tncm91bmRJbWFnZVZpZXdfQmFja2dyb3VuZEltYWdlVmlldyIsImJhY2tncm91bmQiLCJnZXRJbWFnZSIsImluc3BpZXJ0eVBsYXllclZpZXdfSW5zcGllcnR5UGxheWVyVmlldyIsInN0YXJBbmltYXRvcnMiLCJhcHBTZXR0aW5nc1VwZGF0ZWQiLCJsYXllciIsImFuaW1hdG9yIiwiYW5pbWF0aW9uIiwiYWRkVXBkYXRlRnVuY3Rpb24iLCJzdGFyTGF5ZXJEcmF3cyIsInJlbW92ZVVwZGF0ZUZ1bmN0aW9uIiwic2V0dGluZ3NPdmVybGF5IiwicGxheWVyVmlldyIsIlN0YXJMYXllciIsInJhbmRvbSIsIkVBbmltYXRpb24iLCJ1cGRhdGVGdW5jdGlvbnMiLCJpc1J1bm5pbmciLCJzZXRGcHMiLCJmcHMiLCJmcHNJbnRlcnZhbCIsImFuaW1hdGlvbkxvb3AiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJlbGFwc2VkIiwibGFzdEZyYW1lVGltZSIsInVwZGF0ZUZ1bmN0aW9uIiwia2V5Q29kZSIsInBsYXlQYXVzZSIsIkNhbnZhc0hlbHBlciIsImxvYWRGb250YXdlc29tZUZyZWUiLCJsb2FkRm9udCIsImxvYWRGb250YXdlc29tZUJyYW5kcyIsImNvdW50UGl4ZWxzIiwiaW1hZ2VEYXRhIiwicGl4ZWxDb3VudCIsImRhdGEiLCJnIiwiYiIsImEiLCJnZXRJY29uUGl4ZWxzIiwiaWNvbiIsImdldEltYWdlRGF0YSIsImljb24xIiwiaWNvbjIiLCJyZXRyaWVzIiwidGVtcENhbnZhcyIsInRlbXBDdHgiLCJjaGVja0xvYWRlZCIsImljb24xUGl4ZWxDb3VudCIsImljb24yUGl4ZWxDb3VudCIsImFicyIsIkF1ZGlvR3JhcGhOb2RlIiwiYXVkaW9DdHgiLCJhdWRpb0dyYXBoTm9kZUFuYWx5c2VyX0F1ZGlvR3JhcGhOb2RlQW5hbHlzZXIiLCJnZXRBdWRpb05vZGUiLCJhbmFseXNlck5vZGUiLCJjcmVhdGVBbmFseXNlciIsImZmdFNpemUiLCJzbW9vdGhpbmdUaW1lQ29uc3RhbnQiLCJidWZmZXJMZW5ndGgiLCJmcmVxdWVuY3lCaW5Db3VudCIsImRhdGFBcnJheSIsIlVpbnQ4QXJyYXkiLCJnZXRCeXRlRnJlcXVlbmN5RGF0YSIsImdldEJ5dGVUaW1lRG9tYWluRGF0YSIsImF1ZGlvR3JhcGhOb2RlRGVzdGluYXRpb25fQXVkaW9HcmFwaE5vZGVEZXN0aW5hdGlvbiIsImRlc3RpbmF0aW9uIiwiYXVkaW9HcmFwaE5vZGVFbGVtZW50U291cmNlX0F1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZSIsInVybCIsImF1ZGlvRW5kZWQiLCJhdWRpb0VuZGVkRXZlbnQiLCJzb3VyY2UiLCJhdWRpbyIsImN1cnJlbnRUaW1lIiwic2V0VXJsIiwicGF1c2VkIiwibG9hZCIsImNvbnRyb2xzIiwiY3JlYXRlTWVkaWFFbGVtZW50U291cmNlIiwiYXVkaW9HcmFwaF9BdWRpb0dyYXBoIiwiYXVkaW9Ob2RlcyIsImFkZE1lZGlhRWxlbWVudFNvdXJjZSIsInNvdXJjZU5vZGUiLCJhZGRBbmFseXplciIsImFuYWx5emVyTm9kZSIsImdldEF1ZGlvR3JhcGhOb2RlIiwiYXVkaW9Db250ZXh0U3RhdGVDaGFuZ2VkIiwiZG9jdW1lbnRDbGljayIsInJlc3VtZSIsImF1ZGlvQ29udGV4dFN0YXRlQ2hhbmdlZEV2YWx1YXRvciIsInJlbG9hZCIsInRoZW4iLCJhbGwiLCJhdWRpb05vZGUiLCJkaXNjb25uZWN0IiwiY29ubmVjdCIsImRlc3RpbmF0aW9uTm9kZSIsIkF1ZGlvQ29udGV4dCIsImF1ZGlvTWFuYWdlcl9BdWRpb01hbmFnZXIiLCJzb25ncyIsIlRyYWlsZXJfQ29uc3RlbGxhdGlvbl9kZWZhdWx0IiwiYXVkaW9HcmFwaCIsIm5leHRTb25nSW5kZXgiLCJwcmV2aW91c1NvbmdJbmRleCIsImFuYWx5c2VyIiwiQXNzZXRNYW5hZ2VyIiwiaW1hZ2VBc3NldHMiLCJhZGRJbWFnZSIsImltYWdlQXNzZXQiLCJydW4iLCJiYWNrZ3JvdW5kQ29sb3IiLCJjcmVhdGVGdWxsU2NyZWVuIiwic3RhZ2UiLCJhc3NldE1hbmFnZXIiLCJiYWNrZ3JvdW5kX2RlZmF1bHQiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJkaWZmIiwiZmxvb3IiLCJDaGFuZ2VTcGVlZCJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxRQUFBLElBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEVBQUEsQ0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLFlBQUEsQ0FBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURtQixPQUFBLEtBUWpEckIsRUFBQXNCLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURBLEVBQUFBLElBQUFGLEVBQUFyQixFQUFBcUIsSUFDQSxFQUFBRSxFQUFBLE9BQUFGLEVBQ0EsS0FBQUUsR0FBQSxpQkFBQUYsUUFBQUcsV0FBQSxPQUFBSCxFQUNBLElBQUFJLEVBQUFYLE9BQUFZLE9BQUEsTUFHQSxHQUZBMUIsRUFBQWtCLEVBQUFPLEdBQ0FYLE9B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bGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDMpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiZWYxMjk2MWY2Njc4NmQ1NzlmMzk4NWMxOWZlYTMwM2Iub2dnXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiNGYzYjcxMjg5YjdlYmJmNjEzMjMzNzEwYzkyMzc0MDcucG5nXCI7IiwiaW50ZXJmYWNlIEFycmF5PFQ+IHtcclxuICAgIHJlbW92ZUl0ZW1JZkV4aXN0cyhpdGVtOiBUKTogdm9pZDtcclxuICAgIGNvbnRhaW5zKGl0ZW06IFQpOiBib29sZWFuO1xyXG4gICAgcmVtb3ZlSXRlbShpdGVtOiBUKTogdm9pZDtcclxuICAgIHJlbW92ZShzZWxlY3RvcjogKGl0ZW06IFQpID0+IGJvb2xlYW4pOiB2b2lkO1xyXG4gICAgYWRkSXRlbUlmTm90RXhpc3RzKGl0ZW06IFQpOiB2b2lkO1xyXG4gICAgdG9MaXN0KCk6IFRbXTtcclxuICAgIGdldE5leHQoY3VycmVudDogVCwgc2VsZWN0b3I6IChpdGVtOiBUKSA9PiBudW1iZXIpOiBUO1xyXG4gICAgZmlyc3Qoc2VsZWN0b3I6IChpdGVtOiBUKSA9PiBib29sZWFuKTogVDtcclxuICAgIGZpcnN0T3JEZWZhdWx0KHNlbGVjdG9yOiAoaXRlbTogVCkgPT4gYm9vbGVhbik6IFQ7XHJcbn1cclxuXHJcbkFycmF5LnByb3RvdHlwZS5maXJzdE9yRGVmYXVsdCA9IGZ1bmN0aW9uIChmdW5jKSB7XHJcbiAgICBmb3IgKGNvbnN0IGFycmF5SXRlbSBvZiB0aGlzKSB7XHJcbiAgICAgICAgaWYgKGZ1bmMoYXJyYXlJdGVtKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYXJyYXlJdGVtO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcblxyXG5BcnJheS5wcm90b3R5cGUuZmlyc3QgPSBmdW5jdGlvbiAoZnVuYykge1xyXG4gICAgZm9yIChjb25zdCBhcnJheUl0ZW0gb2YgdGhpcykge1xyXG4gICAgICAgIGlmIChmdW5jKGFycmF5SXRlbSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFycmF5SXRlbTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZyhcIml0ZW0gbm90IGZvdW5kXCIpO1xyXG4gICAgY29uc29sZS5sb2codGhpcyk7XHJcbiAgICB0aHJvdyBcIml0ZW0gbm90IGZvdW5kXCI7XHJcbn1cclxuXHJcbkFycmF5LnByb3RvdHlwZS5nZXROZXh0ID0gZnVuY3Rpb24gPFQ+KGN1cnJlbnQ6IFQsIHNlbGVjdG9yOiAoaXRlbTogVCkgPT4gbnVtYmVyKTogVCB7XHJcbiAgICB2YXIgbmV4dFBvc2l0aW9uID0gc2VsZWN0b3IoY3VycmVudCkgKyAxO1xyXG4gICAgdmFyIG5leHQgPSAodGhpcyBhcyBUW10pLmZpcnN0T3JEZWZhdWx0KCh4KSA9PiBzZWxlY3Rvcih4KSA9PSBuZXh0UG9zaXRpb24pO1xyXG4gICAgaWYgKCFuZXh0KSB7XHJcbiAgICAgICAgbmV4dCA9ICh0aGlzIGFzIFRbXSkuZmlyc3QoeCA9PiBzZWxlY3Rvcih4KSA9PSAxKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbmV4dDtcclxufVxyXG5cclxuQXJyYXkucHJvdG90eXBlLnJlbW92ZUl0ZW0gPSBmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleE9mKGl0ZW0pO1xyXG4gICAgaWYgKGluZGV4ICE9IC0xKSB7XHJcbiAgICAgICAgdGhpcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB0aHJvdyBcIml0ZW0gbm90IGZvdW5kXCI7XHJcbiAgICB9XHJcbn1cclxuXHJcbkFycmF5LnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uIDxUPihpdGVtOiBUKSB7XHJcbiAgICByZXR1cm4gdGhpcy5pbmRleE9mKGl0ZW0pICE9PSAtMTtcclxufVxyXG5cclxuQXJyYXkucHJvdG90eXBlLnJlbW92ZUl0ZW1JZkV4aXN0cyA9IGZ1bmN0aW9uIDxUPihpdGVtOiBUKSB7XHJcbiAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4T2YoaXRlbSk7XHJcbiAgICBpZiAoaW5kZXggIT0gLTEpIHtcclxuICAgICAgICB0aGlzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbkFycmF5LnByb3RvdHlwZS5hZGRJdGVtSWZOb3RFeGlzdHMgPSBmdW5jdGlvbiA8VD4oaXRlbTogVCkge1xyXG4gICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleE9mKGl0ZW0pO1xyXG4gICAgaWYgKGluZGV4ID09IC0xKSB7XHJcbiAgICAgICAgKHRoaXMgYXMgVFtdKS5wdXNoKGl0ZW0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5BcnJheS5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gPFQ+KHNlbGVjdG9yOiAoaXRlbTogVCkgPT4gYm9vbGVhbikge1xyXG4gICAgKHRoaXMgYXMgVFtdKS5yZW1vdmVJdGVtKCh0aGlzIGFzIFRbXSkuZmlyc3Qoc2VsZWN0b3IpKTtcclxufVxyXG5cclxuQXJyYXkucHJvdG90eXBlLnRvTGlzdCA9IGZ1bmN0aW9uIDxUPigpOiBUW10ge1xyXG4gICAgcmV0dXJuICh0aGlzIGFzIFRbXSkuZmlsdGVyKHggPT4gdHJ1ZSk7XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIFJlY3RhbmdsZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgeDogbnVtYmVyLCBwdWJsaWMgeTogbnVtYmVyLCBwdWJsaWMgd2lkdGg6IG51bWJlciwgcHVibGljIGhlaWdodDogbnVtYmVyKSB7IH1cclxuXHJcbiAgICBwdWJsaWMgY29sbGlkZXNXaXRoID0gKHJlY3RhbmdsZTogUmVjdGFuZ2xlKSA9PiB7XHJcbiAgICAgICAgdmFyIGhpdHggPSBmYWxzZTtcclxuICAgICAgICB2YXIgaGl0eSA9IGZhbHNlO1xyXG4gICAgICAgIGlmICh0aGlzLnggPD0gcmVjdGFuZ2xlLngpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMueCA8PSByZWN0YW5nbGUueCAmJiB0aGlzLnggKyB0aGlzLndpZHRoID4gcmVjdGFuZ2xlLngpIHtcclxuICAgICAgICAgICAgICAgIGhpdHggPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHJlY3RhbmdsZS54IDw9IHRoaXMueCAmJiByZWN0YW5nbGUueCArIHJlY3RhbmdsZS53aWR0aCA+IHRoaXMueCkge1xyXG4gICAgICAgICAgICAgICAgaGl0eCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChoaXR4KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnkgPD0gcmVjdGFuZ2xlLnkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnkgPD0gcmVjdGFuZ2xlLnkgJiYgdGhpcy55ICsgdGhpcy53aWR0aCA+IHJlY3RhbmdsZS55KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGl0eSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVjdGFuZ2xlLnkgPD0gdGhpcy55ICYmIHJlY3RhbmdsZS55ICsgcmVjdGFuZ2xlLndpZHRoID4gdGhpcy55KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGl0eSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBoaXR4ICYmIGhpdHk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzSGl0QnkgPSAoeDogbnVtYmVyLCB5OiBudW1iZXIpID0+IHtcclxuICAgICAgICByZXR1cm4geCA+IHRoaXMueCAmJiB4IDwgdGhpcy54ICsgdGhpcy53aWR0aFxyXG4gICAgICAgICAgICAmJiB5ID4gdGhpcy55ICYmIHkgPCB0aGlzLnkgKyB0aGlzLmhlaWdodDtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEVDYW52YXMgfSBmcm9tIFwiLi9lQ2FudmFzXCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgTGF5b3V0VmlldyB9IGZyb20gXCIuL2xheW91dENvbnRyb2xzL2xheW91dFZpZXdcIjtcclxuaW1wb3J0IHsgRUFuaW1hdGlvbiB9IGZyb20gXCIuLi9lQW5pbWF0aW9uXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU3RhZ2Uge1xyXG4gICAgcHJpdmF0ZSB2aWV3OiBMYXlvdXRWaWV3O1xyXG4gICAgcHJpdmF0ZSBzaG91bGRVcGRhdGVMYXlvdXQ6IGJvb2xlYW47XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBjYW52YXM6IEVDYW52YXMpIHtcclxuICAgICAgICBjYW52YXMuYWRkRHJhd0Z1bmN0aW9uKHRoaXMucmVuZGVyKTtcclxuICAgICAgICBjYW52YXMucmVzaXplZC5hZGRFdmVudExpc3RlbmVyKHRoaXMuY2FudmFzUmVzaXplZCk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLm1vdXNlRG93bik7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5tb3VzZVVwKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMubW91c2VNb3ZlKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5jbGljayk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjYW52YXNSZXNpemVkID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2hvdWxkVXBkYXRlTGF5b3V0ID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG1vdXNlRG93biA9IChldjogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnZpZXcpIHtcclxuICAgICAgICAgICAgdGhpcy52aWV3Lm1vdXNlRG93bihldik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbW91c2VVcCA9IChldjogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnZpZXcpIHtcclxuICAgICAgICAgICAgdGhpcy52aWV3Lm1vdXNlVXAoZXYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG1vdXNlTW92ZSA9IChldjogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnZpZXcpIHtcclxuICAgICAgICAgICAgdGhpcy52aWV3Lm1vdXNlTW92ZShldik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2xpY2sgPSAoZXY6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICBpZiAodGhpcy52aWV3KSB7XHJcbiAgICAgICAgICAgIHRoaXMudmlldy5jbGljayhldik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVuZGVyID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB3aWR0aD86IG51bWJlciwgaGVpZ2h0PzogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMudmlldykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zaG91bGRVcGRhdGVMYXlvdXQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudmlldy51cGRhdGVMYXlvdXQoY3R4LCBuZXcgUmVjdGFuZ2xlKDAsIDAsIHdpZHRoLCBoZWlnaHQpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvdWxkVXBkYXRlTGF5b3V0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICAgICAgdGhpcy52aWV3LnJlbmRlcihjdHgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0VmlldyA9ICh2aWV3OiBMYXlvdXRWaWV3KSA9PiB7XHJcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcclxuICAgICAgICB0aGlzLnNob3VsZFVwZGF0ZUxheW91dCA9IHRydWU7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZW51bSBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbiB7XHJcbiAgICBMZWZ0LFxyXG4gICAgQ2VudGVyLFxyXG4gICAgUmlnaHQsXHJcbn0iLCJleHBvcnQgZW51bSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24ge1xyXG4gICAgVG9wLFxyXG4gICAgQ2VudGVyLFxyXG4gICAgQm90dG9tLFxyXG59IiwiZXhwb3J0IGVudW0gU2V0dGluZ09wZXJhdGlvbiB7XHJcbiAgICBBZGRTdGFyTGF5ZXIsXHJcbiAgICBSZW1vdmVTdGFyTGF5ZXIsXHJcbiAgICBDaGFuZ2VOdW1iZXJPZlN0YXJzLFxyXG4gICAgQ2hhbmdlU3BlZWRcclxufSIsImV4cG9ydCBlbnVtIFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlIHtcclxuICAgIGhpZGRlbixcclxuICAgIGJlZm9yZVZpc2libGUsXHJcbiAgICB2aXNpYmxlXHJcbn0iLCJleHBvcnQgZW51bSBPcmllbnRhdGlvbiB7XHJcbiAgICBIb3Jpem9udGFsLFxyXG4gICAgVmVydGljYWxcclxufSIsImV4cG9ydCBlbnVtIEltYWdlU2NhbGluZ01vZGV7XHJcbiAgICBGaXRBbmRPdmVyZmlsbCxcclxuICAgIEZpdEFuZFNwYWNlXHJcbn0iLCJleHBvcnQgY2xhc3MgU3BhY2luZyB7XHJcbiAgICBwdWJsaWMgdG9wOiBudW1iZXIgPSAwO1xyXG4gICAgcHVibGljIHJpZ2h0OiBudW1iZXIgPSAwO1xyXG4gICAgcHVibGljIGJvdHRvbTogbnVtYmVyID0gMDtcclxuICAgIHB1YmxpYyBsZWZ0OiBudW1iZXIgPSAwO1xyXG59IiwiaW1wb3J0IHsgSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24gfSBmcm9tIFwiLi9ob3Jpem9udGFsQWxpZ25lbWVudE9wdGlvblwiO1xyXG5pbXBvcnQgeyBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24gfSBmcm9tIFwiLi92ZXJ0aWNhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBTcGFjaW5nIH0gZnJvbSBcIi4vc3BhY2luZ1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEFsaWduZW1lbnQge1xyXG4gICAgcHVibGljIGhvcml6b250YWxBbGlnbiA9IEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uLkNlbnRlcjtcclxuICAgIHB1YmxpYyB2ZXJ0aWNhbEFsaWduID0gVmVydGljYWxBbGlnbmVtZW50T3B0aW9uLkNlbnRlcjtcclxuXHJcbiAgICBwdWJsaWMgbWFyZ2luID0gbmV3IFNwYWNpbmcoKTtcclxuICAgIC8vIHB1YmxpYyBwYWRkaW5nID0gbmV3IFNwYWNpbmcoKTtcclxuXHJcbiAgICBwdWJsaWMgY2FsY3VsYXRlRGltZW5zaW9uc1ggPSAoYm91bmRzOiBSZWN0YW5nbGUsIHdpZHRoOiBudW1iZXIpID0+IHtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuaG9yaXpvbnRhbEFsaWduKSB7XHJcbiAgICAgICAgICAgIGNhc2UgSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24uTGVmdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBib3VuZHMueCArIHRoaXMubWFyZ2luLmxlZnQ7XHJcbiAgICAgICAgICAgIGNhc2UgSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24uQ2VudGVyOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJvdW5kcy54ICsgYm91bmRzLndpZHRoIC8gMiAtIHdpZHRoIC8gMjtcclxuICAgICAgICAgICAgY2FzZSBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbi5SaWdodDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBib3VuZHMueCArIGJvdW5kcy53aWR0aCAtIHdpZHRoIC0gdGhpcy5tYXJnaW4ucmlnaHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjYWxjdWxhdGVEaW1lbnNpb25zWSA9IChib3VuZHM6IFJlY3RhbmdsZSwgaGVpZ2h0OiBudW1iZXIpID0+IHtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMudmVydGljYWxBbGlnbikge1xyXG4gICAgICAgICAgICBjYXNlIFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi5Ub3A6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYm91bmRzLnkgKyB0aGlzLm1hcmdpbi50b3A7XHJcbiAgICAgICAgICAgIGNhc2UgVmVydGljYWxBbGlnbmVtZW50T3B0aW9uLkNlbnRlcjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBib3VuZHMueSArIGJvdW5kcy5oZWlnaHQgLyAyIC0gaGVpZ2h0IC8gMjtcclxuICAgICAgICAgICAgY2FzZSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24uQm90dG9tOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJvdW5kcy55ICsgYm91bmRzLmhlaWdodCAtIGhlaWdodCAtIHRoaXMubWFyZ2luLmJvdHRvbTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IEFsaWduZW1lbnQgfSBmcm9tIFwiLi9hbGlnbmVtZW50L2FsaWduZW1lbnRcIjtcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBSZW5kZXJPYmplY3Qge1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgaWRDb3VudGVyID0gMDtcclxuICAgIHByaXZhdGUgZ2VuZXJhdGVOZXdJZCA9ICgpID0+IHtcclxuICAgICAgICBSZW5kZXJPYmplY3QuaWRDb3VudGVyKys7XHJcbiAgICAgICAgcmV0dXJuIFJlbmRlck9iamVjdC5pZENvdW50ZXI7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5pZCA9IHRoaXMuZ2VuZXJhdGVOZXdJZCgpO1xyXG4gICAgICAgIHRoaXMubmFtZSA9IFwib2JqZWN0IFwiICsgdGhpcy5pZDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaWQ6IG51bWJlcjtcclxuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgdGFnOiBhbnk7XHJcblxyXG4gICAgcHVibGljIGJvdW5kczogUmVjdGFuZ2xlID0gbmV3IFJlY3RhbmdsZSgwLCAwLCAwLCAwKTtcclxuICAgIHB1YmxpYyBkaW1lbnNpb25zOiBSZWN0YW5nbGUgPSBuZXcgUmVjdGFuZ2xlKDAsIDAsIDAsIDApO1xyXG5cclxuICAgIHB1YmxpYyBhbGlnbmVtZW50ID0gbmV3IEFsaWduZW1lbnQoKTtcclxuXHJcbiAgICBwcml2YXRlIHNob3VsZFVwZGF0ZUxheW91dCA9IGZhbHNlO1xyXG5cclxuICAgIHB1YmxpYyByZW5kZXIoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcclxuICAgICAgICBpZiAodGhpcy5zaG91bGRVcGRhdGVMYXlvdXQpIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVMYXlvdXQoY3R4LCB0aGlzLmJvdW5kcyk7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvdWxkVXBkYXRlTGF5b3V0ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSkge1xyXG4gICAgICAgIHRoaXMuYm91bmRzID0gYm91bmRzO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB0cmlnZ2VyVXBkYXRlTGF5b3V0ID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2hvdWxkVXBkYXRlTGF5b3V0ID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGlzYWJsZU1vdXNlTW92ZSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLm1vdXNlTW92ZSA9ICgpID0+IHsgfVxyXG4gICAgfVxyXG5cclxuICAgIGFic3RyYWN0IG1vdXNlRG93bihldjogTW91c2VFdmVudCk6IHZvaWQ7XHJcbiAgICBhYnN0cmFjdCBtb3VzZVVwKGV2OiBNb3VzZUV2ZW50KTogdm9pZDtcclxuICAgIGFic3RyYWN0IG1vdXNlTW92ZShldjogTW91c2VFdmVudCk6IHZvaWQ7XHJcbiAgICBhYnN0cmFjdCBjbGljayhldjogTW91c2VFdmVudCk6IHZvaWQ7XHJcbn0iLCJpbXBvcnQgeyBSZW5kZXJPYmplY3QgfSBmcm9tIFwiLi4vcmVuZGVyT2JqZWN0XCI7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgTGF5b3V0VmlldyBleHRlbmRzIFJlbmRlck9iamVjdCB7XHJcbiAgICBwcm90ZWN0ZWQgY2hpbGRyZW46IFJlbmRlck9iamVjdFtdID0gW107XHJcblxyXG4gICAgcHVibGljIHJlbmRlcihjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xyXG4gICAgICAgIHN1cGVyLnJlbmRlcihjdHgpO1xyXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICBjaGlsZC5yZW5kZXIoY3R4KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHB1YmxpYyBtb3VzZURvd24oZXY6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgY2hpbGQubW91c2VEb3duKGV2KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG1vdXNlVXAoZXY6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgY2hpbGQubW91c2VVcChldik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtb3VzZU1vdmUoZXY6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgY2hpbGQubW91c2VNb3ZlKGV2KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNsaWNrKGV2OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuLnRvTGlzdCgpKSB7XHJcbiAgICAgICAgICAgIGNoaWxkLmNsaWNrKGV2KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBSZW5kZXJPYmplY3QgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9yZW5kZXJPYmplY3RcIjtcclxuaW1wb3J0IHsgU3RhciB9IGZyb20gXCIuLi9tb2RlbHMvc3RhclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFN0YXJSZW5kZXJPYmplY3QgZXh0ZW5kcyBSZW5kZXJPYmplY3Qge1xyXG4gICAgbW91c2VEb3duKGV2OiBNb3VzZUV2ZW50KTogdm9pZCB7XHJcbiAgICB9XHJcbiAgICBtb3VzZVVwKGV2OiBNb3VzZUV2ZW50KTogdm9pZCB7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBzdGFyOiBTdGFyKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVuZGVyKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJkcmF3aW5nXCIpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBcIndoaXRlXCI7XHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5hcmModGhpcy5zdGFyLngsIHRoaXMuc3Rhci55LCB0aGlzLnN0YXIuciwgMCwgTWF0aC5QSSAqIDIpO1xyXG4gICAgICAgIGN0eC5maWxsKCk7XHJcbiAgICB9XHJcbiAgICBtb3VzZU1vdmUoZXY6IE1vdXNlRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcclxuICAgIH1cclxuICAgIGNsaWNrKGV2OiBNb3VzZUV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBMYXlvdXRWaWV3IH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGF5b3V0Vmlld1wiO1xyXG5pbXBvcnQgeyBTdGFyUmVuZGVyT2JqZWN0IH0gZnJvbSBcIi4vc3RhclJlbmRlck9iamVjdFwiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgU3RhckxheWVyIH0gZnJvbSBcIi4uL21vZGVscy9zdGFyTGF5ZXJcIjtcclxuaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4uL2FwcFwiO1xyXG5pbXBvcnQgeyBTZXR0aW5nT3BlcmF0aW9uIH0gZnJvbSBcIi4uL3NldHRpbmdzL3NldHRpbmdPcGVyYXRpb25cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTdGFyTGF5ZXJEcmF3ZXIgZXh0ZW5kcyBMYXlvdXRWaWV3IHtcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBzdGFyTGF5ZXI6IFN0YXJMYXllcikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgQXBwLnNldHRpbmdNYW5hZ2VyLnVwZGF0ZS5hZGRFdmVudExpc3RlbmVyKHRoaXMuc2V0dGluZ3NVcGRhdGVkKVxyXG4gICAgICAgIHRoaXMudHJpZ2dlclVwZGF0ZUxheW91dCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0dGluZ3NVcGRhdGVkID0gKG9wZXJhdGlvbjogU2V0dGluZ09wZXJhdGlvbikgPT4ge1xyXG4gICAgICAgIHN3aXRjaCAob3BlcmF0aW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgU2V0dGluZ09wZXJhdGlvbi5DaGFuZ2VOdW1iZXJPZlN0YXJzOlxyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVOdW1iZXJPZlN0YXJzKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVOdW1iZXJPZlN0YXJzID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMudHJpZ2dlclVwZGF0ZUxheW91dCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVMYXlvdXQoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGJvdW5kczogUmVjdGFuZ2xlKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IHN0YXIgb2YgdGhpcy5zdGFyTGF5ZXIuc3RhcnMpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKG5ldyBTdGFyUmVuZGVyT2JqZWN0KHN0YXIpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBtb3VzZU1vdmUoZXY6IE1vdXNlRXZlbnQpIHtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2xpY2soZXY6IE1vdXNlRXZlbnQpIHtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlIH0gZnJvbSBcIi4vc2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWwge1xyXG4gICAgcHVibGljIHN0YXRlOiBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZSA9IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLmhpZGRlbjtcclxufSIsImV4cG9ydCBjbGFzcyBFRXZlbnQge1xyXG4gICAgcHJpdmF0ZSBsaXN0ZW5lcnM6ICgoKSA9PiB2b2lkKVtdID0gW107XHJcblxyXG4gICAgcHVibGljIGFkZEV2ZW50TGlzdGVuZXIgPSAobGlzdGVuZXI6ICgpID0+IHZvaWQpID0+IHtcclxuICAgICAgICAvLyB2YWxpZGF0aW9uXHJcbiAgICAgICAgaWYgKCFsaXN0ZW5lciB8fCB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IFwibGlzdGVuZXIgYWxyZWFkeSBhZGRlZFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZEV2ZW50TGlzdGVuZXJJZk5vdEV4aXN0cyA9IChsaXN0ZW5lcjogKCkgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIC8vIHZhbGlkYXRpb25cclxuICAgICAgICBpZiAoIWxpc3RlbmVyIHx8IHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpID49IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRpc3BhdGNoRXZlbnQgPSAoKSA9PiB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBldmVudCA9IHRoaXMubGlzdGVuZXJzW2ldO1xyXG4gICAgICAgICAgICBldmVudCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlRXZlbnRMaXN0ZW5lciA9IChsaXN0ZW5lcjogKCkgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIC8vIHZhbGlkYXRpb25cclxuICAgICAgICBpZiAoIWxpc3RlbmVyIHx8IHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpIDwgMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBcImxpc3RlbmVyIG5vdCBmb3VuZFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuc3BsaWNlKHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpLCAxKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlRXZlbnRMaXN0ZW5lcklmRXhpc3RzID0gKGxpc3RlbmVyOiAoKSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgLy8gdmFsaWRhdGlvblxyXG4gICAgICAgIGlmICghbGlzdGVuZXIgfHwgdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcikgPCAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnNwbGljZSh0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSwgMSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBFRXZlbnRUPFQ+IHtcclxuICAgIHByaXZhdGUgbGlzdGVuZXJzOiAoKGFyZzogVCkgPT4gdm9pZClbXSA9IFtdO1xyXG5cclxuICAgIHB1YmxpYyBhZGRFdmVudExpc3RlbmVyID0gKGxpc3RlbmVyOiAoYXJnOiBUKSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgLy8gdmFsaWRhdGlvblxyXG4gICAgICAgIGlmICghbGlzdGVuZXIgfHwgdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcikgPj0gMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBcImxpc3RlbmVyIGFscmVhZHkgYWRkZWRcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkaXNwYXRjaEV2ZW50ID0gKGFyZzogVCkgPT4ge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5saXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSB0aGlzLmxpc3RlbmVyc1tpXTtcclxuICAgICAgICAgICAgZXZlbnQoYXJnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZUV2ZW50TGlzdGVuZXIgPSAobGlzdGVuZXI6IChhcmc6IFQpID0+IHZvaWQpID0+IHtcclxuICAgICAgICAvLyB2YWxpZGF0aW9uXHJcbiAgICAgICAgaWYgKCFsaXN0ZW5lciB8fCB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSA8IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJsaXN0ZW5lciBub3QgZm91bmRcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnNwbGljZSh0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSwgMSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBFRXZlbnRUVDxUMSwgVDI+IHtcclxuICAgIHByaXZhdGUgbGlzdGVuZXJzOiAoKGFyZzE6IFQxLCBhcmcyOiBUMikgPT4gdm9pZClbXSA9IFtdO1xyXG5cclxuICAgIHB1YmxpYyBhZGRFdmVudExpc3RlbmVyID0gKGxpc3RlbmVyOiAoYXJnMTogVDEsIGFyZzI6IFQyKSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgLy8gdmFsaWRhdGlvblxyXG4gICAgICAgIGlmICghbGlzdGVuZXIgfHwgdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcikgPj0gMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBcImxpc3RlbmVyIGFscmVhZHkgYWRkZWRcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkaXNwYXRjaEV2ZW50ID0gKGFyZzE6IFQxLCBhcmcyOiBUMikgPT4ge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5saXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSB0aGlzLmxpc3RlbmVyc1tpXTtcclxuICAgICAgICAgICAgZXZlbnQoYXJnMSwgYXJnMik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVFdmVudExpc3RlbmVyID0gKGxpc3RlbmVyOiAoYXJnMTogVDEsIGFyZzI6IFQyKSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgLy8gdmFsaWRhdGlvblxyXG4gICAgICAgIGlmICghbGlzdGVuZXIgfHwgdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcikgPCAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IFwibGlzdGVuZXIgbm90IGZvdW5kXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5zcGxpY2UodGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lciksIDEpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgRUFuaW1hdGlvbiB9IGZyb20gXCIuLi9lQW5pbWF0aW9uXCI7XHJcbmltcG9ydCB7IEVFdmVudCB9IGZyb20gXCIuLi9lRXZlbnRcIjtcclxuXHJcbmV4cG9ydCB0eXBlIERyYXdGdW5jdGlvbiA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgd2lkdGg/OiBudW1iZXIsIGhlaWdodD86IG51bWJlcikgPT4gdm9pZDtcclxuXHJcbmV4cG9ydCBjbGFzcyBFQ2FudmFzIHtcclxuICAgIHByaXZhdGUgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgIHByaXZhdGUgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XHJcblxyXG4gICAgcHJpdmF0ZSBkcmF3RnVuY3Rpb25zOiBEcmF3RnVuY3Rpb25bXSA9IFtdO1xyXG5cclxuICAgIHB1YmxpYyBnZXQgd2lkdGgoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXMud2lkdGg7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBoZWlnaHQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXMuaGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZXNpemVkID0gbmV3IEVFdmVudCgpXHJcblxyXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHsgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlRnVsbFNjcmVlbigpOiBFQ2FudmFzIHtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnBhcmVudEVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm1hcmdpbiA9IFwiMFwiO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xyXG5cclxuICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjYW52YXMpO1xyXG4gICAgICAgIGNhbnZhcy5zdHlsZS53aWR0aCA9IFwiMTAwJVwiXHJcbiAgICAgICAgY2FudmFzLnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiO1xyXG5cclxuICAgICAgICB2YXIgZW5DYW52YXMgPSBuZXcgRUNhbnZhcygpO1xyXG4gICAgICAgIGVuQ2FudmFzLmNhbnZhcyA9IGNhbnZhcztcclxuICAgICAgICBlbkNhbnZhcy5jdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBlbkNhbnZhcy5yZXNpemUpO1xyXG4gICAgICAgIGVuQ2FudmFzLnJlc2l6ZSgpO1xyXG4gICAgICAgIHJldHVybiBlbkNhbnZhcztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBjdXJzb3JMb2NrOiBzdHJpbmcgPSBudWxsO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgU2V0Q3Vyc29yID0gKG5hbWU6IHN0cmluZywgcG9pbnRlcjogYm9vbGVhbikgPT4ge1xyXG4gICAgICAgIGlmIChwb2ludGVyKSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gXCJwb2ludGVyXCI7XHJcbiAgICAgICAgICAgIEVDYW52YXMuY3Vyc29yTG9jayA9IG5hbWU7XHJcbiAgICAgICAgfSBlbHNlIGlmIChuYW1lID09IEVDYW52YXMuY3Vyc29yTG9jaykge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwiZGVmYXVsdFwiO1xyXG4gICAgICAgICAgICBFQ2FudmFzLmN1cnNvckxvY2sgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVzaXplID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gdGhpcy5jYW52YXMuY2xpZW50V2lkdGg7XHJcbiAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdGhpcy5jYW52YXMuY2xpZW50SGVpZ2h0O1xyXG4gICAgICAgIHRoaXMucmVzaXplZC5kaXNwYXRjaEV2ZW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRyYXcgPSAoKSA9PiB7XHJcbiAgICAgICAgZm9yIChjb25zdCBkcmF3RnVuY3Rpb24gb2YgdGhpcy5kcmF3RnVuY3Rpb25zKSB7XHJcbiAgICAgICAgICAgIGRyYXdGdW5jdGlvbih0aGlzLmN0eCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkRHJhd0Z1bmN0aW9uID0gKGZ1bmM6IERyYXdGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgIHRoaXMuZHJhd0Z1bmN0aW9ucy5wdXNoKGZ1bmMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVEcmF3RnVuY3Rpb24gPSAoZnVuYzogRHJhd0Z1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgdGhpcy5kcmF3RnVuY3Rpb25zLnNwbGljZSh0aGlzLmRyYXdGdW5jdGlvbnMuaW5kZXhPZihmdW5jKSwgMSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBSZW5kZXJPYmplY3QgfSBmcm9tIFwiLi4vcmVuZGVyT2JqZWN0XCI7XHJcbmltcG9ydCB7IEVDYW52YXMgfSBmcm9tIFwiLi4vZUNhbnZhc1wiO1xyXG5pbXBvcnQgeyBFRXZlbnRUIH0gZnJvbSBcIi4uLy4uL2VFdmVudFwiO1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIENvbnRyb2wgZXh0ZW5kcyBSZW5kZXJPYmplY3Qge1xyXG4gICAgcHJvdGVjdGVkIGlzTW91c2VPdmVyID0gZmFsc2U7XHJcbiAgICBwdWJsaWMgaXNFbmFibGVkID0gdHJ1ZTtcclxuXHJcbiAgICBwdWJsaWMgY2xpY2tlZCA9IG5ldyBFRXZlbnRUPENvbnRyb2w+KCk7XHJcblxyXG4gICAgcHVibGljIG1vdXNlTW92ZShldjogTW91c2VFdmVudCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzRW5hYmxlZCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5kaW1lbnNpb25zLmlzSGl0QnkoZXYuY2xpZW50WCwgZXYuY2xpZW50WSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNNb3VzZU92ZXIgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgRUNhbnZhcy5TZXRDdXJzb3IodGhpcy5uYW1lLCB0cnVlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNNb3VzZU92ZXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIEVDYW52YXMuU2V0Q3Vyc29yKHRoaXMubmFtZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjbGljayA9IChldjogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmlzRW5hYmxlZCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5kaW1lbnNpb25zLmlzSGl0QnkoZXYuY2xpZW50WCwgZXYuY2xpZW50WSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xpY2tlZC5kaXNwYXRjaEV2ZW50KHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtb3VzZURvd24oZXY6IE1vdXNlRXZlbnQpOiB2b2lkIHsgfVxyXG4gICAgcHVibGljIG1vdXNlVXAoZXY6IE1vdXNlRXZlbnQpOiB2b2lkIHsgfVxyXG59IiwiZXhwb3J0IGNsYXNzIEJ1dHRvblByb3BlcnRpZXMge1xyXG4gICAgcHVibGljIGZvbnRTaXplID0gNDA7XHJcbiAgICBwdWJsaWMgZm9udFByZWZpeCA9IFwiXCI7XHJcbiAgICBwdWJsaWMgZm9udEZhbWlseSA9IFwiZm9udGF3ZXNvbWVcIjtcclxuICAgIHB1YmxpYyBmaWxsU3R5bGUgPSBcImJsdWVcIjtcclxuICAgIHB1YmxpYyBtb3VzZU92ZXJGaWxsU3R5bGUgPSBcInJlZFwiO1xyXG4gICAgcHVibGljIGJhY2tncm91bmRGaWxsU3R5bGU6IHN0cmluZyA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICBwdWJsaWMgZ2V0Rm9udCA9ICgpID0+IHtcclxuICAgICAgICB2YXIgZm9udCA9IFwiXCI7XHJcbiAgICAgICAgaWYgKHRoaXMuZm9udFByZWZpeCkge1xyXG4gICAgICAgICAgICBmb250ICs9IHRoaXMuZm9udFByZWZpeCArIFwiIFwiXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvbnQgKz0gdGhpcy5mb250U2l6ZSArIFwicHhcIiArIFwiIFwiICsgdGhpcy5mb250RmFtaWx5O1xyXG4gICAgICAgIHJldHVybiBmb250O1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBDb250cm9sIH0gZnJvbSBcIi4vY29udHJvbFwiO1xyXG5pbXBvcnQgeyBCdXR0b25Qcm9wZXJ0aWVzIH0gZnJvbSBcIi4vYnV0dG9uUHJvcGVydGllc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJ1dHRvbiBleHRlbmRzIENvbnRyb2wge1xyXG5cclxuICAgIHB1YmxpYyBwcm9wZXJ0aWVzID0gbmV3IEJ1dHRvblByb3BlcnRpZXMoKTtcclxuICAgIHB1YmxpYyB0ZXh0OiBzdHJpbmc7XHJcblxyXG4gICAgcHVibGljIHJlbmRlciA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuYmFja2dyb3VuZEZpbGxTdHlsZSkge1xyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5wcm9wZXJ0aWVzLmJhY2tncm91bmRGaWxsU3R5bGU7XHJcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdCh0aGlzLmRpbWVuc2lvbnMueCwgdGhpcy5kaW1lbnNpb25zLnksIHRoaXMuZGltZW5zaW9ucy53aWR0aCwgdGhpcy5kaW1lbnNpb25zLmhlaWdodCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5pc01vdXNlT3Zlcikge1xyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5wcm9wZXJ0aWVzLm1vdXNlT3ZlckZpbGxTdHlsZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5wcm9wZXJ0aWVzLmZpbGxTdHlsZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGN0eC5mb250ID0gdGhpcy5wcm9wZXJ0aWVzLmdldEZvbnQoKTtcclxuICAgICAgICBjdHgudGV4dEFsaWduID0gXCJsZWZ0XCI7XHJcbiAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9IFwidG9wXCI7XHJcbiAgICAgICAgY3R4LmZpbGxUZXh0KHRoaXMudGV4dCwgdGhpcy5kaW1lbnNpb25zLngsIHRoaXMuZGltZW5zaW9ucy55KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0ID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHN1cGVyLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcblxyXG4gICAgICAgIGN0eC5mb250ID0gdGhpcy5wcm9wZXJ0aWVzLmdldEZvbnQoKTtcclxuICAgICAgICBjdHgudGV4dEFsaWduID0gXCJsZWZ0XCI7XHJcbiAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9IFwidG9wXCI7XHJcbiAgICAgICAgdmFyIHNpemUgPSBjdHgubWVhc3VyZVRleHQodGhpcy50ZXh0KTtcclxuICAgICAgICBcclxuICAgICAgICB2YXIgeCA9IHRoaXMuYWxpZ25lbWVudC5jYWxjdWxhdGVEaW1lbnNpb25zWChib3VuZHMsIHNpemUud2lkdGgpO1xyXG4gICAgICAgIHZhciB5ID0gdGhpcy5hbGlnbmVtZW50LmNhbGN1bGF0ZURpbWVuc2lvbnNZKGJvdW5kcywgdGhpcy5wcm9wZXJ0aWVzLmZvbnRTaXplKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmRpbWVuc2lvbnMgPSBuZXcgUmVjdGFuZ2xlKHgsIHksIHNpemUud2lkdGgsIHRoaXMucHJvcGVydGllcy5mb250U2l6ZSlcclxuICAgIH1cclxufSIsImltcG9ydCB7IE9yaWVudGF0aW9uIH0gZnJvbSBcIi4uL2FsaWduZW1lbnQvb3JpZW50YXRpb25cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBMaXN0Vmlld1Byb3BlcnRpZXMge1xyXG4gICAgcHVibGljIGl0ZW1TcGFjaW5nID0gMzA7XHJcbiAgICBwdWJsaWMgb3JpZW50YXRpb24gPSBPcmllbnRhdGlvbi5WZXJ0aWNhbDtcclxufSIsImltcG9ydCB7IExheW91dFZpZXcgfSBmcm9tIFwiLi9sYXlvdXRWaWV3XCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgUmVuZGVyT2JqZWN0IH0gZnJvbSBcIi4uL3JlbmRlck9iamVjdFwiO1xyXG5pbXBvcnQgeyBMaXN0Vmlld1Byb3BlcnRpZXMgfSBmcm9tIFwiLi9saXN0Vmlld1Byb3BlcnRpZXNcIjtcclxuaW1wb3J0IHsgSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24gfSBmcm9tIFwiLi4vYWxpZ25lbWVudC9ob3Jpem9udGFsQWxpZ25lbWVudE9wdGlvblwiO1xyXG5pbXBvcnQgeyBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24gfSBmcm9tIFwiLi4vYWxpZ25lbWVudC92ZXJ0aWNhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuaW1wb3J0IHsgT3JpZW50YXRpb24gfSBmcm9tIFwiLi4vYWxpZ25lbWVudC9vcmllbnRhdGlvblwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIExpc3RWaWV3IGV4dGVuZHMgTGF5b3V0VmlldyB7XHJcbiAgICBwdWJsaWMgcHJvcGVydGllcyA9IG5ldyBMaXN0Vmlld1Byb3BlcnRpZXMoKTtcclxuXHJcbiAgICBwdWJsaWMgYWRkSXRlbSA9IChsYXlvdXRWaWV3OiBSZW5kZXJPYmplY3QpID0+IHtcclxuICAgICAgICBsYXlvdXRWaWV3LmFsaWduZW1lbnQuaG9yaXpvbnRhbEFsaWduID0gSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24uTGVmdDtcclxuICAgICAgICBsYXlvdXRWaWV3LmFsaWduZW1lbnQudmVydGljYWxBbGlnbiA9IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi5Ub3A7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGxheW91dFZpZXcpO1xyXG4gICAgICAgIHRoaXMudHJpZ2dlclVwZGF0ZUxheW91dCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVJdGVtID0gKGxheW91dFZpZXc6IFJlbmRlck9iamVjdCkgPT4ge1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucmVtb3ZlSXRlbShsYXlvdXRWaWV3KTtcclxuICAgICAgICB0aGlzLnRyaWdnZXJVcGRhdGVMYXlvdXQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcblxyXG4gICAgICAgIHZhciB4ID0gdGhpcy5hbGlnbmVtZW50LmNhbGN1bGF0ZURpbWVuc2lvbnNYKGJvdW5kcywgdGhpcy5kaW1lbnNpb25zLndpZHRoKTtcclxuICAgICAgICB2YXIgeSA9IHRoaXMuYWxpZ25lbWVudC5jYWxjdWxhdGVEaW1lbnNpb25zWShib3VuZHMsIHRoaXMuZGltZW5zaW9ucy5oZWlnaHQpO1xyXG5cclxuICAgICAgICB2YXIgd2lkdGggPSAwO1xyXG4gICAgICAgIHZhciBoZWlnaHQgPSAwO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLm9yaWVudGF0aW9uID09IE9yaWVudGF0aW9uLlZlcnRpY2FsKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKGkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeSArPSB0aGlzLnByb3BlcnRpZXMuaXRlbVNwYWNpbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ICs9IHRoaXMucHJvcGVydGllcy5pdGVtU3BhY2luZztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNoaWxkLnVwZGF0ZUxheW91dChjdHgsIG5ldyBSZWN0YW5nbGUoeCwgeSwgMCwgMCkpO1xyXG4gICAgICAgICAgICAgICAgeSArPSBjaGlsZC5kaW1lbnNpb25zLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIGhlaWdodCArPSBjaGlsZC5kaW1lbnNpb25zLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIHdpZHRoID0gTWF0aC5tYXgod2lkdGgsIGNoaWxkLmRpbWVuc2lvbnMud2lkdGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XHJcbiAgICAgICAgICAgICAgICBpZiAoaSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB4ICs9IHRoaXMucHJvcGVydGllcy5pdGVtU3BhY2luZztcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aCArPSB0aGlzLnByb3BlcnRpZXMuaXRlbVNwYWNpbmc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjaGlsZC51cGRhdGVMYXlvdXQoY3R4LCBuZXcgUmVjdGFuZ2xlKHgsIHksIDAsIDApKTtcclxuICAgICAgICAgICAgICAgIHggKz0gY2hpbGQuZGltZW5zaW9ucy53aWR0aDtcclxuICAgICAgICAgICAgICAgIHdpZHRoICs9IGNoaWxkLmRpbWVuc2lvbnMud2lkdGg7XHJcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSBNYXRoLm1heChoZWlnaHQsIGNoaWxkLmRpbWVuc2lvbnMuaGVpZ2h0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZGltZW5zaW9ucy54ICE9IHggfHwgdGhpcy5kaW1lbnNpb25zLnkgIT0geSB8fCB0aGlzLmRpbWVuc2lvbnMud2lkdGggIT0gd2lkdGggfHwgdGhpcy5kaW1lbnNpb25zLmhlaWdodCAhPSBoZWlnaHQpIHtcclxuICAgICAgICAgICAgdGhpcy5kaW1lbnNpb25zLnggPSB4O1xyXG4gICAgICAgICAgICB0aGlzLmRpbWVuc2lvbnMueSA9IHk7XHJcbiAgICAgICAgICAgIHRoaXMuZGltZW5zaW9ucy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgICAgIHRoaXMuZGltZW5zaW9ucy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQ29udHJvbCB9IGZyb20gXCIuL2NvbnRyb2xcIjtcclxuaW1wb3J0IHsgUG9pbnQgfSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvcG9pbnRcIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBFRXZlbnRUIH0gZnJvbSBcIi4uLy4uL2VFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNsaWRlciBleHRlbmRzIENvbnRyb2wge1xyXG4gICAgcHVibGljIHJhZGl1czogbnVtYmVyID0gMTA7XHJcblxyXG4gICAgcHVibGljIG1pblZhbHVlID0gMDtcclxuICAgIHB1YmxpYyBtYXhWYWx1ZSA9IDEwMDtcclxuICAgIHB1YmxpYyBjdXJyZW50VmFsdWUgPSA1MDtcclxuICAgIGlzRHJhZ2dpbmc6IGJvb2xlYW47XHJcbiAgICBvbGRQb3NpdGlvbjogeyB4OiBudW1iZXI7IHk6IG51bWJlcjsgfTtcclxuXHJcbiAgICBwdWJsaWMgdmFsdWVDaGFuZ2VkID0gbmV3IEVFdmVudFQ8bnVtYmVyPigpO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbmRlcihjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge1xyXG4gICAgICAgIHZhciB4ID0gdGhpcy5kaW1lbnNpb25zLng7XHJcbiAgICAgICAgdmFyIHkgPSB0aGlzLmRpbWVuc2lvbnMueTtcclxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBcIndoaXRlXCI7XHJcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDI7XHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5tb3ZlVG8oeCArIHRoaXMucmFkaXVzLCB5ICsgdGhpcy5kaW1lbnNpb25zLmhlaWdodCAvIDIpO1xyXG4gICAgICAgIGN0eC5saW5lVG8oeCArIHRoaXMuZGltZW5zaW9ucy53aWR0aCAtIHRoaXMucmFkaXVzLCB5ICsgdGhpcy5kaW1lbnNpb25zLmhlaWdodCAvIDIpO1xyXG4gICAgICAgIGN0eC5zdHJva2UoKTtcclxuXHJcbiAgICAgICAgdmFyIHJlbFZhbHVlID0gKHRoaXMuY3VycmVudFZhbHVlIC0gdGhpcy5taW5WYWx1ZSkgLyAodGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWUpO1xyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBcImJsdWVcIjtcclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY3R4LmFyYyh4ICsgdGhpcy5yYWRpdXMgKyAodGhpcy5kaW1lbnNpb25zLndpZHRoIC0gdGhpcy5yYWRpdXMgKiAyKSAqIHJlbFZhbHVlLCB5ICsgdGhpcy5kaW1lbnNpb25zLmhlaWdodCAvIDIsIHRoaXMucmFkaXVzLCAwLCBNYXRoLlBJICogMik7XHJcbiAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xyXG4gICAgICAgIGN0eC5maWxsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUxheW91dCA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpOiB2b2lkID0+IHtcclxuICAgICAgICBzdXBlci51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG5cclxuICAgICAgICB0aGlzLmRpbWVuc2lvbnMgPSBuZXcgUmVjdGFuZ2xlKGJvdW5kcy54LCBib3VuZHMueSwgMjAwLCB0aGlzLnJhZGl1cyAqIDIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtb3VzZURvd24gPSAoZXY6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5kaW1lbnNpb25zLmlzSGl0QnkoZXYuY2xpZW50WCwgZXYuY2xpZW50WSkpIHtcclxuICAgICAgICAgICAgdGhpcy5pc0RyYWdnaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVDdXJyZW50VmFsdWUoZXYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHB1YmxpYyBtb3VzZVVwID0gKGV2OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG1vdXNlTW92ZShldjogTW91c2VFdmVudCkge1xyXG4gICAgICAgIHN1cGVyLm1vdXNlTW92ZShldik7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEcmFnZ2luZykge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUN1cnJlbnRWYWx1ZShldik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdXBkYXRlQ3VycmVudFZhbHVlKGV2OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgdmFyIHZhbCA9IGV2LmNsaWVudFggLSB0aGlzLmRpbWVuc2lvbnMueCAtIHRoaXMucmFkaXVzO1xyXG4gICAgICAgIHZhbCA9IHZhbCAvICh0aGlzLmRpbWVuc2lvbnMud2lkdGggLSB0aGlzLnJhZGl1cyAqIDIpICogKHRoaXMubWF4VmFsdWUgLSB0aGlzLm1pblZhbHVlKSArIHRoaXMubWluVmFsdWU7XHJcbiAgICAgICAgaWYgKHZhbCA+IHRoaXMubWF4VmFsdWUpIHtcclxuICAgICAgICAgICAgdmFsID0gdGhpcy5tYXhWYWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHZhbCA8IHRoaXMubWluVmFsdWUpIHtcclxuICAgICAgICAgICAgdmFsID0gdGhpcy5taW5WYWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSB2YWw7XHJcbiAgICAgICAgdGhpcy52YWx1ZUNoYW5nZWQuZGlzcGF0Y2hFdmVudCh0aGlzLmN1cnJlbnRWYWx1ZSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBMYXlvdXRWaWV3IH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGF5b3V0Vmlld1wiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgU3RhckxheWVyIH0gZnJvbSBcIi4uLy4uL21vZGVscy9zdGFyTGF5ZXJcIjtcclxuaW1wb3J0IHsgTGlzdFZpZXcgfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9sYXlvdXRDb250cm9scy9saXN0Vmlld1wiO1xyXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9jb250cm9scy9idXR0b25cIjtcclxuaW1wb3J0IHsgQ29udHJvbCB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2NvbnRyb2xcIjtcclxuaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4uLy4uL2FwcFwiO1xyXG5pbXBvcnQgeyBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbiB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvaG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuaW1wb3J0IHsgVmVydGljYWxBbGlnbmVtZW50T3B0aW9uIH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvYWxpZ25lbWVudC92ZXJ0aWNhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuaW1wb3J0IHsgU2xpZGVyIH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvY29udHJvbHMvc2xpZGVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU3RhckxheWVyVmlldyBleHRlbmRzIExheW91dFZpZXcge1xyXG4gICAgcHJpdmF0ZSBzZXR0aW5nc0xpc3Q6IExpc3RWaWV3O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBzdGFyTGF5ZXI6IFN0YXJMYXllcikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QgPSBuZXcgTGlzdFZpZXcoKTtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5hbGlnbmVtZW50Lmhvcml6b250YWxBbGlnbiA9IEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uLkxlZnQ7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QuYWxpZ25lbWVudC52ZXJ0aWNhbEFsaWduID0gVmVydGljYWxBbGlnbmVtZW50T3B0aW9uLlRvcDtcclxuICAgICAgICB2YXIgYnRuRm9yTGF5ZXIgPSBuZXcgQnV0dG9uKCk7XHJcbiAgICAgICAgYnRuRm9yTGF5ZXIudGV4dCA9IFwiUmVtb3ZlIExheWVyXCI7XHJcbiAgICAgICAgYnRuRm9yTGF5ZXIucHJvcGVydGllcy5maWxsU3R5bGUgPSBcIndoaXRlXCI7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QuYWRkSXRlbShidG5Gb3JMYXllcik7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGJ0bkZvckxheWVyKTtcclxuICAgICAgICBidG5Gb3JMYXllci5jbGlja2VkLmFkZEV2ZW50TGlzdGVuZXIoKHNlbmRlcjogQ29udHJvbCkgPT4ge1xyXG4gICAgICAgICAgICBBcHAuc2V0dGluZ01hbmFnZXIucmVtb3ZlU3RhckxheWVyKHRoaXMuc3RhckxheWVyKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIHNsaWRlciA9IG5ldyBTbGlkZXIoKTtcclxuICAgICAgICBzbGlkZXIubWluVmFsdWUgPSAxMDtcclxuICAgICAgICBzbGlkZXIubWF4VmFsdWUgPSAxMDAwO1xyXG4gICAgICAgIHNsaWRlci5jdXJyZW50VmFsdWUgPSBzdGFyTGF5ZXIuc3RhcnMubGVuZ3RoO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChzbGlkZXIpO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LmFkZEl0ZW0oc2xpZGVyKTtcclxuICAgICAgICBzbGlkZXIudmFsdWVDaGFuZ2VkLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5udW1iZXJPZlN0YXJzQ2hhbmdlZCk7XHJcblxyXG4gICAgICAgIHZhciBzbGlkZXJTcGVlZCA9IG5ldyBTbGlkZXIoKTtcclxuICAgICAgICBzbGlkZXJTcGVlZC5taW5WYWx1ZSA9IDA7XHJcbiAgICAgICAgc2xpZGVyU3BlZWQubWF4VmFsdWUgPSAzMDtcclxuICAgICAgICBzbGlkZXJTcGVlZC5jdXJyZW50VmFsdWUgPSBzdGFyTGF5ZXIuc3BlZWQ7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHNsaWRlclNwZWVkKTtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5hZGRJdGVtKHNsaWRlclNwZWVkKTtcclxuICAgICAgICBzbGlkZXJTcGVlZC52YWx1ZUNoYW5nZWQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLnNwZWVkQ2hhbmdlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG51bWJlck9mU3RhcnNDaGFuZ2VkID0gKG51bWJlck9mU3RhcnM6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIEFwcC5zZXR0aW5nTWFuYWdlci5jaGFuZ2VOdW1iZXJPZlN0YXJzKHRoaXMuc3RhckxheWVyLCBNYXRoLnJvdW5kKG51bWJlck9mU3RhcnMpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3BlZWRDaGFuZ2VkID0gKHNwZWVkOiBudW1iZXIpID0+IHtcclxuICAgICAgICBBcHAuc2V0dGluZ01hbmFnZXIuY2hhbmdlU3BlZWQodGhpcy5zdGFyTGF5ZXIsIHNwZWVkKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LnVwZGF0ZUxheW91dChjdHgsIG5ldyBSZWN0YW5nbGUoYm91bmRzLngsIGJvdW5kcy55LCAwLCAwKSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBMYXlvdXRWaWV3IH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGF5b3V0Vmlld1wiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsIH0gZnJvbSBcIi4vc2V0dGluZ3NPdmVybGF5Vmlld01vZGVsXCI7XHJcbmltcG9ydCB7IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlIH0gZnJvbSBcIi4vc2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGVcIjtcclxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvY29udHJvbHMvYnV0dG9uXCI7XHJcbmltcG9ydCB7IENvbnRyb2wgfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9jb250cm9scy9jb250cm9sXCI7XHJcbmltcG9ydCB7IExpc3RWaWV3IH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGlzdFZpZXdcIjtcclxuaW1wb3J0IHsgU3RhckxheWVyIH0gZnJvbSBcIi4uLy4uL21vZGVscy9zdGFyTGF5ZXJcIjtcclxuaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4uLy4uL2FwcFwiO1xyXG5pbXBvcnQgeyBTZXR0aW5nT3BlcmF0aW9uIH0gZnJvbSBcIi4uLy4uL3NldHRpbmdzL3NldHRpbmdPcGVyYXRpb25cIjtcclxuaW1wb3J0IHsgVmVydGljYWxBbGlnbmVtZW50T3B0aW9uIH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvYWxpZ25lbWVudC92ZXJ0aWNhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuaW1wb3J0IHsgSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24gfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9hbGlnbmVtZW50L2hvcml6b250YWxBbGlnbmVtZW50T3B0aW9uXCI7XHJcbmltcG9ydCB7IFN0YXJMYXllclZpZXcgfSBmcm9tIFwiLi9zdGFyTGF5ZXJWaWV3XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU2V0dGluZ3NPdmVybGF5VmlldyBleHRlbmRzIExheW91dFZpZXcge1xyXG4gICAgcHJpdmF0ZSB2aWV3TW9kZWw6IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbCA9IG5ldyBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWwoKTtcclxuICAgIHByaXZhdGUgbGFzdE1vdmVkID0gRGF0ZS5ub3coKTtcclxuICAgIHByaXZhdGUgaW5hY3Rpdml0eVRpbWVvdXQgPSAyMDAwO1xyXG4gICAgcHJpdmF0ZSBzaG93T3ZlckxheWVyQnV0dG9uOiBCdXR0b247XHJcbiAgICBwcml2YXRlIHNldHRpbmdzTGlzdDogTGlzdFZpZXc7XHJcblxyXG4gICAgcHJpdmF0ZSBsYXllckJ1dHRvbnM6IEJ1dHRvbltdID0gW107XHJcbiAgICBwcml2YXRlIGFkZExheWVyQnRuOiBCdXR0b247XHJcbiAgICBwcml2YXRlIGRldGFpbGVkU3RhckxheWVyVmlldzogU3RhckxheWVyVmlldztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuc2hvd092ZXJMYXllckJ1dHRvbiA9IG5ldyBCdXR0b24oKTtcclxuICAgICAgICB0aGlzLnNob3dPdmVyTGF5ZXJCdXR0b24udGV4dCA9IFwiU2hvdy9IaWRlIFNldHRpbmdzXCI7XHJcbiAgICAgICAgdGhpcy5zaG93T3ZlckxheWVyQnV0dG9uLnByb3BlcnRpZXMuZmlsbFN0eWxlID0gXCJncmVlblwiO1xyXG4gICAgICAgIHRoaXMuc2hvd092ZXJMYXllckJ1dHRvbi5hbGlnbmVtZW50LnZlcnRpY2FsQWxpZ24gPSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24uVG9wO1xyXG4gICAgICAgIHRoaXMuc2hvd092ZXJMYXllckJ1dHRvbi5hbGlnbmVtZW50Lmhvcml6b250YWxBbGlnbiA9IEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uLkxlZnQ7XHJcbiAgICAgICAgdGhpcy5zaG93T3ZlckxheWVyQnV0dG9uLmNsaWNrZWQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLnNob3dIaWRlT3ZlcmxheUNsaWNrZWQpO1xyXG4gICAgICAgIHRoaXMuc2hvd092ZXJMYXllckJ1dHRvbi5wcm9wZXJ0aWVzLmJhY2tncm91bmRGaWxsU3R5bGUgPSBcInJnYmEoMCwgMCwgMCwgMC41KVwiO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaCh0aGlzLnNob3dPdmVyTGF5ZXJCdXR0b24pO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0ID0gbmV3IExpc3RWaWV3KCk7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QuYWxpZ25lbWVudC5ob3Jpem9udGFsQWxpZ24gPSBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbi5MZWZ0O1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LmFsaWduZW1lbnQudmVydGljYWxBbGlnbiA9IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi5Ub3A7XHJcblxyXG4gICAgICAgIHZhciBidG5Gb3JOZXdMYXllciA9IG5ldyBCdXR0b24oKTtcclxuICAgICAgICBidG5Gb3JOZXdMYXllci50ZXh0ID0gXCJBZGQgTGF5ZXJcIjtcclxuICAgICAgICBidG5Gb3JOZXdMYXllci5wcm9wZXJ0aWVzLmZpbGxTdHlsZSA9IFwid2hpdGVcIjtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5hZGRJdGVtKGJ0bkZvck5ld0xheWVyKTtcclxuICAgICAgICBidG5Gb3JOZXdMYXllci5jbGlja2VkLmFkZEV2ZW50TGlzdGVuZXIoKHNlbmRlcjogQ29udHJvbCkgPT4ge1xyXG4gICAgICAgICAgICBBcHAuc2V0dGluZ01hbmFnZXIuYWRkU3RhckxheWVyKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hZGRMYXllckJ0biA9IGJ0bkZvck5ld0xheWVyO1xyXG5cclxuXHJcbiAgICAgICAgQXBwLnNldHRpbmdNYW5hZ2VyLnVwZGF0ZS5hZGRFdmVudExpc3RlbmVyKHRoaXMuc2V0dGluZ3NVcGRhdGVkKTtcclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0dGluZ3NVcGRhdGVkID0gKG9wZXJhdGlvbjogU2V0dGluZ09wZXJhdGlvbikgPT4ge1xyXG4gICAgICAgIHN3aXRjaCAob3BlcmF0aW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgU2V0dGluZ09wZXJhdGlvbi5BZGRTdGFyTGF5ZXI6XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHN0YXJMYXllciBvZiBBcHAuc2V0dGluZ3Muc3RhckxheWVycykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5sYXllckJ1dHRvbnMubWFwKHggPT4geC50YWcpLmNvbnRhaW5zKHN0YXJMYXllcikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QucmVtb3ZlSXRlbSh0aGlzLmFkZExheWVyQnRuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJ0bkZvckxheWVyID0gbmV3IEJ1dHRvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidG5Gb3JMYXllci50ZXh0ID0gXCJFZGl0IExheWVyXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ0bkZvckxheWVyLnRhZyA9IHN0YXJMYXllcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnRuRm9yTGF5ZXIucHJvcGVydGllcy5maWxsU3R5bGUgPSBcIndoaXRlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LmFkZEl0ZW0oYnRuRm9yTGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxheWVyQnV0dG9ucy5wdXNoKGJ0bkZvckxheWVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnRuRm9yTGF5ZXIuY2xpY2tlZC5hZGRFdmVudExpc3RlbmVyKChzZW5kZXI6IENvbnRyb2wpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlU2hvd0hpZGVTdGFyTGF5ZXJWaWV3KHN0YXJMYXllcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5hZGRJdGVtKHRoaXMuYWRkTGF5ZXJCdG4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBTZXR0aW5nT3BlcmF0aW9uLlJlbW92ZVN0YXJMYXllcjpcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc2V0dGluZ3NMYXllciBvZiB0aGlzLmxheWVyQnV0dG9ucykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghQXBwLnNldHRpbmdzLnN0YXJMYXllcnMuY29udGFpbnMoc2V0dGluZ3NMYXllci50YWcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LnJlbW92ZUl0ZW0oc2V0dGluZ3NMYXllcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGF5ZXJCdXR0b25zLnJlbW92ZUl0ZW0oc2V0dGluZ3NMYXllcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucmVtb3ZlSXRlbSh0aGlzLmRldGFpbGVkU3RhckxheWVyVmlldyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRldGFpbGVkU3RhckxheWVyVmlldyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgdG9nZ2xlU2hvd0hpZGVTdGFyTGF5ZXJWaWV3ID0gKHN0YXJMYXllcjogU3RhckxheWVyKSA9PiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmRldGFpbGVkU3RhckxheWVyVmlldykge1xyXG4gICAgICAgICAgICB2YXIgdmlldyA9IG5ldyBTdGFyTGF5ZXJWaWV3KHN0YXJMYXllcik7XHJcbiAgICAgICAgICAgIHRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3ID0gdmlldztcclxuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3KTtcclxuICAgICAgICAgICAgdGhpcy50cmlnZ2VyVXBkYXRlTGF5b3V0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3LnN0YXJMYXllciAhPSBzdGFyTGF5ZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5yZW1vdmVJdGVtKHRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3KTtcclxuICAgICAgICAgICAgdGhpcy5kZXRhaWxlZFN0YXJMYXllclZpZXcgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIHZhciB2aWV3ID0gbmV3IFN0YXJMYXllclZpZXcoc3RhckxheWVyKTtcclxuICAgICAgICAgICAgdGhpcy5kZXRhaWxlZFN0YXJMYXllclZpZXcgPSB2aWV3O1xyXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2godGhpcy5kZXRhaWxlZFN0YXJMYXllclZpZXcpO1xyXG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJVcGRhdGVMYXlvdXQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucmVtb3ZlSXRlbSh0aGlzLmRldGFpbGVkU3RhckxheWVyVmlldyk7XHJcbiAgICAgICAgICAgIHRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNob3dIaWRlT3ZlcmxheUNsaWNrZWQgPSAoc2VuZGVyOiBDb250cm9sKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMudmlld01vZGVsLnN0YXRlID09IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLnZpc2libGUpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS5iZWZvcmVWaXNpYmxlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLnZpc2libGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcbiAgICAgICAgdGhpcy5zaG93T3ZlckxheWVyQnV0dG9uLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcbiAgICAgICAgdmFyIHNwYWNlID0gdGhpcy5zaG93T3ZlckxheWVyQnV0dG9uLmRpbWVuc2lvbnMuaGVpZ2h0ICogMjtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC51cGRhdGVMYXlvdXQoY3R4LCBuZXcgUmVjdGFuZ2xlKGJvdW5kcy54LCBib3VuZHMueSArIHNwYWNlLCBib3VuZHMud2lkdGgsIGJvdW5kcy5oZWlnaHQgLSBzcGFjZSkpO1xyXG4gICAgICAgIGlmICh0aGlzLmRldGFpbGVkU3RhckxheWVyVmlldykge1xyXG4gICAgICAgICAgICB0aGlzLmRldGFpbGVkU3RhckxheWVyVmlldy51cGRhdGVMYXlvdXQoY3R4LCBuZXcgUmVjdGFuZ2xlKGJvdW5kcy54ICsgdGhpcy5zZXR0aW5nc0xpc3QuZGltZW5zaW9ucy53aWR0aCwgYm91bmRzLnkgKyBzcGFjZSwgYm91bmRzLndpZHRoLCBib3VuZHMuaGVpZ2h0IC0gc3BhY2UpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG1vdXNlTW92ZSA9IChldjogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnZpZXdNb2RlbC5zdGF0ZSA9PSBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS5oaWRkZW4gfHwgdGhpcy52aWV3TW9kZWwuc3RhdGUgPT0gU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUuYmVmb3JlVmlzaWJsZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLmJlZm9yZVZpc2libGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzdXBlci5tb3VzZU1vdmUoZXYpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtb3VzZUluYWN0aXZpdHlIYW5kbGVyID0gKCkgPT4ge1xyXG4gICAgICAgIGlmIChEYXRlLm5vdygpIC0gdGhpcy5sYXN0TW92ZWQgPj0gdGhpcy5pbmFjdGl2aXR5VGltZW91dCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy52aWV3TW9kZWwuc3RhdGUgPT0gU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUuYmVmb3JlVmlzaWJsZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS5oaWRkZW4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dCh0aGlzLm1vdXNlSW5hY3Rpdml0eUhhbmRsZXIsIHRoaXMuaW5hY3Rpdml0eVRpbWVvdXQgLSAoRGF0ZS5ub3coKSAtIHRoaXMubGFzdE1vdmVkKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0U3RhdGUgPSAoc3RhdGU6IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlKSA9PiB7XHJcbiAgICAgICAgc3dpdGNoIChzdGF0ZSkge1xyXG4gICAgICAgICAgICBjYXNlIFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLmhpZGRlbjpcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucmVtb3ZlSXRlbSh0aGlzLnNob3dPdmVyTGF5ZXJCdXR0b24pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3TW9kZWwuc3RhdGUgPSBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS5oaWRkZW47XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS5iZWZvcmVWaXNpYmxlOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0TW92ZWQgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudmlld01vZGVsLnN0YXRlID09IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLmhpZGRlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQodGhpcy5tb3VzZUluYWN0aXZpdHlIYW5kbGVyLCB0aGlzLmluYWN0aXZpdHlUaW1lb3V0KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuLmFkZEl0ZW1JZk5vdEV4aXN0cyh0aGlzLnNob3dPdmVyTGF5ZXJCdXR0b24pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudmlld01vZGVsLnN0YXRlID09IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLnZpc2libGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMubW91c2VJbmFjdGl2aXR5SGFuZGxlciwgdGhpcy5pbmFjdGl2aXR5VGltZW91dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5yZW1vdmVJdGVtSWZFeGlzdHModGhpcy5zZXR0aW5nc0xpc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucmVtb3ZlSXRlbUlmRXhpc3RzKHRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRldGFpbGVkU3RhckxheWVyVmlldyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMudmlld01vZGVsLnN0YXRlID0gU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUuYmVmb3JlVmlzaWJsZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLnZpc2libGU6XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy52aWV3TW9kZWwuc3RhdGUgPT0gU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUuYmVmb3JlVmlzaWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaCh0aGlzLnNldHRpbmdzTGlzdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdNb2RlbC5zdGF0ZSA9IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLnZpc2libGU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi4vYXBwXCI7XHJcbmltcG9ydCB7IFN0YXJMYXllciB9IGZyb20gXCIuLi9tb2RlbHMvc3RhckxheWVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU3RhckxheWVyQW5pbWF0b3Ige1xyXG4gICAgY29uc3RydWN0b3IocHVibGljIHN0YXJMYXllcjogU3RhckxheWVyKSB7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZSA9ICh0aW1lRGlmZjogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgZm9yIChjb25zdCBzdGFyIG9mIHRoaXMuc3RhckxheWVyLnN0YXJzKSB7XHJcbiAgICAgICAgICAgIHN0YXIueCArPSB0aGlzLnN0YXJMYXllci5zcGVlZCAqIHRpbWVEaWZmO1xyXG4gICAgICAgICAgICBpZiAoc3Rhci54ID4gQXBwLnNldHRpbmdzLndpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICBzdGFyLnggLT0gQXBwLnNldHRpbmdzLndpZHRoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIERpbmplY3Qge1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgaW5zdGFuY2VzOiB7IFtrZXk6IHN0cmluZ106IGFueSB9ID0ge31cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGFkZEluc3RhbmNlID0gKG5hbWU6IHN0cmluZywgaW5zdGFuY2U6IGFueSkgPT4ge1xyXG4gICAgICAgIERpbmplY3QuaW5zdGFuY2VzW25hbWVdID0gaW5zdGFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSA9IDxUPihuYW1lOiBzdHJpbmcpOiBUID0+IHtcclxuICAgICAgICByZXR1cm4gPFQ+RGluamVjdC5pbnN0YW5jZXNbbmFtZV07XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBMYXlvdXRWaWV3IH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGF5b3V0Vmlld1wiO1xyXG5cclxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvY29udHJvbHMvYnV0dG9uXCI7XHJcbmltcG9ydCB7IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbiB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvdmVydGljYWxBbGlnbmVtZW50T3B0aW9uXCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBMaXN0VmlldyB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xpc3RWaWV3XCI7XHJcbmltcG9ydCB7IE9yaWVudGF0aW9uIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvYWxpZ25lbWVudC9vcmllbnRhdGlvblwiO1xyXG5pbXBvcnQgeyBEaW5qZWN0IH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvZGluamVjdFwiO1xyXG5pbXBvcnQgeyBBdWRpb01hbmFnZXIgfSBmcm9tIFwiLi4vYXVkaW9NYW5hZ2VyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUGxheWVyVmlldyBleHRlbmRzIExheW91dFZpZXcge1xyXG5cclxuICAgIHByaXZhdGUgcGxheUljb25UZXh0ID0gXCJcXHVmMDRiXCJcclxuICAgIHByaXZhdGUgcGF1c2VJY29uVGV4dCA9IFwiXFx1ZjA0Y1wiXHJcbiAgICBwcml2YXRlIHN0b3BJY29uVGV4dCA9IFwiXFx1ZjA0ZFwiXHJcbiAgICBwcml2YXRlIG5leHRJY29uVGV4dCA9IFwiXFx1ZjA1MVwiXHJcbiAgICBwcml2YXRlIHByZXZpb3VzSWNvblRleHQgPSBcIlxcdWYwNDhcIlxyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgIHZhciBhdWRpb01hbmFnZXI6IEF1ZGlvTWFuYWdlciA9IERpbmplY3QuZ2V0SW5zdGFuY2UoXCJhdWRpb1wiKTtcclxuXHJcbiAgICAgICAgdmFyIGxpc3RWaWV3ID0gbmV3IExpc3RWaWV3KCk7XHJcbiAgICAgICAgbGlzdFZpZXcuYWxpZ25lbWVudC52ZXJ0aWNhbEFsaWduID0gVmVydGljYWxBbGlnbmVtZW50T3B0aW9uLkJvdHRvbTtcclxuICAgICAgICBsaXN0Vmlldy5hbGlnbmVtZW50Lm1hcmdpbi5ib3R0b20gPSAxMDtcclxuICAgICAgICBsaXN0Vmlldy5wcm9wZXJ0aWVzLm9yaWVudGF0aW9uID0gT3JpZW50YXRpb24uSG9yaXpvbnRhbDtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2gobGlzdFZpZXcpO1xyXG5cclxuICAgICAgICB2YXIgcGxheVBhdXNlQnRuID0gbmV3IEJ1dHRvbigpO1xyXG4gICAgICAgIHBsYXlQYXVzZUJ0bi5wcm9wZXJ0aWVzLmZvbnRQcmVmaXggPSBcIjkwMFwiXHJcbiAgICAgICAgcGxheVBhdXNlQnRuLnByb3BlcnRpZXMuZm9udEZhbWlseSA9IFwiJ0ZvbnQgQXdlc29tZSA1IEZyZWUnXCJcclxuICAgICAgICBwbGF5UGF1c2VCdG4udGV4dCA9IHRoaXMucGxheUljb25UZXh0O1xyXG4gICAgICAgIHBsYXlQYXVzZUJ0bi5jbGlja2VkLmFkZEV2ZW50TGlzdGVuZXIoKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocGxheVBhdXNlQnRuLnRleHQgPT0gdGhpcy5wbGF5SWNvblRleHQpIHtcclxuICAgICAgICAgICAgICAgIGF1ZGlvTWFuYWdlci5wbGF5KCk7XHJcbiAgICAgICAgICAgICAgICBwbGF5UGF1c2VCdG4udGV4dCA9IHRoaXMucGF1c2VJY29uVGV4dDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGF1ZGlvTWFuYWdlci5wYXVzZSgpO1xyXG4gICAgICAgICAgICAgICAgcGxheVBhdXNlQnRuLnRleHQgPSB0aGlzLnBsYXlJY29uVGV4dDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGxpc3RWaWV3LmFkZEl0ZW0ocGxheVBhdXNlQnRuKTtcclxuXHJcbiAgICAgICAgdmFyIHN0b3BCdG4gPSBuZXcgQnV0dG9uKCk7XHJcbiAgICAgICAgc3RvcEJ0bi5wcm9wZXJ0aWVzLmZvbnRQcmVmaXggPSBcIjkwMFwiXHJcbiAgICAgICAgc3RvcEJ0bi5wcm9wZXJ0aWVzLmZvbnRGYW1pbHkgPSBcIidGb250IEF3ZXNvbWUgNSBGcmVlJ1wiXHJcbiAgICAgICAgc3RvcEJ0bi50ZXh0ID0gdGhpcy5zdG9wSWNvblRleHQ7XHJcbiAgICAgICAgc3RvcEJ0bi5jbGlja2VkLmFkZEV2ZW50TGlzdGVuZXIoKCkgPT4ge1xyXG4gICAgICAgICAgICBhdWRpb01hbmFnZXIuc3RvcCgpO1xyXG4gICAgICAgICAgICBpZiAocGxheVBhdXNlQnRuLnRleHQgPT0gdGhpcy5wYXVzZUljb25UZXh0KSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5UGF1c2VCdG4udGV4dCA9IHRoaXMucGxheUljb25UZXh0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbGlzdFZpZXcuYWRkSXRlbShzdG9wQnRuKTtcclxuXHJcbiAgICAgICAgdmFyIHByZXZpb3VzQnRuID0gbmV3IEJ1dHRvbigpO1xyXG4gICAgICAgIHByZXZpb3VzQnRuLnByb3BlcnRpZXMuZm9udFByZWZpeCA9IFwiOTAwXCJcclxuICAgICAgICBwcmV2aW91c0J0bi5wcm9wZXJ0aWVzLmZvbnRGYW1pbHkgPSBcIidGb250IEF3ZXNvbWUgNSBGcmVlJ1wiXHJcbiAgICAgICAgcHJldmlvdXNCdG4udGV4dCA9IHRoaXMucHJldmlvdXNJY29uVGV4dDtcclxuICAgICAgICBwcmV2aW91c0J0bi5jbGlja2VkLmFkZEV2ZW50TGlzdGVuZXIoKCkgPT4ge1xyXG4gICAgICAgICAgICBhdWRpb01hbmFnZXIucHJldmlvdXMoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBsaXN0Vmlldy5hZGRJdGVtKHByZXZpb3VzQnRuKTtcclxuXHJcbiAgICAgICAgdmFyIG5leHRCdG4gPSBuZXcgQnV0dG9uKCk7XHJcbiAgICAgICAgbmV4dEJ0bi5wcm9wZXJ0aWVzLmZvbnRQcmVmaXggPSBcIjkwMFwiXHJcbiAgICAgICAgbmV4dEJ0bi5wcm9wZXJ0aWVzLmZvbnRGYW1pbHkgPSBcIidGb250IEF3ZXNvbWUgNSBGcmVlJ1wiXHJcbiAgICAgICAgbmV4dEJ0bi50ZXh0ID0gdGhpcy5uZXh0SWNvblRleHQ7XHJcbiAgICAgICAgbmV4dEJ0bi5jbGlja2VkLmFkZEV2ZW50TGlzdGVuZXIoKCkgPT4ge1xyXG4gICAgICAgICAgICBhdWRpb01hbmFnZXIubmV4dCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGxpc3RWaWV3LmFkZEl0ZW0obmV4dEJ0bik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUxheW91dChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpIHtcclxuICAgICAgICBzdXBlci51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICBjaGlsZC51cGRhdGVMYXlvdXQoY3R4LCB0aGlzLmJvdW5kcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgSW1hZ2VTY2FsaW5nTW9kZSB9IGZyb20gXCIuL2ltYWdlU2NhbGluZ01vZGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBJbWFnZVByb3BlcnRpZXMge1xyXG4gICAgcHVibGljIGltYWdlU2NhbGluZ01vZGUgPSBJbWFnZVNjYWxpbmdNb2RlLkZpdEFuZFNwYWNlO1xyXG4gICAgcHVibGljIHNjYWxlID0gMTtcclxufSIsImltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgQ29udHJvbCB9IGZyb20gXCIuL2NvbnRyb2xcIjtcclxuaW1wb3J0IHsgSW1hZ2VQcm9wZXJ0aWVzIH0gZnJvbSBcIi4vaW1hZ2VQcm9wZXJ0aWVzXCI7XHJcbmltcG9ydCB7IEltYWdlU2NhbGluZ01vZGUgfSBmcm9tIFwiLi9pbWFnZVNjYWxpbmdNb2RlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgRUltYWdlIGV4dGVuZHMgQ29udHJvbCB7XHJcbiAgICBwcml2YXRlIGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50O1xyXG4gICAgcHVibGljIHByb3BlcnRpZXMgPSBuZXcgSW1hZ2VQcm9wZXJ0aWVzKCk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuaW1hZ2UgPSBpbWFnZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZUZyb21VcmwgPSAoaW1hZ2VVcmw6IHN0cmluZyk6IFByb21pc2U8RUltYWdlPiA9PiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgICAgIGltYWdlLnNyYyA9IGltYWdlVXJsO1xyXG4gICAgICAgICAgICBpbWFnZS5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKG5ldyBFSW1hZ2UoaW1hZ2UpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW5kZXIgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpID0+IHtcclxuICAgICAgICBzdXBlci5yZW5kZXIoY3R4KTtcclxuXHJcbiAgICAgICAgY3R4LmRyYXdJbWFnZSh0aGlzLmltYWdlLCB0aGlzLmRpbWVuc2lvbnMueCwgdGhpcy5kaW1lbnNpb25zLnksIHRoaXMuZGltZW5zaW9ucy53aWR0aCwgdGhpcy5kaW1lbnNpb25zLmhlaWdodCk7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNNb3VzZU92ZXIgJiYgdGhpcy5pc0VuYWJsZWQpIHtcclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwicmdiYSgyNTUsMjU1LDI1NSwwLjUpXCI7XHJcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdCh0aGlzLmRpbWVuc2lvbnMueCwgdGhpcy5kaW1lbnNpb25zLnksIHRoaXMuZGltZW5zaW9ucy53aWR0aCwgdGhpcy5kaW1lbnNpb25zLmhlaWdodCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVMYXlvdXQoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGJvdW5kczogUmVjdGFuZ2xlKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIudXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuXHJcbiAgICAgICAgdmFyIGZpdFNjYWxlID0gMTtcclxuXHJcbiAgICAgICAgdmFyIGltYWdlU2l6aW5nID0gdGhpcy5pbWFnZS5uYXR1cmFsV2lkdGggLyB0aGlzLmltYWdlLm5hdHVyYWxIZWlnaHQ7XHJcbiAgICAgICAgdmFyIHN0YWdlU2l6aW5nID0gYm91bmRzLndpZHRoIC8gYm91bmRzLmhlaWdodDtcclxuXHJcbiAgICAgICAgdmFyIGlzSW1hZ2VXaWRlciA9IGltYWdlU2l6aW5nID4gc3RhZ2VTaXppbmc7XHJcblxyXG4gICAgICAgIHN3aXRjaCAodGhpcy5wcm9wZXJ0aWVzLmltYWdlU2NhbGluZ01vZGUpIHtcclxuICAgICAgICAgICAgY2FzZSBJbWFnZVNjYWxpbmdNb2RlLkZpdEFuZE92ZXJmaWxsOlxyXG4gICAgICAgICAgICAgICAgaWYgKGlzSW1hZ2VXaWRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpdFNjYWxlID0gYm91bmRzLmhlaWdodCAvIHRoaXMuaW1hZ2UuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBmaXRTY2FsZSA9IGJvdW5kcy53aWR0aCAvIHRoaXMuaW1hZ2Uud2lkdGg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBJbWFnZVNjYWxpbmdNb2RlLkZpdEFuZFNwYWNlOlxyXG4gICAgICAgICAgICAgICAgaWYgKGlzSW1hZ2VXaWRlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpdFNjYWxlID0gYm91bmRzLndpZHRoIC8gdGhpcy5pbWFnZS53aWR0aDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZml0U2NhbGUgPSBib3VuZHMuaGVpZ2h0IC8gdGhpcy5pbWFnZS5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciB3aWR0aCA9IHRoaXMuaW1hZ2UubmF0dXJhbFdpZHRoICogZml0U2NhbGU7XHJcbiAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuaW1hZ2UubmF0dXJhbEhlaWdodCAqIGZpdFNjYWxlO1xyXG5cclxuICAgICAgICB0aGlzLmRpbWVuc2lvbnMueCA9IHRoaXMuYWxpZ25lbWVudC5jYWxjdWxhdGVEaW1lbnNpb25zWChib3VuZHMsIHdpZHRoKTtcclxuICAgICAgICB0aGlzLmRpbWVuc2lvbnMueSA9IHRoaXMuYWxpZ25lbWVudC5jYWxjdWxhdGVEaW1lbnNpb25zWShib3VuZHMsIHdpZHRoKTtcclxuICAgICAgICB0aGlzLmRpbWVuc2lvbnMud2lkdGggPSB3aWR0aDtcclxuICAgICAgICB0aGlzLmRpbWVuc2lvbnMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgTGF5b3V0VmlldyB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xheW91dFZpZXdcIjtcclxuaW1wb3J0IHsgRGluamVjdCB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL2RpbmplY3RcIjtcclxuaW1wb3J0IHsgQXNzZXRNYW5hZ2VyIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvYXNzZXRNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IEVJbWFnZSB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2ltYWdlXCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBJbWFnZVNjYWxpbmdNb2RlIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvY29udHJvbHMvaW1hZ2VTY2FsaW5nTW9kZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJhY2tncm91bmRJbWFnZVZpZXcgZXh0ZW5kcyBMYXlvdXRWaWV3IHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdmFyIGFzc2V0TWFuYWdlciA9IERpbmplY3QuZ2V0SW5zdGFuY2UoXCJhc3NldHNcIikgYXMgQXNzZXRNYW5hZ2VyO1xyXG4gICAgICAgIHZhciBiYWNrZ3JvdW5kID0gYXNzZXRNYW5hZ2VyLmdldEltYWdlKFwiYmFja2dyb3VuZFwiKTtcclxuXHJcbiAgICAgICAgdmFyIGltYWdlID0gbmV3IEVJbWFnZShiYWNrZ3JvdW5kKVxyXG4gICAgICAgIGltYWdlLmRpc2FibGVNb3VzZU1vdmUoKTtcclxuICAgICAgICBpbWFnZS5wcm9wZXJ0aWVzLmltYWdlU2NhbGluZ01vZGUgPSBJbWFnZVNjYWxpbmdNb2RlLkZpdEFuZE92ZXJmaWxsO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChpbWFnZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUxheW91dChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICBjaGlsZC51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IExheW91dFZpZXcgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9sYXlvdXRDb250cm9scy9sYXlvdXRWaWV3XCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBTdGFyTGF5ZXJEcmF3ZXIgfSBmcm9tIFwiLi9zdGFyTGF5ZXJEcmF3ZXJcIjtcclxuaW1wb3J0IHsgU2V0dGluZ3NPdmVybGF5VmlldyB9IGZyb20gXCIuL292ZXJsYXkvc2V0dGluZ3NPdmVybGF5Vmlld1wiO1xyXG5pbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi4vYXBwXCI7XHJcbmltcG9ydCB7IFN0YXJMYXllckFuaW1hdG9yIH0gZnJvbSBcIi4vc3RhckxheWVyQW5pbWF0b3JcIjtcclxuaW1wb3J0IHsgRUFuaW1hdGlvbiB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL2VBbmltYXRpb25cIjtcclxuaW1wb3J0IHsgU2V0dGluZ09wZXJhdGlvbiB9IGZyb20gXCIuLi9zZXR0aW5ncy9zZXR0aW5nT3BlcmF0aW9uXCI7XHJcbmltcG9ydCB7IERpbmplY3QgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9kaW5qZWN0XCI7XHJcbmltcG9ydCB7IFBsYXllclZpZXcgfSBmcm9tIFwiLi9wbGF5ZXJWaWV3XCI7XHJcbmltcG9ydCB7IEJhY2tncm91bmRJbWFnZVZpZXcgfSBmcm9tIFwiLi9iYWNrZ3JvdW5kSW1hZ2VWaWV3XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgSW5zcGllcnR5UGxheWVyVmlldyBleHRlbmRzIExheW91dFZpZXcge1xyXG4gICAgcHJpdmF0ZSBzdGFyTGF5ZXJzOiBTdGFyTGF5ZXJEcmF3ZXJbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBzdGFyQW5pbWF0b3JzOiBTdGFyTGF5ZXJBbmltYXRvcltdID0gW107XHJcbiAgICBwcml2YXRlIHNldHRpbmdzT3ZlcmxheTogU2V0dGluZ3NPdmVybGF5VmlldztcclxuXHJcbiAgICBwcml2YXRlIGFuaW1hdGlvbjogRUFuaW1hdGlvbjtcclxuICAgIHBsYXllclZpZXc6IFBsYXllclZpZXc7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltYXRpb24gPSBEaW5qZWN0LmdldEluc3RhbmNlKFwiYW5pbWF0aW9uXCIpO1xyXG5cclxuICAgICAgICB0aGlzLnNldHRpbmdzT3ZlcmxheSA9IG5ldyBTZXR0aW5nc092ZXJsYXlWaWV3KCk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXJWaWV3ID0gbmV3IFBsYXllclZpZXcoKTtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2gobmV3IEJhY2tncm91bmRJbWFnZVZpZXcoKSk7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHRoaXMucGxheWVyVmlldyk7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHRoaXMuc2V0dGluZ3NPdmVybGF5KTtcclxuICAgICAgICBBcHAuc2V0dGluZ01hbmFnZXIudXBkYXRlLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5hcHBTZXR0aW5nc1VwZGF0ZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXBwU2V0dGluZ3NVcGRhdGVkID0gKG9wZXJhdGlvbjogU2V0dGluZ09wZXJhdGlvbikgPT4ge1xyXG4gICAgICAgIHN3aXRjaCAob3BlcmF0aW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgU2V0dGluZ09wZXJhdGlvbi5BZGRTdGFyTGF5ZXI6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFN0YXJMYXllcigpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgU2V0dGluZ09wZXJhdGlvbi5SZW1vdmVTdGFyTGF5ZXI6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVN0YXJMYXllcigpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRTdGFyTGF5ZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgZm9yIChjb25zdCBzdGFyTGF5ZXIgb2YgQXBwLnNldHRpbmdzLnN0YXJMYXllcnMpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhckxheWVycy5maXJzdE9yRGVmYXVsdCh4ID0+IHguc3RhckxheWVyID09IHN0YXJMYXllcikgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxheWVyID0gbmV3IFN0YXJMYXllckRyYXdlcihzdGFyTGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFyTGF5ZXJzLnB1c2gobGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5zcGxpY2UoMSwgMCwgbGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyVXBkYXRlTGF5b3V0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGFuaW1hdG9yID0gbmV3IFN0YXJMYXllckFuaW1hdG9yKHN0YXJMYXllcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvbi5hZGRVcGRhdGVGdW5jdGlvbihhbmltYXRvci51cGRhdGUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFyQW5pbWF0b3JzLnB1c2goYW5pbWF0b3IpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZVN0YXJMYXllciA9ICgpID0+IHtcclxuICAgICAgICBmb3IgKGNvbnN0IHN0YXJMYXllckRyYXdzIG9mIHRoaXMuc3RhckxheWVycykge1xyXG4gICAgICAgICAgICBpZiAoQXBwLnNldHRpbmdzLnN0YXJMYXllcnMuZmlyc3RPckRlZmF1bHQoeCA9PiB4ID09IHN0YXJMYXllckRyYXdzLnN0YXJMYXllcikgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFuaW1hdG9yID0gdGhpcy5zdGFyQW5pbWF0b3JzLmZpcnN0KHggPT4geC5zdGFyTGF5ZXIgPT0gc3RhckxheWVyRHJhd3Muc3RhckxheWVyKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uLnJlbW92ZVVwZGF0ZUZ1bmN0aW9uKGFuaW1hdG9yLnVwZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJBbmltYXRvcnMucmVtb3ZlSXRlbShhbmltYXRvcik7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5yZW1vdmUoeCA9PiB4ID09IHN0YXJMYXllckRyYXdzKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhckxheWVycy5yZW1vdmUoeCA9PiB4ID09IHN0YXJMYXllckRyYXdzKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlclVwZGF0ZUxheW91dCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVMYXlvdXQoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGJvdW5kczogUmVjdGFuZ2xlKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIudXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGNoaWxkLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGZvciAoY29uc3QgbGF5ZXIgb2YgdGhpcy5zdGFyTGF5ZXJzKSB7XHJcbiAgICAgICAgLy8gICAgIGxheWVyLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vIHRoaXMuc2V0dGluZ3NPdmVybGF5LnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcbiAgICAgICAgLy8gdGhpcy5wbGF5ZXJWaWV3LnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBTdGFyIH0gZnJvbSBcIi4vc3RhclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFN0YXJMYXllciB7XHJcbiAgICBwdWJsaWMgc3RhcnM6IFN0YXJbXSA9IFtdO1xyXG4gICAgcHVibGljIHNwZWVkID0gTWF0aC5yYW5kb20oKSAqIDIwICsgNTtcclxufSIsImV4cG9ydCB0eXBlIFVwZGF0ZUZ1bmN0aW9uID0gKHRpbWVEaWZmOiBudW1iZXIpID0+IHZvaWQ7XHJcblxyXG5leHBvcnQgY2xhc3MgRUFuaW1hdGlvbiB7XHJcbiAgICBwcml2YXRlIHVwZGF0ZUZ1bmN0aW9uczogVXBkYXRlRnVuY3Rpb25bXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBpc1J1bm5pbmcgPSBmYWxzZTtcclxuICAgIHByaXZhdGUgbGFzdEZyYW1lVGltZTogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBmcHM6IG51bWJlcjtcclxuICAgIHByaXZhdGUgZnBzSW50ZXJ2YWw6IG51bWJlcjtcclxuXHJcbiAgICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5zZXRGcHMoMzApO1xyXG4gICAgICAgIHRoaXMucGxheSgpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChldmVudC5rZXlDb2RlID09IDgwKSB7IC8vIHBcclxuICAgICAgICAgICAgICAgIHRoaXMucGxheVBhdXNlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGxheSgpIHtcclxuICAgICAgICBpZiAoIXRoaXMuaXNSdW5uaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNSdW5uaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy5sYXN0RnJhbWVUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25Mb29wKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwYXVzZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc1J1bm5pbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5pc1J1bm5pbmcgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBsYXlQYXVzZSgpIHtcclxuICAgICAgICB0aGlzLmlzUnVubmluZyA/IHRoaXMucGF1c2UoKSA6IHRoaXMucGxheSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRVcGRhdGVGdW5jdGlvbiA9IChmdW5jOiBVcGRhdGVGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlRnVuY3Rpb25zLnB1c2goZnVuYyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZVVwZGF0ZUZ1bmN0aW9uID0gKGZ1bmM6IFVwZGF0ZUZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVGdW5jdGlvbnMuc3BsaWNlKHRoaXMudXBkYXRlRnVuY3Rpb25zLmluZGV4T2YoZnVuYyksIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRGcHMgPSAoZnBzOiBudW1iZXIpID0+IHtcclxuICAgICAgICB0aGlzLmZwcyA9IGZwcztcclxuICAgICAgICB0aGlzLmZwc0ludGVydmFsID0gMTAwMCAvIHRoaXMuZnBzO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYW5pbWF0aW9uTG9vcCA9ICgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5pc1J1bm5pbmcpIHtcclxuICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0aW9uTG9vcCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTtcclxuICAgICAgICB2YXIgZWxhcHNlZCA9IG5vdyAtIHRoaXMubGFzdEZyYW1lVGltZTtcclxuXHJcbiAgICAgICAgaWYgKGVsYXBzZWQgPiB0aGlzLmZwc0ludGVydmFsKSB7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdEZyYW1lVGltZSA9IG5vdztcclxuICAgICAgICAgICAgdmFyIHRpbWVEaWZmID0gZWxhcHNlZCAvIDEwMDA7XHJcblxyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHVwZGF0ZUZ1bmN0aW9uIG9mIHRoaXMudXBkYXRlRnVuY3Rpb25zKSB7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVGdW5jdGlvbih0aW1lRGlmZik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgQ2FudmFzSGVscGVyIHtcclxuICAgIHB1YmxpYyBsb2FkRm9udGF3ZXNvbWVGcmVlID0gKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRGb250KFwiXFx1ZjI0NFwiLCBcIlxcdWYyNDBcIiwgXCI5MDAgMjBweCAnRm9udCBBd2Vzb21lIDUgRnJlZSdcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGxvYWRGb250YXdlc29tZUJyYW5kcyA9ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5sb2FkRm9udChcIlxcdWYzZDNcIiwgXCJcXHVmM2I4XCIsIFwiNDAwIDIwcHggJ0ZvbnQgQXdlc29tZSA1IEJyYW5kcydcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjb3VudFBpeGVscyA9IChpbWFnZURhdGE6IEltYWdlRGF0YSkgPT4ge1xyXG4gICAgICAgIHZhciBwaXhlbENvdW50ID0gMDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGltYWdlRGF0YS5kYXRhLmxlbmd0aDsgaSA9IGkgKyA0KSB7XHJcbiAgICAgICAgICAgIHZhciByID0gaW1hZ2VEYXRhLmRhdGFbaV07XHJcbiAgICAgICAgICAgIHZhciBnID0gaW1hZ2VEYXRhLmRhdGFbaSArIDFdO1xyXG4gICAgICAgICAgICB2YXIgYiA9IGltYWdlRGF0YS5kYXRhW2kgKyAyXTtcclxuICAgICAgICAgICAgdmFyIGEgPSBpbWFnZURhdGEuZGF0YVtpICsgM107XHJcblxyXG4gICAgICAgICAgICBpZiAociA8IDUwICYmIGcgPCA1MCAmJiBiIDwgNTAgJiYgYSA+IDAuOSkge1xyXG4gICAgICAgICAgICAgICAgcGl4ZWxDb3VudCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBwaXhlbENvdW50XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRJY29uUGl4ZWxzID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50LCBpY29uOiBzdHJpbmcpID0+IHtcclxuICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgY3R4LmZpbGxUZXh0KGljb24sIDAsIDApO1xyXG4gICAgICAgIHZhciBpbWFnZURhdGEgPSBjdHguZ2V0SW1hZ2VEYXRhKDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XHJcbiAgICAgICAgdmFyIGljb24xUGl4ZWxDb3VudCA9IHRoaXMuY291bnRQaXhlbHMoaW1hZ2VEYXRhKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcImljb24gMSBwaXhlbCBjb3VudDogXCIgKyBpY29uMVBpeGVsQ291bnQpO1xyXG4gICAgICAgIHJldHVybiBpY29uMVBpeGVsQ291bnQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBsb2FkRm9udCA9IChpY29uMTogc3RyaW5nLCBpY29uMjogc3RyaW5nLCBmb250OiBzdHJpbmcpID0+IHtcclxuICAgICAgICB2YXIgcmV0cnlEZWxheU1zID0gNTAwO1xyXG4gICAgICAgIHZhciByZXRyaWVzID0gMTBcclxuXHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJsb2FkaW5nIGZvbnQgXFxcIlwiICsgZm9udCArIFwiXFxcIlwiKTtcclxuXHJcbiAgICAgICAgICAgIHZhciB0ZW1wQ2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgICAgICAgIHRlbXBDYW52YXMud2lkdGggPSAyMDtcclxuICAgICAgICAgICAgdGVtcENhbnZhcy5oZWlnaHQgPSAyMDtcclxuICAgICAgICAgICAgdmFyIHRlbXBDdHggPSB0ZW1wQ2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgICAgIHRlbXBDdHguZm9udCA9IGZvbnQ7XHJcbiAgICAgICAgICAgIHRlbXBDdHguZmlsbFN0eWxlID0gXCJibGFja1wiO1xyXG4gICAgICAgICAgICB0ZW1wQ3R4LnRleHRBbGlnbiA9IFwibGVmdFwiO1xyXG4gICAgICAgICAgICB0ZW1wQ3R4LnRleHRCYXNlbGluZSA9IFwidG9wXCI7XHJcblxyXG4gICAgICAgICAgICB2YXIgY2hlY2tMb2FkZWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaWNvbjFQaXhlbENvdW50ID0gdGhpcy5nZXRJY29uUGl4ZWxzKHRlbXBDdHgsIHRlbXBDYW52YXMsIGljb24xKTtcclxuICAgICAgICAgICAgICAgIHZhciBpY29uMlBpeGVsQ291bnQgPSB0aGlzLmdldEljb25QaXhlbHModGVtcEN0eCwgdGVtcENhbnZhcywgaWNvbjIpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBkaWZmUGl4ZWxzID0gTWF0aC5hYnMoaWNvbjJQaXhlbENvdW50IC0gaWNvbjFQaXhlbENvdW50KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZGlmZlBpeGVscyA+IDUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImxvYWRlZCBmb250IFxcXCJcIiArIGZvbnQgKyBcIlxcXCJcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXRyaWVzLS07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJldHJpZXMgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInN0b3AgbG9hZGluZyBmb250IGFmdGVyIFwiICsgcmV0cmllcyArIFwiIHJldHJpZXMgd2l0aCBcIiArIHJldHJ5RGVsYXlNcyArIFwibXMgZGVsYXlcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJ3YWl0aW5nIGEgd2hpbGUgKFwiICsgcmV0cnlEZWxheU1zICsgXCJtcylcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tMb2FkZWQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgcmV0cnlEZWxheU1zKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2hlY2tMb2FkZWQoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImV4cG9ydCBhYnN0cmFjdCBjbGFzcyBBdWRpb0dyYXBoTm9kZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgbmFtZTogc3RyaW5nLCBwcm90ZWN0ZWQgYXVkaW9DdHg6IEF1ZGlvQ29udGV4dCkgeyB9XHJcblxyXG4gICAgcHVibGljIGFic3RyYWN0IGdldEF1ZGlvTm9kZSgpOiBBdWRpb05vZGU7XHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgcmVsb2FkKCk6IFByb21pc2U8dm9pZD47XHJcbn0iLCJpbXBvcnQgeyBBdWRpb0dyYXBoTm9kZSB9IGZyb20gXCIuL2F1ZGlvR3JhcGhOb2RlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQXVkaW9HcmFwaE5vZGVBbmFseXNlciBleHRlbmRzIEF1ZGlvR3JhcGhOb2RlIHtcclxuICAgIGFuYWx5c2VyTm9kZTogQW5hbHlzZXJOb2RlO1xyXG4gICAgYnVmZmVyTGVuZ3RoOiBudW1iZXI7XHJcbiAgICBkYXRhQXJyYXk6IFVpbnQ4QXJyYXk7XHJcblxyXG4gICAgcHVibGljIGdldEF1ZGlvTm9kZSA9ICgpOiBBdWRpb05vZGUgPT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFuYWx5c2VyTm9kZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVsb2FkKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5hbmFseXNlck5vZGUpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuYW5hbHlzZXJOb2RlID0gdGhpcy5hdWRpb0N0eC5jcmVhdGVBbmFseXNlcigpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuYW5hbHlzZXJOb2RlLmZmdFNpemUgPSAzMjtcclxuICAgICAgICAgICAgdGhpcy5hbmFseXNlck5vZGUuc21vb3RoaW5nVGltZUNvbnN0YW50ID0gMC45O1xyXG4gICAgICAgICAgICB0aGlzLmJ1ZmZlckxlbmd0aCA9IHRoaXMuYW5hbHlzZXJOb2RlLmZyZXF1ZW5jeUJpbkNvdW50O1xyXG4gICAgICAgICAgICB0aGlzLmRhdGFBcnJheSA9IG5ldyBVaW50OEFycmF5KHRoaXMuYnVmZmVyTGVuZ3RoKTtcclxuICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRTcGVjdHJ1bSgpIHtcclxuICAgICAgICBpZiAodGhpcy5hbmFseXNlck5vZGUpIHtcclxuICAgICAgICAgICAgdGhpcy5hbmFseXNlck5vZGUuZ2V0Qnl0ZUZyZXF1ZW5jeURhdGEodGhpcy5kYXRhQXJyYXkpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhQXJyYXk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheSgwKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0V2F2ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy5hbmFseXNlck5vZGUpIHtcclxuICAgICAgICAgICAgdGhpcy5hbmFseXNlck5vZGUuZ2V0Qnl0ZVRpbWVEb21haW5EYXRhKHRoaXMuZGF0YUFycmF5KTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YUFycmF5O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoMCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBBdWRpb0dyYXBoTm9kZSB9IGZyb20gXCIuL2F1ZGlvR3JhcGhOb2RlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQXVkaW9HcmFwaE5vZGVEZXN0aW5hdGlvbiBleHRlbmRzIEF1ZGlvR3JhcGhOb2RlIHtcclxuICAgIHB1YmxpYyBnZXRBdWRpb05vZGUgPSAoKTogQXVkaW9Ob2RlID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hdWRpb0N0eC5kZXN0aW5hdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVsb2FkKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEF1ZGlvR3JhcGhOb2RlIH0gZnJvbSBcIi4vYXVkaW9HcmFwaE5vZGVcIjtcclxuaW1wb3J0IHsgRUV2ZW50IH0gZnJvbSBcIi4uL2VFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEF1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZSBleHRlbmRzIEF1ZGlvR3JhcGhOb2RlIHtcclxuICAgIHB1YmxpYyB1cmw6IHN0cmluZztcclxuICAgIHB1YmxpYyBhdWRpb0VuZGVkID0gbmV3IEVFdmVudCgpO1xyXG5cclxuICAgIHByaXZhdGUgc291cmNlOiBNZWRpYUVsZW1lbnRBdWRpb1NvdXJjZU5vZGU7XHJcbiAgICBwcml2YXRlIGF1ZGlvOiBIVE1MQXVkaW9FbGVtZW50O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgYXVkaW9DdHg6IEF1ZGlvQ29udGV4dCwgdXJsOiBzdHJpbmcpIHtcclxuICAgICAgICBzdXBlcihuYW1lLCBhdWRpb0N0eCk7XHJcbiAgICAgICAgdGhpcy51cmwgPSB1cmw7XHJcblxyXG4gICAgICAgIHRoaXMuYXVkaW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhdWRpbycpO1xyXG4gICAgICAgIHRoaXMuYXVkaW8uY29udHJvbHMgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuYXVkaW8uc3JjID0gdGhpcy51cmw7XHJcbiAgICAgICAgdGhpcy5hdWRpby5hZGRFdmVudExpc3RlbmVyKFwiZW5kZWRcIiwgdGhpcy5hdWRpb0VuZGVkRXZlbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXVkaW9FbmRlZEV2ZW50ID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuYXVkaW9FbmRlZC5kaXNwYXRjaEV2ZW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEF1ZGlvTm9kZSA9ICgpOiBBdWRpb05vZGUgPT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnNvdXJjZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVsb2FkKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5zb3VyY2UpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc291cmNlID0gdGhpcy5hdWRpb0N0eC5jcmVhdGVNZWRpYUVsZW1lbnRTb3VyY2UodGhpcy5hdWRpbyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwbGF5ID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuYXVkaW8ucGxheSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwYXVzZSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmF1ZGlvLnBhdXNlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0b3AgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5hdWRpby5wYXVzZSgpO1xyXG4gICAgICAgIHRoaXMuYXVkaW8uY3VycmVudFRpbWUgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRVcmwgPSAodXJsOiBzdHJpbmcpID0+IHtcclxuICAgICAgICB2YXIgcGxheSA9ICF0aGlzLmF1ZGlvLnBhdXNlZDtcclxuICAgICAgICB0aGlzLnVybCA9IHVybDtcclxuICAgICAgICB0aGlzLmF1ZGlvLnNyYyA9IHVybDtcclxuICAgICAgICB0aGlzLmF1ZGlvLmxvYWQoKTtcclxuICAgICAgICBpZiAocGxheSkge1xyXG4gICAgICAgICAgICB0aGlzLmF1ZGlvLnBsYXkoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBBdWRpb0dyYXBoTm9kZSB9IGZyb20gXCIuL2F1ZGlvR3JhcGhOb2RlXCI7XHJcbmltcG9ydCB7IEF1ZGlvR3JhcGhOb2RlQW5hbHlzZXIgfSBmcm9tIFwiLi9hdWRpb0dyYXBoTm9kZUFuYWx5c2VyXCI7XHJcbmltcG9ydCB7IEF1ZGlvR3JhcGhOb2RlRGVzdGluYXRpb24gfSBmcm9tIFwiLi9hdWRpb0dyYXBoTm9kZURlc3RpbmF0aW9uXCI7XHJcbmltcG9ydCB7IEF1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZSB9IGZyb20gXCIuL2F1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZVwiO1xyXG5pbXBvcnQgeyBBdWRpb0dyYXBoTm9kZVN0cmVhbVNvdXJjZSB9IGZyb20gXCIuL2F1ZGlvR3JhcGhOb2RlU3RyZWFtU291cmNlXCI7XHJcbmltcG9ydCB7IEVFdmVudFQgfSBmcm9tIFwiLi4vZUV2ZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQXVkaW9HcmFwaCB7XHJcbiAgICBwdWJsaWMgYXVkaW9DdHg6IEF1ZGlvQ29udGV4dDtcclxuXHJcbiAgICAvLyBwcml2YXRlIHNvdXJjZU5vZGU6IEF1ZGlvR3JhcGhOb2RlPEF1ZGlvTm9kZT47XHJcbiAgICAvLyBwcml2YXRlIGFuYWx5emVyTm9kZTogQXVkaW9HcmFwaE5vZGVBbmFseXNlcjtcclxuXHJcbiAgICAvLyByZW1vdmUgZ2VuZXJpYyBUP1xyXG4gICAgcHJpdmF0ZSBhdWRpb05vZGVzOiBBdWRpb0dyYXBoTm9kZVtdID0gW107XHJcblxyXG4gICAgcHVibGljIGRlc3RpbmF0aW9uTm9kZTogQXVkaW9HcmFwaE5vZGU7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5hdWRpb0N0eCA9IG5ldyBBdWRpb0NvbnRleHQoKTtcclxuICAgICAgICB0aGlzLmF1ZGlvQ3R4LmFkZEV2ZW50TGlzdGVuZXIoXCJzdGF0ZWNoYW5nZVwiLCB0aGlzLmF1ZGlvQ29udGV4dFN0YXRlQ2hhbmdlZEV2YWx1YXRvcik7XHJcbiAgICAgICAgaWYgKHRoaXMuYXVkaW9DdHguc3RhdGUgPT09IFwic3VzcGVuZGVkXCIpIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuZG9jdW1lbnRDbGljayk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQXVkaW8gY29udGV4dCBpcyBzdXNwZW5kZWQuIENsaWNrIHRoZSBkb20gdG8gbWFrZSBpdCBydW5uaW5nLlwiKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbk5vZGUgPSBuZXcgQXVkaW9HcmFwaE5vZGVEZXN0aW5hdGlvbihcImRlc3RpbmF0aW9uXCIsIHRoaXMuYXVkaW9DdHgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRNZWRpYUVsZW1lbnRTb3VyY2UgPSAobmFtZTogc3RyaW5nLCB1cmw6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIHZhciBzb3VyY2VOb2RlID0gbmV3IEF1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZShuYW1lLCB0aGlzLmF1ZGlvQ3R4LCB1cmwpO1xyXG4gICAgICAgIHRoaXMuYXVkaW9Ob2Rlcy5wdXNoKHNvdXJjZU5vZGUpO1xyXG4gICAgICAgIHJldHVybiBzb3VyY2VOb2RlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRBbmFseXplciA9IChuYW1lOiBzdHJpbmcpID0+IHtcclxuICAgICAgICB2YXIgYW5hbHl6ZXJOb2RlID0gbmV3IEF1ZGlvR3JhcGhOb2RlQW5hbHlzZXIobmFtZSwgdGhpcy5hdWRpb0N0eCk7XHJcbiAgICAgICAgdGhpcy5hdWRpb05vZGVzLnB1c2goYW5hbHl6ZXJOb2RlKTtcclxuICAgICAgICByZXR1cm4gYW5hbHl6ZXJOb2RlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRBdWRpb0dyYXBoTm9kZSA9IChuYW1lOiBzdHJpbmcpID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hdWRpb05vZGVzLmZpcnN0KHggPT4geC5uYW1lID09IG5hbWUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHB1YmxpYyBwbGF5VXJsID0gKHVybDogc3RyaW5nKSA9PiB7XHJcbiAgICAvLyAgICAgdGhpcy5zb3VyY2VOb2RlID0gbmV3IEF1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZSh0aGlzLmF1ZGlvQ3R4LCB1cmwpO1xyXG4gICAgLy8gICAgIGlmICh0aGlzLmF1ZGlvQ3R4LnN0YXRlID09PSBcInJ1bm5pbmdcIikge1xyXG4gICAgLy8gICAgICAgICB0aGlzLmJ1aWxkR3JhcGgoKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gcHVibGljIHBsYXlTdHJlYW0gPSAoKSA9PiB7XHJcbiAgICAvLyAgICAgdGhpcy5zb3VyY2VOb2RlID0gbmV3IEF1ZGlvR3JhcGhOb2RlU3RyZWFtU291cmNlKHRoaXMuYXVkaW9DdHgpO1xyXG4gICAgLy8gICAgIGlmICh0aGlzLmF1ZGlvQ3R4LnN0YXRlID09PSBcInJ1bm5pbmdcIikge1xyXG4gICAgLy8gICAgICAgICB0aGlzLmJ1aWxkR3JhcGgoKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9XHJcblxyXG4gICAgcHVibGljIGF1ZGlvQ29udGV4dFN0YXRlQ2hhbmdlZCA9IG5ldyBFRXZlbnRUPHN0cmluZz4oKTtcclxuXHJcbiAgICBwcml2YXRlIGRvY3VtZW50Q2xpY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuYXVkaW9DdHguc3RhdGUgPT09IFwic3VzcGVuZGVkXCIpIHtcclxuICAgICAgICAgICAgdGhpcy5hdWRpb0N0eC5yZXN1bWUoKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuZG9jdW1lbnRDbGljayk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXVkaW9Db250ZXh0U3RhdGVDaGFuZ2VkRXZhbHVhdG9yID0gKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmF1ZGlvQ3R4LnN0YXRlID09PSBcInJ1bm5pbmdcIikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImF1ZGlvIGNvbnRleHQgc3RhdGUgY2hhbmdlZFwiKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRoaXMuYXVkaW9DdHgucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInN0YXRlY2hhbmdlXCIsIHRoaXMuYXVkaW9Db250ZXh0U3RhdGVDaGFuZ2VkRXZhbHVhdG9yKTtcclxuICAgICAgICAgICAgdGhpcy5yZWxvYWQoKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXVkaW9Db250ZXh0U3RhdGVDaGFuZ2VkLmRpc3BhdGNoRXZlbnQodGhpcy5hdWRpb0N0eC5zdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbG9hZCA9ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInJlYWxvYWRpbmcgYXVkaW8gZ3JhcGhcIik7XHJcbiAgICAgICAgICAgIFByb21pc2UuYWxsKHRoaXMuYXVkaW9Ob2Rlcy5tYXAoeCA9PiB4LnJlbG9hZCgpKSlcclxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInJlbG9hZGVkIGF1ZGlvIGdyYXBoXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5hdWRpb05vZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGF1ZGlvTm9kZSA9IHRoaXMuYXVkaW9Ob2Rlc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW9Ob2RlLmdldEF1ZGlvTm9kZSgpLmRpc2Nvbm5lY3QoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpIDwgdGhpcy5hdWRpb05vZGVzLmxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1ZGlvTm9kZS5nZXRBdWRpb05vZGUoKS5jb25uZWN0KHRoaXMuYXVkaW9Ob2Rlc1tpICsgMV0uZ2V0QXVkaW9Ob2RlKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW9Ob2RlLmdldEF1ZGlvTm9kZSgpLmNvbm5lY3QodGhpcy5kZXN0aW5hdGlvbk5vZGUuZ2V0QXVkaW9Ob2RlKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHByaXZhdGUgYnVpbGRHcmFwaCgpIHtcclxuICAgIC8vICAgICBjb25zb2xlLmxvZyhcIkJ1aWxkaW5nIGF1ZGlvIGdyYXBoLlwiKTtcclxuXHJcbiAgICAvLyAgICAgaWYgKHRoaXMuc291cmNlTm9kZS5nZXRBdWRpb05vZGUoKSkge1xyXG4gICAgLy8gICAgICAgICB0aGlzLnNvdXJjZU5vZGUuZ2V0QXVkaW9Ob2RlKCkuZGlzY29ubmVjdCgpO1xyXG4gICAgLy8gICAgICAgICB0aGlzLmFuYWx5emVyTm9kZS5nZXRBdWRpb05vZGUoKS5kaXNjb25uZWN0KCk7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuZGVzdGluYXRpb25Ob2RlLmdldEF1ZGlvTm9kZSgpLmRpc2Nvbm5lY3QoKTtcclxuICAgIC8vICAgICAgICAgdGhpcy5zb3VyY2VOb2RlLmdldEF1ZGlvTm9kZSgpLmNvbm5lY3QodGhpcy5hbmFseXplck5vZGUuZ2V0QXVkaW9Ob2RlKCkpO1xyXG4gICAgLy8gICAgICAgICB0aGlzLmFuYWx5emVyTm9kZS5nZXRBdWRpb05vZGUoKS5jb25uZWN0KHRoaXMuZGVzdGluYXRpb25Ob2RlLmdldEF1ZGlvTm9kZSgpKTtcclxuICAgIC8vICAgICB9IGVsc2Uge1xyXG4gICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhcIkF1ZGlvIHNvdXJjZSBub3QgYXZhaWxhYmxlLiBXYWl0aW5nIHNvbWUgdGltZS5cIik7XHJcbiAgICAvLyAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgLy8gICAgICAgICAgICAgdGhpcy5idWlsZEdyYXBoKCk7XHJcbiAgICAvLyAgICAgICAgIH0sIDEwMDApO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBwdWJsaWMgZ2V0U3BlY3RydW0oKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuIHRoaXMuYW5hbHl6ZXJOb2RlLmdldFNwZWN0cnVtKCk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gcHVibGljIGdldFdhdmUoKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuIHRoaXMuYW5hbHl6ZXJOb2RlLmdldFdhdmUoKTtcclxuICAgIC8vIH1cclxufSIsImltcG9ydCB7IEF1ZGlvR3JhcGggfSBmcm9tIFwiLi4vZW5jL3NyYy9hdWRpby9hdWRpb0dyYXBoXCI7XHJcbmltcG9ydCB7IEF1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZSB9IGZyb20gXCIuLi9lbmMvc3JjL2F1ZGlvL2F1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZVwiO1xyXG5pbXBvcnQgeyBBdWRpb0dyYXBoTm9kZUFuYWx5c2VyIH0gZnJvbSBcIi4uL2VuYy9zcmMvYXVkaW8vYXVkaW9HcmFwaE5vZGVBbmFseXNlclwiO1xyXG5cclxuLy8gaW1wb3J0IEZhaW50QXNzZXRNUDMgZnJvbSBcIi4vYXNzZXRzL21wMy1kZW1vL2RlbW9fMV9mYWludF9jb2xvci5tcDNcIlxyXG4vLyBpbXBvcnQgUHJpc21Bc3NldE1QMyBmcm9tIFwiLi9hc3NldHMvbXAzLWRlbW8vZGVtb18yX3ByaXNtLm1wM1wiXHJcbi8vIGltcG9ydCBIb3BlZnVsQXNzZXRNUDMgZnJvbSBcIi4vYXNzZXRzL21wMy1kZW1vL2RlbW9fM19ob3BlZnVsLm1wM1wiXHJcbi8vIGltcG9ydCBEZWVwQXNzZXRNUDMgZnJvbSBcIi4vYXNzZXRzL21wMy1kZW1vL2RlbW9fNF9kZWVwX2ZpZWxkLm1wM1wiXHJcbi8vIGltcG9ydCBHcmF2aXR5QXNzZXRNUDMgZnJvbSBcIi4vYXNzZXRzL21wMy1kZW1vL2RlbW9fNV9ncmF2aXR5Lm1wM1wiXHJcbi8vIGltcG9ydCBKb3VybmV5QXNzZXRNUDMgZnJvbSBcIi4vYXNzZXRzL21wMy1kZW1vL2RlbW9fNl9qb3VybmV5X3RvX3RoZV9wbGFuZXRzLm1wM1wiXHJcbi8vIGltcG9ydCBEcmlmdGluZ0Fzc2V0TVAzIGZyb20gXCIuL2Fzc2V0cy9tcDMtZGVtby9kZW1vXzdfZHJpZnRpbmdfaW50b190aGVfYXRtb3NwaGVyZS5tcDNcIlxyXG5cclxuaW1wb3J0IEZhaW50QXNzZXRNUDMgZnJvbSBcIi4vYXNzZXRzL1RyYWlsZXJfQ29uc3RlbGxhdGlvbi5vZ2dcIlxyXG5pbXBvcnQgUHJpc21Bc3NldE1QMyBmcm9tIFwiLi9hc3NldHMvVHJhaWxlcl9Db25zdGVsbGF0aW9uLm9nZ1wiXHJcbmltcG9ydCBIb3BlZnVsQXNzZXRNUDMgZnJvbSBcIi4vYXNzZXRzL1RyYWlsZXJfQ29uc3RlbGxhdGlvbi5vZ2dcIlxyXG5pbXBvcnQgRGVlcEFzc2V0TVAzIGZyb20gXCIuL2Fzc2V0cy9UcmFpbGVyX0NvbnN0ZWxsYXRpb24ub2dnXCJcclxuaW1wb3J0IEdyYXZpdHlBc3NldE1QMyBmcm9tIFwiLi9hc3NldHMvVHJhaWxlcl9Db25zdGVsbGF0aW9uLm9nZ1wiXHJcbmltcG9ydCBKb3VybmV5QXNzZXRNUDMgZnJvbSBcIi4vYXNzZXRzL1RyYWlsZXJfQ29uc3RlbGxhdGlvbi5vZ2dcIlxyXG5pbXBvcnQgRHJpZnRpbmdBc3NldE1QMyBmcm9tIFwiLi9hc3NldHMvVHJhaWxlcl9Db25zdGVsbGF0aW9uLm9nZ1wiXHJcblxyXG5leHBvcnQgY2xhc3MgQXVkaW9NYW5hZ2VyIHtcclxuICAgIHByaXZhdGUgYXVkaW9HcmFwaDogQXVkaW9HcmFwaDtcclxuICAgIHByaXZhdGUgc291cmNlOiBBdWRpb0dyYXBoTm9kZUVsZW1lbnRTb3VyY2U7XHJcbiAgICBwcml2YXRlIGFuYWx5c2VyOiBBdWRpb0dyYXBoTm9kZUFuYWx5c2VyO1xyXG5cclxuICAgIHByaXZhdGUgc29uZ3MgPSBbXHJcbiAgICAgICAgRmFpbnRBc3NldE1QMyxcclxuICAgICAgICBQcmlzbUFzc2V0TVAzLFxyXG4gICAgICAgIEhvcGVmdWxBc3NldE1QMyxcclxuICAgICAgICBEZWVwQXNzZXRNUDMsXHJcbiAgICAgICAgR3Jhdml0eUFzc2V0TVAzLFxyXG4gICAgICAgIEpvdXJuZXlBc3NldE1QMyxcclxuICAgICAgICBEcmlmdGluZ0Fzc2V0TVAzXHJcbiAgICBdXHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5hdWRpb0dyYXBoID0gbmV3IEF1ZGlvR3JhcGgoKTtcclxuICAgICAgICB0aGlzLnNvdXJjZSA9IHRoaXMuYXVkaW9HcmFwaC5hZGRNZWRpYUVsZW1lbnRTb3VyY2UoXCJzb3VyY2VcIiwgdGhpcy5zb25nc1swXSlcclxuICAgICAgICB0aGlzLmFuYWx5c2VyID0gdGhpcy5hdWRpb0dyYXBoLmFkZEFuYWx5emVyKFwiYW5hbHlzZXJcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbG9hZCA9ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hdWRpb0dyYXBoLnJlbG9hZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwbGF5ID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc291cmNlLnBsYXkoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGF1c2UgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zb3VyY2UucGF1c2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbmV4dCA9ICgpID0+IHtcclxuICAgICAgICB2YXIgY3VycmVudFNvbmdJbmRleCA9IHRoaXMuc29uZ3MuaW5kZXhPZih0aGlzLnNvdXJjZS51cmwpO1xyXG4gICAgICAgIHZhciBuZXh0U29uZ0luZGV4ID0gY3VycmVudFNvbmdJbmRleCArIDE7XHJcbiAgICAgICAgaWYgKG5leHRTb25nSW5kZXggPT0gdGhpcy5zb25ncy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgbmV4dFNvbmdJbmRleCA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNvdXJjZS5zZXRVcmwodGhpcy5zb25nc1tuZXh0U29uZ0luZGV4XSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHByZXZpb3VzID0gKCkgPT4ge1xyXG4gICAgICAgIHZhciBjdXJyZW50U29uZ0luZGV4ID0gdGhpcy5zb25ncy5pbmRleE9mKHRoaXMuc291cmNlLnVybCk7XHJcbiAgICAgICAgdmFyIHByZXZpb3VzU29uZ0luZGV4ID0gY3VycmVudFNvbmdJbmRleCAtIDE7XHJcbiAgICAgICAgaWYgKHByZXZpb3VzU29uZ0luZGV4ID09IC0xKSB7XHJcbiAgICAgICAgICAgIHByZXZpb3VzU29uZ0luZGV4ID0gdGhpcy5zb25ncy5sZW5ndGggLSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnNvdXJjZS5zZXRVcmwodGhpcy5zb25nc1twcmV2aW91c1NvbmdJbmRleF0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdG9wID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc291cmNlLnN0b3AoKTtcclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBBc3NldE1hbmFnZXIge1xyXG4gICAgcHJpdmF0ZSBpbWFnZUFzc2V0czogeyBuYW1lOiBzdHJpbmcsIHVybDogc3RyaW5nLCBpbWFnZTogSFRNTEltYWdlRWxlbWVudCB9W10gPSBbXTtcclxuXHJcbiAgICBwdWJsaWMgYWRkSW1hZ2UgPSAobmFtZTogc3RyaW5nLCB1cmw6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIHRoaXMuaW1hZ2VBc3NldHMucHVzaCh7XHJcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgICAgIHVybDogdXJsLFxyXG4gICAgICAgICAgICBpbWFnZTogdW5kZWZpbmVkXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEltYWdlID0gKG5hbWU6IHN0cmluZyk6IEhUTUxJbWFnZUVsZW1lbnQgPT4ge1xyXG4gICAgICAgIHZhciBpbWFnZUFzc2V0ID0gdGhpcy5pbWFnZUFzc2V0cy5maXJzdE9yRGVmYXVsdCh4ID0+IHgubmFtZSA9PSBuYW1lKTtcclxuICAgICAgICBpZiAoaW1hZ2VBc3NldCkge1xyXG4gICAgICAgICAgICByZXR1cm4gaW1hZ2VBc3NldC5pbWFnZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbG9hZCA9ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwodGhpcy5pbWFnZUFzc2V0cy5tYXAoeCA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXguaW1hZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICBpbWFnZS5zcmMgPSB4LnVybDtcclxuICAgICAgICAgICAgICAgICAgICBpbWFnZS5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHguaW1hZ2UgPSBpbWFnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBTdGFnZSB9IGZyb20gXCIuLi9lbmMvc3JjL3VpL3N0YWdlXCI7XHJcbmltcG9ydCB7IEluc3BpZXJ0eVBsYXllclZpZXcgfSBmcm9tIFwiLi92aWV3L2luc3BpZXJ0eVBsYXllclZpZXdcIjtcclxuaW1wb3J0IHsgU2V0dGluZ3MgfSBmcm9tIFwiLi9tb2RlbHMvc2V0dGluZ3NcIjtcclxuaW1wb3J0IHsgU2V0dGluZ3NNYW5hZ2VyIH0gZnJvbSBcIi4vc2V0dGluZ3Mvc2V0dGluZ3NNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IERpbmplY3QgfSBmcm9tIFwiLi4vZW5jL3NyYy9kaW5qZWN0XCI7XHJcbmltcG9ydCB7IEVBbmltYXRpb24gfSBmcm9tIFwiLi4vZW5jL3NyYy9lQW5pbWF0aW9uXCI7XHJcbmltcG9ydCB7IEVDYW52YXMgfSBmcm9tIFwiLi4vZW5jL3NyYy91aS9lQ2FudmFzXCI7XHJcbmltcG9ydCB7IENhbnZhc0hlbHBlciB9IGZyb20gXCIuLi9lbmMvc3JjL3VpL2NhbnZhc0hlbHBlclwiO1xyXG5pbXBvcnQgeyBBdWRpb01hbmFnZXIgfSBmcm9tIFwiLi9hdWRpb01hbmFnZXJcIjtcclxuaW1wb3J0IHsgQXNzZXRNYW5hZ2VyIH0gZnJvbSBcIi4uL2VuYy9zcmMvYXNzZXRNYW5hZ2VyXCI7XHJcblxyXG5pbXBvcnQgYmFja2dyb3VuZFBuZyBmcm9tIFwiLi9hc3NldHMvYmFja2dyb3VuZC5wbmdcIlxyXG5cclxuZXhwb3J0IGNsYXNzIEFwcCB7XHJcbiAgICBwdWJsaWMgc3RhdGljIHNldHRpbmdzID0gbmV3IFNldHRpbmdzKHdpbmRvdy5pbm5lcldpZHRoLCB3aW5kb3cuaW5uZXJIZWlnaHQpO1xyXG4gICAgcHVibGljIHN0YXRpYyBzZXR0aW5nTWFuYWdlciA9IG5ldyBTZXR0aW5nc01hbmFnZXIoKTtcclxuXHJcbiAgICBwdWJsaWMgcnVuID0gKCkgPT4ge1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJibGFja1wiO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhcImxvYWRpbmcgYXBwXCIpO1xyXG4gICAgICAgIFByb21pc2UuYWxsKFtcclxuICAgICAgICAgICAgbmV3IENhbnZhc0hlbHBlcigpLmxvYWRGb250YXdlc29tZUZyZWUoKSxcclxuICAgICAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIGF1ZGlvTWFuYWdlciA9IG5ldyBBdWRpb01hbmFnZXIoKTtcclxuICAgICAgICAgICAgICAgIGF1ZGlvTWFuYWdlci5yZWxvYWQoKVxyXG4gICAgICAgICAgICAgICAgRGluamVjdC5hZGRJbnN0YW5jZShcImF1ZGlvXCIsIGF1ZGlvTWFuYWdlcik7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2FudmFzID0gRUNhbnZhcy5jcmVhdGVGdWxsU2NyZWVuKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgc3RhZ2UgPSBuZXcgU3RhZ2UoY2FudmFzKTtcclxuICAgICAgICAgICAgICAgIHZhciBhbmltYXRpb24gPSBuZXcgRUFuaW1hdGlvbigpO1xyXG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uLmFkZFVwZGF0ZUZ1bmN0aW9uKGNhbnZhcy5kcmF3KTtcclxuXHJcbiAgICAgICAgICAgICAgICBEaW5qZWN0LmFkZEluc3RhbmNlKFwiY2FudmFzXCIsIGNhbnZhcyk7XHJcbiAgICAgICAgICAgICAgICBEaW5qZWN0LmFkZEluc3RhbmNlKFwic3RhZ2VcIiwgc3RhZ2UpO1xyXG4gICAgICAgICAgICAgICAgRGluamVjdC5hZGRJbnN0YW5jZShcImFuaW1hdGlvblwiLCBhbmltYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFzc2V0TWFuYWdlciA9IG5ldyBBc3NldE1hbmFnZXIoKTtcclxuICAgICAgICAgICAgICAgIERpbmplY3QuYWRkSW5zdGFuY2UoXCJhc3NldHNcIiwgYXNzZXRNYW5hZ2VyKTtcclxuICAgICAgICAgICAgICAgIGFzc2V0TWFuYWdlci5hZGRJbWFnZShcImJhY2tncm91bmRcIiwgYmFja2dyb3VuZFBuZyk7XHJcbiAgICAgICAgICAgICAgICBhc3NldE1hbmFnZXIubG9hZCgpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICBdKS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJsb2FkZWQgYXBwXCIpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHN0YWdlID0gRGluamVjdC5nZXRJbnN0YW5jZShcInN0YWdlXCIpIGFzIFN0YWdlO1xyXG4gICAgICAgICAgICB2YXIgdmlldyA9IG5ldyBJbnNwaWVydHlQbGF5ZXJWaWV3KCk7XHJcbiAgICAgICAgICAgIHN0YWdlLnNldFZpZXcodmlldyk7XHJcblxyXG4gICAgICAgICAgICBBcHAuc2V0dGluZ01hbmFnZXIuYWRkU3RhckxheWVyKCk7XHJcbiAgICAgICAgICAgIEFwcC5zZXR0aW5nTWFuYWdlci5hZGRTdGFyTGF5ZXIoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFN0YXJMYXllciB9IGZyb20gXCIuL3N0YXJMYXllclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNldHRpbmdzIHtcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyB3aWR0aDogbnVtYmVyLCBwdWJsaWMgaGVpZ2h0OiBudW1iZXIpIHsgfVxyXG5cclxuICAgIHB1YmxpYyBzdGFyTGF5ZXJzOiBTdGFyTGF5ZXJbXSA9IFtdO1xyXG59XHJcbiIsImltcG9ydCB7IFNldHRpbmdPcGVyYXRpb24gfSBmcm9tIFwiLi9zZXR0aW5nT3BlcmF0aW9uXCI7XHJcbmltcG9ydCB7IEVFdmVudFQgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9lRXZlbnRcIjtcclxuaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4uL2FwcFwiO1xyXG5pbXBvcnQgeyBTdGFyTGF5ZXIgfSBmcm9tIFwiLi4vbW9kZWxzL3N0YXJMYXllclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNldHRpbmdzTWFuYWdlciB7XHJcbiAgICBwdWJsaWMgdXBkYXRlID0gbmV3IEVFdmVudFQ8U2V0dGluZ09wZXJhdGlvbj4oKTtcclxuXHJcbiAgICBwdWJsaWMgYWRkU3RhckxheWVyID0gKCkgPT4ge1xyXG4gICAgICAgIHZhciBsYXllciA9IG5ldyBTdGFyTGF5ZXIoKTtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxMDA7IGkrKykge1xyXG4gICAgICAgICAgICBsYXllci5zdGFycy5wdXNoKHtcclxuICAgICAgICAgICAgICAgIHg6IE1hdGgucmFuZG9tKCkgKiBBcHAuc2V0dGluZ3Mud2lkdGgsXHJcbiAgICAgICAgICAgICAgICB5OiBNYXRoLnJhbmRvbSgpICogQXBwLnNldHRpbmdzLmhlaWdodCxcclxuICAgICAgICAgICAgICAgIHI6IE1hdGgucmFuZG9tKCkgKiAyICsgMC4wNVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgQXBwLnNldHRpbmdzLnN0YXJMYXllcnMucHVzaChsYXllcik7XHJcbiAgICAgICAgdGhpcy51cGRhdGUuZGlzcGF0Y2hFdmVudChTZXR0aW5nT3BlcmF0aW9uLkFkZFN0YXJMYXllcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZVN0YXJMYXllciA9IChzdGFyTGF5ZXI6IFN0YXJMYXllcikgPT4ge1xyXG4gICAgICAgIEFwcC5zZXR0aW5ncy5zdGFyTGF5ZXJzLnJlbW92ZUl0ZW0oc3RhckxheWVyKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZS5kaXNwYXRjaEV2ZW50KFNldHRpbmdPcGVyYXRpb24uUmVtb3ZlU3RhckxheWVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2hhbmdlTnVtYmVyT2ZTdGFycyA9IChzdGFyTGF5ZXI6IFN0YXJMYXllciwgbnVtYmVyT2ZTdGFyczogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgaWYgKG51bWJlck9mU3RhcnMgPiAwKSB7XHJcbiAgICAgICAgICAgIHZhciBkaWZmID0gbnVtYmVyT2ZTdGFycyAtIHN0YXJMYXllci5zdGFycy5sZW5ndGg7XHJcbiAgICAgICAgICAgIGlmIChkaWZmID4gMCkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaWZmOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFyTGF5ZXIuc3RhcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IE1hdGgucmFuZG9tKCkgKiBBcHAuc2V0dGluZ3Mud2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IE1hdGgucmFuZG9tKCkgKiBBcHAuc2V0dGluZ3MuaGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByOiBNYXRoLnJhbmRvbSgpICogMiArIDAuMDVcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGRpZmYgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IC1kaWZmOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGFyTGF5ZXIuc3RhcnMuc3BsaWNlKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHN0YXJMYXllci5zdGFycy5sZW5ndGgpLCAxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZS5kaXNwYXRjaEV2ZW50KFNldHRpbmdPcGVyYXRpb24uQ2hhbmdlTnVtYmVyT2ZTdGFycyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjaGFuZ2VTcGVlZCA9IChzdGFyTGF5ZXI6IFN0YXJMYXllciwgc3BlZWQ6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIHN0YXJMYXllci5zcGVlZCA9IHNwZWVkO1xyXG4gICAgICAgIHRoaXMudXBkYXRlLmRpc3BhdGNoRXZlbnQoU2V0dGluZ09wZXJhdGlvbi5DaGFuZ2VTcGVlZCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi9hcHBcIjtcclxuaW1wb3J0IFwiLi4vZW5jL3NyYy9leHRlbnNpb25zXCI7XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgbWFpbiwgZmFsc2UpO1xyXG5cclxuZnVuY3Rpb24gbWFpbigpIHtcclxuICAgIHZhciBhcHAgPSBuZXcgQXBwKCk7XHJcbiAgICBhcHAucnVuKCk7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9