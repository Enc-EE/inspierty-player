!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=2)}([function(t,e,i){t.exports=i.p+"ef12961f66786d579f3985c19fea303b.ogg"},function(t,e){Array.prototype.firstOrDefault=function(t){for(const e of this)if(t(e))return e;return null},Array.prototype.first=function(t){for(const e of this)if(t(e))return e;throw console.log("item not found"),console.log(this),"item not found"},Array.prototype.getNext=function(t,e){var i=e(t)+1,s=this.firstOrDefault(t=>e(t)==i);return s||(s=this.first(t=>1==e(t))),s},Array.prototype.removeItem=function(t){var e=this.indexOf(t);if(-1==e)throw"item not found";this.splice(e,1)},Array.prototype.contains=function(t){return-1!==this.indexOf(t)},Array.prototype.removeItemIfExists=function(t){var e=this.indexOf(t);-1!=e&&this.splice(e,1)},Array.prototype.addItemIfNotExists=function(t){-1==this.indexOf(t)&&this.push(t)},Array.prototype.remove=function(t){this.removeItem(this.first(t))},Array.prototype.toList=function(){return this.filter(t=>!0)}},function(t,e,i){"use strict";i.r(e);class s{constructor(t,e,i,s){this.x=t,this.y=e,this.width=i,this.height=s,this.collidesWith=(t=>{var e=!1,i=!1;return this.x<=t.x?this.x<=t.x&&this.x+this.width>t.x&&(e=!0):t.x<=this.x&&t.x+t.width>this.x&&(e=!0),e&&(this.y<=t.y?this.y<=t.y&&this.y+this.width>t.y&&(i=!0):t.y<=this.y&&t.y+t.width>this.y&&(i=!0)),e&&i}),this.isHitBy=((t,e)=>t>this.x&&t<this.x+this.width&&e>this.y&&e<this.y+this.height)}}class n{constructor(t){this.canvas=t,this.mouseDown=(t=>{this.view&&this.view.mouseDown(t)}),this.mouseUp=(t=>{this.view&&this.view.mouseUp(t)}),this.mouseMove=(t=>{this.view&&this.view.mouseMove(t)}),this.click=(t=>{this.view&&this.view.click(t)}),this.render=((t,e,i)=>{this.view&&(this.shouldUpdateLayout&&(this.view.updateLayout(t,new s(0,0,e,i)),this.shouldUpdateLayout=!1),t.clearRect(0,0,e,i),this.view.render(t))}),this.setView=(t=>{this.view=t,this.shouldUpdateLayout=!0}),t.addDrawFunction(this.render),document.addEventListener("mousedown",this.mouseDown),document.addEventListener("mouseup",this.mouseUp),document.addEventListener("mousemove",this.mouseMove),document.addEventListener("click",this.click)}}var a,r,o,h,d;!function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right"}(a||(a={})),function(t){t[t.Top=0]="Top",t[t.Center=1]="Center",t[t.Bottom=2]="Bottom"}(r||(r={}));class u{constructor(){this.top=0,this.right=0,this.bottom=0,this.left=0}}class l{constructor(){this.horizontalAlign=a.Center,this.verticalAlign=r.Center,this.margin=new u,this.padding=new u,this.calculateDimensionsX=((t,e)=>{switch(this.horizontalAlign){case a.Left:return t.x+this.margin.left;case a.Center:return t.x+t.width/2-e/2;case a.Right:return t.x+t.width-e-this.margin.right}}),this.calculateDimensionsY=((t,e)=>{switch(this.verticalAlign){case r.Top:return t.y+this.margin.top;case r.Center:return t.y+t.height/2-e/2;case r.Bottom:return t.y+t.height-e-this.margin.bottom}})}}class c{constructor(){this.generateNewId=(()=>(c.idCounter++,c.idCounter)),this.bounds=new s(0,0,0,0),this.dimensions=new s(0,0,0,0),this.alignement=new l,this.shouldUpdateLayout=!1,this.triggerUpdateLayout=(()=>{this.shouldUpdateLayout=!0}),this.id=this.generateNewId(),this.name="object "+this.id}render(t){this.shouldUpdateLayout&&(this.updateLayout(t,this.bounds),this.shouldUpdateLayout=!1)}updateLayout(t,e){this.bounds=e}}c.idCounter=0;class p extends c{constructor(){super(...arguments),this.children=[]}render(t){super.render(t);for(const e of this.children)e.render(t)}mouseDown(t){for(const e of this.children)e.mouseDown(t)}mouseUp(t){for(const e of this.children)e.mouseUp(t)}mouseMove(t){for(const e of this.children)e.mouseMove(t)}click(t){for(const e of this.children.toList())e.click(t)}}class m extends c{constructor(t){super(),this.star=t}mouseDown(t){}mouseUp(t){}render(t){t.fillStyle="white",t.beginPath(),t.arc(this.star.x,this.star.y,this.star.r,0,2*Math.PI),t.fill()}mouseMove(t){throw new Error("Method not implemented.")}click(t){throw new Error("Method not implemented.")}}!function(t){t[t.AddStarLayer=0]="AddStarLayer",t[t.RemoveStarLayer=1]="RemoveStarLayer",t[t.ChangeNumberOfStars=2]="ChangeNumberOfStars",t[t.ChangeSpeed=3]="ChangeSpeed"}(o||(o={}));class g extends p{constructor(t){super(),this.starLayer=t,this.settingsUpdated=(t=>{switch(t){case o.ChangeNumberOfStars:this.updateNumberOfStars()}}),this.updateNumberOfStars=(()=>{this.triggerUpdateLayout()}),X.settingManager.update.addEventListener(this.settingsUpdated),this.triggerUpdateLayout()}updateLayout(t,e){this.children=[];for(const t of this.starLayer.stars)this.children.push(new m(t))}mouseMove(t){}click(t){}}!function(t){t[t.hidden=0]="hidden",t[t.beforeVisible=1]="beforeVisible",t[t.visible=2]="visible"}(h||(h={}));class y{constructor(){this.state=h.hidden}}class v{constructor(){this.drawFunctions=[],this.resize=(()=>{console.log("canvas.resize()"),this.canvas.width=this.canvas.clientWidth,this.canvas.height=this.canvas.clientHeight}),this.draw=(()=>{for(const t of this.drawFunctions)t(this.ctx,this.width,this.height)}),this.addDrawFunction=(t=>{this.drawFunctions.push(t)}),this.removeDrawFunction=(t=>{this.drawFunctions.splice(this.drawFunctions.indexOf(t),1)})}get width(){return this.canvas.width}get height(){return this.canvas.height}static createFullScreen(){document.body.parentElement.style.height="100%",document.body.style.height="100%",document.body.style.margin="0",document.body.style.overflow="hidden";var t=document.createElement("canvas");document.body.appendChild(t),t.style.width="100%",t.style.height="100%";var e=new v;return e.canvas=t,e.ctx=t.getContext("2d"),window.addEventListener("resize",e.resize),e.resize(),e}}v.cursorLock=null,v.SetCursor=((t,e)=>{e?(document.body.style.cursor="pointer",v.cursorLock=t):t==v.cursorLock&&(document.body.style.cursor="default",v.cursorLock=null)});class f{constructor(){this.listeners=[],this.addEventListener=(t=>{if(!t||this.listeners.indexOf(t)>=0)throw"listener already added";this.listeners.push(t)}),this.addEventListenerIfNotExists=(t=>{!t||this.listeners.indexOf(t)>=0||this.listeners.push(t)}),this.dispatchEvent=(()=>{for(let t=0;t<this.listeners.length;t++){(0,this.listeners[t])()}}),this.removeEventListener=(t=>{if(!t||this.listeners.indexOf(t)<0)throw"listener not found";this.listeners.splice(this.listeners.indexOf(t),1)}),this.removeEventListenerIfExists=(t=>{!t||this.listeners.indexOf(t)<0||this.listeners.splice(this.listeners.indexOf(t),1)})}}class w{constructor(){this.listeners=[],this.addEventListener=(t=>{if(!t||this.listeners.indexOf(t)>=0)throw"listener already added";this.listeners.push(t)}),this.dispatchEvent=(t=>{for(let e=0;e<this.listeners.length;e++){(0,this.listeners[e])(t)}}),this.removeEventListener=(t=>{if(!t||this.listeners.indexOf(t)<0)throw"listener not found";this.listeners.splice(this.listeners.indexOf(t),1)})}}class L extends c{constructor(){super(...arguments),this.isMouseOver=!1,this.isEnabled=!0,this.clicked=new w,this.click=(t=>{this.isEnabled&&this.dimensions.isHitBy(t.clientX,t.clientY)&&this.clicked.dispatchEvent(this)})}mouseMove(t){this.isEnabled&&(this.dimensions.isHitBy(t.clientX,t.clientY)?(this.isMouseOver=!0,v.SetCursor(this.name,!0)):(this.isMouseOver=!1,v.SetCursor(this.name,!1)))}mouseDown(t){}mouseUp(t){}}class x{constructor(){this.fontSize=40,this.fontPrefix="",this.fontFamily="fontawesome",this.fillStyle="blue",this.mouseOverFillStyle="red",this.backgroundFillStyle=void 0,this.getFont=(()=>{var t="";return this.fontPrefix&&(t+=this.fontPrefix+" "),t+=this.fontSize+"px "+this.fontFamily})}}class S extends L{constructor(){super(...arguments),this.properties=new x,this.render=(t=>{this.properties.backgroundFillStyle&&(t.fillStyle=this.properties.backgroundFillStyle,t.fillRect(this.dimensions.x,this.dimensions.y,this.dimensions.width,this.dimensions.height)),this.isMouseOver?t.fillStyle=this.properties.mouseOverFillStyle:t.fillStyle=this.properties.fillStyle,t.font=this.properties.getFont(),t.textAlign="left",t.textBaseline="top",t.fillText(this.text,this.dimensions.x,this.dimensions.y)}),this.updateLayout=((t,e)=>{super.updateLayout(t,e),t.font=this.properties.getFont(),t.textAlign="left",t.textBaseline="top";var i=t.measureText(this.text),n=this.alignement.calculateDimensionsX(e,i.width),a=this.alignement.calculateDimensionsY(e,this.properties.fontSize);this.dimensions=new s(n,a,i.width,this.properties.fontSize)})}}!function(t){t[t.Horizontal=0]="Horizontal",t[t.Vertical=1]="Vertical"}(d||(d={}));class b{constructor(){this.itemSpacing=30,this.orientation=d.Vertical}}class C extends p{constructor(){super(...arguments),this.properties=new b,this.addItem=(t=>{t.alignement.horizontalAlign=a.Left,t.alignement.verticalAlign=r.Top,this.children.push(t),this.triggerUpdateLayout()}),this.removeItem=(t=>{this.children.removeItem(t),this.triggerUpdateLayout()})}updateLayout(t,e){super.updateLayout(t,e);var i=this.alignement.calculateDimensionsX(e,this.dimensions.width),n=this.alignement.calculateDimensionsY(e,this.dimensions.height),a=0,r=0;if(this.properties.orientation==d.Vertical)for(let e=0;e<this.children.length;e++){const o=this.children[e];e>0&&(n+=this.properties.itemSpacing,r+=this.properties.itemSpacing),o.updateLayout(t,new s(i,n,0,0)),n+=o.dimensions.height,r+=o.dimensions.height,a=Math.max(a,o.dimensions.width)}else for(let e=0;e<this.children.length;e++){const o=this.children[e];e>0&&(i+=this.properties.itemSpacing,a+=this.properties.itemSpacing),o.updateLayout(t,new s(i,n,0,0)),i+=o.dimensions.width,a+=o.dimensions.width,r=Math.max(r,o.dimensions.height)}this.dimensions.x==i&&this.dimensions.y==n&&this.dimensions.width==a&&this.dimensions.height==r||(this.dimensions.x=i,this.dimensions.y=n,this.dimensions.height=r,this.dimensions.width=a,this.updateLayout(t,e))}}class I extends L{constructor(){super(),this.radius=10,this.minValue=0,this.maxValue=100,this.currentValue=50,this.valueChanged=new w,this.updateLayout=((t,e)=>{super.updateLayout(t,e),this.dimensions=new s(e.x,e.y,200,2*this.radius)}),this.mouseDown=(t=>{this.dimensions.isHitBy(t.clientX,t.clientY)&&(this.isDragging=!0,this.updateCurrentValue(t))}),this.mouseUp=(t=>{this.isDragging=!1})}render(t){var e=this.dimensions.x,i=this.dimensions.y;t.strokeStyle="white",t.lineWidth=2,t.beginPath(),t.moveTo(e+this.radius,i+this.dimensions.height/2),t.lineTo(e+this.dimensions.width-this.radius,i+this.dimensions.height/2),t.stroke();var s=(this.currentValue-this.minValue)/(this.maxValue-this.minValue);t.fillStyle="blue",t.beginPath(),t.arc(e+this.radius+(this.dimensions.width-2*this.radius)*s,i+this.dimensions.height/2,this.radius,0,2*Math.PI),t.closePath(),t.fill()}mouseMove(t){super.mouseMove(t),this.isDragging&&this.updateCurrentValue(t)}updateCurrentValue(t){var e=t.clientX-this.dimensions.x-this.radius;(e=e/(this.dimensions.width-2*this.radius)*(this.maxValue-this.minValue)+this.minValue)>this.maxValue&&(e=this.maxValue),e<this.minValue&&(e=this.minValue),this.currentValue=e,this.valueChanged.dispatchEvent(this.currentValue)}}class E extends p{constructor(t){super(),this.starLayer=t,this.numberOfStarsChanged=(t=>{X.settingManager.changeNumberOfStars(this.starLayer,Math.round(t))}),this.speedChanged=(t=>{X.settingManager.changeSpeed(this.starLayer,t)}),this.settingsList=new C,this.settingsList.alignement.horizontalAlign=a.Left,this.settingsList.alignement.verticalAlign=r.Top;var e=new S;e.text="Remove Layer",e.properties.fillStyle="white",this.settingsList.addItem(e),this.children.push(e),e.clicked.addEventListener(t=>{X.settingManager.removeStarLayer(this.starLayer)});var i=new I;i.minValue=10,i.maxValue=1e3,i.currentValue=t.stars.length,this.children.push(i),this.settingsList.addItem(i),i.valueChanged.addEventListener(this.numberOfStarsChanged);var s=new I;s.minValue=0,s.maxValue=30,s.currentValue=t.speed,this.children.push(s),this.settingsList.addItem(s),s.valueChanged.addEventListener(this.speedChanged)}updateLayout(t,e){this.settingsList.updateLayout(t,new s(e.x,e.y,0,0))}}class M extends p{constructor(){super(),this.viewModel=new y,this.lastMoved=Date.now(),this.inactivityTimeout=2e3,this.layerButtons=[],this.settingsUpdated=(t=>{switch(t){case o.AddStarLayer:for(const t of X.settings.starLayers)if(!this.layerButtons.map(t=>t.tag).contains(t)){this.settingsList.removeItem(this.addLayerBtn);var e=new S;e.text="Edit Layer",e.tag=t,e.properties.fillStyle="white",this.settingsList.addItem(e),this.layerButtons.push(e),e.clicked.addEventListener(e=>{this.toggleShowHideStarLayerView(t)}),this.settingsList.addItem(this.addLayerBtn);break}break;case o.RemoveStarLayer:for(const t of this.layerButtons)if(!X.settings.starLayers.contains(t.tag)){this.settingsList.removeItem(t),this.layerButtons.removeItem(t);break}this.children.removeItem(this.detailedStarLayerView),this.detailedStarLayerView=void 0}}),this.toggleShowHideStarLayerView=(t=>{if(this.detailedStarLayerView)if(this.detailedStarLayerView.starLayer!=t){this.children.removeItem(this.detailedStarLayerView),this.detailedStarLayerView=void 0;e=new E(t);this.detailedStarLayerView=e,this.children.push(this.detailedStarLayerView),this.triggerUpdateLayout()}else this.children.removeItem(this.detailedStarLayerView),this.detailedStarLayerView=void 0;else{var e=new E(t);this.detailedStarLayerView=e,this.children.push(this.detailedStarLayerView),this.triggerUpdateLayout()}}),this.showHideOverlayClicked=(t=>{this.viewModel.state==h.visible?this.setState(h.beforeVisible):this.setState(h.visible)}),this.mouseMove=(t=>{this.viewModel.state!=h.hidden&&this.viewModel.state!=h.beforeVisible||this.setState(h.beforeVisible),super.mouseMove(t)}),this.mouseInactivityHandler=(()=>{Date.now()-this.lastMoved>=this.inactivityTimeout?this.viewModel.state==h.beforeVisible&&this.setState(h.hidden):setTimeout(this.mouseInactivityHandler,this.inactivityTimeout-(Date.now()-this.lastMoved))}),this.setState=(t=>{switch(t){case h.hidden:this.children.removeItem(this.showOverLayerButton),this.viewModel.state=h.hidden;break;case h.beforeVisible:this.lastMoved=Date.now(),this.viewModel.state==h.hidden&&(setTimeout(this.mouseInactivityHandler,this.inactivityTimeout),this.children.addItemIfNotExists(this.showOverLayerButton)),this.viewModel.state==h.visible&&(setTimeout(this.mouseInactivityHandler,this.inactivityTimeout),this.children.removeItemIfExists(this.settingsList),this.children.removeItemIfExists(this.detailedStarLayerView),this.detailedStarLayerView=void 0),this.viewModel.state=h.beforeVisible;break;case h.visible:this.viewModel.state==h.beforeVisible&&this.children.push(this.settingsList),this.viewModel.state=h.visible}}),this.showOverLayerButton=new S,this.showOverLayerButton.text="Show/Hide Settings",this.showOverLayerButton.properties.fillStyle="green",this.showOverLayerButton.alignement.verticalAlign=r.Top,this.showOverLayerButton.alignement.horizontalAlign=a.Left,this.showOverLayerButton.clicked.addEventListener(this.showHideOverlayClicked),this.showOverLayerButton.properties.backgroundFillStyle="rgba(0, 0, 0, 0.5)",this.children.push(this.showOverLayerButton),this.settingsList=new C,this.settingsList.alignement.horizontalAlign=a.Left,this.settingsList.alignement.verticalAlign=r.Top;var t=new S;t.text="Add Layer",t.properties.fillStyle="white",this.settingsList.addItem(t),t.clicked.addEventListener(t=>{X.settingManager.addStarLayer()}),this.addLayerBtn=t,X.settingManager.update.addEventListener(this.settingsUpdated)}updateLayout(t,e){super.updateLayout(t,e),this.showOverLayerButton.updateLayout(t,e);var i=2*this.showOverLayerButton.dimensions.height;this.settingsList.updateLayout(t,new s(e.x,e.y+i,e.width,e.height-i)),this.detailedStarLayerView&&this.detailedStarLayerView.updateLayout(t,new s(e.x+this.settingsList.dimensions.width,e.y+i,e.width,e.height-i))}}class A{constructor(t){this.starLayer=t,this.update=(t=>{for(const e of this.starLayer.stars)e.x+=this.starLayer.speed*t,e.x>X.settings.width&&(e.x-=X.settings.width)})}}class O{}O.instances={},O.addInstance=((t,e)=>{O.instances[t]=e}),O.getInstance=(t=>O.instances[t]);class F extends p{constructor(){super(),this.playIconText="",this.pauseIconText="",this.stopIconText="",this.nextIconText="",this.previousIconText="";var t=O.getInstance("audio"),e=new C;e.alignement.verticalAlign=r.Bottom,e.alignement.margin.bottom=10,e.properties.orientation=d.Horizontal,this.children.push(e);var i=new S;i.properties.fontPrefix="900",i.properties.fontFamily="'Font Awesome 5 Free'",i.text=this.playIconText,i.clicked.addEventListener(()=>{i.text==this.playIconText?(t.play(),i.text=this.pauseIconText):(t.pause(),i.text=this.playIconText)}),e.addItem(i);var s=new S;s.properties.fontPrefix="900",s.properties.fontFamily="'Font Awesome 5 Free'",s.text=this.stopIconText,s.clicked.addEventListener(()=>{t.stop(),i.text==this.pauseIconText&&(i.text=this.playIconText)}),e.addItem(s);var n=new S;n.properties.fontPrefix="900",n.properties.fontFamily="'Font Awesome 5 Free'",n.text=this.previousIconText,n.clicked.addEventListener(()=>{t.previous()}),e.addItem(n);var a=new S;a.properties.fontPrefix="900",a.properties.fontFamily="'Font Awesome 5 Free'",a.text=this.nextIconText,a.clicked.addEventListener(()=>{t.next()}),e.addItem(a)}updateLayout(t,e){super.updateLayout(t,e);for(const e of this.children)e.updateLayout(t,this.bounds)}}class V extends p{constructor(){super(),this.starLayers=[],this.starAnimators=[],this.appSettingsUpdated=(t=>{switch(t){case o.AddStarLayer:this.addStarLayer();break;case o.RemoveStarLayer:this.removeStarLayer()}}),this.addStarLayer=(()=>{for(const i of X.settings.starLayers)if(null==this.starLayers.firstOrDefault(t=>t.starLayer==i)){var t=new g(i);this.starLayers.push(t),this.children.splice(0,0,t),this.triggerUpdateLayout();var e=new A(i);this.animation.addUpdateFunction(e.update),this.starAnimators.push(e);break}}),this.removeStarLayer=(()=>{for(const e of this.starLayers)if(null==X.settings.starLayers.firstOrDefault(t=>t==e.starLayer)){var t=this.starAnimators.first(t=>t.starLayer==e.starLayer);this.animation.removeUpdateFunction(t.update),this.starAnimators.removeItem(t),this.children.remove(t=>t==e),this.starLayers.remove(t=>t==e),this.triggerUpdateLayout()}}),this.animation=O.getInstance("animation"),this.settingsOverlay=new M,this.playerView=new F,this.children.push(this.playerView),this.children.push(this.settingsOverlay),X.settingManager.update.addEventListener(this.appSettingsUpdated)}updateLayout(t,e){this.bounds=e;for(const i of this.starLayers)i.updateLayout(t,e);this.settingsOverlay.updateLayout(t,e),this.playerView.updateLayout(t,e)}}class k{constructor(){this.stars=[],this.speed=20*Math.random()+5}}class N{constructor(){this.updateFunctions=[],this.isRunning=!1,this.addUpdateFunction=(t=>{this.updateFunctions.push(t)}),this.removeUpdateFunction=(t=>{this.updateFunctions.splice(this.updateFunctions.indexOf(t),1)}),this.setFps=(t=>{this.fps=t,this.fpsInterval=1e3/this.fps}),this.animationLoop=(()=>{this.isRunning&&requestAnimationFrame(this.animationLoop);var t=Date.now(),e=t-this.lastFrameTime;if(e>this.fpsInterval){this.lastFrameTime=t;var i=e/1e3;for(const t of this.updateFunctions)t(i)}}),this.setFps(30),this.play(),document.addEventListener("keyup",t=>{80==t.keyCode&&this.playPause()})}play(){this.isRunning||(console.log("play"),this.isRunning=!0,this.lastFrameTime=Date.now(),this.animationLoop())}pause(){this.isRunning&&(console.log("pause"),this.isRunning=!1)}playPause(){this.isRunning?this.pause():this.play()}}class T{constructor(){this.loadFontawesomeFree=(()=>this.loadFont("","","900 20px 'Font Awesome 5 Free'")),this.loadFontawesomeBrands=(()=>this.loadFont("","","400 20px 'Font Awesome 5 Brands'")),this.countPixels=(t=>{var e=0;for(let r=0;r<t.data.length;r+=4){var i=t.data[r],s=t.data[r+1],n=t.data[r+2],a=t.data[r+3];i<50&&s<50&&n<50&&a>.9&&e++}return e}),this.getIconPixels=((t,e,i)=>{t.clearRect(0,0,e.width,e.height),t.fillText(i,0,0);var s=t.getImageData(0,0,e.width,e.height),n=this.countPixels(s);return console.log("icon 1 pixel count: "+n),n}),this.loadFont=((t,e,i)=>{var s=10;return new Promise((n,a)=>{console.log('loading font "'+i+'"');var r=document.createElement("canvas");r.width=20,r.height=20;var o=r.getContext("2d");o.font=i,o.fillStyle="black",o.textAlign="left",o.textBaseline="top";var h=()=>{var i=this.getIconPixels(o,r,t),a=this.getIconPixels(o,r,e);Math.abs(a-i)>5?(console.log("font loaded"),n()):0==--s?console.log("stop loading font after "+s+" retries with 500ms delay"):(console.log("waiting a while (500ms)"),setTimeout(()=>{h()},500))};h()})})}}class U{constructor(t,e){this.name=t,this.audioCtx=e}}class B extends U{constructor(){super(...arguments),this.getAudioNode=(()=>this.analyserNode)}reload(){return new Promise((t,e)=>{this.analyserNode||(this.analyserNode=this.audioCtx.createAnalyser()),this.analyserNode.fftSize=32,this.analyserNode.smoothingTimeConstant=.9,this.bufferLength=this.analyserNode.frequencyBinCount,this.dataArray=new Uint8Array(this.bufferLength),t()})}getSpectrum(){return this.analyserNode?(this.analyserNode.getByteFrequencyData(this.dataArray),this.dataArray):new Uint8Array(0)}getWave(){return this.analyserNode?(this.analyserNode.getByteTimeDomainData(this.dataArray),this.dataArray):new Uint8Array(0)}}class D extends U{constructor(){super(...arguments),this.getAudioNode=(()=>this.audioCtx.destination)}reload(){}}class P extends U{constructor(t,e,i){super(t,e),this.audioEnded=new f,this.audioEndedEvent=(()=>{this.audioEnded.dispatchEvent()}),this.getAudioNode=(()=>this.source),this.play=(()=>{this.audio.play()}),this.pause=(()=>{this.audio.pause()}),this.stop=(()=>{this.audio.pause(),this.audio.currentTime=0}),this.setUrl=(t=>{var e=!this.audio.paused;this.url=t,this.audio.src=t,this.audio.load(),e&&this.audio.play()}),this.url=i,this.audio=document.createElement("audio"),this.audio.controls=!0,this.audio.src=this.url,this.audio.addEventListener("ended",this.audioEndedEvent)}reload(){return new Promise((t,e)=>{this.source||(this.source=this.audioCtx.createMediaElementSource(this.audio)),t()})}}class z{constructor(){this.audioNodes=[],this.addMediaElementSource=((t,e)=>{var i=new P(t,this.audioCtx,e);return this.audioNodes.push(i),i}),this.addAnalyzer=(t=>{var e=new B(t,this.audioCtx);return this.audioNodes.push(e),e}),this.getAudioGraphNode=(t=>this.audioNodes.first(e=>e.name==t)),this.audioContextStateChanged=new w,this.documentClick=(()=>{"suspended"===this.audioCtx.state&&(this.audioCtx.resume(),document.removeEventListener("click",this.documentClick))}),this.audioContextStateChangedEvaluator=(()=>{"running"===this.audioCtx.state&&(console.log("audio context state changed"),this.audioCtx.removeEventListener("statechange",this.audioContextStateChangedEvaluator),this.reload().then(()=>{this.audioContextStateChanged.dispatchEvent(this.audioCtx.state)}))}),this.reload=(()=>new Promise((t,e)=>{console.log("realoading audio graph"),Promise.all(this.audioNodes.map(t=>t.reload())).then(()=>{console.log("reloaded audio graph");for(let t=0;t<this.audioNodes.length;t++){const e=this.audioNodes[t];e.getAudioNode().disconnect(),t<this.audioNodes.length-1?e.getAudioNode().connect(this.audioNodes[t+1].getAudioNode()):e.getAudioNode().connect(this.destinationNode.getAudioNode())}t()})})),this.audioCtx=new AudioContext,this.audioCtx.addEventListener("statechange",this.audioContextStateChangedEvaluator),"suspended"===this.audioCtx.state&&(document.addEventListener("click",this.documentClick),console.log("Audio context is suspended. Click the dom to make it running.")),this.destinationNode=new D("destination",this.audioCtx)}}var R=i(0),H=i.n(R);class j{constructor(){this.songs=[H.a,H.a,H.a,H.a,H.a,H.a,H.a],this.reload=(()=>this.audioGraph.reload()),this.play=(()=>{this.source.play()}),this.pause=(()=>{this.source.pause()}),this.next=(()=>{var t=this.songs.indexOf(this.source.url)+1;t==this.songs.length&&(t=0),this.source.setUrl(this.songs[t])}),this.previous=(()=>{var t=this.songs.indexOf(this.source.url)-1;-1==t&&(t=this.songs.length-1),this.source.setUrl(this.songs[t])}),this.stop=(()=>{this.source.stop()}),this.audioGraph=new z,console.log(this.songs),this.source=this.audioGraph.addMediaElementSource("source",this.songs[0]),this.analyser=this.audioGraph.addAnalyzer("analyser")}}class X{constructor(){this.run=(()=>{document.body.style.backgroundColor="black";var t=new j;console.log("loading"),Promise.all([(new T).loadFontawesomeFree(),t.reload()]).then(()=>{console.log("loaded");var e=v.createFullScreen(),i=new n(e),s=new N;s.addUpdateFunction(e.draw),O.addInstance("audio",t),O.addInstance("canvas",e),O.addInstance("stage",i),O.addInstance("animation",s);var a=new V;i.setView(a),X.settingManager.addStarLayer(),X.settingManager.addStarLayer()})})}}X.settings=new class{constructor(t,e){this.width=t,this.height=e,this.starLayers=[]}}(window.innerWidth,window.innerHeight),X.settingManager=new class{constructor(){this.update=new w,this.addStarLayer=(()=>{var t=new k;for(let e=0;e<100;e++)t.stars.push({x:Math.random()*X.settings.width,y:Math.random()*X.settings.height,r:2*Math.random()+.05});X.settings.starLayers.push(t),this.update.dispatchEvent(o.AddStarLayer)}),this.removeStarLayer=(t=>{X.settings.starLayers.removeItem(t),this.update.dispatchEvent(o.RemoveStarLayer)}),this.changeNumberOfStars=((t,e)=>{if(e>0){var i=e-t.stars.length;if(i>0)for(let e=0;e<i;e++)t.stars.push({x:Math.random()*X.settings.width,y:Math.random()*X.settings.height,r:2*Math.random()+.05});else if(i<0)for(let e=0;e<-i;e++)t.stars.splice(Math.floor(Math.random()*t.stars.length),1);this.update.dispatchEvent(o.ChangeNumberOfStars)}}),this.changeSpeed=((t,e)=>{t.speed=e,this.update.dispatchEvent(o.ChangeSpeed)})}};i(1);document.addEventListener("DOMContentLoaded",function(){(new X).run()},!1)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9UcmFpbGVyX0NvbnN0ZWxsYXRpb24ub2dnIiwid2VicGFjazovLy8uL2VuYy9zcmMvZXh0ZW5zaW9ucy50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL2dlb21ldHJ5L3JlY3RhbmdsZS50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL3N0YWdlLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvYWxpZ25lbWVudC9ob3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvdmVydGljYWxBbGlnbmVtZW50T3B0aW9uLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXR0aW5ncy9zZXR0aW5nT3BlcmF0aW9uLnRzIiwid2VicGFjazovLy8uL3NyYy9vdmVybGF5L3NldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvYWxpZ25lbWVudC9vcmllbnRhdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvc3BhY2luZy50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvYWxpZ25lbWVudC50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL3JlbmRlck9iamVjdC50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xheW91dFZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0YXJSZW5kZXJPYmplY3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0YXJMYXllckRyYXdlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvb3ZlcmxheS9zZXR0aW5nc092ZXJsYXlWaWV3TW9kZWwudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9lQ2FudmFzLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvZUV2ZW50LnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvY29udHJvbHMvY29udHJvbC50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2J1dHRvblByb3BlcnRpZXMudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9jb250cm9scy9idXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9sYXlvdXRDb250cm9scy9saXN0Vmlld1Byb3BlcnRpZXMudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9sYXlvdXRDb250cm9scy9saXN0Vmlldy50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2NvbnRyb2xzL3NsaWRlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvb3ZlcmxheS9zdGFyTGF5ZXJWaWV3LnRzIiwid2VicGFjazovLy8uL3NyYy9vdmVybGF5L3NldHRpbmdzT3ZlcmxheVZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3N0YXJMYXllckFuaW1hdG9yLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvZGluamVjdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGxheWVyL3BsYXllclZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luc3BpZXJ0eVBsYXllclZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9zdGFyTGF5ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy9lQW5pbWF0aW9uLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvY2FudmFzSGVscGVyLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvYXVkaW8vYXVkaW9HcmFwaE5vZGUudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy9hdWRpby9hdWRpb0dyYXBoTm9kZUFuYWx5c2VyLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvYXVkaW8vYXVkaW9HcmFwaE5vZGVEZXN0aW5hdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL2F1ZGlvL2F1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZS50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL2F1ZGlvL2F1ZGlvR3JhcGgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2F1ZGlvTWFuYWdlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwLnRzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvc2V0dGluZ3MudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NldHRpbmdzL3NldHRpbmdzTWFuYWdlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJBcnJheSIsImZpcnN0T3JEZWZhdWx0IiwiZnVuYyIsImFycmF5SXRlbSIsInRoaXMiLCJmaXJzdCIsImNvbnNvbGUiLCJsb2ciLCJnZXROZXh0IiwiY3VycmVudCIsInNlbGVjdG9yIiwibmV4dFBvc2l0aW9uIiwibmV4dCIsIngiLCJyZW1vdmVJdGVtIiwiaXRlbSIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsImNvbnRhaW5zIiwicmVtb3ZlSXRlbUlmRXhpc3RzIiwiYWRkSXRlbUlmTm90RXhpc3RzIiwicHVzaCIsInJlbW92ZSIsInRvTGlzdCIsImZpbHRlciIsIlJlY3RhbmdsZSIsIltvYmplY3QgT2JqZWN0XSIsInkiLCJ3aWR0aCIsImhlaWdodCIsImNvbGxpZGVzV2l0aCIsInJlY3RhbmdsZSIsImhpdHgiLCJoaXR5IiwiaXNIaXRCeSIsInN0YWdlX1N0YWdlIiwiY2FudmFzIiwibW91c2VEb3duIiwiZXYiLCJ2aWV3IiwibW91c2VVcCIsIm1vdXNlTW92ZSIsImNsaWNrIiwicmVuZGVyIiwiY3R4Iiwic2hvdWxkVXBkYXRlTGF5b3V0IiwidXBkYXRlTGF5b3V0IiwiY2xlYXJSZWN0Iiwic2V0VmlldyIsImFkZERyYXdGdW5jdGlvbiIsImRvY3VtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsIkhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uIiwiVmVydGljYWxBbGlnbmVtZW50T3B0aW9uIiwiU2V0dGluZ09wZXJhdGlvbiIsIlNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlIiwiT3JpZW50YXRpb24iLCJTcGFjaW5nIiwidG9wIiwicmlnaHQiLCJib3R0b20iLCJsZWZ0IiwiYWxpZ25lbWVudF9BbGlnbmVtZW50IiwiaG9yaXpvbnRhbEFsaWduIiwiQ2VudGVyIiwidmVydGljYWxBbGlnbiIsIm1hcmdpbiIsInBhZGRpbmciLCJjYWxjdWxhdGVEaW1lbnNpb25zWCIsImJvdW5kcyIsIkxlZnQiLCJSaWdodCIsImNhbGN1bGF0ZURpbWVuc2lvbnNZIiwiVG9wIiwiQm90dG9tIiwicmVuZGVyT2JqZWN0X1JlbmRlck9iamVjdCIsImdlbmVyYXRlTmV3SWQiLCJpZENvdW50ZXIiLCJkaW1lbnNpb25zIiwiYWxpZ25lbWVudCIsInRyaWdnZXJVcGRhdGVMYXlvdXQiLCJpZCIsImxheW91dFZpZXdfTGF5b3V0VmlldyIsImNoaWxkcmVuIiwic3VwZXIiLCJjaGlsZCIsInN0YXJSZW5kZXJPYmplY3RfU3RhclJlbmRlck9iamVjdCIsInN0YXIiLCJmaWxsU3R5bGUiLCJiZWdpblBhdGgiLCJhcmMiLCJNYXRoIiwiUEkiLCJmaWxsIiwiRXJyb3IiLCJzdGFyTGF5ZXJEcmF3ZXJfU3RhckxheWVyRHJhd2VyIiwic3RhckxheWVyIiwic2V0dGluZ3NVcGRhdGVkIiwib3BlcmF0aW9uIiwiQ2hhbmdlTnVtYmVyT2ZTdGFycyIsInVwZGF0ZU51bWJlck9mU3RhcnMiLCJhcHBfQXBwIiwic2V0dGluZ01hbmFnZXIiLCJ1cGRhdGUiLCJzdGFycyIsInNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbF9TZXR0aW5nc092ZXJsYXlWaWV3TW9kZWwiLCJzdGF0ZSIsImhpZGRlbiIsIkVDYW52YXMiLCJkcmF3RnVuY3Rpb25zIiwicmVzaXplIiwiY2xpZW50V2lkdGgiLCJjbGllbnRIZWlnaHQiLCJkcmF3IiwiZHJhd0Z1bmN0aW9uIiwicmVtb3ZlRHJhd0Z1bmN0aW9uIiwiYm9keSIsInBhcmVudEVsZW1lbnQiLCJzdHlsZSIsIm92ZXJmbG93IiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZENoaWxkIiwiZW5DYW52YXMiLCJnZXRDb250ZXh0Iiwid2luZG93IiwiY3Vyc29yTG9jayIsIlNldEN1cnNvciIsInBvaW50ZXIiLCJjdXJzb3IiLCJFRXZlbnQiLCJsaXN0ZW5lcnMiLCJsaXN0ZW5lciIsImFkZEV2ZW50TGlzdGVuZXJJZk5vdEV4aXN0cyIsImRpc3BhdGNoRXZlbnQiLCJsZW5ndGgiLCJldmVudCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVySWZFeGlzdHMiLCJFRXZlbnRUIiwiYXJnIiwiY29udHJvbF9Db250cm9sIiwiaXNNb3VzZU92ZXIiLCJpc0VuYWJsZWQiLCJjbGlja2VkIiwiY2xpZW50WCIsImNsaWVudFkiLCJCdXR0b25Qcm9wZXJ0aWVzIiwiZm9udFNpemUiLCJmb250UHJlZml4IiwiZm9udEZhbWlseSIsIm1vdXNlT3ZlckZpbGxTdHlsZSIsImJhY2tncm91bmRGaWxsU3R5bGUiLCJ1bmRlZmluZWQiLCJnZXRGb250IiwiZm9udCIsImJ1dHRvbl9CdXR0b24iLCJwcm9wZXJ0aWVzIiwiZmlsbFJlY3QiLCJ0ZXh0QWxpZ24iLCJ0ZXh0QmFzZWxpbmUiLCJmaWxsVGV4dCIsInRleHQiLCJzaXplIiwibWVhc3VyZVRleHQiLCJsaXN0Vmlld1Byb3BlcnRpZXNfTGlzdFZpZXdQcm9wZXJ0aWVzIiwiaXRlbVNwYWNpbmciLCJvcmllbnRhdGlvbiIsIlZlcnRpY2FsIiwibGlzdFZpZXdfTGlzdFZpZXciLCJhZGRJdGVtIiwibGF5b3V0VmlldyIsIm1heCIsInNsaWRlcl9TbGlkZXIiLCJyYWRpdXMiLCJtaW5WYWx1ZSIsIm1heFZhbHVlIiwiY3VycmVudFZhbHVlIiwidmFsdWVDaGFuZ2VkIiwiaXNEcmFnZ2luZyIsInVwZGF0ZUN1cnJlbnRWYWx1ZSIsInN0cm9rZVN0eWxlIiwibGluZVdpZHRoIiwibW92ZVRvIiwibGluZVRvIiwic3Ryb2tlIiwicmVsVmFsdWUiLCJjbG9zZVBhdGgiLCJ2YWwiLCJzdGFyTGF5ZXJWaWV3X1N0YXJMYXllclZpZXciLCJudW1iZXJPZlN0YXJzQ2hhbmdlZCIsIm51bWJlck9mU3RhcnMiLCJjaGFuZ2VOdW1iZXJPZlN0YXJzIiwicm91bmQiLCJzcGVlZENoYW5nZWQiLCJzcGVlZCIsImNoYW5nZVNwZWVkIiwic2V0dGluZ3NMaXN0IiwiYnRuRm9yTGF5ZXIiLCJzZW5kZXIiLCJyZW1vdmVTdGFyTGF5ZXIiLCJzbGlkZXIiLCJzbGlkZXJTcGVlZCIsInNldHRpbmdzT3ZlcmxheVZpZXdfU2V0dGluZ3NPdmVybGF5VmlldyIsInZpZXdNb2RlbCIsImxhc3RNb3ZlZCIsIkRhdGUiLCJub3ciLCJpbmFjdGl2aXR5VGltZW91dCIsImxheWVyQnV0dG9ucyIsIkFkZFN0YXJMYXllciIsInNldHRpbmdzIiwic3RhckxheWVycyIsIm1hcCIsInRhZyIsImFkZExheWVyQnRuIiwidG9nZ2xlU2hvd0hpZGVTdGFyTGF5ZXJWaWV3IiwiUmVtb3ZlU3RhckxheWVyIiwic2V0dGluZ3NMYXllciIsImRldGFpbGVkU3RhckxheWVyVmlldyIsInNob3dIaWRlT3ZlcmxheUNsaWNrZWQiLCJ2aXNpYmxlIiwic2V0U3RhdGUiLCJiZWZvcmVWaXNpYmxlIiwibW91c2VJbmFjdGl2aXR5SGFuZGxlciIsInNldFRpbWVvdXQiLCJzaG93T3ZlckxheWVyQnV0dG9uIiwiYnRuRm9yTmV3TGF5ZXIiLCJhZGRTdGFyTGF5ZXIiLCJzcGFjZSIsInN0YXJMYXllckFuaW1hdG9yX1N0YXJMYXllckFuaW1hdG9yIiwidGltZURpZmYiLCJEaW5qZWN0IiwiaW5zdGFuY2VzIiwiYWRkSW5zdGFuY2UiLCJpbnN0YW5jZSIsImdldEluc3RhbmNlIiwicGxheWVyVmlld19QbGF5ZXJWaWV3IiwicGxheUljb25UZXh0IiwicGF1c2VJY29uVGV4dCIsInN0b3BJY29uVGV4dCIsIm5leHRJY29uVGV4dCIsInByZXZpb3VzSWNvblRleHQiLCJhdWRpb01hbmFnZXIiLCJsaXN0VmlldyIsIkhvcml6b250YWwiLCJwbGF5UGF1c2VCdG4iLCJwbGF5IiwicGF1c2UiLCJzdG9wQnRuIiwic3RvcCIsInByZXZpb3VzQnRuIiwicHJldmlvdXMiLCJuZXh0QnRuIiwiaW5zcGllcnR5UGxheWVyVmlld19JbnNwaWVydHlQbGF5ZXJWaWV3Iiwic3RhckFuaW1hdG9ycyIsImFwcFNldHRpbmdzVXBkYXRlZCIsImxheWVyIiwiYW5pbWF0b3IiLCJhbmltYXRpb24iLCJhZGRVcGRhdGVGdW5jdGlvbiIsInN0YXJMYXllckRyYXdzIiwicmVtb3ZlVXBkYXRlRnVuY3Rpb24iLCJzZXR0aW5nc092ZXJsYXkiLCJwbGF5ZXJWaWV3IiwiU3RhckxheWVyIiwicmFuZG9tIiwiRUFuaW1hdGlvbiIsInVwZGF0ZUZ1bmN0aW9ucyIsImlzUnVubmluZyIsInNldEZwcyIsImZwcyIsImZwc0ludGVydmFsIiwiYW5pbWF0aW9uTG9vcCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImVsYXBzZWQiLCJsYXN0RnJhbWVUaW1lIiwidXBkYXRlRnVuY3Rpb24iLCJrZXlDb2RlIiwicGxheVBhdXNlIiwiQ2FudmFzSGVscGVyIiwibG9hZEZvbnRhd2Vzb21lRnJlZSIsImxvYWRGb250IiwibG9hZEZvbnRhd2Vzb21lQnJhbmRzIiwiY291bnRQaXhlbHMiLCJpbWFnZURhdGEiLCJwaXhlbENvdW50IiwiZGF0YSIsImciLCJiIiwiYSIsImdldEljb25QaXhlbHMiLCJpY29uIiwiZ2V0SW1hZ2VEYXRhIiwiaWNvbjFQaXhlbENvdW50IiwiaWNvbjEiLCJpY29uMiIsInJldHJpZXMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInRlbXBDYW52YXMiLCJ0ZW1wQ3R4IiwiY2hlY2tMb2FkZWQiLCJpY29uMlBpeGVsQ291bnQiLCJhYnMiLCJBdWRpb0dyYXBoTm9kZSIsImF1ZGlvQ3R4IiwiYXVkaW9HcmFwaE5vZGVBbmFseXNlcl9BdWRpb0dyYXBoTm9kZUFuYWx5c2VyIiwiZ2V0QXVkaW9Ob2RlIiwiYW5hbHlzZXJOb2RlIiwiY3JlYXRlQW5hbHlzZXIiLCJmZnRTaXplIiwic21vb3RoaW5nVGltZUNvbnN0YW50IiwiYnVmZmVyTGVuZ3RoIiwiZnJlcXVlbmN5QmluQ291bnQiLCJkYXRhQXJyYXkiLCJVaW50OEFycmF5IiwiZ2V0Qnl0ZUZyZXF1ZW5jeURhdGEiLCJnZXRCeXRlVGltZURvbWFpbkRhdGEiLCJhdWRpb0dyYXBoTm9kZURlc3RpbmF0aW9uX0F1ZGlvR3JhcGhOb2RlRGVzdGluYXRpb24iLCJkZXN0aW5hdGlvbiIsImF1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZV9BdWRpb0dyYXBoTm9kZUVsZW1lbnRTb3VyY2UiLCJ1cmwiLCJhdWRpb0VuZGVkIiwiYXVkaW9FbmRlZEV2ZW50Iiwic291cmNlIiwiYXVkaW8iLCJjdXJyZW50VGltZSIsInNldFVybCIsInBhdXNlZCIsInNyYyIsImxvYWQiLCJjb250cm9scyIsImNyZWF0ZU1lZGlhRWxlbWVudFNvdXJjZSIsImF1ZGlvR3JhcGhfQXVkaW9HcmFwaCIsImF1ZGlvTm9kZXMiLCJhZGRNZWRpYUVsZW1lbnRTb3VyY2UiLCJzb3VyY2VOb2RlIiwiYWRkQW5hbHl6ZXIiLCJhbmFseXplck5vZGUiLCJnZXRBdWRpb0dyYXBoTm9kZSIsImF1ZGlvQ29udGV4dFN0YXRlQ2hhbmdlZCIsImRvY3VtZW50Q2xpY2siLCJyZXN1bWUiLCJhdWRpb0NvbnRleHRTdGF0ZUNoYW5nZWRFdmFsdWF0b3IiLCJyZWxvYWQiLCJ0aGVuIiwiYWxsIiwiYXVkaW9Ob2RlIiwiZGlzY29ubmVjdCIsImNvbm5lY3QiLCJkZXN0aW5hdGlvbk5vZGUiLCJBdWRpb0NvbnRleHQiLCJhdWRpb01hbmFnZXJfQXVkaW9NYW5hZ2VyIiwic29uZ3MiLCJUcmFpbGVyX0NvbnN0ZWxsYXRpb25fZGVmYXVsdCIsImF1ZGlvR3JhcGgiLCJuZXh0U29uZ0luZGV4IiwicHJldmlvdXNTb25nSW5kZXgiLCJhbmFseXNlciIsInJ1biIsImJhY2tncm91bmRDb2xvciIsImNyZWF0ZUZ1bGxTY3JlZW4iLCJzdGFnZSIsImlubmVyV2lkdGgiLCJpbm5lckhlaWdodCIsImRpZmYiLCJmbG9vciIsIkNoYW5nZVNwZWVkIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxFQUFBLEdBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsR0FBQSxDQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFFBQUEsSUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsRUFBQSxDQUEwQ0ssWUFBQSxFQUFBQyxJQUFBTCxLQUsxQ1osRUFBQWtCLEVBQUEsU0FBQWhCLEdBQ0Esb0JBQUFpQixlQUFBQyxhQUNBTixPQUFBQyxlQUFBYixFQUFBaUIsT0FBQUMsWUFBQSxDQUF3REMsTUFBQSxXQUV4RFAsT0FBQUMsZUFBQWIsRUFBQSxjQUFpRG1CLE9BQUEsS0FRakRyQixFQUFBc0IsRUFBQSxTQUFBRCxFQUFBRSxHQUVBLEdBREEsRUFBQUEsSUFBQUYs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UCxJQUFLLElBQUkvWSxFQUFJLEVBQUdBLEVBQUkrWSxFQUFNL1ksSUFDdEJpSSxFQUFVUSxNQUFNbkYsS0FBSyxDQUNqQlQsRUFBRytFLEtBQUs4SyxTQUFXcEssRUFBSTZHLFNBQVN0TCxNQUNoQ0QsRUFBR2dFLEtBQUs4SyxTQUFXcEssRUFBSTZHLFNBQVNyTCxPQUNoQ2hELEVBQW1CLEVBQWhCOEcsS0FBSzhLLFNBQWUsV0FJOUIsR0FBSXFHLEVBQU8sRUFDWixJQUFLLElBQUkvWSxFQUFJLEVBQUdBLEdBQUsrWSxFQUFNL1ksSUFDdkJpSSxFQUFVUSxNQUFNdkYsT0FBTzBFLEtBQUtvUixNQUFNcFIsS0FBSzhLLFNBQVd6SyxFQUFVUSxNQUFNOEIsUUFBUyxHQUduRm5JLEtBQUtvRyxPQUFPOEIsY0FBYy9FLEVBQWlCNkMsd0JBSTVDaEcsS0FBQWdNLFlBQWMsRUFBQ25HLEVBQXNCa0csS0FDeENsRyxFQUFVa0csTUFBUUEsRUFDbEIvTCxLQUFLb0csT0FBTzhCLGNBQWMvRSxFQUFpQjBULHNCQ2hEbkQ5VCxTQUFTQyxpQkFBaUIsbUJBRTFCLFlBQ2MsSUFBSWtELEdBQ1ZtUSxRQUo0QyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDIpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiZWYxMjk2MWY2Njc4NmQ1NzlmMzk4NWMxOWZlYTMwM2Iub2dnXCI7IiwiaW50ZXJmYWNlIEFycmF5PFQ+IHtcclxuICAgIHJlbW92ZUl0ZW1JZkV4aXN0cyhpdGVtOiBUKTogdm9pZDtcclxuICAgIGNvbnRhaW5zKGl0ZW06IFQpOiBib29sZWFuO1xyXG4gICAgcmVtb3ZlSXRlbShpdGVtOiBUKTogdm9pZDtcclxuICAgIHJlbW92ZShzZWxlY3RvcjogKGl0ZW06IFQpID0+IGJvb2xlYW4pOiB2b2lkO1xyXG4gICAgYWRkSXRlbUlmTm90RXhpc3RzKGl0ZW06IFQpOiB2b2lkO1xyXG4gICAgdG9MaXN0KCk6IFRbXTtcclxuICAgIGdldE5leHQoY3VycmVudDogVCwgc2VsZWN0b3I6IChpdGVtOiBUKSA9PiBudW1iZXIpOiBUO1xyXG4gICAgZmlyc3Qoc2VsZWN0b3I6IChpdGVtOiBUKSA9PiBib29sZWFuKTogVDtcclxuICAgIGZpcnN0T3JEZWZhdWx0KHNlbGVjdG9yOiAoaXRlbTogVCkgPT4gYm9vbGVhbik6IFQ7XHJcbn1cclxuXHJcbkFycmF5LnByb3RvdHlwZS5maXJzdE9yRGVmYXVsdCA9IGZ1bmN0aW9uIChmdW5jKSB7XHJcbiAgICBmb3IgKGNvbnN0IGFycmF5SXRlbSBvZiB0aGlzKSB7XHJcbiAgICAgICAgaWYgKGZ1bmMoYXJyYXlJdGVtKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYXJyYXlJdGVtO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcblxyXG5BcnJheS5wcm90b3R5cGUuZmlyc3QgPSBmdW5jdGlvbiAoZnVuYykge1xyXG4gICAgZm9yIChjb25zdCBhcnJheUl0ZW0gb2YgdGhpcykge1xyXG4gICAgICAgIGlmIChmdW5jKGFycmF5SXRlbSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFycmF5SXRlbTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZyhcIml0ZW0gbm90IGZvdW5kXCIpO1xyXG4gICAgY29uc29sZS5sb2codGhpcyk7XHJcbiAgICB0aHJvdyBcIml0ZW0gbm90IGZvdW5kXCI7XHJcbn1cclxuXHJcbkFycmF5LnByb3RvdHlwZS5nZXROZXh0ID0gZnVuY3Rpb24gPFQ+KGN1cnJlbnQ6IFQsIHNlbGVjdG9yOiAoaXRlbTogVCkgPT4gbnVtYmVyKTogVCB7XHJcbiAgICB2YXIgbmV4dFBvc2l0aW9uID0gc2VsZWN0b3IoY3VycmVudCkgKyAxO1xyXG4gICAgdmFyIG5leHQgPSAodGhpcyBhcyBUW10pLmZpcnN0T3JEZWZhdWx0KCh4KSA9PiBzZWxlY3Rvcih4KSA9PSBuZXh0UG9zaXRpb24pO1xyXG4gICAgaWYgKCFuZXh0KSB7XHJcbiAgICAgICAgbmV4dCA9ICh0aGlzIGFzIFRbXSkuZmlyc3QoeCA9PiBzZWxlY3Rvcih4KSA9PSAxKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbmV4dDtcclxufVxyXG5cclxuQXJyYXkucHJvdG90eXBlLnJlbW92ZUl0ZW0gPSBmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleE9mKGl0ZW0pO1xyXG4gICAgaWYgKGluZGV4ICE9IC0xKSB7XHJcbiAgICAgICAgdGhpcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB0aHJvdyBcIml0ZW0gbm90IGZvdW5kXCI7XHJcbiAgICB9XHJcbn1cclxuXHJcbkFycmF5LnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uIDxUPihpdGVtOiBUKSB7XHJcbiAgICByZXR1cm4gdGhpcy5pbmRleE9mKGl0ZW0pICE9PSAtMTtcclxufVxyXG5cclxuQXJyYXkucHJvdG90eXBlLnJlbW92ZUl0ZW1JZkV4aXN0cyA9IGZ1bmN0aW9uIDxUPihpdGVtOiBUKSB7XHJcbiAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4T2YoaXRlbSk7XHJcbiAgICBpZiAoaW5kZXggIT0gLTEpIHtcclxuICAgICAgICB0aGlzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbkFycmF5LnByb3RvdHlwZS5hZGRJdGVtSWZOb3RFeGlzdHMgPSBmdW5jdGlvbiA8VD4oaXRlbTogVCkge1xyXG4gICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleE9mKGl0ZW0pO1xyXG4gICAgaWYgKGluZGV4ID09IC0xKSB7XHJcbiAgICAgICAgKHRoaXMgYXMgVFtdKS5wdXNoKGl0ZW0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5BcnJheS5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gPFQ+KHNlbGVjdG9yOiAoaXRlbTogVCkgPT4gYm9vbGVhbikge1xyXG4gICAgKHRoaXMgYXMgVFtdKS5yZW1vdmVJdGVtKCh0aGlzIGFzIFRbXSkuZmlyc3Qoc2VsZWN0b3IpKTtcclxufVxyXG5cclxuQXJyYXkucHJvdG90eXBlLnRvTGlzdCA9IGZ1bmN0aW9uIDxUPigpOiBUW10ge1xyXG4gICAgcmV0dXJuICh0aGlzIGFzIFRbXSkuZmlsdGVyKHggPT4gdHJ1ZSk7XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIFJlY3RhbmdsZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgeDogbnVtYmVyLCBwdWJsaWMgeTogbnVtYmVyLCBwdWJsaWMgd2lkdGg6IG51bWJlciwgcHVibGljIGhlaWdodDogbnVtYmVyKSB7IH1cclxuXHJcbiAgICBwdWJsaWMgY29sbGlkZXNXaXRoID0gKHJlY3RhbmdsZTogUmVjdGFuZ2xlKSA9PiB7XHJcbiAgICAgICAgdmFyIGhpdHggPSBmYWxzZTtcclxuICAgICAgICB2YXIgaGl0eSA9IGZhbHNlO1xyXG4gICAgICAgIGlmICh0aGlzLnggPD0gcmVjdGFuZ2xlLngpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMueCA8PSByZWN0YW5nbGUueCAmJiB0aGlzLnggKyB0aGlzLndpZHRoID4gcmVjdGFuZ2xlLngpIHtcclxuICAgICAgICAgICAgICAgIGhpdHggPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHJlY3RhbmdsZS54IDw9IHRoaXMueCAmJiByZWN0YW5nbGUueCArIHJlY3RhbmdsZS53aWR0aCA+IHRoaXMueCkge1xyXG4gICAgICAgICAgICAgICAgaGl0eCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChoaXR4KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnkgPD0gcmVjdGFuZ2xlLnkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnkgPD0gcmVjdGFuZ2xlLnkgJiYgdGhpcy55ICsgdGhpcy53aWR0aCA+IHJlY3RhbmdsZS55KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGl0eSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVjdGFuZ2xlLnkgPD0gdGhpcy55ICYmIHJlY3RhbmdsZS55ICsgcmVjdGFuZ2xlLndpZHRoID4gdGhpcy55KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGl0eSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBoaXR4ICYmIGhpdHk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzSGl0QnkgPSAoeDogbnVtYmVyLCB5OiBudW1iZXIpID0+IHtcclxuICAgICAgICByZXR1cm4geCA+IHRoaXMueCAmJiB4IDwgdGhpcy54ICsgdGhpcy53aWR0aFxyXG4gICAgICAgICAgICAmJiB5ID4gdGhpcy55ICYmIHkgPCB0aGlzLnkgKyB0aGlzLmhlaWdodDtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEVDYW52YXMgfSBmcm9tIFwiLi9lQ2FudmFzXCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgTGF5b3V0VmlldyB9IGZyb20gXCIuL2xheW91dENvbnRyb2xzL2xheW91dFZpZXdcIjtcclxuaW1wb3J0IHsgRUFuaW1hdGlvbiB9IGZyb20gXCIuLi9lQW5pbWF0aW9uXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU3RhZ2Uge1xyXG4gICAgcHJpdmF0ZSB2aWV3OiBMYXlvdXRWaWV3O1xyXG4gICAgcHJpdmF0ZSBzaG91bGRVcGRhdGVMYXlvdXQ6IGJvb2xlYW47XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBjYW52YXM6IEVDYW52YXMpIHtcclxuICAgICAgICBjYW52YXMuYWRkRHJhd0Z1bmN0aW9uKHRoaXMucmVuZGVyKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMubW91c2VEb3duKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLm1vdXNlVXApO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5tb3VzZU1vdmUpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmNsaWNrKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG1vdXNlRG93biA9IChldjogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnZpZXcpIHtcclxuICAgICAgICAgICAgdGhpcy52aWV3Lm1vdXNlRG93bihldik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbW91c2VVcCA9IChldjogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnZpZXcpIHtcclxuICAgICAgICAgICAgdGhpcy52aWV3Lm1vdXNlVXAoZXYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG1vdXNlTW92ZSA9IChldjogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnZpZXcpIHtcclxuICAgICAgICAgICAgdGhpcy52aWV3Lm1vdXNlTW92ZShldik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2xpY2sgPSAoZXY6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICBpZiAodGhpcy52aWV3KSB7XHJcbiAgICAgICAgICAgIHRoaXMudmlldy5jbGljayhldik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgcmVuZGVyID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB3aWR0aD86IG51bWJlciwgaGVpZ2h0PzogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMudmlldykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5zaG91bGRVcGRhdGVMYXlvdXQpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMudmlldy51cGRhdGVMYXlvdXQoY3R4LCBuZXcgUmVjdGFuZ2xlKDAsIDAsIHdpZHRoLCBoZWlnaHQpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2hvdWxkVXBkYXRlTGF5b3V0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICAgICAgdGhpcy52aWV3LnJlbmRlcihjdHgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0VmlldyA9ICh2aWV3OiBMYXlvdXRWaWV3KSA9PiB7XHJcbiAgICAgICAgdGhpcy52aWV3ID0gdmlldztcclxuICAgICAgICB0aGlzLnNob3VsZFVwZGF0ZUxheW91dCA9IHRydWU7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZW51bSBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbiB7XHJcbiAgICBMZWZ0LFxyXG4gICAgQ2VudGVyLFxyXG4gICAgUmlnaHQsXHJcbn0iLCJleHBvcnQgZW51bSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24ge1xyXG4gICAgVG9wLFxyXG4gICAgQ2VudGVyLFxyXG4gICAgQm90dG9tLFxyXG59IiwiZXhwb3J0IGVudW0gU2V0dGluZ09wZXJhdGlvbiB7XHJcbiAgICBBZGRTdGFyTGF5ZXIsXHJcbiAgICBSZW1vdmVTdGFyTGF5ZXIsXHJcbiAgICBDaGFuZ2VOdW1iZXJPZlN0YXJzLFxyXG4gICAgQ2hhbmdlU3BlZWRcclxufSIsImV4cG9ydCBlbnVtIFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlIHtcclxuICAgIGhpZGRlbixcclxuICAgIGJlZm9yZVZpc2libGUsXHJcbiAgICB2aXNpYmxlXHJcbn0iLCJleHBvcnQgZW51bSBPcmllbnRhdGlvbiB7XHJcbiAgICBIb3Jpem9udGFsLFxyXG4gICAgVmVydGljYWxcclxufSIsImV4cG9ydCBjbGFzcyBTcGFjaW5nIHtcclxuICAgIHB1YmxpYyB0b3A6IG51bWJlciA9IDA7XHJcbiAgICBwdWJsaWMgcmlnaHQ6IG51bWJlciA9IDA7XHJcbiAgICBwdWJsaWMgYm90dG9tOiBudW1iZXIgPSAwO1xyXG4gICAgcHVibGljIGxlZnQ6IG51bWJlciA9IDA7XHJcbn0iLCJpbXBvcnQgeyBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbiB9IGZyb20gXCIuL2hvcml6b250YWxBbGlnbmVtZW50T3B0aW9uXCI7XHJcbmltcG9ydCB7IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbiB9IGZyb20gXCIuL3ZlcnRpY2FsQWxpZ25lbWVudE9wdGlvblwiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IFNwYWNpbmcgfSBmcm9tIFwiLi9zcGFjaW5nXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQWxpZ25lbWVudCB7XHJcbiAgICBwdWJsaWMgaG9yaXpvbnRhbEFsaWduID0gSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24uQ2VudGVyO1xyXG4gICAgcHVibGljIHZlcnRpY2FsQWxpZ24gPSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24uQ2VudGVyO1xyXG5cclxuICAgIHB1YmxpYyBtYXJnaW4gPSBuZXcgU3BhY2luZygpO1xyXG4gICAgcHVibGljIHBhZGRpbmcgPSBuZXcgU3BhY2luZygpO1xyXG5cclxuICAgIHB1YmxpYyBjYWxjdWxhdGVEaW1lbnNpb25zWCA9IChib3VuZHM6IFJlY3RhbmdsZSwgd2lkdGg6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIHN3aXRjaCAodGhpcy5ob3Jpem9udGFsQWxpZ24pIHtcclxuICAgICAgICAgICAgY2FzZSBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbi5MZWZ0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJvdW5kcy54ICsgdGhpcy5tYXJnaW4ubGVmdDtcclxuICAgICAgICAgICAgY2FzZSBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbi5DZW50ZXI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYm91bmRzLnggKyBib3VuZHMud2lkdGggLyAyIC0gd2lkdGggLyAyO1xyXG4gICAgICAgICAgICBjYXNlIEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uLlJpZ2h0OlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJvdW5kcy54ICsgYm91bmRzLndpZHRoIC0gd2lkdGggLSB0aGlzLm1hcmdpbi5yaWdodDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNhbGN1bGF0ZURpbWVuc2lvbnNZID0gKGJvdW5kczogUmVjdGFuZ2xlLCBoZWlnaHQ6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIHN3aXRjaCAodGhpcy52ZXJ0aWNhbEFsaWduKSB7XHJcbiAgICAgICAgICAgIGNhc2UgVmVydGljYWxBbGlnbmVtZW50T3B0aW9uLlRvcDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBib3VuZHMueSArIHRoaXMubWFyZ2luLnRvcDtcclxuICAgICAgICAgICAgY2FzZSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24uQ2VudGVyOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJvdW5kcy55ICsgYm91bmRzLmhlaWdodCAvIDIgLSBoZWlnaHQgLyAyO1xyXG4gICAgICAgICAgICBjYXNlIFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi5Cb3R0b206XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYm91bmRzLnkgKyBib3VuZHMuaGVpZ2h0IC0gaGVpZ2h0IC0gdGhpcy5tYXJnaW4uYm90dG9tO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgQWxpZ25lbWVudCB9IGZyb20gXCIuL2FsaWduZW1lbnQvYWxpZ25lbWVudFwiO1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFJlbmRlck9iamVjdCB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBpZENvdW50ZXIgPSAwO1xyXG4gICAgcHJpdmF0ZSBnZW5lcmF0ZU5ld0lkID0gKCkgPT4ge1xyXG4gICAgICAgIFJlbmRlck9iamVjdC5pZENvdW50ZXIrKztcclxuICAgICAgICByZXR1cm4gUmVuZGVyT2JqZWN0LmlkQ291bnRlcjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmlkID0gdGhpcy5nZW5lcmF0ZU5ld0lkKCk7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gXCJvYmplY3QgXCIgKyB0aGlzLmlkO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpZDogbnVtYmVyO1xyXG4gICAgcHVibGljIG5hbWU6IHN0cmluZztcclxuICAgIHB1YmxpYyB0YWc6IGFueTtcclxuXHJcbiAgICBwdWJsaWMgYm91bmRzOiBSZWN0YW5nbGUgPSBuZXcgUmVjdGFuZ2xlKDAsIDAsIDAsIDApO1xyXG4gICAgcHVibGljIGRpbWVuc2lvbnM6IFJlY3RhbmdsZSA9IG5ldyBSZWN0YW5nbGUoMCwgMCwgMCwgMCk7XHJcblxyXG4gICAgcHVibGljIGFsaWduZW1lbnQgPSBuZXcgQWxpZ25lbWVudCgpO1xyXG5cclxuICAgIHByaXZhdGUgc2hvdWxkVXBkYXRlTGF5b3V0ID0gZmFsc2U7XHJcblxyXG4gICAgcHVibGljIHJlbmRlcihjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNob3VsZFVwZGF0ZUxheW91dCkge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUxheW91dChjdHgsIHRoaXMuYm91bmRzKTtcclxuICAgICAgICAgICAgdGhpcy5zaG91bGRVcGRhdGVMYXlvdXQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVMYXlvdXQoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGJvdW5kczogUmVjdGFuZ2xlKSB7XHJcbiAgICAgICAgdGhpcy5ib3VuZHMgPSBib3VuZHM7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRyaWdnZXJVcGRhdGVMYXlvdXQgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zaG91bGRVcGRhdGVMYXlvdXQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGFic3RyYWN0IG1vdXNlRG93bihldjogTW91c2VFdmVudCk6IHZvaWQ7XHJcbiAgICBhYnN0cmFjdCBtb3VzZVVwKGV2OiBNb3VzZUV2ZW50KTogdm9pZDtcclxuICAgIGFic3RyYWN0IG1vdXNlTW92ZShldjogTW91c2VFdmVudCk6IHZvaWQ7XHJcbiAgICBhYnN0cmFjdCBjbGljayhldjogTW91c2VFdmVudCk6IHZvaWQ7XHJcbn0iLCJpbXBvcnQgeyBSZW5kZXJPYmplY3QgfSBmcm9tIFwiLi4vcmVuZGVyT2JqZWN0XCI7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgTGF5b3V0VmlldyBleHRlbmRzIFJlbmRlck9iamVjdCB7XHJcbiAgICBwcm90ZWN0ZWQgY2hpbGRyZW46IFJlbmRlck9iamVjdFtdID0gW107XHJcblxyXG4gICAgcHVibGljIHJlbmRlcihjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkge1xyXG4gICAgICAgIHN1cGVyLnJlbmRlcihjdHgpO1xyXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICBjaGlsZC5yZW5kZXIoY3R4KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHB1YmxpYyBtb3VzZURvd24oZXY6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgY2hpbGQubW91c2VEb3duKGV2KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG1vdXNlVXAoZXY6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgY2hpbGQubW91c2VVcChldik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtb3VzZU1vdmUoZXY6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgY2hpbGQubW91c2VNb3ZlKGV2KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNsaWNrKGV2OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuLnRvTGlzdCgpKSB7XHJcbiAgICAgICAgICAgIGNoaWxkLmNsaWNrKGV2KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBSZW5kZXJPYmplY3QgfSBmcm9tIFwiLi4vZW5jL3NyYy91aS9yZW5kZXJPYmplY3RcIjtcclxuaW1wb3J0IHsgU3RhciB9IGZyb20gXCIuL21vZGVscy9zdGFyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU3RhclJlbmRlck9iamVjdCBleHRlbmRzIFJlbmRlck9iamVjdCB7XHJcbiAgICBtb3VzZURvd24oZXY6IE1vdXNlRXZlbnQpOiB2b2lkIHtcclxuICAgIH1cclxuICAgIG1vdXNlVXAoZXY6IE1vdXNlRXZlbnQpOiB2b2lkIHtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHN0YXI6IFN0YXIpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW5kZXIoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcImRyYXdpbmdcIik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwid2hpdGVcIjtcclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY3R4LmFyYyh0aGlzLnN0YXIueCwgdGhpcy5zdGFyLnksIHRoaXMuc3Rhci5yLCAwLCBNYXRoLlBJICogMik7XHJcbiAgICAgICAgY3R4LmZpbGwoKTtcclxuICAgIH1cclxuICAgIG1vdXNlTW92ZShldjogTW91c2VFdmVudCk6IHZvaWQge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xyXG4gICAgfVxyXG4gICAgY2xpY2soZXY6IE1vdXNlRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFJlbmRlck9iamVjdCB9IGZyb20gXCIuLi9lbmMvc3JjL3VpL3JlbmRlck9iamVjdFwiO1xyXG5pbXBvcnQgeyBMYXlvdXRWaWV3IH0gZnJvbSBcIi4uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGF5b3V0Vmlld1wiO1xyXG5pbXBvcnQgeyBTdGFyUmVuZGVyT2JqZWN0IH0gZnJvbSBcIi4vc3RhclJlbmRlck9iamVjdFwiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vZW5jL3NyYy9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgU3RhckxheWVyIH0gZnJvbSBcIi4vbW9kZWxzL3N0YXJMYXllclwiO1xyXG5pbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi9hcHBcIjtcclxuaW1wb3J0IHsgU2V0dGluZ09wZXJhdGlvbiB9IGZyb20gXCIuL3NldHRpbmdzL3NldHRpbmdPcGVyYXRpb25cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTdGFyTGF5ZXJEcmF3ZXIgZXh0ZW5kcyBMYXlvdXRWaWV3IHtcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBzdGFyTGF5ZXI6IFN0YXJMYXllcikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgQXBwLnNldHRpbmdNYW5hZ2VyLnVwZGF0ZS5hZGRFdmVudExpc3RlbmVyKHRoaXMuc2V0dGluZ3NVcGRhdGVkKVxyXG4gICAgICAgIHRoaXMudHJpZ2dlclVwZGF0ZUxheW91dCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0dGluZ3NVcGRhdGVkID0gKG9wZXJhdGlvbjogU2V0dGluZ09wZXJhdGlvbikgPT4ge1xyXG4gICAgICAgIHN3aXRjaCAob3BlcmF0aW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgU2V0dGluZ09wZXJhdGlvbi5DaGFuZ2VOdW1iZXJPZlN0YXJzOlxyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVOdW1iZXJPZlN0YXJzKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVOdW1iZXJPZlN0YXJzID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMudHJpZ2dlclVwZGF0ZUxheW91dCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVMYXlvdXQoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGJvdW5kczogUmVjdGFuZ2xlKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IHN0YXIgb2YgdGhpcy5zdGFyTGF5ZXIuc3RhcnMpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKG5ldyBTdGFyUmVuZGVyT2JqZWN0KHN0YXIpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBtb3VzZU1vdmUoZXY6IE1vdXNlRXZlbnQpIHtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2xpY2soZXY6IE1vdXNlRXZlbnQpIHtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlIH0gZnJvbSBcIi4vc2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWwge1xyXG4gICAgcHVibGljIHN0YXRlOiBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZSA9IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLmhpZGRlbjtcclxufSIsImltcG9ydCB7IEVBbmltYXRpb24gfSBmcm9tIFwiLi4vZUFuaW1hdGlvblwiO1xyXG5cclxuZXhwb3J0IHR5cGUgRHJhd0Z1bmN0aW9uID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB3aWR0aD86IG51bWJlciwgaGVpZ2h0PzogbnVtYmVyKSA9PiB2b2lkO1xyXG5cclxuZXhwb3J0IGNsYXNzIEVDYW52YXMge1xyXG4gICAgcHJpdmF0ZSBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuXHJcbiAgICBwcml2YXRlIGRyYXdGdW5jdGlvbnM6IERyYXdGdW5jdGlvbltdID0gW107XHJcblxyXG4gICAgcHVibGljIGdldCB3aWR0aCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhcy53aWR0aDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IGhlaWdodCgpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNhbnZhcy5oZWlnaHQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHsgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlRnVsbFNjcmVlbigpOiBFQ2FudmFzIHtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnBhcmVudEVsZW1lbnQuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm1hcmdpbiA9IFwiMFwiO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3cgPSBcImhpZGRlblwiO1xyXG5cclxuICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChjYW52YXMpO1xyXG4gICAgICAgIGNhbnZhcy5zdHlsZS53aWR0aCA9IFwiMTAwJVwiXHJcbiAgICAgICAgY2FudmFzLnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiO1xyXG5cclxuICAgICAgICB2YXIgZW5DYW52YXMgPSBuZXcgRUNhbnZhcygpO1xyXG4gICAgICAgIGVuQ2FudmFzLmNhbnZhcyA9IGNhbnZhcztcclxuICAgICAgICBlbkNhbnZhcy5jdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCBlbkNhbnZhcy5yZXNpemUpO1xyXG4gICAgICAgIGVuQ2FudmFzLnJlc2l6ZSgpO1xyXG4gICAgICAgIHJldHVybiBlbkNhbnZhcztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN0YXRpYyBjdXJzb3JMb2NrOiBzdHJpbmcgPSBudWxsO1xyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgU2V0Q3Vyc29yID0gKG5hbWU6IHN0cmluZywgcG9pbnRlcjogYm9vbGVhbikgPT4ge1xyXG4gICAgICAgIGlmIChwb2ludGVyKSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuY3Vyc29yID0gXCJwb2ludGVyXCI7XHJcbiAgICAgICAgICAgIEVDYW52YXMuY3Vyc29yTG9jayA9IG5hbWU7XHJcbiAgICAgICAgfSBlbHNlIGlmIChuYW1lID09IEVDYW52YXMuY3Vyc29yTG9jaykge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwiZGVmYXVsdFwiO1xyXG4gICAgICAgICAgICBFQ2FudmFzLmN1cnNvckxvY2sgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVzaXplID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiY2FudmFzLnJlc2l6ZSgpXCIpO1xyXG4gICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gdGhpcy5jYW52YXMuY2xpZW50V2lkdGg7XHJcbiAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdGhpcy5jYW52YXMuY2xpZW50SGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkcmF3ID0gKCkgPT4ge1xyXG4gICAgICAgIGZvciAoY29uc3QgZHJhd0Z1bmN0aW9uIG9mIHRoaXMuZHJhd0Z1bmN0aW9ucykge1xyXG4gICAgICAgICAgICBkcmF3RnVuY3Rpb24odGhpcy5jdHgsIHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZERyYXdGdW5jdGlvbiA9IChmdW5jOiBEcmF3RnVuY3Rpb24pID0+IHtcclxuICAgICAgICB0aGlzLmRyYXdGdW5jdGlvbnMucHVzaChmdW5jKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlRHJhd0Z1bmN0aW9uID0gKGZ1bmM6IERyYXdGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgIHRoaXMuZHJhd0Z1bmN0aW9ucy5zcGxpY2UodGhpcy5kcmF3RnVuY3Rpb25zLmluZGV4T2YoZnVuYyksIDEpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIEVFdmVudCB7XHJcbiAgICBwcml2YXRlIGxpc3RlbmVyczogKCgpID0+IHZvaWQpW10gPSBbXTtcclxuXHJcbiAgICBwdWJsaWMgYWRkRXZlbnRMaXN0ZW5lciA9IChsaXN0ZW5lcjogKCkgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIC8vIHZhbGlkYXRpb25cclxuICAgICAgICBpZiAoIWxpc3RlbmVyIHx8IHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpID49IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJsaXN0ZW5lciBhbHJlYWR5IGFkZGVkXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkRXZlbnRMaXN0ZW5lcklmTm90RXhpc3RzID0gKGxpc3RlbmVyOiAoKSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgLy8gdmFsaWRhdGlvblxyXG4gICAgICAgIGlmICghbGlzdGVuZXIgfHwgdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcikgPj0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGlzcGF0Y2hFdmVudCA9ICgpID0+IHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5saXN0ZW5lcnNbaV07XHJcbiAgICAgICAgICAgIGV2ZW50KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVFdmVudExpc3RlbmVyID0gKGxpc3RlbmVyOiAoKSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgLy8gdmFsaWRhdGlvblxyXG4gICAgICAgIGlmICghbGlzdGVuZXIgfHwgdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcikgPCAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IFwibGlzdGVuZXIgbm90IGZvdW5kXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5zcGxpY2UodGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lciksIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVFdmVudExpc3RlbmVySWZFeGlzdHMgPSAobGlzdGVuZXI6ICgpID0+IHZvaWQpID0+IHtcclxuICAgICAgICAvLyB2YWxpZGF0aW9uXHJcbiAgICAgICAgaWYgKCFsaXN0ZW5lciB8fCB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSA8IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuc3BsaWNlKHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpLCAxKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEVFdmVudFQ8VD4ge1xyXG4gICAgcHJpdmF0ZSBsaXN0ZW5lcnM6ICgoYXJnOiBUKSA9PiB2b2lkKVtdID0gW107XHJcblxyXG4gICAgcHVibGljIGFkZEV2ZW50TGlzdGVuZXIgPSAobGlzdGVuZXI6IChhcmc6IFQpID0+IHZvaWQpID0+IHtcclxuICAgICAgICAvLyB2YWxpZGF0aW9uXHJcbiAgICAgICAgaWYgKCFsaXN0ZW5lciB8fCB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IFwibGlzdGVuZXIgYWxyZWFkeSBhZGRlZFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRpc3BhdGNoRXZlbnQgPSAoYXJnOiBUKSA9PiB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBldmVudCA9IHRoaXMubGlzdGVuZXJzW2ldO1xyXG4gICAgICAgICAgICBldmVudChhcmcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlRXZlbnRMaXN0ZW5lciA9IChsaXN0ZW5lcjogKGFyZzogVCkgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIC8vIHZhbGlkYXRpb25cclxuICAgICAgICBpZiAoIWxpc3RlbmVyIHx8IHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpIDwgMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBcImxpc3RlbmVyIG5vdCBmb3VuZFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuc3BsaWNlKHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpLCAxKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEVFdmVudFRUPFQxLCBUMj4ge1xyXG4gICAgcHJpdmF0ZSBsaXN0ZW5lcnM6ICgoYXJnMTogVDEsIGFyZzI6IFQyKSA9PiB2b2lkKVtdID0gW107XHJcblxyXG4gICAgcHVibGljIGFkZEV2ZW50TGlzdGVuZXIgPSAobGlzdGVuZXI6IChhcmcxOiBUMSwgYXJnMjogVDIpID0+IHZvaWQpID0+IHtcclxuICAgICAgICAvLyB2YWxpZGF0aW9uXHJcbiAgICAgICAgaWYgKCFsaXN0ZW5lciB8fCB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IFwibGlzdGVuZXIgYWxyZWFkeSBhZGRlZFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRpc3BhdGNoRXZlbnQgPSAoYXJnMTogVDEsIGFyZzI6IFQyKSA9PiB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBldmVudCA9IHRoaXMubGlzdGVuZXJzW2ldO1xyXG4gICAgICAgICAgICBldmVudChhcmcxLCBhcmcyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZUV2ZW50TGlzdGVuZXIgPSAobGlzdGVuZXI6IChhcmcxOiBUMSwgYXJnMjogVDIpID0+IHZvaWQpID0+IHtcclxuICAgICAgICAvLyB2YWxpZGF0aW9uXHJcbiAgICAgICAgaWYgKCFsaXN0ZW5lciB8fCB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSA8IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJsaXN0ZW5lciBub3QgZm91bmRcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnNwbGljZSh0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSwgMSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBSZW5kZXJPYmplY3QgfSBmcm9tIFwiLi4vcmVuZGVyT2JqZWN0XCI7XHJcbmltcG9ydCB7IEVDYW52YXMgfSBmcm9tIFwiLi4vZUNhbnZhc1wiO1xyXG5pbXBvcnQgeyBFRXZlbnRUIH0gZnJvbSBcIi4uLy4uL2VFdmVudFwiO1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIENvbnRyb2wgZXh0ZW5kcyBSZW5kZXJPYmplY3Qge1xyXG4gICAgcHJvdGVjdGVkIGlzTW91c2VPdmVyID0gZmFsc2U7XHJcbiAgICBwdWJsaWMgaXNFbmFibGVkID0gdHJ1ZTtcclxuXHJcbiAgICBwdWJsaWMgY2xpY2tlZCA9IG5ldyBFRXZlbnRUPENvbnRyb2w+KCk7XHJcblxyXG4gICAgcHVibGljIG1vdXNlTW92ZShldjogTW91c2VFdmVudCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzRW5hYmxlZCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5kaW1lbnNpb25zLmlzSGl0QnkoZXYuY2xpZW50WCwgZXYuY2xpZW50WSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNNb3VzZU92ZXIgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgRUNhbnZhcy5TZXRDdXJzb3IodGhpcy5uYW1lLCB0cnVlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNNb3VzZU92ZXIgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIEVDYW52YXMuU2V0Q3Vyc29yKHRoaXMubmFtZSwgZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjbGljayA9IChldjogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmlzRW5hYmxlZCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5kaW1lbnNpb25zLmlzSGl0QnkoZXYuY2xpZW50WCwgZXYuY2xpZW50WSkpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xpY2tlZC5kaXNwYXRjaEV2ZW50KHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtb3VzZURvd24oZXY6IE1vdXNlRXZlbnQpOiB2b2lkIHsgfVxyXG4gICAgcHVibGljIG1vdXNlVXAoZXY6IE1vdXNlRXZlbnQpOiB2b2lkIHsgfVxyXG59IiwiZXhwb3J0IGNsYXNzIEJ1dHRvblByb3BlcnRpZXMge1xyXG4gICAgcHVibGljIGZvbnRTaXplID0gNDA7XHJcbiAgICBwdWJsaWMgZm9udFByZWZpeCA9IFwiXCI7XHJcbiAgICBwdWJsaWMgZm9udEZhbWlseSA9IFwiZm9udGF3ZXNvbWVcIjtcclxuICAgIHB1YmxpYyBmaWxsU3R5bGUgPSBcImJsdWVcIjtcclxuICAgIHB1YmxpYyBtb3VzZU92ZXJGaWxsU3R5bGUgPSBcInJlZFwiO1xyXG4gICAgcHVibGljIGJhY2tncm91bmRGaWxsU3R5bGU6IHN0cmluZyA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICBwdWJsaWMgZ2V0Rm9udCA9ICgpID0+IHtcclxuICAgICAgICB2YXIgZm9udCA9IFwiXCI7XHJcbiAgICAgICAgaWYgKHRoaXMuZm9udFByZWZpeCkge1xyXG4gICAgICAgICAgICBmb250ICs9IHRoaXMuZm9udFByZWZpeCArIFwiIFwiXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvbnQgKz0gdGhpcy5mb250U2l6ZSArIFwicHhcIiArIFwiIFwiICsgdGhpcy5mb250RmFtaWx5O1xyXG4gICAgICAgIHJldHVybiBmb250O1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBDb250cm9sIH0gZnJvbSBcIi4vY29udHJvbFwiO1xyXG5pbXBvcnQgeyBCdXR0b25Qcm9wZXJ0aWVzIH0gZnJvbSBcIi4vYnV0dG9uUHJvcGVydGllc1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEJ1dHRvbiBleHRlbmRzIENvbnRyb2wge1xyXG5cclxuICAgIHB1YmxpYyBwcm9wZXJ0aWVzID0gbmV3IEJ1dHRvblByb3BlcnRpZXMoKTtcclxuICAgIHB1YmxpYyB0ZXh0OiBzdHJpbmc7XHJcblxyXG4gICAgcHVibGljIHJlbmRlciA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMuYmFja2dyb3VuZEZpbGxTdHlsZSkge1xyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5wcm9wZXJ0aWVzLmJhY2tncm91bmRGaWxsU3R5bGU7XHJcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdCh0aGlzLmRpbWVuc2lvbnMueCwgdGhpcy5kaW1lbnNpb25zLnksIHRoaXMuZGltZW5zaW9ucy53aWR0aCwgdGhpcy5kaW1lbnNpb25zLmhlaWdodCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5pc01vdXNlT3Zlcikge1xyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5wcm9wZXJ0aWVzLm1vdXNlT3ZlckZpbGxTdHlsZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5wcm9wZXJ0aWVzLmZpbGxTdHlsZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGN0eC5mb250ID0gdGhpcy5wcm9wZXJ0aWVzLmdldEZvbnQoKTtcclxuICAgICAgICBjdHgudGV4dEFsaWduID0gXCJsZWZ0XCI7XHJcbiAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9IFwidG9wXCI7XHJcbiAgICAgICAgY3R4LmZpbGxUZXh0KHRoaXMudGV4dCwgdGhpcy5kaW1lbnNpb25zLngsIHRoaXMuZGltZW5zaW9ucy55KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0ID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHN1cGVyLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcblxyXG4gICAgICAgIGN0eC5mb250ID0gdGhpcy5wcm9wZXJ0aWVzLmdldEZvbnQoKTtcclxuICAgICAgICBjdHgudGV4dEFsaWduID0gXCJsZWZ0XCI7XHJcbiAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9IFwidG9wXCI7XHJcbiAgICAgICAgdmFyIHNpemUgPSBjdHgubWVhc3VyZVRleHQodGhpcy50ZXh0KTtcclxuICAgICAgICBcclxuICAgICAgICB2YXIgeCA9IHRoaXMuYWxpZ25lbWVudC5jYWxjdWxhdGVEaW1lbnNpb25zWChib3VuZHMsIHNpemUud2lkdGgpO1xyXG4gICAgICAgIHZhciB5ID0gdGhpcy5hbGlnbmVtZW50LmNhbGN1bGF0ZURpbWVuc2lvbnNZKGJvdW5kcywgdGhpcy5wcm9wZXJ0aWVzLmZvbnRTaXplKTtcclxuICAgICAgICBcclxuICAgICAgICB0aGlzLmRpbWVuc2lvbnMgPSBuZXcgUmVjdGFuZ2xlKHgsIHksIHNpemUud2lkdGgsIHRoaXMucHJvcGVydGllcy5mb250U2l6ZSlcclxuICAgIH1cclxufSIsImltcG9ydCB7IE9yaWVudGF0aW9uIH0gZnJvbSBcIi4uL2FsaWduZW1lbnQvb3JpZW50YXRpb25cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBMaXN0Vmlld1Byb3BlcnRpZXMge1xyXG4gICAgcHVibGljIGl0ZW1TcGFjaW5nID0gMzA7XHJcbiAgICBwdWJsaWMgb3JpZW50YXRpb24gPSBPcmllbnRhdGlvbi5WZXJ0aWNhbDtcclxufSIsImltcG9ydCB7IExheW91dFZpZXcgfSBmcm9tIFwiLi9sYXlvdXRWaWV3XCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgUmVuZGVyT2JqZWN0IH0gZnJvbSBcIi4uL3JlbmRlck9iamVjdFwiO1xyXG5pbXBvcnQgeyBMaXN0Vmlld1Byb3BlcnRpZXMgfSBmcm9tIFwiLi9saXN0Vmlld1Byb3BlcnRpZXNcIjtcclxuaW1wb3J0IHsgSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24gfSBmcm9tIFwiLi4vYWxpZ25lbWVudC9ob3Jpem9udGFsQWxpZ25lbWVudE9wdGlvblwiO1xyXG5pbXBvcnQgeyBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24gfSBmcm9tIFwiLi4vYWxpZ25lbWVudC92ZXJ0aWNhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuaW1wb3J0IHsgT3JpZW50YXRpb24gfSBmcm9tIFwiLi4vYWxpZ25lbWVudC9vcmllbnRhdGlvblwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIExpc3RWaWV3IGV4dGVuZHMgTGF5b3V0VmlldyB7XHJcbiAgICBwdWJsaWMgcHJvcGVydGllcyA9IG5ldyBMaXN0Vmlld1Byb3BlcnRpZXMoKTtcclxuXHJcbiAgICBwdWJsaWMgYWRkSXRlbSA9IChsYXlvdXRWaWV3OiBSZW5kZXJPYmplY3QpID0+IHtcclxuICAgICAgICBsYXlvdXRWaWV3LmFsaWduZW1lbnQuaG9yaXpvbnRhbEFsaWduID0gSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24uTGVmdDtcclxuICAgICAgICBsYXlvdXRWaWV3LmFsaWduZW1lbnQudmVydGljYWxBbGlnbiA9IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi5Ub3A7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGxheW91dFZpZXcpO1xyXG4gICAgICAgIHRoaXMudHJpZ2dlclVwZGF0ZUxheW91dCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVJdGVtID0gKGxheW91dFZpZXc6IFJlbmRlck9iamVjdCkgPT4ge1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucmVtb3ZlSXRlbShsYXlvdXRWaWV3KTtcclxuICAgICAgICB0aGlzLnRyaWdnZXJVcGRhdGVMYXlvdXQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcblxyXG4gICAgICAgIHZhciB4ID0gdGhpcy5hbGlnbmVtZW50LmNhbGN1bGF0ZURpbWVuc2lvbnNYKGJvdW5kcywgdGhpcy5kaW1lbnNpb25zLndpZHRoKTtcclxuICAgICAgICB2YXIgeSA9IHRoaXMuYWxpZ25lbWVudC5jYWxjdWxhdGVEaW1lbnNpb25zWShib3VuZHMsIHRoaXMuZGltZW5zaW9ucy5oZWlnaHQpO1xyXG5cclxuICAgICAgICB2YXIgd2lkdGggPSAwO1xyXG4gICAgICAgIHZhciBoZWlnaHQgPSAwO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLm9yaWVudGF0aW9uID09IE9yaWVudGF0aW9uLlZlcnRpY2FsKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKGkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeSArPSB0aGlzLnByb3BlcnRpZXMuaXRlbVNwYWNpbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ICs9IHRoaXMucHJvcGVydGllcy5pdGVtU3BhY2luZztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNoaWxkLnVwZGF0ZUxheW91dChjdHgsIG5ldyBSZWN0YW5nbGUoeCwgeSwgMCwgMCkpO1xyXG4gICAgICAgICAgICAgICAgeSArPSBjaGlsZC5kaW1lbnNpb25zLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIGhlaWdodCArPSBjaGlsZC5kaW1lbnNpb25zLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIHdpZHRoID0gTWF0aC5tYXgod2lkdGgsIGNoaWxkLmRpbWVuc2lvbnMud2lkdGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XHJcbiAgICAgICAgICAgICAgICBpZiAoaSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB4ICs9IHRoaXMucHJvcGVydGllcy5pdGVtU3BhY2luZztcclxuICAgICAgICAgICAgICAgICAgICB3aWR0aCArPSB0aGlzLnByb3BlcnRpZXMuaXRlbVNwYWNpbmc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjaGlsZC51cGRhdGVMYXlvdXQoY3R4LCBuZXcgUmVjdGFuZ2xlKHgsIHksIDAsIDApKTtcclxuICAgICAgICAgICAgICAgIHggKz0gY2hpbGQuZGltZW5zaW9ucy53aWR0aDtcclxuICAgICAgICAgICAgICAgIHdpZHRoICs9IGNoaWxkLmRpbWVuc2lvbnMud2lkdGg7XHJcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSBNYXRoLm1heChoZWlnaHQsIGNoaWxkLmRpbWVuc2lvbnMuaGVpZ2h0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZGltZW5zaW9ucy54ICE9IHggfHwgdGhpcy5kaW1lbnNpb25zLnkgIT0geSB8fCB0aGlzLmRpbWVuc2lvbnMud2lkdGggIT0gd2lkdGggfHwgdGhpcy5kaW1lbnNpb25zLmhlaWdodCAhPSBoZWlnaHQpIHtcclxuICAgICAgICAgICAgdGhpcy5kaW1lbnNpb25zLnggPSB4O1xyXG4gICAgICAgICAgICB0aGlzLmRpbWVuc2lvbnMueSA9IHk7XHJcbiAgICAgICAgICAgIHRoaXMuZGltZW5zaW9ucy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgICAgIHRoaXMuZGltZW5zaW9ucy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQ29udHJvbCB9IGZyb20gXCIuL2NvbnRyb2xcIjtcclxuaW1wb3J0IHsgUG9pbnQgfSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvcG9pbnRcIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBFRXZlbnRUIH0gZnJvbSBcIi4uLy4uL2VFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNsaWRlciBleHRlbmRzIENvbnRyb2wge1xyXG4gICAgcHVibGljIHJhZGl1czogbnVtYmVyID0gMTA7XHJcblxyXG4gICAgcHVibGljIG1pblZhbHVlID0gMDtcclxuICAgIHB1YmxpYyBtYXhWYWx1ZSA9IDEwMDtcclxuICAgIHB1YmxpYyBjdXJyZW50VmFsdWUgPSA1MDtcclxuICAgIGlzRHJhZ2dpbmc6IGJvb2xlYW47XHJcbiAgICBvbGRQb3NpdGlvbjogeyB4OiBudW1iZXI7IHk6IG51bWJlcjsgfTtcclxuXHJcbiAgICBwdWJsaWMgdmFsdWVDaGFuZ2VkID0gbmV3IEVFdmVudFQ8bnVtYmVyPigpO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbmRlcihjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge1xyXG4gICAgICAgIHZhciB4ID0gdGhpcy5kaW1lbnNpb25zLng7XHJcbiAgICAgICAgdmFyIHkgPSB0aGlzLmRpbWVuc2lvbnMueTtcclxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBcIndoaXRlXCI7XHJcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDI7XHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5tb3ZlVG8oeCArIHRoaXMucmFkaXVzLCB5ICsgdGhpcy5kaW1lbnNpb25zLmhlaWdodCAvIDIpO1xyXG4gICAgICAgIGN0eC5saW5lVG8oeCArIHRoaXMuZGltZW5zaW9ucy53aWR0aCAtIHRoaXMucmFkaXVzLCB5ICsgdGhpcy5kaW1lbnNpb25zLmhlaWdodCAvIDIpO1xyXG4gICAgICAgIGN0eC5zdHJva2UoKTtcclxuXHJcbiAgICAgICAgdmFyIHJlbFZhbHVlID0gKHRoaXMuY3VycmVudFZhbHVlIC0gdGhpcy5taW5WYWx1ZSkgLyAodGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWUpO1xyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBcImJsdWVcIjtcclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY3R4LmFyYyh4ICsgdGhpcy5yYWRpdXMgKyAodGhpcy5kaW1lbnNpb25zLndpZHRoIC0gdGhpcy5yYWRpdXMgKiAyKSAqIHJlbFZhbHVlLCB5ICsgdGhpcy5kaW1lbnNpb25zLmhlaWdodCAvIDIsIHRoaXMucmFkaXVzLCAwLCBNYXRoLlBJICogMik7XHJcbiAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xyXG4gICAgICAgIGN0eC5maWxsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUxheW91dCA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpOiB2b2lkID0+IHtcclxuICAgICAgICBzdXBlci51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG5cclxuICAgICAgICB0aGlzLmRpbWVuc2lvbnMgPSBuZXcgUmVjdGFuZ2xlKGJvdW5kcy54LCBib3VuZHMueSwgMjAwLCB0aGlzLnJhZGl1cyAqIDIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtb3VzZURvd24gPSAoZXY6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5kaW1lbnNpb25zLmlzSGl0QnkoZXYuY2xpZW50WCwgZXYuY2xpZW50WSkpIHtcclxuICAgICAgICAgICAgdGhpcy5pc0RyYWdnaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVDdXJyZW50VmFsdWUoZXYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHB1YmxpYyBtb3VzZVVwID0gKGV2OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG1vdXNlTW92ZShldjogTW91c2VFdmVudCkge1xyXG4gICAgICAgIHN1cGVyLm1vdXNlTW92ZShldik7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEcmFnZ2luZykge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUN1cnJlbnRWYWx1ZShldik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdXBkYXRlQ3VycmVudFZhbHVlKGV2OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgdmFyIHZhbCA9IGV2LmNsaWVudFggLSB0aGlzLmRpbWVuc2lvbnMueCAtIHRoaXMucmFkaXVzO1xyXG4gICAgICAgIHZhbCA9IHZhbCAvICh0aGlzLmRpbWVuc2lvbnMud2lkdGggLSB0aGlzLnJhZGl1cyAqIDIpICogKHRoaXMubWF4VmFsdWUgLSB0aGlzLm1pblZhbHVlKSArIHRoaXMubWluVmFsdWU7XHJcbiAgICAgICAgaWYgKHZhbCA+IHRoaXMubWF4VmFsdWUpIHtcclxuICAgICAgICAgICAgdmFsID0gdGhpcy5tYXhWYWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHZhbCA8IHRoaXMubWluVmFsdWUpIHtcclxuICAgICAgICAgICAgdmFsID0gdGhpcy5taW5WYWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSB2YWw7XHJcbiAgICAgICAgdGhpcy52YWx1ZUNoYW5nZWQuZGlzcGF0Y2hFdmVudCh0aGlzLmN1cnJlbnRWYWx1ZSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBMYXlvdXRWaWV3IH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGF5b3V0Vmlld1wiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgU3RhckxheWVyIH0gZnJvbSBcIi4uL21vZGVscy9zdGFyTGF5ZXJcIjtcclxuaW1wb3J0IHsgTGlzdFZpZXcgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9sYXlvdXRDb250cm9scy9saXN0Vmlld1wiO1xyXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9jb250cm9scy9idXR0b25cIjtcclxuaW1wb3J0IHsgQ29udHJvbCB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2NvbnRyb2xcIjtcclxuaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4uL2FwcFwiO1xyXG5pbXBvcnQgeyBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbiB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvaG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuaW1wb3J0IHsgVmVydGljYWxBbGlnbmVtZW50T3B0aW9uIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvYWxpZ25lbWVudC92ZXJ0aWNhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuaW1wb3J0IHsgU2xpZGVyIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvY29udHJvbHMvc2xpZGVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU3RhckxheWVyVmlldyBleHRlbmRzIExheW91dFZpZXcge1xyXG4gICAgcHJpdmF0ZSBzZXR0aW5nc0xpc3Q6IExpc3RWaWV3O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBzdGFyTGF5ZXI6IFN0YXJMYXllcikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QgPSBuZXcgTGlzdFZpZXcoKTtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5hbGlnbmVtZW50Lmhvcml6b250YWxBbGlnbiA9IEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uLkxlZnQ7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QuYWxpZ25lbWVudC52ZXJ0aWNhbEFsaWduID0gVmVydGljYWxBbGlnbmVtZW50T3B0aW9uLlRvcDtcclxuICAgICAgICB2YXIgYnRuRm9yTGF5ZXIgPSBuZXcgQnV0dG9uKCk7XHJcbiAgICAgICAgYnRuRm9yTGF5ZXIudGV4dCA9IFwiUmVtb3ZlIExheWVyXCI7XHJcbiAgICAgICAgYnRuRm9yTGF5ZXIucHJvcGVydGllcy5maWxsU3R5bGUgPSBcIndoaXRlXCI7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QuYWRkSXRlbShidG5Gb3JMYXllcik7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGJ0bkZvckxheWVyKTtcclxuICAgICAgICBidG5Gb3JMYXllci5jbGlja2VkLmFkZEV2ZW50TGlzdGVuZXIoKHNlbmRlcjogQ29udHJvbCkgPT4ge1xyXG4gICAgICAgICAgICBBcHAuc2V0dGluZ01hbmFnZXIucmVtb3ZlU3RhckxheWVyKHRoaXMuc3RhckxheWVyKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIHNsaWRlciA9IG5ldyBTbGlkZXIoKTtcclxuICAgICAgICBzbGlkZXIubWluVmFsdWUgPSAxMDtcclxuICAgICAgICBzbGlkZXIubWF4VmFsdWUgPSAxMDAwO1xyXG4gICAgICAgIHNsaWRlci5jdXJyZW50VmFsdWUgPSBzdGFyTGF5ZXIuc3RhcnMubGVuZ3RoO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChzbGlkZXIpO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LmFkZEl0ZW0oc2xpZGVyKTtcclxuICAgICAgICBzbGlkZXIudmFsdWVDaGFuZ2VkLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5udW1iZXJPZlN0YXJzQ2hhbmdlZCk7XHJcblxyXG4gICAgICAgIHZhciBzbGlkZXJTcGVlZCA9IG5ldyBTbGlkZXIoKTtcclxuICAgICAgICBzbGlkZXJTcGVlZC5taW5WYWx1ZSA9IDA7XHJcbiAgICAgICAgc2xpZGVyU3BlZWQubWF4VmFsdWUgPSAzMDtcclxuICAgICAgICBzbGlkZXJTcGVlZC5jdXJyZW50VmFsdWUgPSBzdGFyTGF5ZXIuc3BlZWQ7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHNsaWRlclNwZWVkKTtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5hZGRJdGVtKHNsaWRlclNwZWVkKTtcclxuICAgICAgICBzbGlkZXJTcGVlZC52YWx1ZUNoYW5nZWQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLnNwZWVkQ2hhbmdlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG51bWJlck9mU3RhcnNDaGFuZ2VkID0gKG51bWJlck9mU3RhcnM6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIEFwcC5zZXR0aW5nTWFuYWdlci5jaGFuZ2VOdW1iZXJPZlN0YXJzKHRoaXMuc3RhckxheWVyLCBNYXRoLnJvdW5kKG51bWJlck9mU3RhcnMpKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3BlZWRDaGFuZ2VkID0gKHNwZWVkOiBudW1iZXIpID0+IHtcclxuICAgICAgICBBcHAuc2V0dGluZ01hbmFnZXIuY2hhbmdlU3BlZWQodGhpcy5zdGFyTGF5ZXIsIHNwZWVkKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LnVwZGF0ZUxheW91dChjdHgsIG5ldyBSZWN0YW5nbGUoYm91bmRzLngsIGJvdW5kcy55LCAwLCAwKSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBMYXlvdXRWaWV3IH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGF5b3V0Vmlld1wiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsIH0gZnJvbSBcIi4vc2V0dGluZ3NPdmVybGF5Vmlld01vZGVsXCI7XHJcbmltcG9ydCB7IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlIH0gZnJvbSBcIi4vc2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGVcIjtcclxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvY29udHJvbHMvYnV0dG9uXCI7XHJcbmltcG9ydCB7IENvbnRyb2wgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9jb250cm9scy9jb250cm9sXCI7XHJcbmltcG9ydCB7IExpc3RWaWV3IH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGlzdFZpZXdcIjtcclxuaW1wb3J0IHsgU3RhckxheWVyIH0gZnJvbSBcIi4uL21vZGVscy9zdGFyTGF5ZXJcIjtcclxuaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4uL2FwcFwiO1xyXG5pbXBvcnQgeyBTZXR0aW5nT3BlcmF0aW9uIH0gZnJvbSBcIi4uL3NldHRpbmdzL3NldHRpbmdPcGVyYXRpb25cIjtcclxuaW1wb3J0IHsgVmVydGljYWxBbGlnbmVtZW50T3B0aW9uIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvYWxpZ25lbWVudC92ZXJ0aWNhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuaW1wb3J0IHsgSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24gfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9hbGlnbmVtZW50L2hvcml6b250YWxBbGlnbmVtZW50T3B0aW9uXCI7XHJcbmltcG9ydCB7IFN0YXJMYXllclZpZXcgfSBmcm9tIFwiLi9zdGFyTGF5ZXJWaWV3XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU2V0dGluZ3NPdmVybGF5VmlldyBleHRlbmRzIExheW91dFZpZXcge1xyXG4gICAgcHJpdmF0ZSB2aWV3TW9kZWw6IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbCA9IG5ldyBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWwoKTtcclxuICAgIHByaXZhdGUgbGFzdE1vdmVkID0gRGF0ZS5ub3coKTtcclxuICAgIHByaXZhdGUgaW5hY3Rpdml0eVRpbWVvdXQgPSAyMDAwO1xyXG4gICAgcHJpdmF0ZSBzaG93T3ZlckxheWVyQnV0dG9uOiBCdXR0b247XHJcbiAgICBwcml2YXRlIHNldHRpbmdzTGlzdDogTGlzdFZpZXc7XHJcblxyXG4gICAgcHJpdmF0ZSBsYXllckJ1dHRvbnM6IEJ1dHRvbltdID0gW107XHJcbiAgICBwcml2YXRlIGFkZExheWVyQnRuOiBCdXR0b247XHJcbiAgICBwcml2YXRlIGRldGFpbGVkU3RhckxheWVyVmlldzogU3RhckxheWVyVmlldztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuc2hvd092ZXJMYXllckJ1dHRvbiA9IG5ldyBCdXR0b24oKTtcclxuICAgICAgICB0aGlzLnNob3dPdmVyTGF5ZXJCdXR0b24udGV4dCA9IFwiU2hvdy9IaWRlIFNldHRpbmdzXCI7XHJcbiAgICAgICAgdGhpcy5zaG93T3ZlckxheWVyQnV0dG9uLnByb3BlcnRpZXMuZmlsbFN0eWxlID0gXCJncmVlblwiO1xyXG4gICAgICAgIHRoaXMuc2hvd092ZXJMYXllckJ1dHRvbi5hbGlnbmVtZW50LnZlcnRpY2FsQWxpZ24gPSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24uVG9wO1xyXG4gICAgICAgIHRoaXMuc2hvd092ZXJMYXllckJ1dHRvbi5hbGlnbmVtZW50Lmhvcml6b250YWxBbGlnbiA9IEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uLkxlZnQ7XHJcbiAgICAgICAgdGhpcy5zaG93T3ZlckxheWVyQnV0dG9uLmNsaWNrZWQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLnNob3dIaWRlT3ZlcmxheUNsaWNrZWQpO1xyXG4gICAgICAgIHRoaXMuc2hvd092ZXJMYXllckJ1dHRvbi5wcm9wZXJ0aWVzLmJhY2tncm91bmRGaWxsU3R5bGUgPSBcInJnYmEoMCwgMCwgMCwgMC41KVwiO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaCh0aGlzLnNob3dPdmVyTGF5ZXJCdXR0b24pO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0ID0gbmV3IExpc3RWaWV3KCk7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QuYWxpZ25lbWVudC5ob3Jpem9udGFsQWxpZ24gPSBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbi5MZWZ0O1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LmFsaWduZW1lbnQudmVydGljYWxBbGlnbiA9IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi5Ub3A7XHJcblxyXG4gICAgICAgIHZhciBidG5Gb3JOZXdMYXllciA9IG5ldyBCdXR0b24oKTtcclxuICAgICAgICBidG5Gb3JOZXdMYXllci50ZXh0ID0gXCJBZGQgTGF5ZXJcIjtcclxuICAgICAgICBidG5Gb3JOZXdMYXllci5wcm9wZXJ0aWVzLmZpbGxTdHlsZSA9IFwid2hpdGVcIjtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5hZGRJdGVtKGJ0bkZvck5ld0xheWVyKTtcclxuICAgICAgICBidG5Gb3JOZXdMYXllci5jbGlja2VkLmFkZEV2ZW50TGlzdGVuZXIoKHNlbmRlcjogQ29udHJvbCkgPT4ge1xyXG4gICAgICAgICAgICBBcHAuc2V0dGluZ01hbmFnZXIuYWRkU3RhckxheWVyKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5hZGRMYXllckJ0biA9IGJ0bkZvck5ld0xheWVyO1xyXG5cclxuXHJcbiAgICAgICAgQXBwLnNldHRpbmdNYW5hZ2VyLnVwZGF0ZS5hZGRFdmVudExpc3RlbmVyKHRoaXMuc2V0dGluZ3NVcGRhdGVkKTtcclxuXHJcblxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0dGluZ3NVcGRhdGVkID0gKG9wZXJhdGlvbjogU2V0dGluZ09wZXJhdGlvbikgPT4ge1xyXG4gICAgICAgIHN3aXRjaCAob3BlcmF0aW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgU2V0dGluZ09wZXJhdGlvbi5BZGRTdGFyTGF5ZXI6XHJcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHN0YXJMYXllciBvZiBBcHAuc2V0dGluZ3Muc3RhckxheWVycykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5sYXllckJ1dHRvbnMubWFwKHggPT4geC50YWcpLmNvbnRhaW5zKHN0YXJMYXllcikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QucmVtb3ZlSXRlbSh0aGlzLmFkZExheWVyQnRuKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJ0bkZvckxheWVyID0gbmV3IEJ1dHRvbigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidG5Gb3JMYXllci50ZXh0ID0gXCJFZGl0IExheWVyXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ0bkZvckxheWVyLnRhZyA9IHN0YXJMYXllcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnRuRm9yTGF5ZXIucHJvcGVydGllcy5maWxsU3R5bGUgPSBcIndoaXRlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LmFkZEl0ZW0oYnRuRm9yTGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxheWVyQnV0dG9ucy5wdXNoKGJ0bkZvckxheWVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnRuRm9yTGF5ZXIuY2xpY2tlZC5hZGRFdmVudExpc3RlbmVyKChzZW5kZXI6IENvbnRyb2wpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG9nZ2xlU2hvd0hpZGVTdGFyTGF5ZXJWaWV3KHN0YXJMYXllcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5hZGRJdGVtKHRoaXMuYWRkTGF5ZXJCdG4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBTZXR0aW5nT3BlcmF0aW9uLlJlbW92ZVN0YXJMYXllcjpcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc2V0dGluZ3NMYXllciBvZiB0aGlzLmxheWVyQnV0dG9ucykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghQXBwLnNldHRpbmdzLnN0YXJMYXllcnMuY29udGFpbnMoc2V0dGluZ3NMYXllci50YWcpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LnJlbW92ZUl0ZW0oc2V0dGluZ3NMYXllcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGF5ZXJCdXR0b25zLnJlbW92ZUl0ZW0oc2V0dGluZ3NMYXllcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucmVtb3ZlSXRlbSh0aGlzLmRldGFpbGVkU3RhckxheWVyVmlldyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRldGFpbGVkU3RhckxheWVyVmlldyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHByaXZhdGUgdG9nZ2xlU2hvd0hpZGVTdGFyTGF5ZXJWaWV3ID0gKHN0YXJMYXllcjogU3RhckxheWVyKSA9PiB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmRldGFpbGVkU3RhckxheWVyVmlldykge1xyXG4gICAgICAgICAgICB2YXIgdmlldyA9IG5ldyBTdGFyTGF5ZXJWaWV3KHN0YXJMYXllcik7XHJcbiAgICAgICAgICAgIHRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3ID0gdmlldztcclxuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3KTtcclxuICAgICAgICAgICAgdGhpcy50cmlnZ2VyVXBkYXRlTGF5b3V0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3LnN0YXJMYXllciAhPSBzdGFyTGF5ZXIpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5yZW1vdmVJdGVtKHRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3KTtcclxuICAgICAgICAgICAgdGhpcy5kZXRhaWxlZFN0YXJMYXllclZpZXcgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIHZhciB2aWV3ID0gbmV3IFN0YXJMYXllclZpZXcoc3RhckxheWVyKTtcclxuICAgICAgICAgICAgdGhpcy5kZXRhaWxlZFN0YXJMYXllclZpZXcgPSB2aWV3O1xyXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2godGhpcy5kZXRhaWxlZFN0YXJMYXllclZpZXcpO1xyXG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJVcGRhdGVMYXlvdXQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucmVtb3ZlSXRlbSh0aGlzLmRldGFpbGVkU3RhckxheWVyVmlldyk7XHJcbiAgICAgICAgICAgIHRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHNob3dIaWRlT3ZlcmxheUNsaWNrZWQgPSAoc2VuZGVyOiBDb250cm9sKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMudmlld01vZGVsLnN0YXRlID09IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLnZpc2libGUpIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS5iZWZvcmVWaXNpYmxlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLnZpc2libGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcbiAgICAgICAgdGhpcy5zaG93T3ZlckxheWVyQnV0dG9uLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcbiAgICAgICAgdmFyIHNwYWNlID0gdGhpcy5zaG93T3ZlckxheWVyQnV0dG9uLmRpbWVuc2lvbnMuaGVpZ2h0ICogMjtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC51cGRhdGVMYXlvdXQoY3R4LCBuZXcgUmVjdGFuZ2xlKGJvdW5kcy54LCBib3VuZHMueSArIHNwYWNlLCBib3VuZHMud2lkdGgsIGJvdW5kcy5oZWlnaHQgLSBzcGFjZSkpO1xyXG4gICAgICAgIGlmICh0aGlzLmRldGFpbGVkU3RhckxheWVyVmlldykge1xyXG4gICAgICAgICAgICB0aGlzLmRldGFpbGVkU3RhckxheWVyVmlldy51cGRhdGVMYXlvdXQoY3R4LCBuZXcgUmVjdGFuZ2xlKGJvdW5kcy54ICsgdGhpcy5zZXR0aW5nc0xpc3QuZGltZW5zaW9ucy53aWR0aCwgYm91bmRzLnkgKyBzcGFjZSwgYm91bmRzLndpZHRoLCBib3VuZHMuaGVpZ2h0IC0gc3BhY2UpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG1vdXNlTW92ZSA9IChldjogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnZpZXdNb2RlbC5zdGF0ZSA9PSBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS5oaWRkZW4gfHwgdGhpcy52aWV3TW9kZWwuc3RhdGUgPT0gU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUuYmVmb3JlVmlzaWJsZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLmJlZm9yZVZpc2libGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzdXBlci5tb3VzZU1vdmUoZXYpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtb3VzZUluYWN0aXZpdHlIYW5kbGVyID0gKCkgPT4ge1xyXG4gICAgICAgIGlmIChEYXRlLm5vdygpIC0gdGhpcy5sYXN0TW92ZWQgPj0gdGhpcy5pbmFjdGl2aXR5VGltZW91dCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy52aWV3TW9kZWwuc3RhdGUgPT0gU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUuYmVmb3JlVmlzaWJsZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZShTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS5oaWRkZW4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dCh0aGlzLm1vdXNlSW5hY3Rpdml0eUhhbmRsZXIsIHRoaXMuaW5hY3Rpdml0eVRpbWVvdXQgLSAoRGF0ZS5ub3coKSAtIHRoaXMubGFzdE1vdmVkKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0U3RhdGUgPSAoc3RhdGU6IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlKSA9PiB7XHJcbiAgICAgICAgc3dpdGNoIChzdGF0ZSkge1xyXG4gICAgICAgICAgICBjYXNlIFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLmhpZGRlbjpcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucmVtb3ZlSXRlbSh0aGlzLnNob3dPdmVyTGF5ZXJCdXR0b24pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3TW9kZWwuc3RhdGUgPSBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS5oaWRkZW47XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS5iZWZvcmVWaXNpYmxlOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0TW92ZWQgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudmlld01vZGVsLnN0YXRlID09IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLmhpZGRlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQodGhpcy5tb3VzZUluYWN0aXZpdHlIYW5kbGVyLCB0aGlzLmluYWN0aXZpdHlUaW1lb3V0KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuLmFkZEl0ZW1JZk5vdEV4aXN0cyh0aGlzLnNob3dPdmVyTGF5ZXJCdXR0b24pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudmlld01vZGVsLnN0YXRlID09IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLnZpc2libGUpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMubW91c2VJbmFjdGl2aXR5SGFuZGxlciwgdGhpcy5pbmFjdGl2aXR5VGltZW91dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5yZW1vdmVJdGVtSWZFeGlzdHModGhpcy5zZXR0aW5nc0xpc3QpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucmVtb3ZlSXRlbUlmRXhpc3RzKHRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRldGFpbGVkU3RhckxheWVyVmlldyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMudmlld01vZGVsLnN0YXRlID0gU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUuYmVmb3JlVmlzaWJsZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLnZpc2libGU6XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy52aWV3TW9kZWwuc3RhdGUgPT0gU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUuYmVmb3JlVmlzaWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaCh0aGlzLnNldHRpbmdzTGlzdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdNb2RlbC5zdGF0ZSA9IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLnZpc2libGU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi9hcHBcIjtcclxuaW1wb3J0IHsgU3RhckxheWVyIH0gZnJvbSBcIi4vbW9kZWxzL3N0YXJMYXllclwiO1xyXG5pbXBvcnQgeyBFQW5pbWF0aW9uIH0gZnJvbSBcIi4uL2VuYy9zcmMvZUFuaW1hdGlvblwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFN0YXJMYXllckFuaW1hdG9yIHtcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBzdGFyTGF5ZXI6IFN0YXJMYXllcikge1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGUgPSAodGltZURpZmY6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGZvciAoY29uc3Qgc3RhciBvZiB0aGlzLnN0YXJMYXllci5zdGFycykge1xyXG4gICAgICAgICAgICBzdGFyLnggKz0gdGhpcy5zdGFyTGF5ZXIuc3BlZWQgKiB0aW1lRGlmZjtcclxuICAgICAgICAgICAgaWYgKHN0YXIueCA+IEFwcC5zZXR0aW5ncy53aWR0aCkge1xyXG4gICAgICAgICAgICAgICAgc3Rhci54IC09IEFwcC5zZXR0aW5ncy53aWR0aDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBEaW5qZWN0IHtcclxuICAgIHByaXZhdGUgc3RhdGljIGluc3RhbmNlczogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9IHt9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBhZGRJbnN0YW5jZSA9IChuYW1lOiBzdHJpbmcsIGluc3RhbmNlOiBhbnkpID0+IHtcclxuICAgICAgICBEaW5qZWN0Lmluc3RhbmNlc1tuYW1lXSA9IGluc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0SW5zdGFuY2UgPSA8VD4obmFtZTogc3RyaW5nKTogVCA9PiB7XHJcbiAgICAgICAgcmV0dXJuIDxUPkRpbmplY3QuaW5zdGFuY2VzW25hbWVdO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgTGF5b3V0VmlldyB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xheW91dFZpZXdcIjtcclxuXHJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2J1dHRvblwiO1xyXG5pbXBvcnQgeyBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24gfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9hbGlnbmVtZW50L3ZlcnRpY2FsQWxpZ25lbWVudE9wdGlvblwiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgTGlzdFZpZXcgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9sYXlvdXRDb250cm9scy9saXN0Vmlld1wiO1xyXG5pbXBvcnQgeyBPcmllbnRhdGlvbiB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvb3JpZW50YXRpb25cIjtcclxuaW1wb3J0IHsgRGluamVjdCB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL2RpbmplY3RcIjtcclxuaW1wb3J0IHsgQXVkaW9NYW5hZ2VyIH0gZnJvbSBcIi4uL2F1ZGlvTWFuYWdlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBsYXllclZpZXcgZXh0ZW5kcyBMYXlvdXRWaWV3IHtcclxuXHJcbiAgICBwcml2YXRlIHBsYXlJY29uVGV4dCA9IFwiXFx1ZjA0YlwiXHJcbiAgICBwcml2YXRlIHBhdXNlSWNvblRleHQgPSBcIlxcdWYwNGNcIlxyXG4gICAgcHJpdmF0ZSBzdG9wSWNvblRleHQgPSBcIlxcdWYwNGRcIlxyXG4gICAgcHJpdmF0ZSBuZXh0SWNvblRleHQgPSBcIlxcdWYwNTFcIlxyXG4gICAgcHJpdmF0ZSBwcmV2aW91c0ljb25UZXh0ID0gXCJcXHVmMDQ4XCJcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG5cclxuICAgICAgICB2YXIgYXVkaW9NYW5hZ2VyOiBBdWRpb01hbmFnZXIgPSBEaW5qZWN0LmdldEluc3RhbmNlKFwiYXVkaW9cIik7XHJcblxyXG4gICAgICAgIHZhciBsaXN0VmlldyA9IG5ldyBMaXN0VmlldygpO1xyXG4gICAgICAgIGxpc3RWaWV3LmFsaWduZW1lbnQudmVydGljYWxBbGlnbiA9IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi5Cb3R0b207XHJcbiAgICAgICAgbGlzdFZpZXcuYWxpZ25lbWVudC5tYXJnaW4uYm90dG9tID0gMTA7XHJcbiAgICAgICAgbGlzdFZpZXcucHJvcGVydGllcy5vcmllbnRhdGlvbiA9IE9yaWVudGF0aW9uLkhvcml6b250YWw7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGxpc3RWaWV3KTtcclxuXHJcbiAgICAgICAgdmFyIHBsYXlQYXVzZUJ0biA9IG5ldyBCdXR0b24oKTtcclxuICAgICAgICBwbGF5UGF1c2VCdG4ucHJvcGVydGllcy5mb250UHJlZml4ID0gXCI5MDBcIlxyXG4gICAgICAgIHBsYXlQYXVzZUJ0bi5wcm9wZXJ0aWVzLmZvbnRGYW1pbHkgPSBcIidGb250IEF3ZXNvbWUgNSBGcmVlJ1wiXHJcbiAgICAgICAgcGxheVBhdXNlQnRuLnRleHQgPSB0aGlzLnBsYXlJY29uVGV4dDtcclxuICAgICAgICBwbGF5UGF1c2VCdG4uY2xpY2tlZC5hZGRFdmVudExpc3RlbmVyKCgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHBsYXlQYXVzZUJ0bi50ZXh0ID09IHRoaXMucGxheUljb25UZXh0KSB7XHJcbiAgICAgICAgICAgICAgICBhdWRpb01hbmFnZXIucGxheSgpO1xyXG4gICAgICAgICAgICAgICAgcGxheVBhdXNlQnRuLnRleHQgPSB0aGlzLnBhdXNlSWNvblRleHQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhdWRpb01hbmFnZXIucGF1c2UoKTtcclxuICAgICAgICAgICAgICAgIHBsYXlQYXVzZUJ0bi50ZXh0ID0gdGhpcy5wbGF5SWNvblRleHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBsaXN0Vmlldy5hZGRJdGVtKHBsYXlQYXVzZUJ0bik7XHJcblxyXG4gICAgICAgIHZhciBzdG9wQnRuID0gbmV3IEJ1dHRvbigpO1xyXG4gICAgICAgIHN0b3BCdG4ucHJvcGVydGllcy5mb250UHJlZml4ID0gXCI5MDBcIlxyXG4gICAgICAgIHN0b3BCdG4ucHJvcGVydGllcy5mb250RmFtaWx5ID0gXCInRm9udCBBd2Vzb21lIDUgRnJlZSdcIlxyXG4gICAgICAgIHN0b3BCdG4udGV4dCA9IHRoaXMuc3RvcEljb25UZXh0O1xyXG4gICAgICAgIHN0b3BCdG4uY2xpY2tlZC5hZGRFdmVudExpc3RlbmVyKCgpID0+IHtcclxuICAgICAgICAgICAgYXVkaW9NYW5hZ2VyLnN0b3AoKTtcclxuICAgICAgICAgICAgaWYgKHBsYXlQYXVzZUJ0bi50ZXh0ID09IHRoaXMucGF1c2VJY29uVGV4dCkge1xyXG4gICAgICAgICAgICAgICAgcGxheVBhdXNlQnRuLnRleHQgPSB0aGlzLnBsYXlJY29uVGV4dDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGxpc3RWaWV3LmFkZEl0ZW0oc3RvcEJ0bik7XHJcblxyXG4gICAgICAgIHZhciBwcmV2aW91c0J0biA9IG5ldyBCdXR0b24oKTtcclxuICAgICAgICBwcmV2aW91c0J0bi5wcm9wZXJ0aWVzLmZvbnRQcmVmaXggPSBcIjkwMFwiXHJcbiAgICAgICAgcHJldmlvdXNCdG4ucHJvcGVydGllcy5mb250RmFtaWx5ID0gXCInRm9udCBBd2Vzb21lIDUgRnJlZSdcIlxyXG4gICAgICAgIHByZXZpb3VzQnRuLnRleHQgPSB0aGlzLnByZXZpb3VzSWNvblRleHQ7XHJcbiAgICAgICAgcHJldmlvdXNCdG4uY2xpY2tlZC5hZGRFdmVudExpc3RlbmVyKCgpID0+IHtcclxuICAgICAgICAgICAgYXVkaW9NYW5hZ2VyLnByZXZpb3VzKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbGlzdFZpZXcuYWRkSXRlbShwcmV2aW91c0J0bik7XHJcblxyXG4gICAgICAgIHZhciBuZXh0QnRuID0gbmV3IEJ1dHRvbigpO1xyXG4gICAgICAgIG5leHRCdG4ucHJvcGVydGllcy5mb250UHJlZml4ID0gXCI5MDBcIlxyXG4gICAgICAgIG5leHRCdG4ucHJvcGVydGllcy5mb250RmFtaWx5ID0gXCInRm9udCBBd2Vzb21lIDUgRnJlZSdcIlxyXG4gICAgICAgIG5leHRCdG4udGV4dCA9IHRoaXMubmV4dEljb25UZXh0O1xyXG4gICAgICAgIG5leHRCdG4uY2xpY2tlZC5hZGRFdmVudExpc3RlbmVyKCgpID0+IHtcclxuICAgICAgICAgICAgYXVkaW9NYW5hZ2VyLm5leHQoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBsaXN0Vmlldy5hZGRJdGVtKG5leHRCdG4pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVMYXlvdXQoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGJvdW5kczogUmVjdGFuZ2xlKSB7XHJcbiAgICAgICAgc3VwZXIudXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgY2hpbGQudXBkYXRlTGF5b3V0KGN0eCwgdGhpcy5ib3VuZHMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IExheW91dFZpZXcgfSBmcm9tIFwiLi4vZW5jL3NyYy91aS9sYXlvdXRDb250cm9scy9sYXlvdXRWaWV3XCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi9lbmMvc3JjL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBRdWlja0RyYXdWaWV3IH0gZnJvbSBcIi4uL2VuYy9zcmMvdWkvcXVpY2tEcmF3Vmlld1wiO1xyXG5pbXBvcnQgeyBTdGFyTGF5ZXJEcmF3ZXIgfSBmcm9tIFwiLi9zdGFyTGF5ZXJEcmF3ZXJcIjtcclxuaW1wb3J0IHsgU2V0dGluZ3NPdmVybGF5VmlldyB9IGZyb20gXCIuL292ZXJsYXkvc2V0dGluZ3NPdmVybGF5Vmlld1wiO1xyXG5pbXBvcnQgeyBTdGFyTGF5ZXIgfSBmcm9tIFwiLi9tb2RlbHMvc3RhckxheWVyXCI7XHJcbmltcG9ydCB7IEFwcCB9IGZyb20gXCIuL2FwcFwiO1xyXG5pbXBvcnQgeyBTdGFyTGF5ZXJBbmltYXRvciB9IGZyb20gXCIuL3N0YXJMYXllckFuaW1hdG9yXCI7XHJcbmltcG9ydCB7IEVBbmltYXRpb24gfSBmcm9tIFwiLi4vZW5jL3NyYy9lQW5pbWF0aW9uXCI7XHJcbmltcG9ydCB7IFNldHRpbmdPcGVyYXRpb24gfSBmcm9tIFwiLi9zZXR0aW5ncy9zZXR0aW5nT3BlcmF0aW9uXCI7XHJcbmltcG9ydCB7IERpbmplY3QgfSBmcm9tIFwiLi4vZW5jL3NyYy9kaW5qZWN0XCI7XHJcbmltcG9ydCB7IFBsYXllclZpZXcgfSBmcm9tIFwiLi9wbGF5ZXIvcGxheWVyVmlld1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEluc3BpZXJ0eVBsYXllclZpZXcgZXh0ZW5kcyBMYXlvdXRWaWV3IHtcclxuICAgIHByaXZhdGUgc3RhckxheWVyczogU3RhckxheWVyRHJhd2VyW10gPSBbXTtcclxuICAgIHByaXZhdGUgc3RhckFuaW1hdG9yczogU3RhckxheWVyQW5pbWF0b3JbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBzZXR0aW5nc092ZXJsYXk6IFNldHRpbmdzT3ZlcmxheVZpZXc7XHJcblxyXG4gICAgcHJpdmF0ZSBhbmltYXRpb246IEVBbmltYXRpb247XHJcbiAgICBwbGF5ZXJWaWV3OiBQbGF5ZXJWaWV3O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uID0gRGluamVjdC5nZXRJbnN0YW5jZShcImFuaW1hdGlvblwiKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc092ZXJsYXkgPSBuZXcgU2V0dGluZ3NPdmVybGF5VmlldygpO1xyXG4gICAgICAgIHRoaXMucGxheWVyVmlldyA9IG5ldyBQbGF5ZXJWaWV3KCk7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHRoaXMucGxheWVyVmlldyk7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHRoaXMuc2V0dGluZ3NPdmVybGF5KTtcclxuICAgICAgICBBcHAuc2V0dGluZ01hbmFnZXIudXBkYXRlLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5hcHBTZXR0aW5nc1VwZGF0ZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYXBwU2V0dGluZ3NVcGRhdGVkID0gKG9wZXJhdGlvbjogU2V0dGluZ09wZXJhdGlvbikgPT4ge1xyXG4gICAgICAgIHN3aXRjaCAob3BlcmF0aW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgU2V0dGluZ09wZXJhdGlvbi5BZGRTdGFyTGF5ZXI6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFN0YXJMYXllcigpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgU2V0dGluZ09wZXJhdGlvbi5SZW1vdmVTdGFyTGF5ZXI6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZVN0YXJMYXllcigpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGRTdGFyTGF5ZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgZm9yIChjb25zdCBzdGFyTGF5ZXIgb2YgQXBwLnNldHRpbmdzLnN0YXJMYXllcnMpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc3RhckxheWVycy5maXJzdE9yRGVmYXVsdCh4ID0+IHguc3RhckxheWVyID09IHN0YXJMYXllcikgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGxheWVyID0gbmV3IFN0YXJMYXllckRyYXdlcihzdGFyTGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFyTGF5ZXJzLnB1c2gobGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5zcGxpY2UoMCwgMCwgbGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy50cmlnZ2VyVXBkYXRlTGF5b3V0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGFuaW1hdG9yID0gbmV3IFN0YXJMYXllckFuaW1hdG9yKHN0YXJMYXllcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvbi5hZGRVcGRhdGVGdW5jdGlvbihhbmltYXRvci51cGRhdGUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFyQW5pbWF0b3JzLnB1c2goYW5pbWF0b3IpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZVN0YXJMYXllciA9ICgpID0+IHtcclxuICAgICAgICBmb3IgKGNvbnN0IHN0YXJMYXllckRyYXdzIG9mIHRoaXMuc3RhckxheWVycykge1xyXG4gICAgICAgICAgICBpZiAoQXBwLnNldHRpbmdzLnN0YXJMYXllcnMuZmlyc3RPckRlZmF1bHQoeCA9PiB4ID09IHN0YXJMYXllckRyYXdzLnN0YXJMYXllcikgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGFuaW1hdG9yID0gdGhpcy5zdGFyQW5pbWF0b3JzLmZpcnN0KHggPT4geC5zdGFyTGF5ZXIgPT0gc3RhckxheWVyRHJhd3Muc3RhckxheWVyKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uLnJlbW92ZVVwZGF0ZUZ1bmN0aW9uKGFuaW1hdG9yLnVwZGF0ZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJBbmltYXRvcnMucmVtb3ZlSXRlbShhbmltYXRvcik7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5yZW1vdmUoeCA9PiB4ID09IHN0YXJMYXllckRyYXdzKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhckxheWVycy5yZW1vdmUoeCA9PiB4ID09IHN0YXJMYXllckRyYXdzKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlclVwZGF0ZUxheW91dCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVMYXlvdXQoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGJvdW5kczogUmVjdGFuZ2xlKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5ib3VuZHMgPSBib3VuZHM7XHJcbiAgICAgICAgZm9yIChjb25zdCBsYXllciBvZiB0aGlzLnN0YXJMYXllcnMpIHtcclxuICAgICAgICAgICAgbGF5ZXIudXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc092ZXJsYXkudXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuICAgICAgICB0aGlzLnBsYXllclZpZXcudXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFN0YXIgfSBmcm9tIFwiLi9zdGFyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU3RhckxheWVyIHtcclxuICAgIHB1YmxpYyBzdGFyczogU3RhcltdID0gW107XHJcbiAgICBwdWJsaWMgc3BlZWQgPSBNYXRoLnJhbmRvbSgpICogMjAgKyA1O1xyXG59IiwiZXhwb3J0IHR5cGUgVXBkYXRlRnVuY3Rpb24gPSAodGltZURpZmY6IG51bWJlcikgPT4gdm9pZDtcclxuXHJcbmV4cG9ydCBjbGFzcyBFQW5pbWF0aW9uIHtcclxuICAgIHByaXZhdGUgdXBkYXRlRnVuY3Rpb25zOiBVcGRhdGVGdW5jdGlvbltdID0gW107XHJcbiAgICBwcml2YXRlIGlzUnVubmluZyA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBsYXN0RnJhbWVUaW1lOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGZwczogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBmcHNJbnRlcnZhbDogbnVtYmVyO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnNldEZwcygzMCk7XHJcbiAgICAgICAgdGhpcy5wbGF5KCk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gODApIHsgLy8gcFxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5UGF1c2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwbGF5KCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc1J1bm5pbmcpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJwbGF5XCIpO1xyXG4gICAgICAgICAgICB0aGlzLmlzUnVubmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdEZyYW1lVGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uTG9vcCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGF1c2UoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNSdW5uaW5nKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicGF1c2VcIik7XHJcbiAgICAgICAgICAgIHRoaXMuaXNSdW5uaW5nID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwbGF5UGF1c2UoKSB7XHJcbiAgICAgICAgdGhpcy5pc1J1bm5pbmcgPyB0aGlzLnBhdXNlKCkgOiB0aGlzLnBsYXkoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkVXBkYXRlRnVuY3Rpb24gPSAoZnVuYzogVXBkYXRlRnVuY3Rpb24pID0+IHtcclxuICAgICAgICB0aGlzLnVwZGF0ZUZ1bmN0aW9ucy5wdXNoKGZ1bmMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVVcGRhdGVGdW5jdGlvbiA9IChmdW5jOiBVcGRhdGVGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlRnVuY3Rpb25zLnNwbGljZSh0aGlzLnVwZGF0ZUZ1bmN0aW9ucy5pbmRleE9mKGZ1bmMpLCAxKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0RnBzID0gKGZwczogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgdGhpcy5mcHMgPSBmcHM7XHJcbiAgICAgICAgdGhpcy5mcHNJbnRlcnZhbCA9IDEwMDAgLyB0aGlzLmZwcztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFuaW1hdGlvbkxvb3AgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNSdW5uaW5nKSB7XHJcbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmFuaW1hdGlvbkxvb3ApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIG5vdyA9IERhdGUubm93KCk7XHJcbiAgICAgICAgdmFyIGVsYXBzZWQgPSBub3cgLSB0aGlzLmxhc3RGcmFtZVRpbWU7XHJcblxyXG4gICAgICAgIGlmIChlbGFwc2VkID4gdGhpcy5mcHNJbnRlcnZhbCkge1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RGcmFtZVRpbWUgPSBub3c7XHJcbiAgICAgICAgICAgIHZhciB0aW1lRGlmZiA9IGVsYXBzZWQgLyAxMDAwO1xyXG5cclxuICAgICAgICAgICAgZm9yIChjb25zdCB1cGRhdGVGdW5jdGlvbiBvZiB0aGlzLnVwZGF0ZUZ1bmN0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlRnVuY3Rpb24odGltZURpZmYpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIENhbnZhc0hlbHBlciB7XHJcbiAgICBwdWJsaWMgbG9hZEZvbnRhd2Vzb21lRnJlZSA9ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5sb2FkRm9udChcIlxcdWYyNDRcIiwgXCJcXHVmMjQwXCIsIFwiOTAwIDIwcHggJ0ZvbnQgQXdlc29tZSA1IEZyZWUnXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBsb2FkRm9udGF3ZXNvbWVCcmFuZHMgPSAoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZEZvbnQoXCJcXHVmM2QzXCIsIFwiXFx1ZjNiOFwiLCBcIjQwMCAyMHB4ICdGb250IEF3ZXNvbWUgNSBCcmFuZHMnXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY291bnRQaXhlbHMgPSAoaW1hZ2VEYXRhOiBJbWFnZURhdGEpID0+IHtcclxuICAgICAgICB2YXIgcGl4ZWxDb3VudCA9IDA7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbWFnZURhdGEuZGF0YS5sZW5ndGg7IGkgPSBpICsgNCkge1xyXG4gICAgICAgICAgICB2YXIgciA9IGltYWdlRGF0YS5kYXRhW2ldO1xyXG4gICAgICAgICAgICB2YXIgZyA9IGltYWdlRGF0YS5kYXRhW2kgKyAxXTtcclxuICAgICAgICAgICAgdmFyIGIgPSBpbWFnZURhdGEuZGF0YVtpICsgMl07XHJcbiAgICAgICAgICAgIHZhciBhID0gaW1hZ2VEYXRhLmRhdGFbaSArIDNdO1xyXG5cclxuICAgICAgICAgICAgaWYgKHIgPCA1MCAmJiBnIDwgNTAgJiYgYiA8IDUwICYmIGEgPiAwLjkpIHtcclxuICAgICAgICAgICAgICAgIHBpeGVsQ291bnQrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcGl4ZWxDb3VudFxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0SWNvblBpeGVscyA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCwgaWNvbjogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xyXG4gICAgICAgIGN0eC5maWxsVGV4dChpY29uLCAwLCAwKTtcclxuICAgICAgICB2YXIgaW1hZ2VEYXRhID0gY3R4LmdldEltYWdlRGF0YSgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xyXG4gICAgICAgIHZhciBpY29uMVBpeGVsQ291bnQgPSB0aGlzLmNvdW50UGl4ZWxzKGltYWdlRGF0YSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJpY29uIDEgcGl4ZWwgY291bnQ6IFwiICsgaWNvbjFQaXhlbENvdW50KTtcclxuICAgICAgICByZXR1cm4gaWNvbjFQaXhlbENvdW50O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbG9hZEZvbnQgPSAoaWNvbjE6IHN0cmluZywgaWNvbjI6IHN0cmluZywgZm9udDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgdmFyIHJldHJ5RGVsYXlNcyA9IDUwMDtcclxuICAgICAgICB2YXIgcmV0cmllcyA9IDEwXHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwibG9hZGluZyBmb250IFxcXCJcIiArIGZvbnQgKyBcIlxcXCJcIik7XHJcblxyXG4gICAgICAgICAgICB2YXIgdGVtcENhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG4gICAgICAgICAgICB0ZW1wQ2FudmFzLndpZHRoID0gMjA7XHJcbiAgICAgICAgICAgIHRlbXBDYW52YXMuaGVpZ2h0ID0gMjA7XHJcbiAgICAgICAgICAgIHZhciB0ZW1wQ3R4ID0gdGVtcENhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgICAgICB0ZW1wQ3R4LmZvbnQgPSBmb250O1xyXG4gICAgICAgICAgICB0ZW1wQ3R4LmZpbGxTdHlsZSA9IFwiYmxhY2tcIjtcclxuICAgICAgICAgICAgdGVtcEN0eC50ZXh0QWxpZ24gPSBcImxlZnRcIjtcclxuICAgICAgICAgICAgdGVtcEN0eC50ZXh0QmFzZWxpbmUgPSBcInRvcFwiO1xyXG5cclxuICAgICAgICAgICAgdmFyIGNoZWNrTG9hZGVkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIGljb24xUGl4ZWxDb3VudCA9IHRoaXMuZ2V0SWNvblBpeGVscyh0ZW1wQ3R4LCB0ZW1wQ2FudmFzLCBpY29uMSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgaWNvbjJQaXhlbENvdW50ID0gdGhpcy5nZXRJY29uUGl4ZWxzKHRlbXBDdHgsIHRlbXBDYW52YXMsIGljb24yKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZGlmZlBpeGVscyA9IE1hdGguYWJzKGljb24yUGl4ZWxDb3VudCAtIGljb24xUGl4ZWxDb3VudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGRpZmZQaXhlbHMgPiA1KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJmb250IGxvYWRlZFwiKTtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHJpZXMtLTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmV0cmllcyA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic3RvcCBsb2FkaW5nIGZvbnQgYWZ0ZXIgXCIgKyByZXRyaWVzICsgXCIgcmV0cmllcyB3aXRoIFwiICsgcmV0cnlEZWxheU1zICsgXCJtcyBkZWxheVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIndhaXRpbmcgYSB3aGlsZSAoXCIgKyByZXRyeURlbGF5TXMgKyBcIm1zKVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja0xvYWRlZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCByZXRyeURlbGF5TXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjaGVja0xvYWRlZCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGFic3RyYWN0IGNsYXNzIEF1ZGlvR3JhcGhOb2RlIHtcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBuYW1lOiBzdHJpbmcsIHByb3RlY3RlZCBhdWRpb0N0eDogQXVkaW9Db250ZXh0KSB7IH1cclxuXHJcbiAgICBwdWJsaWMgYWJzdHJhY3QgZ2V0QXVkaW9Ob2RlKCk6IEF1ZGlvTm9kZTtcclxuICAgIHB1YmxpYyBhYnN0cmFjdCByZWxvYWQoKTogUHJvbWlzZTx2b2lkPjtcclxufSIsImltcG9ydCB7IEF1ZGlvR3JhcGhOb2RlIH0gZnJvbSBcIi4vYXVkaW9HcmFwaE5vZGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBdWRpb0dyYXBoTm9kZUFuYWx5c2VyIGV4dGVuZHMgQXVkaW9HcmFwaE5vZGUge1xyXG4gICAgYW5hbHlzZXJOb2RlOiBBbmFseXNlck5vZGU7XHJcbiAgICBidWZmZXJMZW5ndGg6IG51bWJlcjtcclxuICAgIGRhdGFBcnJheTogVWludDhBcnJheTtcclxuXHJcbiAgICBwdWJsaWMgZ2V0QXVkaW9Ob2RlID0gKCk6IEF1ZGlvTm9kZSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYW5hbHlzZXJOb2RlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZWxvYWQoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmFuYWx5c2VyTm9kZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hbmFseXNlck5vZGUgPSB0aGlzLmF1ZGlvQ3R4LmNyZWF0ZUFuYWx5c2VyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5hbmFseXNlck5vZGUuZmZ0U2l6ZSA9IDMyO1xyXG4gICAgICAgICAgICB0aGlzLmFuYWx5c2VyTm9kZS5zbW9vdGhpbmdUaW1lQ29uc3RhbnQgPSAwLjk7XHJcbiAgICAgICAgICAgIHRoaXMuYnVmZmVyTGVuZ3RoID0gdGhpcy5hbmFseXNlck5vZGUuZnJlcXVlbmN5QmluQ291bnQ7XHJcbiAgICAgICAgICAgIHRoaXMuZGF0YUFycmF5ID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5idWZmZXJMZW5ndGgpO1xyXG4gICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFNwZWN0cnVtKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmFuYWx5c2VyTm9kZSkge1xyXG4gICAgICAgICAgICB0aGlzLmFuYWx5c2VyTm9kZS5nZXRCeXRlRnJlcXVlbmN5RGF0YSh0aGlzLmRhdGFBcnJheSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGFBcnJheTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KDApO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRXYXZlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmFuYWx5c2VyTm9kZSkge1xyXG4gICAgICAgICAgICB0aGlzLmFuYWx5c2VyTm9kZS5nZXRCeXRlVGltZURvbWFpbkRhdGEodGhpcy5kYXRhQXJyYXkpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhQXJyYXk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheSgwKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEF1ZGlvR3JhcGhOb2RlIH0gZnJvbSBcIi4vYXVkaW9HcmFwaE5vZGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBdWRpb0dyYXBoTm9kZURlc3RpbmF0aW9uIGV4dGVuZHMgQXVkaW9HcmFwaE5vZGUge1xyXG4gICAgcHVibGljIGdldEF1ZGlvTm9kZSA9ICgpOiBBdWRpb05vZGUgPT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmF1ZGlvQ3R4LmRlc3RpbmF0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZWxvYWQoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQXVkaW9HcmFwaE5vZGUgfSBmcm9tIFwiLi9hdWRpb0dyYXBoTm9kZVwiO1xyXG5pbXBvcnQgeyBFRXZlbnQgfSBmcm9tIFwiLi4vZUV2ZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQXVkaW9HcmFwaE5vZGVFbGVtZW50U291cmNlIGV4dGVuZHMgQXVkaW9HcmFwaE5vZGUge1xyXG4gICAgcHVibGljIHVybDogc3RyaW5nO1xyXG4gICAgcHVibGljIGF1ZGlvRW5kZWQgPSBuZXcgRUV2ZW50KCk7XHJcblxyXG4gICAgcHJpdmF0ZSBzb3VyY2U6IE1lZGlhRWxlbWVudEF1ZGlvU291cmNlTm9kZTtcclxuICAgIHByaXZhdGUgYXVkaW86IEhUTUxBdWRpb0VsZW1lbnQ7XHJcblxyXG4gICAgY29uc3RydWN0b3IobmFtZTogc3RyaW5nLCBhdWRpb0N0eDogQXVkaW9Db250ZXh0LCB1cmw6IHN0cmluZykge1xyXG4gICAgICAgIHN1cGVyKG5hbWUsIGF1ZGlvQ3R4KTtcclxuICAgICAgICB0aGlzLnVybCA9IHVybDtcclxuXHJcbiAgICAgICAgdGhpcy5hdWRpbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2F1ZGlvJyk7XHJcbiAgICAgICAgdGhpcy5hdWRpby5jb250cm9scyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5hdWRpby5zcmMgPSB0aGlzLnVybDtcclxuICAgICAgICB0aGlzLmF1ZGlvLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLCB0aGlzLmF1ZGlvRW5kZWRFdmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhdWRpb0VuZGVkRXZlbnQgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5hdWRpb0VuZGVkLmRpc3BhdGNoRXZlbnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0QXVkaW9Ob2RlID0gKCk6IEF1ZGlvTm9kZSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZWxvYWQoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLnNvdXJjZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb3VyY2UgPSB0aGlzLmF1ZGlvQ3R4LmNyZWF0ZU1lZGlhRWxlbWVudFNvdXJjZSh0aGlzLmF1ZGlvKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBsYXkgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5hdWRpby5wbGF5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBhdXNlID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuYXVkaW8ucGF1c2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RvcCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmF1ZGlvLnBhdXNlKCk7XHJcbiAgICAgICAgdGhpcy5hdWRpby5jdXJyZW50VGltZSA9IDA7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFVybCA9ICh1cmw6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIHZhciBwbGF5ID0gIXRoaXMuYXVkaW8ucGF1c2VkO1xyXG4gICAgICAgIHRoaXMudXJsID0gdXJsO1xyXG4gICAgICAgIHRoaXMuYXVkaW8uc3JjID0gdXJsO1xyXG4gICAgICAgIHRoaXMuYXVkaW8ubG9hZCgpO1xyXG4gICAgICAgIGlmIChwbGF5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuYXVkaW8ucGxheSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IEF1ZGlvR3JhcGhOb2RlIH0gZnJvbSBcIi4vYXVkaW9HcmFwaE5vZGVcIjtcclxuaW1wb3J0IHsgQXVkaW9HcmFwaE5vZGVBbmFseXNlciB9IGZyb20gXCIuL2F1ZGlvR3JhcGhOb2RlQW5hbHlzZXJcIjtcclxuaW1wb3J0IHsgQXVkaW9HcmFwaE5vZGVEZXN0aW5hdGlvbiB9IGZyb20gXCIuL2F1ZGlvR3JhcGhOb2RlRGVzdGluYXRpb25cIjtcclxuaW1wb3J0IHsgQXVkaW9HcmFwaE5vZGVFbGVtZW50U291cmNlIH0gZnJvbSBcIi4vYXVkaW9HcmFwaE5vZGVFbGVtZW50U291cmNlXCI7XHJcbmltcG9ydCB7IEF1ZGlvR3JhcGhOb2RlU3RyZWFtU291cmNlIH0gZnJvbSBcIi4vYXVkaW9HcmFwaE5vZGVTdHJlYW1Tb3VyY2VcIjtcclxuaW1wb3J0IHsgRUV2ZW50VCB9IGZyb20gXCIuLi9lRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBdWRpb0dyYXBoIHtcclxuICAgIHB1YmxpYyBhdWRpb0N0eDogQXVkaW9Db250ZXh0O1xyXG5cclxuICAgIC8vIHByaXZhdGUgc291cmNlTm9kZTogQXVkaW9HcmFwaE5vZGU8QXVkaW9Ob2RlPjtcclxuICAgIC8vIHByaXZhdGUgYW5hbHl6ZXJOb2RlOiBBdWRpb0dyYXBoTm9kZUFuYWx5c2VyO1xyXG5cclxuICAgIC8vIHJlbW92ZSBnZW5lcmljIFQ/XHJcbiAgICBwcml2YXRlIGF1ZGlvTm9kZXM6IEF1ZGlvR3JhcGhOb2RlW10gPSBbXTtcclxuXHJcbiAgICBwdWJsaWMgZGVzdGluYXRpb25Ob2RlOiBBdWRpb0dyYXBoTm9kZTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmF1ZGlvQ3R4ID0gbmV3IEF1ZGlvQ29udGV4dCgpO1xyXG4gICAgICAgIHRoaXMuYXVkaW9DdHguYWRkRXZlbnRMaXN0ZW5lcihcInN0YXRlY2hhbmdlXCIsIHRoaXMuYXVkaW9Db250ZXh0U3RhdGVDaGFuZ2VkRXZhbHVhdG9yKTtcclxuICAgICAgICBpZiAodGhpcy5hdWRpb0N0eC5zdGF0ZSA9PT0gXCJzdXNwZW5kZWRcIikge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5kb2N1bWVudENsaWNrKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJBdWRpbyBjb250ZXh0IGlzIHN1c3BlbmRlZC4gQ2xpY2sgdGhlIGRvbSB0byBtYWtlIGl0IHJ1bm5pbmcuXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uTm9kZSA9IG5ldyBBdWRpb0dyYXBoTm9kZURlc3RpbmF0aW9uKFwiZGVzdGluYXRpb25cIiwgdGhpcy5hdWRpb0N0eCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZE1lZGlhRWxlbWVudFNvdXJjZSA9IChuYW1lOiBzdHJpbmcsIHVybDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgdmFyIHNvdXJjZU5vZGUgPSBuZXcgQXVkaW9HcmFwaE5vZGVFbGVtZW50U291cmNlKG5hbWUsIHRoaXMuYXVkaW9DdHgsIHVybCk7XHJcbiAgICAgICAgdGhpcy5hdWRpb05vZGVzLnB1c2goc291cmNlTm9kZSk7XHJcbiAgICAgICAgcmV0dXJuIHNvdXJjZU5vZGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZEFuYWx5emVyID0gKG5hbWU6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIHZhciBhbmFseXplck5vZGUgPSBuZXcgQXVkaW9HcmFwaE5vZGVBbmFseXNlcihuYW1lLCB0aGlzLmF1ZGlvQ3R4KTtcclxuICAgICAgICB0aGlzLmF1ZGlvTm9kZXMucHVzaChhbmFseXplck5vZGUpO1xyXG4gICAgICAgIHJldHVybiBhbmFseXplck5vZGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEF1ZGlvR3JhcGhOb2RlID0gKG5hbWU6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmF1ZGlvTm9kZXMuZmlyc3QoeCA9PiB4Lm5hbWUgPT0gbmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcHVibGljIHBsYXlVcmwgPSAodXJsOiBzdHJpbmcpID0+IHtcclxuICAgIC8vICAgICB0aGlzLnNvdXJjZU5vZGUgPSBuZXcgQXVkaW9HcmFwaE5vZGVFbGVtZW50U291cmNlKHRoaXMuYXVkaW9DdHgsIHVybCk7XHJcbiAgICAvLyAgICAgaWYgKHRoaXMuYXVkaW9DdHguc3RhdGUgPT09IFwicnVubmluZ1wiKSB7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuYnVpbGRHcmFwaCgpO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBwdWJsaWMgcGxheVN0cmVhbSA9ICgpID0+IHtcclxuICAgIC8vICAgICB0aGlzLnNvdXJjZU5vZGUgPSBuZXcgQXVkaW9HcmFwaE5vZGVTdHJlYW1Tb3VyY2UodGhpcy5hdWRpb0N0eCk7XHJcbiAgICAvLyAgICAgaWYgKHRoaXMuYXVkaW9DdHguc3RhdGUgPT09IFwicnVubmluZ1wiKSB7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuYnVpbGRHcmFwaCgpO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH1cclxuXHJcbiAgICBwdWJsaWMgYXVkaW9Db250ZXh0U3RhdGVDaGFuZ2VkID0gbmV3IEVFdmVudFQ8c3RyaW5nPigpO1xyXG5cclxuICAgIHByaXZhdGUgZG9jdW1lbnRDbGljayA9ICgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5hdWRpb0N0eC5zdGF0ZSA9PT0gXCJzdXNwZW5kZWRcIikge1xyXG4gICAgICAgICAgICB0aGlzLmF1ZGlvQ3R4LnJlc3VtZSgpO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5kb2N1bWVudENsaWNrKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhdWRpb0NvbnRleHRTdGF0ZUNoYW5nZWRFdmFsdWF0b3IgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuYXVkaW9DdHguc3RhdGUgPT09IFwicnVubmluZ1wiKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiYXVkaW8gY29udGV4dCBzdGF0ZSBjaGFuZ2VkXCIpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgdGhpcy5hdWRpb0N0eC5yZW1vdmVFdmVudExpc3RlbmVyKFwic3RhdGVjaGFuZ2VcIiwgdGhpcy5hdWRpb0NvbnRleHRTdGF0ZUNoYW5nZWRFdmFsdWF0b3IpO1xyXG4gICAgICAgICAgICB0aGlzLnJlbG9hZCgpXHJcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hdWRpb0NvbnRleHRTdGF0ZUNoYW5nZWQuZGlzcGF0Y2hFdmVudCh0aGlzLmF1ZGlvQ3R4LnN0YXRlKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVsb2FkID0gKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmVhbG9hZGluZyBhdWRpbyBncmFwaFwiKTtcclxuICAgICAgICAgICAgUHJvbWlzZS5hbGwodGhpcy5hdWRpb05vZGVzLm1hcCh4ID0+IHgucmVsb2FkKCkpKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicmVsb2FkZWQgYXVkaW8gZ3JhcGhcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmF1ZGlvTm9kZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYXVkaW9Ob2RlID0gdGhpcy5hdWRpb05vZGVzW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhdWRpb05vZGUuZ2V0QXVkaW9Ob2RlKCkuZGlzY29ubmVjdCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgPCB0aGlzLmF1ZGlvTm9kZXMubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXVkaW9Ob2RlLmdldEF1ZGlvTm9kZSgpLmNvbm5lY3QodGhpcy5hdWRpb05vZGVzW2kgKyAxXS5nZXRBdWRpb05vZGUoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdWRpb05vZGUuZ2V0QXVkaW9Ob2RlKCkuY29ubmVjdCh0aGlzLmRlc3RpbmF0aW9uTm9kZS5nZXRBdWRpb05vZGUoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gcHJpdmF0ZSBidWlsZEdyYXBoKCkge1xyXG4gICAgLy8gICAgIGNvbnNvbGUubG9nKFwiQnVpbGRpbmcgYXVkaW8gZ3JhcGguXCIpO1xyXG5cclxuICAgIC8vICAgICBpZiAodGhpcy5zb3VyY2VOb2RlLmdldEF1ZGlvTm9kZSgpKSB7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuc291cmNlTm9kZS5nZXRBdWRpb05vZGUoKS5kaXNjb25uZWN0KCk7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuYW5hbHl6ZXJOb2RlLmdldEF1ZGlvTm9kZSgpLmRpc2Nvbm5lY3QoKTtcclxuICAgIC8vICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbk5vZGUuZ2V0QXVkaW9Ob2RlKCkuZGlzY29ubmVjdCgpO1xyXG4gICAgLy8gICAgICAgICB0aGlzLnNvdXJjZU5vZGUuZ2V0QXVkaW9Ob2RlKCkuY29ubmVjdCh0aGlzLmFuYWx5emVyTm9kZS5nZXRBdWRpb05vZGUoKSk7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuYW5hbHl6ZXJOb2RlLmdldEF1ZGlvTm9kZSgpLmNvbm5lY3QodGhpcy5kZXN0aW5hdGlvbk5vZGUuZ2V0QXVkaW9Ob2RlKCkpO1xyXG4gICAgLy8gICAgIH0gZWxzZSB7XHJcbiAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKFwiQXVkaW8gc291cmNlIG5vdCBhdmFpbGFibGUuIFdhaXRpbmcgc29tZSB0aW1lLlwiKTtcclxuICAgIC8vICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAvLyAgICAgICAgICAgICB0aGlzLmJ1aWxkR3JhcGgoKTtcclxuICAgIC8vICAgICAgICAgfSwgMTAwMCk7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIHB1YmxpYyBnZXRTcGVjdHJ1bSgpIHtcclxuICAgIC8vICAgICByZXR1cm4gdGhpcy5hbmFseXplck5vZGUuZ2V0U3BlY3RydW0oKTtcclxuICAgIC8vIH1cclxuXHJcbiAgICAvLyBwdWJsaWMgZ2V0V2F2ZSgpIHtcclxuICAgIC8vICAgICByZXR1cm4gdGhpcy5hbmFseXplck5vZGUuZ2V0V2F2ZSgpO1xyXG4gICAgLy8gfVxyXG59IiwiaW1wb3J0IHsgQXVkaW9HcmFwaCB9IGZyb20gXCIuLi9lbmMvc3JjL2F1ZGlvL2F1ZGlvR3JhcGhcIjtcclxuaW1wb3J0IHsgQXVkaW9HcmFwaE5vZGVFbGVtZW50U291cmNlIH0gZnJvbSBcIi4uL2VuYy9zcmMvYXVkaW8vYXVkaW9HcmFwaE5vZGVFbGVtZW50U291cmNlXCI7XHJcbmltcG9ydCB7IEF1ZGlvR3JhcGhOb2RlQW5hbHlzZXIgfSBmcm9tIFwiLi4vZW5jL3NyYy9hdWRpby9hdWRpb0dyYXBoTm9kZUFuYWx5c2VyXCI7XHJcblxyXG4vLyBpbXBvcnQgZmFpbnRBc3NldE1QMyBmcm9tIFwiLi9hc3NldHMvbXAzLWRlbW8vZGVtb18xX2ZhaW50X2NvbG9yLm1wM1wiXHJcbi8vIGltcG9ydCBwcmlzbUFzc2V0TVAzIGZyb20gXCIuL2Fzc2V0cy9tcDMtZGVtby9kZW1vXzJfcHJpc20ubXAzXCJcclxuLy8gaW1wb3J0IGhvcGVmdWxBc3NldE1QMyBmcm9tIFwiLi9hc3NldHMvbXAzLWRlbW8vZGVtb18zX2hvcGVmdWwubXAzXCJcclxuLy8gaW1wb3J0IGRlZXBBc3NldE1QMyBmcm9tIFwiLi9hc3NldHMvbXAzLWRlbW8vZGVtb180X2RlZXBfZmllbGQubXAzXCJcclxuLy8gaW1wb3J0IGdyYXZpdHlBc3NldE1QMyBmcm9tIFwiLi9hc3NldHMvbXAzLWRlbW8vZGVtb181X2dyYXZpdHkubXAzXCJcclxuLy8gaW1wb3J0IGpvdXJuZXlBc3NldE1QMyBmcm9tIFwiLi9hc3NldHMvbXAzLWRlbW8vZGVtb182X2pvdXJuZXlfdG9fdGhlX3BsYW5ldHMubXAzXCJcclxuLy8gaW1wb3J0IGRyaWZ0aW5nQXNzZXRNUDMgZnJvbSBcIi4vYXNzZXRzL21wMy1kZW1vL2RlbW9fN19kcmlmdGluZ19pbnRvX3RoZV9hdG1vc3BoZXJlLm1wM1wiXHJcblxyXG5pbXBvcnQgZmFpbnRBc3NldE1QMyBmcm9tIFwiLi9hc3NldHMvVHJhaWxlcl9Db25zdGVsbGF0aW9uLm9nZ1wiXHJcbmltcG9ydCBwcmlzbUFzc2V0TVAzIGZyb20gXCIuL2Fzc2V0cy9UcmFpbGVyX0NvbnN0ZWxsYXRpb24ub2dnXCJcclxuaW1wb3J0IGhvcGVmdWxBc3NldE1QMyBmcm9tIFwiLi9hc3NldHMvVHJhaWxlcl9Db25zdGVsbGF0aW9uLm9nZ1wiXHJcbmltcG9ydCBkZWVwQXNzZXRNUDMgZnJvbSBcIi4vYXNzZXRzL1RyYWlsZXJfQ29uc3RlbGxhdGlvbi5vZ2dcIlxyXG5pbXBvcnQgZ3Jhdml0eUFzc2V0TVAzIGZyb20gXCIuL2Fzc2V0cy9UcmFpbGVyX0NvbnN0ZWxsYXRpb24ub2dnXCJcclxuaW1wb3J0IGpvdXJuZXlBc3NldE1QMyBmcm9tIFwiLi9hc3NldHMvVHJhaWxlcl9Db25zdGVsbGF0aW9uLm9nZ1wiXHJcbmltcG9ydCBkcmlmdGluZ0Fzc2V0TVAzIGZyb20gXCIuL2Fzc2V0cy9UcmFpbGVyX0NvbnN0ZWxsYXRpb24ub2dnXCJcclxuXHJcbmV4cG9ydCBjbGFzcyBBdWRpb01hbmFnZXIge1xyXG4gICAgcHJpdmF0ZSBhdWRpb0dyYXBoOiBBdWRpb0dyYXBoO1xyXG4gICAgcHJpdmF0ZSBzb3VyY2U6IEF1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZTtcclxuICAgIHByaXZhdGUgYW5hbHlzZXI6IEF1ZGlvR3JhcGhOb2RlQW5hbHlzZXI7XHJcblxyXG4gICAgcHJpdmF0ZSBzb25ncyA9IFtcclxuICAgICAgICBmYWludEFzc2V0TVAzLFxyXG4gICAgICAgIHByaXNtQXNzZXRNUDMsXHJcbiAgICAgICAgaG9wZWZ1bEFzc2V0TVAzLFxyXG4gICAgICAgIGRlZXBBc3NldE1QMyxcclxuICAgICAgICBncmF2aXR5QXNzZXRNUDMsXHJcbiAgICAgICAgam91cm5leUFzc2V0TVAzLFxyXG4gICAgICAgIGRyaWZ0aW5nQXNzZXRNUDNcclxuICAgIF1cclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmF1ZGlvR3JhcGggPSBuZXcgQXVkaW9HcmFwaCgpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc29uZ3MpO1xyXG5cclxuICAgICAgICB0aGlzLnNvdXJjZSA9IHRoaXMuYXVkaW9HcmFwaC5hZGRNZWRpYUVsZW1lbnRTb3VyY2UoXCJzb3VyY2VcIiwgdGhpcy5zb25nc1swXSlcclxuICAgICAgICB0aGlzLmFuYWx5c2VyID0gdGhpcy5hdWRpb0dyYXBoLmFkZEFuYWx5emVyKFwiYW5hbHlzZXJcIik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbG9hZCA9ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hdWRpb0dyYXBoLnJlbG9hZCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwbGF5ID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc291cmNlLnBsYXkoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGF1c2UgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zb3VyY2UucGF1c2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbmV4dCA9ICgpID0+IHtcclxuICAgICAgICB2YXIgY3VycmVudFNvbmdJbmRleCA9IHRoaXMuc29uZ3MuaW5kZXhPZih0aGlzLnNvdXJjZS51cmwpO1xyXG4gICAgICAgIHZhciBuZXh0U29uZ0luZGV4ID0gY3VycmVudFNvbmdJbmRleCArIDE7XHJcbiAgICAgICAgaWYgKG5leHRTb25nSW5kZXggPT0gdGhpcy5zb25ncy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgbmV4dFNvbmdJbmRleCA9IDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLnNvdXJjZS5zZXRVcmwodGhpcy5zb25nc1tuZXh0U29uZ0luZGV4XSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHByZXZpb3VzID0gKCkgPT4ge1xyXG4gICAgICAgIHZhciBjdXJyZW50U29uZ0luZGV4ID0gdGhpcy5zb25ncy5pbmRleE9mKHRoaXMuc291cmNlLnVybCk7XHJcbiAgICAgICAgdmFyIHByZXZpb3VzU29uZ0luZGV4ID0gY3VycmVudFNvbmdJbmRleCAtIDE7XHJcbiAgICAgICAgaWYgKHByZXZpb3VzU29uZ0luZGV4ID09IC0xKSB7XHJcbiAgICAgICAgICAgIHByZXZpb3VzU29uZ0luZGV4ID0gdGhpcy5zb25ncy5sZW5ndGggLSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICB0aGlzLnNvdXJjZS5zZXRVcmwodGhpcy5zb25nc1twcmV2aW91c1NvbmdJbmRleF0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdG9wID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc291cmNlLnN0b3AoKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFN0YWdlIH0gZnJvbSBcIi4uL2VuYy9zcmMvdWkvc3RhZ2VcIjtcclxuaW1wb3J0IHsgSW5zcGllcnR5UGxheWVyVmlldyB9IGZyb20gXCIuL2luc3BpZXJ0eVBsYXllclZpZXdcIjtcclxuaW1wb3J0IHsgU2V0dGluZ3MgfSBmcm9tIFwiLi9tb2RlbHMvc2V0dGluZ3NcIjtcclxuaW1wb3J0IHsgU2V0dGluZ3NNYW5hZ2VyIH0gZnJvbSBcIi4vc2V0dGluZ3Mvc2V0dGluZ3NNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IERpbmplY3QgfSBmcm9tIFwiLi4vZW5jL3NyYy9kaW5qZWN0XCI7XHJcbmltcG9ydCB7IEVBbmltYXRpb24gfSBmcm9tIFwiLi4vZW5jL3NyYy9lQW5pbWF0aW9uXCI7XHJcbmltcG9ydCB7IEVDYW52YXMgfSBmcm9tIFwiLi4vZW5jL3NyYy91aS9lQ2FudmFzXCI7XHJcbmltcG9ydCB7IENhbnZhc0hlbHBlciB9IGZyb20gXCIuLi9lbmMvc3JjL3VpL2NhbnZhc0hlbHBlclwiO1xyXG5pbXBvcnQgeyBBdWRpb01hbmFnZXIgfSBmcm9tIFwiLi9hdWRpb01hbmFnZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBcHAge1xyXG4gICAgcHVibGljIHN0YXRpYyBzZXR0aW5ncyA9IG5ldyBTZXR0aW5ncyh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcclxuICAgIHB1YmxpYyBzdGF0aWMgc2V0dGluZ01hbmFnZXIgPSBuZXcgU2V0dGluZ3NNYW5hZ2VyKCk7XHJcblxyXG4gICAgcHVibGljIHJ1biA9ICgpID0+IHtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiYmxhY2tcIjtcclxuXHJcbiAgICAgICAgdmFyIGF1ZGlvTWFuYWdlciA9IG5ldyBBdWRpb01hbmFnZXIoKTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJsb2FkaW5nXCIpO1xyXG5cclxuICAgICAgICBQcm9taXNlLmFsbChbXHJcbiAgICAgICAgICAgIG5ldyBDYW52YXNIZWxwZXIoKS5sb2FkRm9udGF3ZXNvbWVGcmVlKCksXHJcbiAgICAgICAgICAgIGF1ZGlvTWFuYWdlci5yZWxvYWQoKVxyXG4gICAgICAgIF0pLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImxvYWRlZFwiKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBjYW52YXMgPSBFQ2FudmFzLmNyZWF0ZUZ1bGxTY3JlZW4oKTtcclxuICAgICAgICAgICAgdmFyIHN0YWdlID0gbmV3IFN0YWdlKGNhbnZhcyk7XHJcbiAgICAgICAgICAgIHZhciBhbmltYXRpb24gPSBuZXcgRUFuaW1hdGlvbigpO1xyXG4gICAgICAgICAgICBhbmltYXRpb24uYWRkVXBkYXRlRnVuY3Rpb24oY2FudmFzLmRyYXcpO1xyXG5cclxuICAgICAgICAgICAgRGluamVjdC5hZGRJbnN0YW5jZShcImF1ZGlvXCIsIGF1ZGlvTWFuYWdlcik7XHJcbiAgICAgICAgICAgIERpbmplY3QuYWRkSW5zdGFuY2UoXCJjYW52YXNcIiwgY2FudmFzKTtcclxuICAgICAgICAgICAgRGluamVjdC5hZGRJbnN0YW5jZShcInN0YWdlXCIsIHN0YWdlKTtcclxuICAgICAgICAgICAgRGluamVjdC5hZGRJbnN0YW5jZShcImFuaW1hdGlvblwiLCBhbmltYXRpb24pO1xyXG5cclxuICAgICAgICAgICAgdmFyIHZpZXcgPSBuZXcgSW5zcGllcnR5UGxheWVyVmlldygpO1xyXG4gICAgICAgICAgICBzdGFnZS5zZXRWaWV3KHZpZXcpO1xyXG5cclxuICAgICAgICAgICAgQXBwLnNldHRpbmdNYW5hZ2VyLmFkZFN0YXJMYXllcigpO1xyXG4gICAgICAgICAgICBBcHAuc2V0dGluZ01hbmFnZXIuYWRkU3RhckxheWVyKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBTdGFyTGF5ZXIgfSBmcm9tIFwiLi9zdGFyTGF5ZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTZXR0aW5ncyB7XHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgd2lkdGg6IG51bWJlciwgcHVibGljIGhlaWdodDogbnVtYmVyKSB7IH1cclxuXHJcbiAgICBwdWJsaWMgc3RhckxheWVyczogU3RhckxheWVyW10gPSBbXTtcclxufVxyXG4iLCJpbXBvcnQgeyBTZXR0aW5nT3BlcmF0aW9uIH0gZnJvbSBcIi4vc2V0dGluZ09wZXJhdGlvblwiO1xyXG5pbXBvcnQgeyBFRXZlbnRUIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvZUV2ZW50XCI7XHJcbmltcG9ydCB7IEFwcCB9IGZyb20gXCIuLi9hcHBcIjtcclxuaW1wb3J0IHsgU3RhckxheWVyIH0gZnJvbSBcIi4uL21vZGVscy9zdGFyTGF5ZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTZXR0aW5nc01hbmFnZXIge1xyXG4gICAgcHVibGljIHVwZGF0ZSA9IG5ldyBFRXZlbnRUPFNldHRpbmdPcGVyYXRpb24+KCk7XHJcblxyXG4gICAgcHVibGljIGFkZFN0YXJMYXllciA9ICgpID0+IHtcclxuICAgICAgICB2YXIgbGF5ZXIgPSBuZXcgU3RhckxheWVyKCk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTAwOyBpKyspIHtcclxuICAgICAgICAgICAgbGF5ZXIuc3RhcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICB4OiBNYXRoLnJhbmRvbSgpICogQXBwLnNldHRpbmdzLndpZHRoLFxyXG4gICAgICAgICAgICAgICAgeTogTWF0aC5yYW5kb20oKSAqIEFwcC5zZXR0aW5ncy5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgICByOiBNYXRoLnJhbmRvbSgpICogMiArIDAuMDVcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIEFwcC5zZXR0aW5ncy5zdGFyTGF5ZXJzLnB1c2gobGF5ZXIpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlLmRpc3BhdGNoRXZlbnQoU2V0dGluZ09wZXJhdGlvbi5BZGRTdGFyTGF5ZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVTdGFyTGF5ZXIgPSAoc3RhckxheWVyOiBTdGFyTGF5ZXIpID0+IHtcclxuICAgICAgICBBcHAuc2V0dGluZ3Muc3RhckxheWVycy5yZW1vdmVJdGVtKHN0YXJMYXllcik7XHJcbiAgICAgICAgdGhpcy51cGRhdGUuZGlzcGF0Y2hFdmVudChTZXR0aW5nT3BlcmF0aW9uLlJlbW92ZVN0YXJMYXllcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNoYW5nZU51bWJlck9mU3RhcnMgPSAoc3RhckxheWVyOiBTdGFyTGF5ZXIsIG51bWJlck9mU3RhcnM6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGlmIChudW1iZXJPZlN0YXJzID4gMCkge1xyXG4gICAgICAgICAgICB2YXIgZGlmZiA9IG51bWJlck9mU3RhcnMgLSBzdGFyTGF5ZXIuc3RhcnMubGVuZ3RoO1xyXG4gICAgICAgICAgICBpZiAoZGlmZiA+IDApIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGlmZjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhckxheWVyLnN0YXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB4OiBNYXRoLnJhbmRvbSgpICogQXBwLnNldHRpbmdzLndpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB5OiBNYXRoLnJhbmRvbSgpICogQXBwLnNldHRpbmdzLmhlaWdodCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcjogTWF0aC5yYW5kb20oKSAqIDIgKyAwLjA1XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChkaWZmIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAtZGlmZjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhckxheWVyLnN0YXJzLnNwbGljZShNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBzdGFyTGF5ZXIuc3RhcnMubGVuZ3RoKSwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy51cGRhdGUuZGlzcGF0Y2hFdmVudChTZXR0aW5nT3BlcmF0aW9uLkNoYW5nZU51bWJlck9mU3RhcnMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2hhbmdlU3BlZWQgPSAoc3RhckxheWVyOiBTdGFyTGF5ZXIsIHNwZWVkOiBudW1iZXIpID0+IHtcclxuICAgICAgICBzdGFyTGF5ZXIuc3BlZWQgPSBzcGVlZDtcclxuICAgICAgICB0aGlzLnVwZGF0ZS5kaXNwYXRjaEV2ZW50KFNldHRpbmdPcGVyYXRpb24uQ2hhbmdlU3BlZWQpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4vYXBwXCI7XHJcbmltcG9ydCBcIi4uL2VuYy9zcmMvZXh0ZW5zaW9uc1wiO1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIG1haW4sIGZhbHNlKTtcclxuXHJcbmZ1bmN0aW9uIG1haW4oKSB7XHJcbiAgICB2YXIgYXBwID0gbmV3IEFwcCgpO1xyXG4gICAgYXBwLnJ1bigpO1xyXG59Il0sInNvdXJjZVJvb3QiOiIifQ==