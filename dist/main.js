!function(t){var e={};function i(s){if(e[s])return e[s].exports;var a=e[s]={i:s,l:!1,exports:{}};return t[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(s,a,function(e){return t[e]}.bind(null,a));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=7)}([function(t,e,i){t.exports=i.p+"4548616750b49599e29ad31f27052fc7.mp3"},function(t,e,i){t.exports=i.p+"42e1c91573e0327cd3f17f251e8af2a6.mp3"},function(t,e,i){t.exports=i.p+"f1ceea5d555947c80281f368bfaf8fa8.mp3"},function(t,e,i){t.exports=i.p+"689f34416f2a30b778e18f523a068af4.png"},function(t,e,i){t.exports=i.p+"4a2d1fef95cd91bc66caa315b22be2dd.png"},function(t,e,i){t.exports=i.p+"43075ffb3d6eafe5a17341ce79d9eb1d.png"},function(t,e){Array.prototype.firstOrDefault=function(t){for(const e of this)if(t(e))return e;return null},Array.prototype.first=function(t){for(const e of this)if(t(e))return e;throw console.log("item not found"),console.log(this),"item not found"},Array.prototype.getNext=function(t,e){var i=e(t)+1,s=this.firstOrDefault(t=>e(t)==i);return s||(s=this.first(t=>1==e(t))),s},Array.prototype.removeItem=function(t){var e=this.indexOf(t);if(-1==e)throw"item not found";this.splice(e,1)},Array.prototype.contains=function(t){return-1!==this.indexOf(t)},Array.prototype.removeItemIfExists=function(t){var e=this.indexOf(t);-1!=e&&this.splice(e,1)},Array.prototype.addItemIfNotExists=function(t){-1==this.indexOf(t)&&this.push(t)},Array.prototype.remove=function(t){this.removeItem(this.first(t))},Array.prototype.toList=function(){return this.filter(t=>!0)}},function(t,e,i){"use strict";i.r(e);class s{constructor(t,e,i,s){this.x=t,this.y=e,this.width=i,this.height=s,this.collidesWith=(t=>{var e=!1,i=!1;return this.x<=t.x?this.x<=t.x&&this.x+this.width>t.x&&(e=!0):t.x<=this.x&&t.x+t.width>this.x&&(e=!0),e&&(this.y<=t.y?this.y<=t.y&&this.y+this.width>t.y&&(i=!0):t.y<=this.y&&t.y+t.width>this.y&&(i=!0)),e&&i}),this.isHitBy=((t,e)=>t>this.x&&t<this.x+this.width&&e>this.y&&e<this.y+this.height)}}class a{constructor(t){this.canvas=t,this.canvasResized=(()=>{this.shouldUpdateLayout=!0}),this.mouseDown=(t=>{this.view&&this.view.mouseDown({clientX:t.clientX/this.canvas.dpr,clientY:t.clientY/this.canvas.dpr,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey})}),this.mouseUp=(t=>{this.view&&this.view.mouseUp({clientX:t.clientX/this.canvas.dpr,clientY:t.clientY/this.canvas.dpr,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey})}),this.mouseMove=(t=>{this.view&&this.view.mouseMove({clientX:t.clientX/this.canvas.dpr,clientY:t.clientY/this.canvas.dpr,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey})}),this.click=(t=>{this.view&&this.view.click({clientX:t.clientX/this.canvas.dpr,clientY:t.clientY/this.canvas.dpr,altKey:t.altKey,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey})}),this.render=((t,e,i)=>{this.view&&(this.shouldUpdateLayout&&(this.view.updateLayout(t,new s(0,0,e,i)),this.shouldUpdateLayout=!1),t.clearRect(0,0,e,i),this.view.render(t))}),this.setView=(t=>{this.view=t,this.shouldUpdateLayout=!0}),t.addDrawFunction(this.render),t.resized.addEventListener(this.canvasResized),document.addEventListener("mousedown",this.mouseDown),document.addEventListener("mouseup",this.mouseUp),document.addEventListener("mousemove",this.mouseMove),document.addEventListener("click",this.click)}}var n,r,h,o,d,l;!function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right"}(n||(n={})),function(t){t[t.Top=0]="Top",t[t.Center=1]="Center",t[t.Bottom=2]="Bottom"}(r||(r={}));class u{constructor(){this.top=0,this.right=0,this.bottom=0,this.left=0}}class c{constructor(){this.horizontalAlign=n.Center,this.verticalAlign=r.Center,this.margin=new u,this.calculateDimensionsX=((t,e)=>{switch(this.horizontalAlign){case n.Left:return t.x+this.margin.left;case n.Center:return t.x+t.width/2-e/2;case n.Right:return t.x+t.width-e-this.margin.right}}),this.calculateDimensionsY=((t,e)=>{switch(this.verticalAlign){case r.Top:return t.y+this.margin.top;case r.Center:return t.y+t.height/2-e/2;case r.Bottom:return t.y+t.height-e-this.margin.bottom}})}}class p{constructor(t,e,i){this.executer=t,this.setMethod=i,this.methods=[],this.add=(t=>{var e=t(this.methods[this.methods.length-1]);this.methods.push(e),this.setMethod(e)}),this.remove=(()=>{this.methods.pop(),this.setMethod(this.methods[this.methods.length-1])}),this.reset=(()=>{this.setMethod(this.methods[this.methods.length-1])}),this.clear=(()=>{this.setMethod(()=>{})}),e.bind(this.executer),this.methods.push(e)}}class g{constructor(t=!0){this.generateNewId=(()=>(g.idCounter++,g.idCounter)),this.bounds=new s(0,0,0,0),this.dimensions=new s(0,0,0,0),this.alignement=new c,this.shouldUpdateLayout=!1,this.render=(t=>{this.shouldUpdateLayout&&(this.updateLayout(t,this.bounds),this.shouldUpdateLayout=!1)}),this.triggerUpdateLayout=(()=>{this.shouldUpdateLayout=!0}),this.isActive=!1,this.activate=(()=>{this.startTime=Date.now(),this.duration=3,this.renderMethodManipulation.add(t=>e=>{var i=Date.now()-this.startTime;i<=5e3?(e.save(),e.globalAlpha=i/1e3/this.duration,t(e),e.restore()):(t(e),this.renderMethodManipulation.remove())})}),this.deactivate=(()=>{}),this.disableMouseEvents=(()=>{this.mouseDown=(()=>{}),this.mouseUp=(()=>{}),this.mouseMove=(()=>{}),this.click=(()=>{})}),this.id=this.generateNewId(),this.name="object "+this.id,this.isActive=t,this.isActive}get renderMethodManipulation(){return this._renderMethodManipulation||(this._renderMethodManipulation=new p(this,this.render,t=>this.render=t)),this._renderMethodManipulation}updateLayout(t,e){this.bounds=e,this.shouldUpdateLayout=!1}}g.idCounter=0;class m extends g{constructor(){super(...arguments),this.children=[],this.superRender=this.render,this.render=(t=>{this.superRender(t);for(const e of this.children)e.render(t)})}mouseDown(t){for(const e of this.children)e.mouseDown(t)}mouseUp(t){for(const e of this.children)e.mouseUp(t)}mouseMove(t){for(const e of this.children)e.mouseMove(t)}click(t){for(const e of this.children.toList())e.click(t)}}class y extends g{constructor(t){super(),this.star=t,this.render=(t=>{var e=3*this.star.r,i=t.createRadialGradient(this.star.x,this.star.y,this.star.r,this.star.x,this.star.y,e);i.addColorStop(0,"rgba(255, 255, 255, 0.2)"),i.addColorStop(1,"rgba(255, 255, 255, 0)"),t.fillStyle=i,t.arc(this.star.x,this.star.y,e,0,2*Math.PI),t.fill(),t.fillStyle="white",t.beginPath(),t.arc(this.star.x,this.star.y,this.star.r,0,2*Math.PI),t.fill()})}mouseDown(t){}mouseUp(t){}mouseMove(t){throw new Error("Method not implemented.")}click(t){throw new Error("Method not implemented.")}}!function(t){t[t.AddStarLayer=0]="AddStarLayer",t[t.RemoveStarLayer=1]="RemoveStarLayer",t[t.ChangeNumberOfStars=2]="ChangeNumberOfStars",t[t.ChangeSpeed=3]="ChangeSpeed",t[t.ChangeSizes=4]="ChangeSizes"}(h||(h={}));class v extends m{constructor(t){super(),this.starLayer=t,this.settingsUpdated=(t=>{switch(t){case h.ChangeNumberOfStars:this.updateNumberOfStars()}}),this.updateNumberOfStars=(()=>{this.triggerUpdateLayout()}),ut.settingManager.update.addEventListener(this.settingsUpdated),this.disableMouseEvents(),this.triggerUpdateLayout()}updateLayout(t,e){this.children=[];for(const t of this.starLayer.stars)this.children.push(new y(t))}mouseMove(t){}click(t){}}!function(t){t[t.hidden=0]="hidden",t[t.beforeVisible=1]="beforeVisible",t[t.visible=2]="visible"}(o||(o={}));class f{constructor(){this.state=o.hidden}}class w{constructor(){this.listeners=[],this.addEventListener=(t=>{if(!t||this.listeners.indexOf(t)>=0)throw"listener already added";this.listeners.push(t)}),this.addEventListenerIfNotExists=(t=>{!t||this.listeners.indexOf(t)>=0||this.listeners.push(t)}),this.dispatchEvent=(()=>{for(let t=0;t<this.listeners.length;t++){(0,this.listeners[t])()}}),this.removeEventListener=(t=>{if(!t||this.listeners.indexOf(t)<0)throw"listener not found";this.listeners.splice(this.listeners.indexOf(t),1)}),this.removeEventListenerIfExists=(t=>{!t||this.listeners.indexOf(t)<0||this.listeners.splice(this.listeners.indexOf(t),1)})}}class L{constructor(){this.listeners=[],this.addEventListener=(t=>{if(!t||this.listeners.indexOf(t)>=0)throw"listener already added";this.listeners.push(t)}),this.dispatchEvent=(t=>{for(let e=0;e<this.listeners.length;e++){(0,this.listeners[e])(t)}}),this.removeEventListener=(t=>{if(!t||this.listeners.indexOf(t)<0)throw"listener not found";this.listeners.splice(this.listeners.indexOf(t),1)})}}class x{constructor(){this.listeners=[],this.addEventListener=(t=>{if(!t||this.listeners.indexOf(t)>=0)throw"listener already added";this.listeners.push(t)}),this.dispatchEvent=((t,e)=>{for(let i=0;i<this.listeners.length;i++){(0,this.listeners[i])(t,e)}}),this.removeEventListener=(t=>{if(!t||this.listeners.indexOf(t)<0)throw"listener not found";this.listeners.splice(this.listeners.indexOf(t),1)})}}class S{constructor(){this.drawFunctions=[],this.dpr=1,this.dprScalingEnabled=!1,this.enableDprScaling=(()=>{this.dprScalingEnabled=!0,this.resize()}),this.disableDprScaling=(()=>{this.dprScalingEnabled=!1,this.resize()}),this.resized=new w,this.resize=(()=>{this.dpr=this.dprScalingEnabled&&window.devicePixelRatio||1,this.canvas.width=this.canvas.clientWidth,this.canvas.height=this.canvas.clientHeight,this.resized.dispatchEvent()}),this.draw=(()=>{this.ctx.save(),this.ctx.scale(this.dpr,this.dpr);for(const t of this.drawFunctions)t(this.ctx,this.width,this.height);this.ctx.restore()}),this.addDrawFunction=(t=>{this.drawFunctions.push(t)}),this.removeDrawFunction=(t=>{this.drawFunctions.splice(this.drawFunctions.indexOf(t),1)})}get width(){return this.canvas.clientWidth/this.dpr}get height(){return this.canvas.clientHeight/this.dpr}static createFullScreen(){document.body.parentElement.style.height="100%",document.body.style.height="100%",document.body.style.margin="0",document.body.style.overflow="hidden";var t=document.createElement("canvas");document.body.appendChild(t),t.style.width="100%",t.style.height="100%";var e=new S;return e.canvas=t,e.ctx=t.getContext("2d"),window.addEventListener("resize",e.resize),e.resize(),e}}S.cursorLock=null,S.SetCursor=((t,e)=>{e?(document.body.style.cursor="pointer",S.cursorLock=t):t==S.cursorLock&&(document.body.style.cursor="default",S.cursorLock=null)});class b extends g{constructor(){super(...arguments),this.isMouseOver=!1,this.isEnabled=!0,this.clicked=new L,this.click=(t=>{this.isEnabled&&this.dimensions.isHitBy(t.clientX,t.clientY)&&this.clicked.dispatchEvent(this)})}mouseMove(t){this.isEnabled&&(this.dimensions.isHitBy(t.clientX,t.clientY)?(this.isMouseOver=!0,S.SetCursor(this.name,!0)):(this.isMouseOver=!1,S.SetCursor(this.name,!1)))}mouseDown(t){}mouseUp(t){}}class M{constructor(){this.fontSize=40,this.fontPrefix="",this.fontFamily="fontawesome",this.fillStyle="blue",this.mouseOverFillStyle="red",this.backgroundFillStyle=void 0,this.getFont=(()=>{var t="";return this.fontPrefix&&(t+=this.fontPrefix+" "),t+=this.fontSize+"px "+this.fontFamily})}}class V extends b{constructor(){super(...arguments),this.properties=new M,this.render=(t=>{this.properties.backgroundFillStyle&&(t.fillStyle=this.properties.backgroundFillStyle,t.fillRect(this.dimensions.x,this.dimensions.y,this.dimensions.width,this.dimensions.height)),this.isMouseOver?t.fillStyle=this.properties.mouseOverFillStyle:t.fillStyle=this.properties.fillStyle,t.font=this.properties.getFont(),t.textAlign="left",t.textBaseline="top",t.fillText(this.text,this.dimensions.x,this.dimensions.y)}),this.updateLayout=((t,e)=>{super.updateLayout(t,e),t.font=this.properties.getFont(),t.textAlign="left",t.textBaseline="top";var i=t.measureText(this.text),a=this.alignement.calculateDimensionsX(e,i.width),n=this.alignement.calculateDimensionsY(e,this.properties.fontSize);this.dimensions=new s(a,n,i.width,this.properties.fontSize)})}}!function(t){t[t.Horizontal=0]="Horizontal",t[t.Vertical=1]="Vertical"}(d||(d={}));class I{constructor(){this.itemSpacing=30,this.orientation=d.Vertical}}class E extends m{constructor(){super(...arguments),this.properties=new I,this.addItem=(t=>{t.alignement.horizontalAlign=n.Left,t.alignement.verticalAlign=r.Top,this.children.push(t),this.triggerUpdateLayout()}),this.removeItem=(t=>{this.children.removeItem(t),this.triggerUpdateLayout()})}updateLayout(t,e){super.updateLayout(t,e);var i=this.alignement.calculateDimensionsX(e,this.dimensions.width),a=this.alignement.calculateDimensionsY(e,this.dimensions.height),n=0,r=0;if(this.properties.orientation==d.Vertical)for(let e=0;e<this.children.length;e++){const h=this.children[e];e>0&&(a+=this.properties.itemSpacing,r+=this.properties.itemSpacing),h.updateLayout(t,new s(i,a,0,0)),a+=h.dimensions.height,r+=h.dimensions.height,n=Math.max(n,h.dimensions.width)}else for(let e=0;e<this.children.length;e++){const h=this.children[e];e>0&&(i+=this.properties.itemSpacing,n+=this.properties.itemSpacing),h.updateLayout(t,new s(i,a,0,0)),i+=h.dimensions.width,n+=h.dimensions.width,r=Math.max(r,h.dimensions.height)}this.dimensions.x==i&&this.dimensions.y==a&&this.dimensions.width==n&&this.dimensions.height==r||(this.dimensions.x=i,this.dimensions.y=a,this.dimensions.height=r,this.dimensions.width=n,this.updateLayout(t,e))}}class C extends b{constructor(){super(),this.radius=10,this.minValue=0,this.maxValue=100,this.currentValue=50,this.valueChanged=new L,this.render=(t=>{var e=this.dimensions.x,i=this.dimensions.y;t.strokeStyle="white",t.lineWidth=2,t.beginPath(),t.moveTo(e+this.radius,i+this.dimensions.height/2),t.lineTo(e+this.dimensions.width-this.radius,i+this.dimensions.height/2),t.stroke();var s=(this.currentValue-this.minValue)/(this.maxValue-this.minValue);t.fillStyle="blue",t.beginPath(),t.arc(e+this.radius+(this.dimensions.width-2*this.radius)*s,i+this.dimensions.height/2,this.radius,0,2*Math.PI),t.closePath(),t.fill()}),this.updateLayout=((t,e)=>{super.updateLayout(t,e),this.dimensions=new s(e.x,e.y,200,2*this.radius)}),this.mouseDown=(t=>{this.dimensions.isHitBy(t.clientX,t.clientY)&&(this.isDragging=!0,this.updateCurrentValue(t))}),this.mouseUp=(t=>{this.isDragging=!1})}mouseMove(t){super.mouseMove(t),this.isDragging&&this.updateCurrentValue(t)}updateCurrentValue(t){var e=t.clientX-this.dimensions.x-this.radius;(e=e/(this.dimensions.width-2*this.radius)*(this.maxValue-this.minValue)+this.minValue)>this.maxValue&&(e=this.maxValue),e<this.minValue&&(e=this.minValue),this.currentValue=e,this.valueChanged.dispatchEvent(this.currentValue)}}class A extends b{constructor(){super(),this.radius=10,this.minValue=0,this.maxValue=100,this.currentValueLow=25,this.currentValueHigh=75,this.minDiff=.1,this.valuesChanged=new x,this.render=(t=>{var e=this.dimensions.x,i=this.dimensions.y;t.strokeStyle="white",t.lineWidth=2,t.beginPath(),t.moveTo(e+this.radius,i+this.dimensions.height/2),t.lineTo(e+this.dimensions.width-this.radius,i+this.dimensions.height/2),t.stroke(),t.fillStyle="blue";var s=i+this.dimensions.height/2,a=(this.currentValueLow-this.minValue)/(this.maxValue-this.minValue),n=e+this.radius+(this.dimensions.width-2*this.radius)*a,r=(this.currentValueHigh-this.minValue)/(this.maxValue-this.minValue),h=e+this.radius+(this.dimensions.width-2*this.radius)*r;t.strokeStyle="blue",t.lineWidth=2,t.beginPath(),t.moveTo(n,s),t.lineTo(h,s),t.stroke(),t.beginPath(),t.arc(n,s,this.radius,0,2*Math.PI),t.closePath(),t.fill(),t.beginPath(),t.arc(h,s,this.radius,0,2*Math.PI),t.closePath(),t.fill()}),this.updateLayout=((t,e)=>{super.updateLayout(t,e),this.dimensions=new s(e.x,e.y,200,2*this.radius)}),this.mouseDown=(t=>{if(this.dimensions.isHitBy(t.clientX,t.clientY)){var e=this.getClickedValue(t),i=Math.abs(this.currentValueLow-e),s=Math.abs(this.currentValueHigh-e);i==s?e<this.currentValueLow?this.isDraggingLow=!0:this.isDraggingHigh=!0:i>s?this.isDraggingHigh=!0:this.isDraggingLow=!0,this.updateCurrentValues(t)}}),this.mouseUp=(t=>{this.isDraggingHigh=!1,this.isDraggingLow=!1})}mouseMove(t){super.mouseMove(t),(this.isDraggingHigh||this.isDraggingLow)&&this.updateCurrentValues(t)}updateCurrentValues(t){var e=this.getClickedValue(t);this.isDraggingLow?e>this.currentValueHigh-this.minDiff&&(e=this.currentValueHigh-this.minDiff):e<this.currentValueLow+this.minDiff&&(e=this.currentValueLow+this.minDiff),this.isDraggingLow?this.currentValueLow=e:this.currentValueHigh=e,this.valuesChanged.dispatchEvent(this.currentValueLow,this.currentValueHigh)}getClickedValue(t){var e=t.clientX-this.dimensions.x-this.radius;return(e=e/(this.dimensions.width-2*this.radius)*(this.maxValue-this.minValue)+this.minValue)>this.maxValue&&(e=this.maxValue),e<this.minValue&&(e=this.minValue),e}}class F extends m{constructor(t){super(),this.starLayer=t,this.numberOfStarsChanged=(t=>{ut.settingManager.changeNumberOfStars(this.starLayer,Math.round(t))}),this.speedChanged=(t=>{ut.settingManager.changeSpeed(this.starLayer,t)}),this.sizesChanged=((t,e)=>{ut.settingManager.changeSizes(this.starLayer,t,e)}),this.settingsList=new E,this.settingsList.alignement.horizontalAlign=n.Left,this.settingsList.alignement.verticalAlign=r.Top;var e=new V;e.text="Remove Layer",e.properties.fillStyle="white",this.settingsList.addItem(e),this.children.push(e),e.clicked.addEventListener(t=>{ut.settingManager.removeStarLayer(this.starLayer)});var i=new C;i.minValue=10,i.maxValue=1e3,i.currentValue=t.stars.length,this.children.push(i),this.settingsList.addItem(i),i.valueChanged.addEventListener(this.numberOfStarsChanged);var s=new C;s.minValue=0,s.maxValue=20,s.currentValue=t.speed,this.children.push(s),this.settingsList.addItem(s),s.valueChanged.addEventListener(this.speedChanged);var a=new A,h=this.starLayer.stars.map(t=>t.r);a.minValue=.001,a.maxValue=2,a.currentValueLow=Math.min(...h),a.currentValueHigh=Math.max(...h),this.children.push(a),this.settingsList.addItem(a),a.valuesChanged.addEventListener(this.sizesChanged)}updateLayout(t,e){this.settingsList.updateLayout(t,new s(e.x,e.y,0,0))}}class O extends m{constructor(){super(!1),this.viewModel=new f,this.lastMoved=Date.now(),this.inactivityTimeout=2e3,this.layerButtons=[],this.settingsUpdated=(t=>{switch(t){case h.AddStarLayer:for(const t of ut.settings.starLayers)if(!this.layerButtons.map(t=>t.tag).contains(t)){this.settingsList.removeItem(this.addLayerBtn);var e=new V;e.text="Edit Layer",e.tag=t,e.properties.fillStyle="white",this.settingsList.addItem(e),this.layerButtons.push(e),e.clicked.addEventListener(e=>{this.toggleShowHideStarLayerView(t)}),this.settingsList.addItem(this.addLayerBtn);break}break;case h.RemoveStarLayer:for(const t of this.layerButtons)if(!ut.settings.starLayers.contains(t.tag)){this.settingsList.removeItem(t),this.layerButtons.removeItem(t);break}this.children.removeItem(this.detailedStarLayerView),this.detailedStarLayerView=void 0}}),this.toggleShowHideStarLayerView=(t=>{if(this.detailedStarLayerView)if(this.detailedStarLayerView.starLayer!=t){this.children.removeItem(this.detailedStarLayerView),this.detailedStarLayerView=void 0;e=new F(t);this.detailedStarLayerView=e,this.children.push(this.detailedStarLayerView),this.triggerUpdateLayout()}else this.children.removeItem(this.detailedStarLayerView),this.detailedStarLayerView=void 0;else{var e=new F(t);this.detailedStarLayerView=e,this.children.push(this.detailedStarLayerView),this.triggerUpdateLayout()}}),this.showHideOverlayClicked=(t=>{this.viewModel.state==o.visible?this.setState(o.beforeVisible):this.setState(o.visible)}),this.mouseMove=(t=>{this.viewModel.state!=o.hidden&&this.viewModel.state!=o.beforeVisible||this.setState(o.beforeVisible),super.mouseMove(t)}),this.mouseInactivityHandler=(()=>{Date.now()-this.lastMoved>=this.inactivityTimeout?this.viewModel.state==o.beforeVisible&&this.setState(o.hidden):setTimeout(this.mouseInactivityHandler,this.inactivityTimeout-(Date.now()-this.lastMoved))}),this.setState=(t=>{switch(t){case o.hidden:this.children.removeItem(this.showOverLayerButton),this.viewModel.state=o.hidden;break;case o.beforeVisible:this.lastMoved=Date.now(),this.viewModel.state==o.hidden&&(setTimeout(this.mouseInactivityHandler,this.inactivityTimeout),this.children.addItemIfNotExists(this.showOverLayerButton)),this.viewModel.state==o.visible&&(setTimeout(this.mouseInactivityHandler,this.inactivityTimeout),this.children.removeItemIfExists(this.settingsList),this.children.removeItemIfExists(this.detailedStarLayerView),this.detailedStarLayerView=void 0),this.viewModel.state=o.beforeVisible;break;case o.visible:this.viewModel.state==o.beforeVisible&&this.children.push(this.settingsList),this.viewModel.state=o.visible}}),this.showOverLayerButton=new V,this.showOverLayerButton.text="Show/Hide Settings",this.showOverLayerButton.properties.fillStyle="green",this.showOverLayerButton.alignement.verticalAlign=r.Top,this.showOverLayerButton.alignement.horizontalAlign=n.Left,this.showOverLayerButton.clicked.addEventListener(this.showHideOverlayClicked),this.showOverLayerButton.properties.backgroundFillStyle="rgba(0, 0, 0, 0.5)",this.children.push(this.showOverLayerButton),this.settingsList=new E,this.settingsList.alignement.horizontalAlign=n.Left,this.settingsList.alignement.verticalAlign=r.Top;var t=new V;t.text="Add Layer",t.properties.fillStyle="white",this.settingsList.addItem(t),t.clicked.addEventListener(t=>{ut.settingManager.addStarLayer()}),this.addLayerBtn=t,ut.settingManager.update.addEventListener(this.settingsUpdated)}updateLayout(t,e){super.updateLayout(t,e),this.showOverLayerButton.updateLayout(t,e);var i=2*this.showOverLayerButton.dimensions.height;this.settingsList.updateLayout(t,new s(e.x,e.y+i,e.width,e.height-i)),this.detailedStarLayerView&&this.detailedStarLayerView.updateLayout(t,new s(e.x+this.settingsList.dimensions.width,e.y+i,e.width,e.height-i))}}class k{constructor(t){this.starLayer=t,this.update=(t=>{for(const e of this.starLayer.stars)e.x+=this.starLayer.speed*t,e.y+=this.starLayer.speed*t,e.x>ut.settings.width&&(e.x-=ut.settings.width),e.y>ut.settings.height&&(e.y-=ut.settings.height)})}}class D{}D.instances={},D.addInstance=((t,e)=>{D.instances[t]=e}),D.getInstance=(t=>D.instances[t]);class T extends m{constructor(){super(!1),this.playIconText="",this.pauseIconText="",this.stopIconText="",this.nextIconText="",this.previousIconText="";var t=D.getInstance("audio"),e=new E;e.alignement.verticalAlign=r.Bottom,e.alignement.margin.bottom=10,e.properties.orientation=d.Horizontal,this.children.push(e);var i=new V;i.properties.fontPrefix="900",i.properties.fontFamily="'Font Awesome 5 Free'",i.text=this.playIconText,i.clicked.addEventListener(()=>{i.text==this.playIconText?(t.play(),i.text=this.pauseIconText):(t.pause(),i.text=this.playIconText),this.triggerUpdateLayout()}),e.addItem(i);var s=new V;s.properties.fontPrefix="900",s.properties.fontFamily="'Font Awesome 5 Free'",s.text=this.stopIconText,s.clicked.addEventListener(()=>{t.stop(),i.text==this.pauseIconText&&(i.text=this.playIconText),this.triggerUpdateLayout()}),e.addItem(s);var a=new V;a.properties.fontPrefix="900",a.properties.fontFamily="'Font Awesome 5 Free'",a.text=this.previousIconText,a.clicked.addEventListener(()=>{t.previous()}),e.addItem(a);var n=new V;n.properties.fontPrefix="900",n.properties.fontFamily="'Font Awesome 5 Free'",n.text=this.nextIconText,n.clicked.addEventListener(()=>{t.next()}),e.addItem(n)}updateLayout(t,e){super.updateLayout(t,e);for(const e of this.children)e.updateLayout(t,this.bounds)}}!function(t){t[t.FitAndOverfill=0]="FitAndOverfill",t[t.FitAndSpace=1]="FitAndSpace"}(l||(l={}));class P{constructor(){this.imageScalingMode=l.FitAndSpace,this.scale=1}}class U extends b{constructor(t){super(),this.properties=new P,this.superRender=this.render,this.render=(t=>{this.superRender(t),t.drawImage(this.image,this.dimensions.x,this.dimensions.y,this.dimensions.width,this.dimensions.height),this.isMouseOver&&this.isEnabled&&(t.fillStyle="rgba(255,255,255,0.5)",t.fillRect(this.dimensions.x,this.dimensions.y,this.dimensions.width,this.dimensions.height))}),this.image=t}updateLayout(t,e){super.updateLayout(t,e);var i=1,s=this.image.naturalWidth/this.image.naturalHeight>e.width/e.height;switch(this.properties.imageScalingMode){case l.FitAndOverfill:i=s?e.height/this.image.height:e.width/this.image.width;break;case l.FitAndSpace:i=s?e.width/this.image.width:e.height/this.image.height}var a=this.image.naturalWidth*i,n=this.image.naturalHeight*i;this.dimensions.x=this.alignement.calculateDimensionsX(e,a),this.dimensions.y=this.alignement.calculateDimensionsY(e,a),this.dimensions.width=a,this.dimensions.height=n}}U.createFromUrl=(t=>new Promise((e,i)=>{var s=new Image;s.src=t,s.onload=(()=>{e(new U(s))})}));class B extends m{constructor(){super(!1);var t=D.getInstance("assets").getImage("background"),e=new U(t);e.disableMouseEvents(),e.properties.imageScalingMode=l.FitAndOverfill,this.children.push(e)}updateLayout(t,e){super.updateLayout(t,e);for(const i of this.children)i.updateLayout(t,e)}}class N extends m{constructor(){super(!1),this.frequencyIndex=7,this.lowerBorder=.4,this.upperBorder=.9;var t=D.getInstance("assets"),e=D.getInstance("audio");this.analyser=e.getAnalyser();var i=t.getImage("logo"),s=t.getImage("logo-nova");this.disableMouseEvents();var a=new U(s);a.properties.imageScalingMode=l.FitAndOverfill,this.children.push(a);var n=a.render;a.render=(t=>{var e=this.analyser.getSpectrum(),i=this.calculateRelDataValue(e[this.frequencyIndex]);t.save(),t.globalAlpha=i,n(t),t.restore()});var r=new U(i);r.properties.imageScalingMode=l.FitAndOverfill,this.children.push(r)}calculateRelDataValue(t){var e=t/255;return e<this.lowerBorder&&(e=this.lowerBorder),e>this.upperBorder&&(e=this.upperBorder),(e-this.lowerBorder)/(this.upperBorder-this.lowerBorder)}updateLayout(t,e){super.updateLayout(t,e);for(const i of this.children)i.updateLayout(t,e)}}class z{constructor(){this.fontSize=40,this.fontPrefix="",this.fontFamily="fontawesome",this.fillStyle="blue",this.backgroundFillStyle=void 0,this.getFont=(()=>{var t="";return this.fontPrefix&&(t+=this.fontPrefix+" "),t+=this.fontSize+"px "+this.fontFamily})}}class H extends b{constructor(){super(),this.properties=new z,this.render=(t=>{t.fillStyle=this.properties.fillStyle,t.font=this.properties.getFont(),t.textAlign="left",t.textBaseline="top",t.fillText(this.text,this.dimensions.x,this.dimensions.y)}),this.updateLayout=((t,e)=>{super.updateLayout(t,e),t.font=this.properties.getFont(),t.textAlign="left",t.textBaseline="top";var i=t.measureText(this.text),a=this.alignement.calculateDimensionsX(e,i.width),n=this.alignement.calculateDimensionsY(e,this.properties.fontSize);this.dimensions=new s(a,n,i.width,this.properties.fontSize),console.log(this.dimensions)}),this.disableMouseEvents()}}class R extends m{constructor(){super();var t=new H;t.text="Loading...",t.properties.fillStyle="white",this.children.push(t)}updateLayout(t,e){super.updateLayout(t,e);for(const e of this.children)e.updateLayout(t,this.bounds)}}class K extends m{constructor(){super(),this.starLayers=[],this.starAnimators=[],this.start=(()=>{this.children.removeItem(this.loadingView);var t=new B;this.children.push(t),t.activate(),document.testit=t;var e=new T;this.children.push(e),e.activate();var i=new N;this.children.push(i),i.activate();var s=new O;this.children.push(s),s.activate(),ut.settingManager.update.addEventListener(this.appSettingsUpdated),this.triggerUpdateLayout()}),this.appSettingsUpdated=(t=>{switch(t){case h.AddStarLayer:this.addStarLayer();break;case h.RemoveStarLayer:this.removeStarLayer()}}),this.addStarLayer=(()=>{for(const i of ut.settings.starLayers)if(null==this.starLayers.firstOrDefault(t=>t.starLayer==i)){var t=new v(i);this.starLayers.push(t),this.children.splice(1,0,t),this.triggerUpdateLayout();var e=new k(i);this.animation.addUpdateFunction(e.update),this.starAnimators.push(e);break}}),this.removeStarLayer=(()=>{for(const e of this.starLayers)if(null==ut.settings.starLayers.firstOrDefault(t=>t==e.starLayer)){var t=this.starAnimators.first(t=>t.starLayer==e.starLayer);this.animation.removeUpdateFunction(t.update),this.starAnimators.removeItem(t),this.children.remove(t=>t==e),this.starLayers.remove(t=>t==e),this.triggerUpdateLayout()}}),this.animation=D.getInstance("animation"),this.loadingView=new R,this.children.push(this.loadingView)}updateLayout(t,e){super.updateLayout(t,e);for(const i of this.children)i.updateLayout(t,e)}}class X{constructor(){this.stars=[],this.speed=1*Math.random()+.1}}class Y{constructor(){this.updateFunctions=[],this.isRunning=!1,this.addUpdateFunction=(t=>{this.updateFunctions.push(t)}),this.removeUpdateFunction=(t=>{this.updateFunctions.splice(this.updateFunctions.indexOf(t),1)}),this.setFps=(t=>{this.fps=t,this.fpsInterval=1e3/this.fps}),this.animationLoop=(()=>{this.isRunning&&requestAnimationFrame(this.animationLoop);var t=Date.now(),e=t-this.lastFrameTime;if(e>this.fpsInterval){this.lastFrameTime=t;var i=e/1e3;for(const t of this.updateFunctions)t(i)}}),this.setFps(30),this.play(),document.addEventListener("keyup",t=>{80==t.keyCode&&this.playPause()})}play(){this.isRunning||(this.isRunning=!0,this.lastFrameTime=Date.now(),this.animationLoop())}pause(){this.isRunning&&(this.isRunning=!1)}playPause(){this.isRunning?this.pause():this.play()}}class W{constructor(){this.loadFontawesomeFree=(()=>this.loadFont("","","900 20px 'Font Awesome 5 Free'")),this.loadFontawesomeBrands=(()=>this.loadFont("","","400 20px 'Font Awesome 5 Brands'")),this.countPixels=(t=>{var e=0;for(let r=0;r<t.data.length;r+=4){var i=t.data[r],s=t.data[r+1],a=t.data[r+2],n=t.data[r+3];i<50&&s<50&&a<50&&n>.9&&e++}return e}),this.getIconPixels=((t,e,i)=>{t.clearRect(0,0,e.width,e.height),t.fillText(i,0,0);var s=t.getImageData(0,0,e.width,e.height);return this.countPixels(s)}),this.loadFont=((t,e,i)=>{var s=10;return new Promise((a,n)=>{console.log('loading font "'+i+'"');var r=document.createElement("canvas");r.width=20,r.height=20;var h=r.getContext("2d");h.font=i,h.fillStyle="black",h.textAlign="left",h.textBaseline="top";var o=()=>{var n=this.getIconPixels(h,r,t),d=this.getIconPixels(h,r,e);Math.abs(d-n)>5?(console.log('loaded font "'+i+'"'),a()):0==--s?(console.log("stop loading font after "+s+" retries with 500ms delay"),a()):setTimeout(()=>{o()},500)};o()})})}}class j{constructor(t,e){this.name=t,this.audioCtx=e}}class _ extends j{constructor(){super(...arguments),this.getAudioNode=(()=>this.analyserNode)}reload(){return new Promise((t,e)=>{this.analyserNode||(this.analyserNode=this.audioCtx.createAnalyser()),this.analyserNode.fftSize=32,this.analyserNode.smoothingTimeConstant=.9,this.bufferLength=this.analyserNode.frequencyBinCount,this.dataArray=new Uint8Array(this.bufferLength),t()})}getSpectrum(){return this.analyserNode?(this.analyserNode.getByteFrequencyData(this.dataArray),this.dataArray):new Uint8Array(0)}getWave(){return this.analyserNode?(this.analyserNode.getByteTimeDomainData(this.dataArray),this.dataArray):new Uint8Array(0)}}class G extends j{constructor(){super(...arguments),this.getAudioNode=(()=>this.audioCtx.destination)}reload(){}}class q extends j{constructor(t,e,i){super(t,e),this.audioEnded=new w,this.audioEndedEvent=(()=>{this.audioEnded.dispatchEvent()}),this.getAudioNode=(()=>this.source),this.play=(()=>{this.audio.play()}),this.pause=(()=>{this.audio.pause()}),this.stop=(()=>{this.audio.pause(),this.audio.currentTime=0}),this.setUrl=(t=>{var e=!this.audio.paused;this.url=t,this.audio.src=t,this.audio.load(),e&&this.audio.play()}),this.url=i,this.audio=document.createElement("audio"),this.audio.controls=!0,this.audio.src=this.url,this.audio.addEventListener("ended",this.audioEndedEvent)}reload(){return new Promise((t,e)=>{this.source||(this.source=this.audioCtx.createMediaElementSource(this.audio)),t()})}}class J{constructor(){this.audioNodes=[],this.addMediaElementSource=((t,e)=>{var i=new q(t,this.audioCtx,e);return this.audioNodes.push(i),i}),this.addAnalyzer=(t=>{var e=new _(t,this.audioCtx);return this.audioNodes.push(e),e}),this.getAudioGraphNode=(t=>this.audioNodes.first(e=>e.name==t)),this.audioContextStateChanged=new L,this.documentClick=(()=>{"suspended"===this.audioCtx.state&&(this.audioCtx.resume(),document.removeEventListener("click",this.documentClick))}),this.audioContextStateChangedEvaluator=(()=>{"running"===this.audioCtx.state&&(console.log("audio context state changed"),this.audioCtx.removeEventListener("statechange",this.audioContextStateChangedEvaluator),this.reload().then(()=>{this.audioContextStateChanged.dispatchEvent(this.audioCtx.state)}))}),this.reload=(()=>new Promise((t,e)=>{console.log("realoading audio graph"),Promise.all(this.audioNodes.map(t=>t.reload())).then(()=>{console.log("reloaded audio graph");for(let t=0;t<this.audioNodes.length;t++){const e=this.audioNodes[t];e.getAudioNode().disconnect(),t<this.audioNodes.length-1?e.getAudioNode().connect(this.audioNodes[t+1].getAudioNode()):e.getAudioNode().connect(this.destinationNode.getAudioNode())}t()})})),this.audioCtx=new AudioContext,this.audioCtx.addEventListener("statechange",this.audioContextStateChangedEvaluator),"suspended"===this.audioCtx.state&&(document.addEventListener("click",this.documentClick),console.log("Audio context is suspended. Click the dom to make it running.")),this.destinationNode=new G("destination",this.audioCtx)}}var Q=i(0),Z=i.n(Q),$=i(1),tt=i.n($),et=i(2),it=i.n(et);class st{constructor(){this.songs=[Z.a,tt.a,it.a],this.reload=(()=>this.audioGraph.reload()),this.play=(()=>{this.source.play()}),this.pause=(()=>{this.source.pause()}),this.next=(()=>{var t=this.songs.indexOf(this.source.url)+1;t==this.songs.length&&(t=0),this.source.setUrl(this.songs[t])}),this.previous=(()=>{var t=this.songs.indexOf(this.source.url)-1;-1==t&&(t=this.songs.length-1),this.source.setUrl(this.songs[t])}),this.getAnalyser=(()=>this.analyser),this.stop=(()=>{this.source.stop()}),this.audioGraph=new J,this.source=this.audioGraph.addMediaElementSource("source",this.songs[0]),this.analyser=this.audioGraph.addAnalyzer("analyser")}}class at{constructor(){this.imageAssets=[],this.addImage=((t,e)=>{this.imageAssets.push({name:t,url:e,image:void 0})}),this.getImage=(t=>{var e=this.imageAssets.firstOrDefault(e=>e.name==t);return e?e.image:void 0}),this.load=(()=>Promise.all(this.imageAssets.map(t=>new Promise((e,i)=>{if(t.image)e();else{var s=new Image;s.src=t.url,s.onload=(()=>{t.image=s,e()})}}))))}}var nt=i(3),rt=i.n(nt),ht=i(4),ot=i.n(ht),dt=i(5),lt=i.n(dt);class ut{constructor(){this.run=(()=>{document.body.style.backgroundColor="black";var t=S.createFullScreen(),e=new a(t),i=new Y;i.addUpdateFunction(t.draw),D.addInstance("canvas",t),D.addInstance("stage",e),D.addInstance("animation",i);var s=new K;e.setView(s),console.log("loading app"),Promise.all([(new W).loadFontawesomeFree(),new Promise((t,e)=>{var i=new st;i.reload(),D.addInstance("audio",i),t()}),new Promise((t,e)=>{setTimeout(()=>{t()},2e3)}),new Promise((t,e)=>{var i=new at;D.addInstance("assets",i),i.addImage("background",rt.a),i.addImage("logo",ot.a),i.addImage("logo-nova",lt.a),i.load().then(()=>{t()})})]).then(()=>{console.log("loaded app"),ut.settingManager.addStarLayer(),ut.settingManager.addStarLayer(),ut.settingManager.addStarLayer(),ut.settingManager.addStarLayer(),s.start()})})}}ut.settings=new class{constructor(t,e){this.width=t,this.height=e,this.starLayers=[]}}(window.innerWidth,window.innerHeight),ut.settingManager=new class{constructor(){this.update=new L,this.addStarLayer=(()=>{var t=new X;for(let e=0;e<300;e++)t.stars.push({x:Math.random()*ut.settings.width,y:Math.random()*ut.settings.height,r:.5*Math.random()+.05});ut.settings.starLayers.push(t),this.update.dispatchEvent(h.AddStarLayer)}),this.removeStarLayer=(t=>{ut.settings.starLayers.removeItem(t),this.update.dispatchEvent(h.RemoveStarLayer)}),this.changeNumberOfStars=((t,e)=>{if(e>0){var i=e-t.stars.length;if(i>0)for(let e=0;e<i;e++){var s=t.stars.map(t=>t.r),a=Math.min(...s),n=Math.max(...s);t.stars.push({x:Math.random()*ut.settings.width,y:Math.random()*ut.settings.height,r:Math.random()*(n-a)+a})}else if(i<0)for(let e=0;e<-i;e++)t.stars.splice(Math.floor(Math.random()*t.stars.length),1);this.update.dispatchEvent(h.ChangeNumberOfStars)}}),this.changeSpeed=((t,e)=>{t.speed=e,this.update.dispatchEvent(h.ChangeSpeed)}),this.changeSizes=((t,e,i)=>{var s=t.stars.map(t=>t.r),a=Math.min(...s),n=Math.max(...s)-a;n<=0&&(n=1e-4);for(const s of t.stars)s.r=(s.r-a)/n*(i-e)+e;this.update.dispatchEvent(h.ChangeSpeed)})}};i(6);document.addEventListener("DOMContentLoaded",function(){(new ut).run()},!1),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("service-worker.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9kZW1vL1RyYWlsZXJfZmFpbnRDb2xvci5tcDMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9kZW1vL1RyYWlsZXJfRGVlcEZpZWxkLm1wMyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL2RlbW8vVHJhaWxlcl9EcmlmdGluZ0ludG9UaGVBdG1vc3BoZXJlLm1wMyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL2JhY2tncm91bmQucG5nIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvbG9nby1mcm9udC5wbmciLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9sb2dvLW5vdmEucG5nIiwid2VicGFjazovLy8uL2VuYy9zcmMvZXh0ZW5zaW9ucy50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL2dlb21ldHJ5L3JlY3RhbmdsZS50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL3N0YWdlLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvYWxpZ25lbWVudC9ob3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvdmVydGljYWxBbGlnbmVtZW50T3B0aW9uLnRzIiwid2VicGFjazovLy8uL3NyYy9zZXR0aW5ncy9zZXR0aW5nT3BlcmF0aW9uLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3L292ZXJsYXkvc2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9hbGlnbmVtZW50L29yaWVudGF0aW9uLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvY29udHJvbHMvaW1hZ2VTY2FsaW5nTW9kZS50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvc3BhY2luZy50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvYWxpZ25lbWVudC50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL21ldGhvZE1hbmlwdWxhdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL3JlbmRlck9iamVjdC50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xheW91dFZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXcvc3RhclJlbmRlck9iamVjdC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy9zdGFyTGF5ZXJEcmF3ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXcvb3ZlcmxheS9zZXR0aW5nc092ZXJsYXlWaWV3TW9kZWwudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy9lRXZlbnQudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9lQ2FudmFzLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvY29udHJvbHMvY29udHJvbC50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2J1dHRvblByb3BlcnRpZXMudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9jb250cm9scy9idXR0b24udHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9sYXlvdXRDb250cm9scy9saXN0Vmlld1Byb3BlcnRpZXMudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9sYXlvdXRDb250cm9scy9saXN0Vmlldy50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2NvbnRyb2xzL3NsaWRlci50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2NvbnRyb2xzL3JhbmdlU2xpZGVyLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3L292ZXJsYXkvc3RhckxheWVyVmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy9vdmVybGF5L3NldHRpbmdzT3ZlcmxheVZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXcvc3RhckxheWVyQW5pbWF0b3IudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy9kaW5qZWN0LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3L3BsYXllclZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9jb250cm9scy9pbWFnZVByb3BlcnRpZXMudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9jb250cm9scy9pbWFnZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy9iYWNrZ3JvdW5kSW1hZ2VWaWV3LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3L2Zyb250Vmlldy50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2xhYmVsUHJvcGVydGllcy50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2xhYmVsLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3L2xvYWRpbmdWaWV3LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3L2luc3BpZXJ0eVBsYXllclZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9zdGFyTGF5ZXIudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy9lQW5pbWF0aW9uLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvY2FudmFzSGVscGVyLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvYXVkaW8vYXVkaW9HcmFwaE5vZGUudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy9hdWRpby9hdWRpb0dyYXBoTm9kZUFuYWx5c2VyLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvYXVkaW8vYXVkaW9HcmFwaE5vZGVEZXN0aW5hdGlvbi50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL2F1ZGlvL2F1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZS50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL2F1ZGlvL2F1ZGlvR3JhcGgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2F1ZGlvTWFuYWdlci50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL2Fzc2V0TWFuYWdlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXBwLnRzIiwid2VicGFjazovLy8uL3NyYy9tb2RlbHMvc2V0dGluZ3MudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NldHRpbmdzL3NldHRpbmdzTWFuYWdlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJBcnJheSIsImZpcnN0T3JEZWZhdWx0IiwiZnVuYyIsImFycmF5SXRlbSIsInRoaXMiLCJmaXJzdCIsImNvbnNvbGUiLCJsb2ciLCJnZXROZXh0IiwiY3VycmVudCIsInNlbGVjdG9yIiwibmV4dFBvc2l0aW9uIiwibmV4dCIsIngiLCJyZW1vdmVJdGVtIiwiaXRlbSIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsImNvbnRhaW5zIiwicmVtb3ZlSXRlbUlmRXhpc3RzIiwiYWRkSXRlbUlmTm90RXhpc3RzIiwicHVzaCIsInJlbW92ZSIsInRvTGlzdCIsImZpbHRlciIsIlJlY3RhbmdsZSIsIltvYmplY3QgT2JqZWN0XSIsInkiLCJ3aWR0aCIsImhlaWdodCIsImNvbGxpZGVzV2l0aCIsInJlY3RhbmdsZSIsImhpdHgiLCJoaXR5IiwiaXNIaXRCeSIsInN0YWdlX1N0YWdlIiwiY2FudmFzIiwiY2FudmFzUmVzaXplZCIsInNob3VsZFVwZGF0ZUxheW91dCIsIm1vdXNlRG93biIsImV2IiwidmlldyIsImNsaWVudFgiLCJkcHIiLCJjbGllbnRZIiwiYWx0S2V5IiwiY3RybEtleSIsInNoaWZ0S2V5IiwibW91c2VVcCIsIm1vdXNlTW92ZSIsImNsaWNrIiwicmVuZGVyIiwiY3R4IiwidXBkYXRlTGF5b3V0IiwiY2xlYXJSZWN0Iiwic2V0VmlldyIsImFkZERyYXdGdW5jdGlvbiIsInJlc2l6ZWQiLCJhZGRFdmVudExpc3RlbmVyIiwiZG9jdW1lbnQiLCJIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbiIsIlZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbiIsIlNldHRpbmdPcGVyYXRpb24iLCJTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZSIsIk9yaWVudGF0aW9uIiwiSW1hZ2VTY2FsaW5nTW9kZSIsIlNwYWNpbmciLCJ0b3AiLCJyaWdodCIsImJvdHRvbSIsImxlZnQiLCJhbGlnbmVtZW50X0FsaWduZW1lbnQiLCJob3Jpem9udGFsQWxpZ24iLCJDZW50ZXIiLCJ2ZXJ0aWNhbEFsaWduIiwibWFyZ2luIiwiY2FsY3VsYXRlRGltZW5zaW9uc1giLCJib3VuZHMiLCJMZWZ0IiwiUmlnaHQiLCJjYWxjdWxhdGVEaW1lbnNpb25zWSIsIlRvcCIsIkJvdHRvbSIsIk1ldGhvZE1hbmlwdWxhdGlvbiIsImV4ZWN1dGVyIiwiaW5pdGlhbE1ldGhvZCIsInNldE1ldGhvZCIsIm1ldGhvZHMiLCJhZGQiLCJidWlsZE1ldGhvZCIsIm5ld01ldGhvZCIsImxlbmd0aCIsInBvcCIsInJlc2V0IiwiY2xlYXIiLCJyZW5kZXJPYmplY3RfUmVuZGVyT2JqZWN0IiwiaW5pdGlhbGl6ZUFzQWN0aXZlIiwiZ2VuZXJhdGVOZXdJZCIsImlkQ291bnRlciIsImRpbWVuc2lvbnMiLCJhbGlnbmVtZW50IiwidHJpZ2dlclVwZGF0ZUxheW91dCIsImlzQWN0aXZlIiwiYWN0aXZhdGUiLCJzdGFydFRpbWUiLCJEYXRlIiwibm93IiwiZHVyYXRpb24iLCJyZW5kZXJNZXRob2RNYW5pcHVsYXRpb24iLCJjdXJyZW50TWV0aG9kIiwiZGlmZiIsInNhdmUiLCJnbG9iYWxBbHBoYSIsInJlc3RvcmUiLCJkZWFjdGl2YXRlIiwiZGlzYWJsZU1vdXNlRXZlbnRzIiwiaWQiLCJfcmVuZGVyTWV0aG9kTWFuaXB1bGF0aW9uIiwibGF5b3V0Vmlld19MYXlvdXRWaWV3IiwiY2hpbGRyZW4iLCJzdXBlclJlbmRlciIsImNoaWxkIiwic3RhclJlbmRlck9iamVjdF9TdGFyUmVuZGVyT2JqZWN0Iiwic3RhciIsInN1cGVyIiwiZW5kIiwiZ3JhZCIsImNyZWF0ZVJhZGlhbEdyYWRpZW50IiwiYWRkQ29sb3JTdG9wIiwiZmlsbFN0eWxlIiwiYXJjIiwiTWF0aCIsIlBJIiwiZmlsbCIsImJlZ2luUGF0aCIsIkVycm9yIiwic3RhckxheWVyRHJhd2VyX1N0YXJMYXllckRyYXdlciIsInN0YXJMYXllciIsInNldHRpbmdzVXBkYXRlZCIsIm9wZXJhdGlvbiIsIkNoYW5nZU51bWJlck9mU3RhcnMiLCJ1cGRhdGVOdW1iZXJPZlN0YXJzIiwiYXBwX0FwcCIsInNldHRpbmdNYW5hZ2VyIiwidXBkYXRlIiwic3RhcnMiLCJzZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxfU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsIiwic3RhdGUiLCJoaWRkZW4iLCJFRXZlbnQiLCJsaXN0ZW5lcnMiLCJsaXN0ZW5lciIsImFkZEV2ZW50TGlzdGVuZXJJZk5vdEV4aXN0cyIsImRpc3BhdGNoRXZlbnQiLCJldmVudCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVySWZFeGlzdHMiLCJFRXZlbnRUIiwiYXJnIiwiRUV2ZW50VFQiLCJhcmcxIiwiYXJnMiIsImVDYW52YXNfRUNhbnZhcyIsImRyYXdGdW5jdGlvbnMiLCJkcHJTY2FsaW5nRW5hYmxlZCIsImVuYWJsZURwclNjYWxpbmciLCJyZXNpemUiLCJkaXNhYmxlRHByU2NhbGluZyIsIndpbmRvdyIsImRldmljZVBpeGVsUmF0aW8iLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsImRyYXciLCJzY2FsZSIsImRyYXdGdW5jdGlvbiIsInJlbW92ZURyYXdGdW5jdGlvbiIsImJvZHkiLCJwYXJlbnRFbGVtZW50Iiwic3R5bGUiLCJvdmVyZmxvdyIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsImVuQ2FudmFzIiwiZ2V0Q29udGV4dCIsImN1cnNvckxvY2siLCJTZXRDdXJzb3IiLCJwb2ludGVyIiwiY3Vyc29yIiwiY29udHJvbF9Db250cm9sIiwiaXNNb3VzZU92ZXIiLCJpc0VuYWJsZWQiLCJjbGlja2VkIiwiQnV0dG9uUHJvcGVydGllcyIsImZvbnRTaXplIiwiZm9udFByZWZpeCIsImZvbnRGYW1pbHkiLCJtb3VzZU92ZXJGaWxsU3R5bGUiLCJiYWNrZ3JvdW5kRmlsbFN0eWxlIiwidW5kZWZpbmVkIiwiZ2V0Rm9udCIsImZvbnQiLCJidXR0b25fQnV0dG9uIiwicHJvcGVydGllcyIsImZpbGxSZWN0IiwidGV4dEFsaWduIiwidGV4dEJhc2VsaW5lIiwiZmlsbFRleHQiLCJ0ZXh0Iiwic2l6ZSIsIm1lYXN1cmVUZXh0IiwibGlzdFZpZXdQcm9wZXJ0aWVzX0xpc3RWaWV3UHJvcGVydGllcyIsIml0ZW1TcGFjaW5nIiwib3JpZW50YXRpb24iLCJWZXJ0aWNhbCIsImxpc3RWaWV3X0xpc3RWaWV3IiwiYWRkSXRlbSIsImxheW91dFZpZXciLCJtYXgiLCJzbGlkZXJfU2xpZGVyIiwicmFkaXVzIiwibWluVmFsdWUiLCJtYXhWYWx1ZSIsImN1cnJlbnRWYWx1ZSIsInZhbHVlQ2hhbmdlZCIsInN0cm9rZVN0eWxlIiwibGluZVdpZHRoIiwibW92ZVRvIiwibGluZVRvIiwic3Ryb2tlIiwicmVsVmFsdWUiLCJjbG9zZVBhdGgiLCJpc0RyYWdnaW5nIiwidXBkYXRlQ3VycmVudFZhbHVlIiwidmFsIiwicmFuZ2VTbGlkZXJfUmFuZ2VTbGlkZXIiLCJjdXJyZW50VmFsdWVMb3ciLCJjdXJyZW50VmFsdWVIaWdoIiwibWluRGlmZiIsInZhbHVlc0NoYW5nZWQiLCJzbGlkZXJZIiwicmVsVmFsdWVMb3ciLCJsb3dYIiwicmVsVmFsdWVIaWdoIiwiaGlnaFgiLCJnZXRDbGlja2VkVmFsdWUiLCJkaWZmVG9Mb3ciLCJhYnMiLCJkaWZmVG9IaWdoIiwiaXNEcmFnZ2luZ0xvdyIsImlzRHJhZ2dpbmdIaWdoIiwidXBkYXRlQ3VycmVudFZhbHVlcyIsInN0YXJMYXllclZpZXdfU3RhckxheWVyVmlldyIsIm51bWJlck9mU3RhcnNDaGFuZ2VkIiwibnVtYmVyT2ZTdGFycyIsImNoYW5nZU51bWJlck9mU3RhcnMiLCJyb3VuZCIsInNwZWVkQ2hhbmdlZCIsInNwZWVkIiwiY2hhbmdlU3BlZWQiLCJzaXplc0NoYW5nZWQiLCJsb3dCb3JkZXIiLCJoaWdoQm9yZGVyIiwiY2hhbmdlU2l6ZXMiLCJzZXR0aW5nc0xpc3QiLCJidG5Gb3JMYXllciIsInNlbmRlciIsInJlbW92ZVN0YXJMYXllciIsInNsaWRlciIsInNsaWRlclNwZWVkIiwic2xpZGVyU2l6ZSIsInNpemVzIiwibWFwIiwibWluIiwic2V0dGluZ3NPdmVybGF5Vmlld19TZXR0aW5nc092ZXJsYXlWaWV3Iiwidmlld01vZGVsIiwibGFzdE1vdmVkIiwiaW5hY3Rpdml0eVRpbWVvdXQiLCJsYXllckJ1dHRvbnMiLCJBZGRTdGFyTGF5ZXIiLCJzZXR0aW5ncyIsInN0YXJMYXllcnMiLCJ0YWciLCJhZGRMYXllckJ0biIsInRvZ2dsZVNob3dIaWRlU3RhckxheWVyVmlldyIsIlJlbW92ZVN0YXJMYXllciIsInNldHRpbmdzTGF5ZXIiLCJkZXRhaWxlZFN0YXJMYXllclZpZXciLCJzaG93SGlkZU92ZXJsYXlDbGlja2VkIiwidmlzaWJsZSIsInNldFN0YXRlIiwiYmVmb3JlVmlzaWJsZSIsIm1vdXNlSW5hY3Rpdml0eUhhbmRsZXIiLCJzZXRUaW1lb3V0Iiwic2hvd092ZXJMYXllckJ1dHRvbiIsImJ0bkZvck5ld0xheWVyIiwiYWRkU3RhckxheWVyIiwic3BhY2UiLCJzdGFyTGF5ZXJBbmltYXRvcl9TdGFyTGF5ZXJBbmltYXRvciIsInRpbWVEaWZmIiwiRGluamVjdCIsImluc3RhbmNlcyIsImFkZEluc3RhbmNlIiwiaW5zdGFuY2UiLCJnZXRJbnN0YW5jZSIsInBsYXllclZpZXdfUGxheWVyVmlldyIsInBsYXlJY29uVGV4dCIsInBhdXNlSWNvblRleHQiLCJzdG9wSWNvblRleHQiLCJuZXh0SWNvblRleHQiLCJwcmV2aW91c0ljb25UZXh0IiwiYXVkaW9NYW5hZ2VyIiwibGlzdFZpZXciLCJIb3Jpem9udGFsIiwicGxheVBhdXNlQnRuIiwicGxheSIsInBhdXNlIiwic3RvcEJ0biIsInN0b3AiLCJwcmV2aW91c0J0biIsInByZXZpb3VzIiwibmV4dEJ0biIsImltYWdlUHJvcGVydGllc19JbWFnZVByb3BlcnRpZXMiLCJpbWFnZVNjYWxpbmdNb2RlIiwiRml0QW5kU3BhY2UiLCJpbWFnZV9FSW1hZ2UiLCJpbWFnZSIsImRyYXdJbWFnZSIsImZpdFNjYWxlIiwiaXNJbWFnZVdpZGVyIiwibmF0dXJhbFdpZHRoIiwibmF0dXJhbEhlaWdodCIsIkZpdEFuZE92ZXJmaWxsIiwiY3JlYXRlRnJvbVVybCIsImltYWdlVXJsIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJJbWFnZSIsInNyYyIsIm9ubG9hZCIsImJhY2tncm91bmRJbWFnZVZpZXdfQmFja2dyb3VuZEltYWdlVmlldyIsImJhY2tncm91bmQiLCJnZXRJbWFnZSIsImZyb250Vmlld19Gcm9udFZpZXciLCJmcmVxdWVuY3lJbmRleCIsImxvd2VyQm9yZGVyIiwidXBwZXJCb3JkZXIiLCJhc3NldE1hbmFnZXIiLCJhbmFseXNlciIsImdldEFuYWx5c2VyIiwibG9nbyIsImxvZ29Ob3ZhIiwibG9nb05vdmFFSW1hZ2UiLCJkYXRhIiwiZ2V0U3BlY3RydW0iLCJyZWxEYXRhVmFsdWUiLCJjYWxjdWxhdGVSZWxEYXRhVmFsdWUiLCJsb2dvRnJvbnQiLCJkYXRhVmFsdWUiLCJMYWJlbFByb3BlcnRpZXMiLCJsYWJlbF9MYWJlbCIsImxvYWRpbmdWaWV3X0xvYWRpbmdWaWV3IiwibG9hZGluZ0xhYmVsIiwiaW5zcGllcnR5UGxheWVyVmlld19JbnNwaWVydHlQbGF5ZXJWaWV3Iiwic3RhckFuaW1hdG9ycyIsInN0YXJ0IiwibG9hZGluZ1ZpZXciLCJ0ZXN0aXQiLCJwbGF5ZXJWaWV3IiwiZnJvbnQiLCJzZXR0aW5nc092ZXJsYXkiLCJhcHBTZXR0aW5nc1VwZGF0ZWQiLCJsYXllciIsImFuaW1hdG9yIiwiYW5pbWF0aW9uIiwiYWRkVXBkYXRlRnVuY3Rpb24iLCJzdGFyTGF5ZXJEcmF3cyIsInJlbW92ZVVwZGF0ZUZ1bmN0aW9uIiwiU3RhckxheWVyIiwicmFuZG9tIiwiRUFuaW1hdGlvbiIsInVwZGF0ZUZ1bmN0aW9ucyIsImlzUnVubmluZyIsInNldEZwcyIsImZwcyIsImZwc0ludGVydmFsIiwiYW5pbWF0aW9uTG9vcCIsInJlcXVlc3RBbmltYXRpb25GcmFtZSIsImVsYXBzZWQiLCJsYXN0RnJhbWVUaW1lIiwidXBkYXRlRnVuY3Rpb24iLCJrZXlDb2RlIiwicGxheVBhdXNlIiwiQ2FudmFzSGVscGVyIiwibG9hZEZvbnRhd2Vzb21lRnJlZSIsImxvYWRGb250IiwibG9hZEZvbnRhd2Vzb21lQnJhbmRzIiwiY291bnRQaXhlbHMiLCJpbWFnZURhdGEiLCJwaXhlbENvdW50IiwiZyIsImIiLCJhIiwiZ2V0SWNvblBpeGVscyIsImljb24iLCJnZXRJbWFnZURhdGEiLCJpY29uMSIsImljb24yIiwicmV0cmllcyIsInRlbXBDYW52YXMiLCJ0ZW1wQ3R4IiwiY2hlY2tMb2FkZWQiLCJpY29uMVBpeGVsQ291bnQiLCJpY29uMlBpeGVsQ291bnQiLCJBdWRpb0dyYXBoTm9kZSIsImF1ZGlvQ3R4IiwiYXVkaW9HcmFwaE5vZGVBbmFseXNlcl9BdWRpb0dyYXBoTm9kZUFuYWx5c2VyIiwiZ2V0QXVkaW9Ob2RlIiwiYW5hbHlzZXJOb2RlIiwiY3JlYXRlQW5hbHlzZXIiLCJmZnRTaXplIiwic21vb3RoaW5nVGltZUNvbnN0YW50IiwiYnVmZmVyTGVuZ3RoIiwiZnJlcXVlbmN5QmluQ291bnQiLCJkYXRhQXJyYXkiLCJVaW50OEFycmF5IiwiZ2V0Qnl0ZUZyZXF1ZW5jeURhdGEiLCJnZXRCeXRlVGltZURvbWFpbkRhdGEiLCJhdWRpb0dyYXBoTm9kZURlc3RpbmF0aW9uX0F1ZGlvR3JhcGhOb2RlRGVzdGluYXRpb24iLCJkZXN0aW5hdGlvbiIsImF1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZV9BdWRpb0dyYXBoTm9kZUVsZW1lbnRTb3VyY2UiLCJ1cmwiLCJhdWRpb0VuZGVkIiwiYXVkaW9FbmRlZEV2ZW50Iiwic291cmNlIiwiYXVkaW8iLCJjdXJyZW50VGltZSIsInNldFVybCIsInBhdXNlZCIsImxvYWQiLCJjb250cm9scyIsImNyZWF0ZU1lZGlhRWxlbWVudFNvdXJjZSIsImF1ZGlvR3JhcGhfQXVkaW9HcmFwaCIsImF1ZGlvTm9kZXMiLCJhZGRNZWRpYUVsZW1lbnRTb3VyY2UiLCJzb3VyY2VOb2RlIiwiYWRkQW5hbHl6ZXIiLCJhbmFseXplck5vZGUiLCJnZXRBdWRpb0dyYXBoTm9kZSIsImF1ZGlvQ29udGV4dFN0YXRlQ2hhbmdlZCIsImRvY3VtZW50Q2xpY2siLCJyZXN1bWUiLCJhdWRpb0NvbnRleHRTdGF0ZUNoYW5nZWRFdmFsdWF0b3IiLCJyZWxvYWQiLCJ0aGVuIiwiYWxsIiwiYXVkaW9Ob2RlIiwiZGlzY29ubmVjdCIsImNvbm5lY3QiLCJkZXN0aW5hdGlvbk5vZGUiLCJBdWRpb0NvbnRleHQiLCJhdWRpb01hbmFnZXJfQXVkaW9NYW5hZ2VyIiwic29uZ3MiLCJUcmFpbGVyX2ZhaW50Q29sb3JfZGVmYXVsdCIsIlRyYWlsZXJfRGVlcEZpZWxkX2RlZmF1bHQiLCJUcmFpbGVyX0RyaWZ0aW5nSW50b1RoZUF0bW9zcGhlcmVfZGVmYXVsdCIsImF1ZGlvR3JhcGgiLCJuZXh0U29uZ0luZGV4IiwicHJldmlvdXNTb25nSW5kZXgiLCJBc3NldE1hbmFnZXIiLCJpbWFnZUFzc2V0cyIsImFkZEltYWdlIiwiaW1hZ2VBc3NldCIsInJ1biIsImJhY2tncm91bmRDb2xvciIsImNyZWF0ZUZ1bGxTY3JlZW4iLCJzdGFnZSIsImJhY2tncm91bmRfZGVmYXVsdCIsImxvZ29fZnJvbnRfZGVmYXVsdCIsImxvZ29fbm92YV9kZWZhdWx0IiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiZmxvb3IiLCJDaGFuZ2VTcGVlZCIsIm1pbkZpeCIsIm5hdmlnYXRvciIsInNlcnZpY2VXb3JrZXIiLCJyZWdpc3RlciIsInJlZ2lzdHJhdGlvbiIsImNhdGNoIiwicmVnaXN0cmF0aW9uRXJyb3IiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsUUFBQSxJQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxFQUFBLENBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxZQUFBLENBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBYixFQUFBLGNBQWlEbUIsT0FBQSxLQVFqRHJCLEVBQUFzQixFQUFBLFNBQUFELEVBQUFFLEdBRUEsR0FEQSxFQUFBQSxJQUFBRixFQUFBckIsRUFBQXFCLElBQ0EsRUFBQUUsRUFBQSxPQUFBRixFQUNBLEtBQUFFLEdBQUEsaUJBQUFGLFFBQUFHLFdBQUEsT0FBQUgsRUFDQSxJQUFBSSxFQUFBWCxPQUFBWSxPQUFBLE1BR0EsR0FGQTFCLEVBQUFrQixF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Iiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDcpO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiNDU0ODYxNjc1MGI0OTU5OWUyOWFkMzFmMjcwNTJmYzcubXAzXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiNDJlMWM5MTU3M2UwMzI3Y2QzZjE3ZjI1MWU4YWYyYTYubXAzXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiZjFjZWVhNWQ1NTU5NDdjODAyODFmMzY4YmZhZjhmYTgubXAzXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiNjg5ZjM0NDE2ZjJhMzBiNzc4ZTE4ZjUyM2EwNjhhZjQucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiNGEyZDFmZWY5NWNkOTFiYzY2Y2FhMzE1YjIyYmUyZGQucG5nXCI7IiwibW9kdWxlLmV4cG9ydHMgPSBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiNDMwNzVmZmIzZDZlYWZlNWExNzM0MWNlNzlkOWViMWQucG5nXCI7IiwiaW50ZXJmYWNlIEFycmF5PFQ+IHtcclxuICAgIHJlbW92ZUl0ZW1JZkV4aXN0cyhpdGVtOiBUKTogdm9pZDtcclxuICAgIGNvbnRhaW5zKGl0ZW06IFQpOiBib29sZWFuO1xyXG4gICAgcmVtb3ZlSXRlbShpdGVtOiBUKTogdm9pZDtcclxuICAgIHJlbW92ZShzZWxlY3RvcjogKGl0ZW06IFQpID0+IGJvb2xlYW4pOiB2b2lkO1xyXG4gICAgYWRkSXRlbUlmTm90RXhpc3RzKGl0ZW06IFQpOiB2b2lkO1xyXG4gICAgdG9MaXN0KCk6IFRbXTtcclxuICAgIGdldE5leHQoY3VycmVudDogVCwgc2VsZWN0b3I6IChpdGVtOiBUKSA9PiBudW1iZXIpOiBUO1xyXG4gICAgZmlyc3Qoc2VsZWN0b3I6IChpdGVtOiBUKSA9PiBib29sZWFuKTogVDtcclxuICAgIGZpcnN0T3JEZWZhdWx0KHNlbGVjdG9yOiAoaXRlbTogVCkgPT4gYm9vbGVhbik6IFQ7XHJcbn1cclxuXHJcbkFycmF5LnByb3RvdHlwZS5maXJzdE9yRGVmYXVsdCA9IGZ1bmN0aW9uIChmdW5jKSB7XHJcbiAgICBmb3IgKGNvbnN0IGFycmF5SXRlbSBvZiB0aGlzKSB7XHJcbiAgICAgICAgaWYgKGZ1bmMoYXJyYXlJdGVtKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYXJyYXlJdGVtO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59XHJcblxyXG5BcnJheS5wcm90b3R5cGUuZmlyc3QgPSBmdW5jdGlvbiAoZnVuYykge1xyXG4gICAgZm9yIChjb25zdCBhcnJheUl0ZW0gb2YgdGhpcykge1xyXG4gICAgICAgIGlmIChmdW5jKGFycmF5SXRlbSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGFycmF5SXRlbTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZyhcIml0ZW0gbm90IGZvdW5kXCIpO1xyXG4gICAgY29uc29sZS5sb2codGhpcyk7XHJcbiAgICB0aHJvdyBcIml0ZW0gbm90IGZvdW5kXCI7XHJcbn1cclxuXHJcbkFycmF5LnByb3RvdHlwZS5nZXROZXh0ID0gZnVuY3Rpb24gPFQ+KGN1cnJlbnQ6IFQsIHNlbGVjdG9yOiAoaXRlbTogVCkgPT4gbnVtYmVyKTogVCB7XHJcbiAgICB2YXIgbmV4dFBvc2l0aW9uID0gc2VsZWN0b3IoY3VycmVudCkgKyAxO1xyXG4gICAgdmFyIG5leHQgPSAodGhpcyBhcyBUW10pLmZpcnN0T3JEZWZhdWx0KCh4KSA9PiBzZWxlY3Rvcih4KSA9PSBuZXh0UG9zaXRpb24pO1xyXG4gICAgaWYgKCFuZXh0KSB7XHJcbiAgICAgICAgbmV4dCA9ICh0aGlzIGFzIFRbXSkuZmlyc3QoeCA9PiBzZWxlY3Rvcih4KSA9PSAxKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbmV4dDtcclxufVxyXG5cclxuQXJyYXkucHJvdG90eXBlLnJlbW92ZUl0ZW0gPSBmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleE9mKGl0ZW0pO1xyXG4gICAgaWYgKGluZGV4ICE9IC0xKSB7XHJcbiAgICAgICAgdGhpcy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICB0aHJvdyBcIml0ZW0gbm90IGZvdW5kXCI7XHJcbiAgICB9XHJcbn1cclxuXHJcbkFycmF5LnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uIDxUPihpdGVtOiBUKSB7XHJcbiAgICByZXR1cm4gdGhpcy5pbmRleE9mKGl0ZW0pICE9PSAtMTtcclxufVxyXG5cclxuQXJyYXkucHJvdG90eXBlLnJlbW92ZUl0ZW1JZkV4aXN0cyA9IGZ1bmN0aW9uIDxUPihpdGVtOiBUKSB7XHJcbiAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4T2YoaXRlbSk7XHJcbiAgICBpZiAoaW5kZXggIT0gLTEpIHtcclxuICAgICAgICB0aGlzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbkFycmF5LnByb3RvdHlwZS5hZGRJdGVtSWZOb3RFeGlzdHMgPSBmdW5jdGlvbiA8VD4oaXRlbTogVCkge1xyXG4gICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleE9mKGl0ZW0pO1xyXG4gICAgaWYgKGluZGV4ID09IC0xKSB7XHJcbiAgICAgICAgKHRoaXMgYXMgVFtdKS5wdXNoKGl0ZW0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5BcnJheS5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gPFQ+KHNlbGVjdG9yOiAoaXRlbTogVCkgPT4gYm9vbGVhbikge1xyXG4gICAgKHRoaXMgYXMgVFtdKS5yZW1vdmVJdGVtKCh0aGlzIGFzIFRbXSkuZmlyc3Qoc2VsZWN0b3IpKTtcclxufVxyXG5cclxuQXJyYXkucHJvdG90eXBlLnRvTGlzdCA9IGZ1bmN0aW9uIDxUPigpOiBUW10ge1xyXG4gICAgcmV0dXJuICh0aGlzIGFzIFRbXSkuZmlsdGVyKHggPT4gdHJ1ZSk7XHJcbn1cclxuIiwiZXhwb3J0IGNsYXNzIFJlY3RhbmdsZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgeDogbnVtYmVyLCBwdWJsaWMgeTogbnVtYmVyLCBwdWJsaWMgd2lkdGg6IG51bWJlciwgcHVibGljIGhlaWdodDogbnVtYmVyKSB7IH1cclxuXHJcbiAgICBwdWJsaWMgY29sbGlkZXNXaXRoID0gKHJlY3RhbmdsZTogUmVjdGFuZ2xlKSA9PiB7XHJcbiAgICAgICAgdmFyIGhpdHggPSBmYWxzZTtcclxuICAgICAgICB2YXIgaGl0eSA9IGZhbHNlO1xyXG4gICAgICAgIGlmICh0aGlzLnggPD0gcmVjdGFuZ2xlLngpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMueCA8PSByZWN0YW5nbGUueCAmJiB0aGlzLnggKyB0aGlzLndpZHRoID4gcmVjdGFuZ2xlLngpIHtcclxuICAgICAgICAgICAgICAgIGhpdHggPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHJlY3RhbmdsZS54IDw9IHRoaXMueCAmJiByZWN0YW5nbGUueCArIHJlY3RhbmdsZS53aWR0aCA+IHRoaXMueCkge1xyXG4gICAgICAgICAgICAgICAgaGl0eCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChoaXR4KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnkgPD0gcmVjdGFuZ2xlLnkpIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnkgPD0gcmVjdGFuZ2xlLnkgJiYgdGhpcy55ICsgdGhpcy53aWR0aCA+IHJlY3RhbmdsZS55KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGl0eSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVjdGFuZ2xlLnkgPD0gdGhpcy55ICYmIHJlY3RhbmdsZS55ICsgcmVjdGFuZ2xlLndpZHRoID4gdGhpcy55KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaGl0eSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBoaXR4ICYmIGhpdHk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlzSGl0QnkgPSAoeDogbnVtYmVyLCB5OiBudW1iZXIpID0+IHtcclxuICAgICAgICByZXR1cm4geCA+IHRoaXMueCAmJiB4IDwgdGhpcy54ICsgdGhpcy53aWR0aFxyXG4gICAgICAgICAgICAmJiB5ID4gdGhpcy55ICYmIHkgPCB0aGlzLnkgKyB0aGlzLmhlaWdodDtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEVDYW52YXMgfSBmcm9tIFwiLi9lQ2FudmFzXCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgTGF5b3V0VmlldyB9IGZyb20gXCIuL2xheW91dENvbnRyb2xzL2xheW91dFZpZXdcIjtcclxuaW1wb3J0IHsgRUFuaW1hdGlvbiB9IGZyb20gXCIuLi9lQW5pbWF0aW9uXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU3RhZ2Uge1xyXG4gICAgcHJpdmF0ZSB2aWV3OiBMYXlvdXRWaWV3O1xyXG4gICAgcHJpdmF0ZSBzaG91bGRVcGRhdGVMYXlvdXQ6IGJvb2xlYW47XHJcblxyXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBjYW52YXM6IEVDYW52YXMpIHtcclxuICAgICAgICBjYW52YXMuYWRkRHJhd0Z1bmN0aW9uKHRoaXMucmVuZGVyKTtcclxuICAgICAgICBjYW52YXMucmVzaXplZC5hZGRFdmVudExpc3RlbmVyKHRoaXMuY2FudmFzUmVzaXplZCk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLm1vdXNlRG93bik7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5tb3VzZVVwKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsIHRoaXMubW91c2VNb3ZlKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5jbGljayk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjYW52YXNSZXNpemVkID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2hvdWxkVXBkYXRlTGF5b3V0ID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG1vdXNlRG93biA9IChldjogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnZpZXcpIHtcclxuICAgICAgICAgICAgdGhpcy52aWV3Lm1vdXNlRG93bih7XHJcbiAgICAgICAgICAgICAgICBjbGllbnRYOiBldi5jbGllbnRYIC8gdGhpcy5jYW52YXMuZHByLFxyXG4gICAgICAgICAgICAgICAgY2xpZW50WTogZXYuY2xpZW50WSAvIHRoaXMuY2FudmFzLmRwcixcclxuICAgICAgICAgICAgICAgIGFsdEtleTogZXYuYWx0S2V5LFxyXG4gICAgICAgICAgICAgICAgY3RybEtleTogZXYuY3RybEtleSxcclxuICAgICAgICAgICAgICAgIHNoaWZ0S2V5OiBldi5zaGlmdEtleVxyXG4gICAgICAgICAgICB9IGFzIE1vdXNlRXZlbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIG1vdXNlVXAgPSAoZXY6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICBpZiAodGhpcy52aWV3KSB7XHJcbiAgICAgICAgICAgIHRoaXMudmlldy5tb3VzZVVwKHtcclxuICAgICAgICAgICAgICAgIGNsaWVudFg6IGV2LmNsaWVudFggLyB0aGlzLmNhbnZhcy5kcHIsXHJcbiAgICAgICAgICAgICAgICBjbGllbnRZOiBldi5jbGllbnRZIC8gdGhpcy5jYW52YXMuZHByLFxyXG4gICAgICAgICAgICAgICAgYWx0S2V5OiBldi5hbHRLZXksXHJcbiAgICAgICAgICAgICAgICBjdHJsS2V5OiBldi5jdHJsS2V5LFxyXG4gICAgICAgICAgICAgICAgc2hpZnRLZXk6IGV2LnNoaWZ0S2V5XHJcbiAgICAgICAgICAgIH0gYXMgTW91c2VFdmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbW91c2VNb3ZlID0gKGV2OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMudmlldykge1xyXG4gICAgICAgICAgICB0aGlzLnZpZXcubW91c2VNb3ZlKHtcclxuICAgICAgICAgICAgICAgIGNsaWVudFg6IGV2LmNsaWVudFggLyB0aGlzLmNhbnZhcy5kcHIsXHJcbiAgICAgICAgICAgICAgICBjbGllbnRZOiBldi5jbGllbnRZIC8gdGhpcy5jYW52YXMuZHByLFxyXG4gICAgICAgICAgICAgICAgYWx0S2V5OiBldi5hbHRLZXksXHJcbiAgICAgICAgICAgICAgICBjdHJsS2V5OiBldi5jdHJsS2V5LFxyXG4gICAgICAgICAgICAgICAgc2hpZnRLZXk6IGV2LnNoaWZ0S2V5XHJcbiAgICAgICAgICAgIH0gYXMgTW91c2VFdmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2xpY2sgPSAoZXY6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICBpZiAodGhpcy52aWV3KSB7XHJcbiAgICAgICAgICAgIHRoaXMudmlldy5jbGljayh7XHJcbiAgICAgICAgICAgICAgICBjbGllbnRYOiBldi5jbGllbnRYIC8gdGhpcy5jYW52YXMuZHByLFxyXG4gICAgICAgICAgICAgICAgY2xpZW50WTogZXYuY2xpZW50WSAvIHRoaXMuY2FudmFzLmRwcixcclxuICAgICAgICAgICAgICAgIGFsdEtleTogZXYuYWx0S2V5LFxyXG4gICAgICAgICAgICAgICAgY3RybEtleTogZXYuY3RybEtleSxcclxuICAgICAgICAgICAgICAgIHNoaWZ0S2V5OiBldi5zaGlmdEtleVxyXG4gICAgICAgICAgICB9IGFzIE1vdXNlRXZlbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHJlbmRlciA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgd2lkdGg/OiBudW1iZXIsIGhlaWdodD86IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnZpZXcpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2hvdWxkVXBkYXRlTGF5b3V0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXcudXBkYXRlTGF5b3V0KGN0eCwgbmV3IFJlY3RhbmdsZSgwLCAwLCB3aWR0aCwgaGVpZ2h0KSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3VsZFVwZGF0ZUxheW91dCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgICAgIHRoaXMudmlldy5yZW5kZXIoY3R4KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldFZpZXcgPSAodmlldzogTGF5b3V0VmlldykgPT4ge1xyXG4gICAgICAgIHRoaXMudmlldyA9IHZpZXc7XHJcbiAgICAgICAgdGhpcy5zaG91bGRVcGRhdGVMYXlvdXQgPSB0cnVlO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGVudW0gSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24ge1xyXG4gICAgTGVmdCxcclxuICAgIENlbnRlcixcclxuICAgIFJpZ2h0LFxyXG59IiwiZXhwb3J0IGVudW0gVmVydGljYWxBbGlnbmVtZW50T3B0aW9uIHtcclxuICAgIFRvcCxcclxuICAgIENlbnRlcixcclxuICAgIEJvdHRvbSxcclxufSIsImV4cG9ydCBlbnVtIFNldHRpbmdPcGVyYXRpb24ge1xyXG4gICAgQWRkU3RhckxheWVyLFxyXG4gICAgUmVtb3ZlU3RhckxheWVyLFxyXG4gICAgQ2hhbmdlTnVtYmVyT2ZTdGFycyxcclxuICAgIENoYW5nZVNwZWVkLFxyXG4gICAgQ2hhbmdlU2l6ZXNcclxufSIsImV4cG9ydCBlbnVtIFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlIHtcclxuICAgIGhpZGRlbixcclxuICAgIGJlZm9yZVZpc2libGUsXHJcbiAgICB2aXNpYmxlXHJcbn0iLCJleHBvcnQgZW51bSBPcmllbnRhdGlvbiB7XHJcbiAgICBIb3Jpem9udGFsLFxyXG4gICAgVmVydGljYWxcclxufSIsImV4cG9ydCBlbnVtIEltYWdlU2NhbGluZ01vZGV7XHJcbiAgICBGaXRBbmRPdmVyZmlsbCxcclxuICAgIEZpdEFuZFNwYWNlXHJcbn0iLCJleHBvcnQgY2xhc3MgU3BhY2luZyB7XHJcbiAgICBwdWJsaWMgdG9wOiBudW1iZXIgPSAwO1xyXG4gICAgcHVibGljIHJpZ2h0OiBudW1iZXIgPSAwO1xyXG4gICAgcHVibGljIGJvdHRvbTogbnVtYmVyID0gMDtcclxuICAgIHB1YmxpYyBsZWZ0OiBudW1iZXIgPSAwO1xyXG59IiwiaW1wb3J0IHsgSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24gfSBmcm9tIFwiLi9ob3Jpem9udGFsQWxpZ25lbWVudE9wdGlvblwiO1xyXG5pbXBvcnQgeyBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24gfSBmcm9tIFwiLi92ZXJ0aWNhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBTcGFjaW5nIH0gZnJvbSBcIi4vc3BhY2luZ1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEFsaWduZW1lbnQge1xyXG4gICAgcHVibGljIGhvcml6b250YWxBbGlnbiA9IEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uLkNlbnRlcjtcclxuICAgIHB1YmxpYyB2ZXJ0aWNhbEFsaWduID0gVmVydGljYWxBbGlnbmVtZW50T3B0aW9uLkNlbnRlcjtcclxuXHJcbiAgICBwdWJsaWMgbWFyZ2luID0gbmV3IFNwYWNpbmcoKTtcclxuICAgIC8vIHB1YmxpYyBwYWRkaW5nID0gbmV3IFNwYWNpbmcoKTtcclxuXHJcbiAgICBwdWJsaWMgY2FsY3VsYXRlRGltZW5zaW9uc1ggPSAoYm91bmRzOiBSZWN0YW5nbGUsIHdpZHRoOiBudW1iZXIpID0+IHtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMuaG9yaXpvbnRhbEFsaWduKSB7XHJcbiAgICAgICAgICAgIGNhc2UgSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24uTGVmdDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBib3VuZHMueCArIHRoaXMubWFyZ2luLmxlZnQ7XHJcbiAgICAgICAgICAgIGNhc2UgSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24uQ2VudGVyOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJvdW5kcy54ICsgYm91bmRzLndpZHRoIC8gMiAtIHdpZHRoIC8gMjtcclxuICAgICAgICAgICAgY2FzZSBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbi5SaWdodDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBib3VuZHMueCArIGJvdW5kcy53aWR0aCAtIHdpZHRoIC0gdGhpcy5tYXJnaW4ucmlnaHQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjYWxjdWxhdGVEaW1lbnNpb25zWSA9IChib3VuZHM6IFJlY3RhbmdsZSwgaGVpZ2h0OiBudW1iZXIpID0+IHtcclxuICAgICAgICBzd2l0Y2ggKHRoaXMudmVydGljYWxBbGlnbikge1xyXG4gICAgICAgICAgICBjYXNlIFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi5Ub3A6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYm91bmRzLnkgKyB0aGlzLm1hcmdpbi50b3A7XHJcbiAgICAgICAgICAgIGNhc2UgVmVydGljYWxBbGlnbmVtZW50T3B0aW9uLkNlbnRlcjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBib3VuZHMueSArIGJvdW5kcy5oZWlnaHQgLyAyIC0gaGVpZ2h0IC8gMjtcclxuICAgICAgICAgICAgY2FzZSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24uQm90dG9tOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJvdW5kcy55ICsgYm91bmRzLmhlaWdodCAtIGhlaWdodCAtIHRoaXMubWFyZ2luLmJvdHRvbTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgTWV0aG9kTWFuaXB1bGF0aW9uPFQgZXh0ZW5kcyAoLi4uYXJnczogYW55W10pID0+IGFueT4ge1xyXG4gICAgcHJpdmF0ZSBtZXRob2RzOiBUW10gPSBbXTtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGV4ZWN1dGVyOiBhbnksIGluaXRpYWxNZXRob2Q6IFQsIHByaXZhdGUgc2V0TWV0aG9kOiAobWV0aG9kOiBUKSA9PiB2b2lkKSB7XHJcbiAgICAgICAgaW5pdGlhbE1ldGhvZC5iaW5kKHRoaXMuZXhlY3V0ZXIpO1xyXG4gICAgICAgIHRoaXMubWV0aG9kcy5wdXNoKGluaXRpYWxNZXRob2QpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGQgPSAoYnVpbGRNZXRob2Q6IChjdXJyZW50TWV0aG9kOiBUKSA9PiBUKSA9PiB7XHJcbiAgICAgICAgdmFyIG9sZCA9IHRoaXMubWV0aG9kc1t0aGlzLm1ldGhvZHMubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgdmFyIG5ld01ldGhvZCA9IGJ1aWxkTWV0aG9kKG9sZCk7XHJcbiAgICAgICAgdGhpcy5tZXRob2RzLnB1c2gobmV3TWV0aG9kKTtcclxuICAgICAgICB0aGlzLnNldE1ldGhvZChuZXdNZXRob2QpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmUgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5tZXRob2RzLnBvcCgpO1xyXG4gICAgICAgIHRoaXMuc2V0TWV0aG9kKHRoaXMubWV0aG9kc1t0aGlzLm1ldGhvZHMubGVuZ3RoIC0gMV0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZXNldCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNldE1ldGhvZCh0aGlzLm1ldGhvZHNbdGhpcy5tZXRob2RzLmxlbmd0aCAtIDFdKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2xlYXIgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRNZXRob2QoPFQ+KCgpID0+IHsgfSkpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBBbGlnbmVtZW50IH0gZnJvbSBcIi4vYWxpZ25lbWVudC9hbGlnbmVtZW50XCI7XHJcbmltcG9ydCB7IE1ldGhvZE1hbmlwdWxhdGlvbiB9IGZyb20gXCIuLi9tZXRob2RNYW5pcHVsYXRpb25cIjtcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBSZW5kZXJPYmplY3Qge1xyXG4gICAgcHJpdmF0ZSBzdGF0aWMgaWRDb3VudGVyID0gMDtcclxuICAgIHByaXZhdGUgZ2VuZXJhdGVOZXdJZCA9ICgpID0+IHtcclxuICAgICAgICBSZW5kZXJPYmplY3QuaWRDb3VudGVyKys7XHJcbiAgICAgICAgcmV0dXJuIFJlbmRlck9iamVjdC5pZENvdW50ZXI7XHJcbiAgICB9XHJcbiAgICBzdGFydFRpbWU6IG51bWJlcjtcclxuICAgIGR1cmF0aW9uOiBudW1iZXI7XHJcblxyXG4gICAgY29uc3RydWN0b3IoaW5pdGlhbGl6ZUFzQWN0aXZlID0gdHJ1ZSkge1xyXG4gICAgICAgIHRoaXMuaWQgPSB0aGlzLmdlbmVyYXRlTmV3SWQoKTtcclxuICAgICAgICB0aGlzLm5hbWUgPSBcIm9iamVjdCBcIiArIHRoaXMuaWQ7XHJcblxyXG4gICAgICAgIHRoaXMuaXNBY3RpdmUgPSBpbml0aWFsaXplQXNBY3RpdmU7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzQWN0aXZlKSB7XHJcbiAgICAgICAgICAgIC8vIHRoaXMucmVuZGVyTWV0aG9kTWFuaXB1bGF0aW9uLmNsZWFyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBpZDogbnVtYmVyO1xyXG4gICAgcHVibGljIG5hbWU6IHN0cmluZztcclxuICAgIHB1YmxpYyB0YWc6IGFueTtcclxuXHJcbiAgICBwdWJsaWMgYm91bmRzOiBSZWN0YW5nbGUgPSBuZXcgUmVjdGFuZ2xlKDAsIDAsIDAsIDApO1xyXG4gICAgcHVibGljIGRpbWVuc2lvbnM6IFJlY3RhbmdsZSA9IG5ldyBSZWN0YW5nbGUoMCwgMCwgMCwgMCk7XHJcblxyXG4gICAgcHVibGljIGFsaWduZW1lbnQgPSBuZXcgQWxpZ25lbWVudCgpO1xyXG5cclxuICAgIHByaXZhdGUgc2hvdWxkVXBkYXRlTGF5b3V0ID0gZmFsc2U7XHJcblxyXG4gICAgcHJpdmF0ZSBfcmVuZGVyTWV0aG9kTWFuaXB1bGF0aW9uOiBNZXRob2RNYW5pcHVsYXRpb248KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PiB2b2lkPjtcclxuICAgIHB1YmxpYyBnZXQgcmVuZGVyTWV0aG9kTWFuaXB1bGF0aW9uKCk6IE1ldGhvZE1hbmlwdWxhdGlvbjwoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpID0+IHZvaWQ+IHtcclxuICAgICAgICBpZiAoIXRoaXMuX3JlbmRlck1ldGhvZE1hbmlwdWxhdGlvbikge1xyXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJNZXRob2RNYW5pcHVsYXRpb24gPSBuZXcgTWV0aG9kTWFuaXB1bGF0aW9uKHRoaXMsIHRoaXMucmVuZGVyLCAocmVuZGVyKSA9PiB0aGlzLnJlbmRlciA9IHJlbmRlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLl9yZW5kZXJNZXRob2RNYW5pcHVsYXRpb247XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbmRlciA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnNob3VsZFVwZGF0ZUxheW91dCkge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUxheW91dChjdHgsIHRoaXMuYm91bmRzKTtcclxuICAgICAgICAgICAgdGhpcy5zaG91bGRVcGRhdGVMYXlvdXQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVMYXlvdXQoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGJvdW5kczogUmVjdGFuZ2xlKSB7XHJcbiAgICAgICAgdGhpcy5ib3VuZHMgPSBib3VuZHM7XHJcbiAgICAgICAgdGhpcy5zaG91bGRVcGRhdGVMYXlvdXQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdHJpZ2dlclVwZGF0ZUxheW91dCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNob3VsZFVwZGF0ZUxheW91dCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBpc0FjdGl2ZSA9IGZhbHNlO1xyXG4gICAgcHVibGljIGFjdGl2YXRlID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICB0aGlzLmR1cmF0aW9uID0gMztcclxuXHJcbiAgICAgICAgdGhpcy5yZW5kZXJNZXRob2RNYW5pcHVsYXRpb24uYWRkKChjdXJyZW50TWV0aG9kKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50ID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgICAgIHZhciBkaWZmID0gY3VycmVudCAtIHRoaXMuc3RhcnRUaW1lO1xyXG4gICAgICAgICAgICAgICAgaWYgKGRpZmYgPD0gNTAwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5zYXZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY3R4Lmdsb2JhbEFscGhhID0gZGlmZiAvIDEwMDAgLyB0aGlzLmR1cmF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgY3VycmVudE1ldGhvZChjdHgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGN0eC5yZXN0b3JlKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRNZXRob2QoY3R4KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlck1ldGhvZE1hbmlwdWxhdGlvbi5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkZWFjdGl2YXRlID0gKCkgPT4ge1xyXG4gICAgICAgIC8vIHRoaXMuc3RhcnRUaW1lID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAvLyB0aGlzLmR1cmF0aW9uID0gMztcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhcImhpXCIpO1xyXG5cclxuICAgICAgICAvLyB0aGlzLnJlbmRlck1ldGhvZE1hbmlwdWxhdGlvbi5hZGQoKGN1cnJlbnRNZXRob2QpID0+IHtcclxuICAgICAgICAvLyAgICAgcmV0dXJuIChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4ge1xyXG4gICAgICAgIC8vICAgICAgICAgY29uc29sZS5sb2coXCJ3b3JraW5nXCIpO1xyXG4gICAgICAgIC8vICAgICAgICAgdmFyIGN1cnJlbnQgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIC8vICAgICAgICAgdmFyIGRpZmYgPSBjdXJyZW50IC0gdGhpcy5zdGFydFRpbWU7XHJcbiAgICAgICAgLy8gICAgICAgICBpZiAoZGlmZiA8PSA1MDAwKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgY3R4LnNhdmUoKTtcclxuICAgICAgICAvLyAgICAgICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSAoMSAtIGRpZmYgLyAxMDAwKSAvIHRoaXMuZHVyYXRpb25cclxuICAgICAgICAvLyAgICAgICAgICAgICBjdXJyZW50TWV0aG9kKGN0eCk7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcclxuICAgICAgICAvLyAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgY3VycmVudE1ldGhvZChjdHgpO1xyXG4gICAgICAgIC8vICAgICAgICAgICAgIHRoaXMucmVuZGVyTWV0aG9kTWFuaXB1bGF0aW9uLnJlbW92ZSgpO1xyXG4gICAgICAgIC8vICAgICAgICAgfVxyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRpc2FibGVNb3VzZUV2ZW50cyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLm1vdXNlRG93biA9ICgpID0+IHsgfTtcclxuICAgICAgICB0aGlzLm1vdXNlVXAgPSAoKSA9PiB7IH07XHJcbiAgICAgICAgdGhpcy5tb3VzZU1vdmUgPSAoKSA9PiB7IH07XHJcbiAgICAgICAgdGhpcy5jbGljayA9ICgpID0+IHsgfTtcclxuICAgIH1cclxuXHJcbiAgICBhYnN0cmFjdCBtb3VzZURvd24oZXY6IE1vdXNlRXZlbnQpOiB2b2lkO1xyXG4gICAgYWJzdHJhY3QgbW91c2VVcChldjogTW91c2VFdmVudCk6IHZvaWQ7XHJcbiAgICBhYnN0cmFjdCBtb3VzZU1vdmUoZXY6IE1vdXNlRXZlbnQpOiB2b2lkO1xyXG4gICAgYWJzdHJhY3QgY2xpY2soZXY6IE1vdXNlRXZlbnQpOiB2b2lkO1xyXG59IiwiaW1wb3J0IHsgUmVuZGVyT2JqZWN0IH0gZnJvbSBcIi4uL3JlbmRlck9iamVjdFwiO1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIExheW91dFZpZXcgZXh0ZW5kcyBSZW5kZXJPYmplY3Qge1xyXG4gICAgcHJvdGVjdGVkIGNoaWxkcmVuOiBSZW5kZXJPYmplY3RbXSA9IFtdO1xyXG5cclxuICAgIHByaXZhdGUgc3VwZXJSZW5kZXIgPSB0aGlzLnJlbmRlcjtcclxuICAgIHB1YmxpYyByZW5kZXIgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpID0+IHtcclxuICAgICAgICB0aGlzLnN1cGVyUmVuZGVyKGN0eCk7XHJcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGNoaWxkLnJlbmRlcihjdHgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcHVibGljIG1vdXNlRG93bihldjogTW91c2VFdmVudCkge1xyXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICBjaGlsZC5tb3VzZURvd24oZXYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbW91c2VVcChldjogTW91c2VFdmVudCkge1xyXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICBjaGlsZC5tb3VzZVVwKGV2KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG1vdXNlTW92ZShldjogTW91c2VFdmVudCkge1xyXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICBjaGlsZC5tb3VzZU1vdmUoZXYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2xpY2soZXY6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4udG9MaXN0KCkpIHtcclxuICAgICAgICAgICAgY2hpbGQuY2xpY2soZXYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IFJlbmRlck9iamVjdCB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL3JlbmRlck9iamVjdFwiO1xyXG5pbXBvcnQgeyBTdGFyIH0gZnJvbSBcIi4uL21vZGVscy9zdGFyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU3RhclJlbmRlck9iamVjdCBleHRlbmRzIFJlbmRlck9iamVjdCB7XHJcbiAgICBtb3VzZURvd24oZXY6IE1vdXNlRXZlbnQpOiB2b2lkIHtcclxuICAgIH1cclxuICAgIG1vdXNlVXAoZXY6IE1vdXNlRXZlbnQpOiB2b2lkIHtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHN0YXI6IFN0YXIpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW5kZXIgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpOiB2b2lkID0+IHtcclxuXHJcbiAgICAgICAgdmFyIGVuZCA9IHRoaXMuc3Rhci5yICogMztcclxuICAgICAgICB2YXIgZ3JhZCA9IGN0eC5jcmVhdGVSYWRpYWxHcmFkaWVudCh0aGlzLnN0YXIueCwgdGhpcy5zdGFyLnksIHRoaXMuc3Rhci5yLCB0aGlzLnN0YXIueCwgdGhpcy5zdGFyLnksIGVuZCk7XHJcbiAgICAgICAgZ3JhZC5hZGRDb2xvclN0b3AoMCwgJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC4yKScpO1xyXG4gICAgICAgIGdyYWQuYWRkQ29sb3JTdG9wKDEsICdyZ2JhKDI1NSwgMjU1LCAyNTUsIDApJyk7XHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IGdyYWQ7XHJcbiAgICAgICAgY3R4LmFyYyh0aGlzLnN0YXIueCwgdGhpcy5zdGFyLnksIGVuZCwgMCwgTWF0aC5QSSAqIDIpO1xyXG4gICAgICAgIGN0eC5maWxsKCk7XHJcblxyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBcIndoaXRlXCI7XHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5hcmModGhpcy5zdGFyLngsIHRoaXMuc3Rhci55LCB0aGlzLnN0YXIuciwgMCwgTWF0aC5QSSAqIDIpO1xyXG4gICAgICAgIGN0eC5maWxsKCk7XHJcbiAgICB9XHJcbiAgICBtb3VzZU1vdmUoZXY6IE1vdXNlRXZlbnQpOiB2b2lkIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJNZXRob2Qgbm90IGltcGxlbWVudGVkLlwiKTtcclxuICAgIH1cclxuICAgIGNsaWNrKGV2OiBNb3VzZUV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBMYXlvdXRWaWV3IH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGF5b3V0Vmlld1wiO1xyXG5pbXBvcnQgeyBTdGFyUmVuZGVyT2JqZWN0IH0gZnJvbSBcIi4vc3RhclJlbmRlck9iamVjdFwiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgU3RhckxheWVyIH0gZnJvbSBcIi4uL21vZGVscy9zdGFyTGF5ZXJcIjtcclxuaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4uL2FwcFwiO1xyXG5pbXBvcnQgeyBTZXR0aW5nT3BlcmF0aW9uIH0gZnJvbSBcIi4uL3NldHRpbmdzL3NldHRpbmdPcGVyYXRpb25cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTdGFyTGF5ZXJEcmF3ZXIgZXh0ZW5kcyBMYXlvdXRWaWV3IHtcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBzdGFyTGF5ZXI6IFN0YXJMYXllcikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgQXBwLnNldHRpbmdNYW5hZ2VyLnVwZGF0ZS5hZGRFdmVudExpc3RlbmVyKHRoaXMuc2V0dGluZ3NVcGRhdGVkKVxyXG4gICAgICAgIHRoaXMuZGlzYWJsZU1vdXNlRXZlbnRzKCk7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyVXBkYXRlTGF5b3V0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXR0aW5nc1VwZGF0ZWQgPSAob3BlcmF0aW9uOiBTZXR0aW5nT3BlcmF0aW9uKSA9PiB7XHJcbiAgICAgICAgc3dpdGNoIChvcGVyYXRpb24pIHtcclxuICAgICAgICAgICAgY2FzZSBTZXR0aW5nT3BlcmF0aW9uLkNoYW5nZU51bWJlck9mU3RhcnM6XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZU51bWJlck9mU3RhcnMoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHVwZGF0ZU51bWJlck9mU3RhcnMgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyVXBkYXRlTGF5b3V0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUxheW91dChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuID0gW107XHJcblxyXG4gICAgICAgIGZvciAoY29uc3Qgc3RhciBvZiB0aGlzLnN0YXJMYXllci5zdGFycykge1xyXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2gobmV3IFN0YXJSZW5kZXJPYmplY3Qoc3RhcikpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcblxyXG4gICAgcHVibGljIG1vdXNlTW92ZShldjogTW91c2VFdmVudCkge1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjbGljayhldjogTW91c2VFdmVudCkge1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUgfSBmcm9tIFwiLi9zZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbCB7XHJcbiAgICBwdWJsaWMgc3RhdGU6IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlID0gU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUuaGlkZGVuO1xyXG59IiwiZXhwb3J0IGNsYXNzIEVFdmVudCB7XHJcbiAgICBwcml2YXRlIGxpc3RlbmVyczogKCgpID0+IHZvaWQpW10gPSBbXTtcclxuXHJcbiAgICBwdWJsaWMgYWRkRXZlbnRMaXN0ZW5lciA9IChsaXN0ZW5lcjogKCkgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIC8vIHZhbGlkYXRpb25cclxuICAgICAgICBpZiAoIWxpc3RlbmVyIHx8IHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpID49IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJsaXN0ZW5lciBhbHJlYWR5IGFkZGVkXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkRXZlbnRMaXN0ZW5lcklmTm90RXhpc3RzID0gKGxpc3RlbmVyOiAoKSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgLy8gdmFsaWRhdGlvblxyXG4gICAgICAgIGlmICghbGlzdGVuZXIgfHwgdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcikgPj0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZGlzcGF0Y2hFdmVudCA9ICgpID0+IHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubGlzdGVuZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gdGhpcy5saXN0ZW5lcnNbaV07XHJcbiAgICAgICAgICAgIGV2ZW50KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVFdmVudExpc3RlbmVyID0gKGxpc3RlbmVyOiAoKSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgLy8gdmFsaWRhdGlvblxyXG4gICAgICAgIGlmICghbGlzdGVuZXIgfHwgdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcikgPCAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IFwibGlzdGVuZXIgbm90IGZvdW5kXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5zcGxpY2UodGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lciksIDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVFdmVudExpc3RlbmVySWZFeGlzdHMgPSAobGlzdGVuZXI6ICgpID0+IHZvaWQpID0+IHtcclxuICAgICAgICAvLyB2YWxpZGF0aW9uXHJcbiAgICAgICAgaWYgKCFsaXN0ZW5lciB8fCB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSA8IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuc3BsaWNlKHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpLCAxKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEVFdmVudFQ8VD4ge1xyXG4gICAgcHJpdmF0ZSBsaXN0ZW5lcnM6ICgoYXJnOiBUKSA9PiB2b2lkKVtdID0gW107XHJcblxyXG4gICAgcHVibGljIGFkZEV2ZW50TGlzdGVuZXIgPSAobGlzdGVuZXI6IChhcmc6IFQpID0+IHZvaWQpID0+IHtcclxuICAgICAgICAvLyB2YWxpZGF0aW9uXHJcbiAgICAgICAgaWYgKCFsaXN0ZW5lciB8fCB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IFwibGlzdGVuZXIgYWxyZWFkeSBhZGRlZFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRpc3BhdGNoRXZlbnQgPSAoYXJnOiBUKSA9PiB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBldmVudCA9IHRoaXMubGlzdGVuZXJzW2ldO1xyXG4gICAgICAgICAgICBldmVudChhcmcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlRXZlbnRMaXN0ZW5lciA9IChsaXN0ZW5lcjogKGFyZzogVCkgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIC8vIHZhbGlkYXRpb25cclxuICAgICAgICBpZiAoIWxpc3RlbmVyIHx8IHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpIDwgMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBcImxpc3RlbmVyIG5vdCBmb3VuZFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuc3BsaWNlKHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpLCAxKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIEVFdmVudFRUPFQxLCBUMj4ge1xyXG4gICAgcHJpdmF0ZSBsaXN0ZW5lcnM6ICgoYXJnMTogVDEsIGFyZzI6IFQyKSA9PiB2b2lkKVtdID0gW107XHJcblxyXG4gICAgcHVibGljIGFkZEV2ZW50TGlzdGVuZXIgPSAobGlzdGVuZXI6IChhcmcxOiBUMSwgYXJnMjogVDIpID0+IHZvaWQpID0+IHtcclxuICAgICAgICAvLyB2YWxpZGF0aW9uXHJcbiAgICAgICAgaWYgKCFsaXN0ZW5lciB8fCB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IFwibGlzdGVuZXIgYWxyZWFkeSBhZGRlZFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRpc3BhdGNoRXZlbnQgPSAoYXJnMTogVDEsIGFyZzI6IFQyKSA9PiB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBldmVudCA9IHRoaXMubGlzdGVuZXJzW2ldO1xyXG4gICAgICAgICAgICBldmVudChhcmcxLCBhcmcyKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZUV2ZW50TGlzdGVuZXIgPSAobGlzdGVuZXI6IChhcmcxOiBUMSwgYXJnMjogVDIpID0+IHZvaWQpID0+IHtcclxuICAgICAgICAvLyB2YWxpZGF0aW9uXHJcbiAgICAgICAgaWYgKCFsaXN0ZW5lciB8fCB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSA8IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJsaXN0ZW5lciBub3QgZm91bmRcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnNwbGljZSh0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSwgMSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBFQW5pbWF0aW9uIH0gZnJvbSBcIi4uL2VBbmltYXRpb25cIjtcclxuaW1wb3J0IHsgRUV2ZW50IH0gZnJvbSBcIi4uL2VFdmVudFwiO1xyXG5cclxuZXhwb3J0IHR5cGUgRHJhd0Z1bmN0aW9uID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCB3aWR0aD86IG51bWJlciwgaGVpZ2h0PzogbnVtYmVyKSA9PiB2b2lkO1xyXG5cclxuZXhwb3J0IGNsYXNzIEVDYW52YXMge1xyXG4gICAgcHJpdmF0ZSBjYW52YXM6IEhUTUxDYW52YXNFbGVtZW50O1xyXG4gICAgcHJpdmF0ZSBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuXHJcbiAgICBwcml2YXRlIGRyYXdGdW5jdGlvbnM6IERyYXdGdW5jdGlvbltdID0gW107XHJcbiAgICBwdWJsaWMgZHByID0gMTtcclxuXHJcbiAgICBwdWJsaWMgZ2V0IHdpZHRoKCk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FudmFzLmNsaWVudFdpZHRoIC8gdGhpcy5kcHI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBoZWlnaHQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXMuY2xpZW50SGVpZ2h0IC8gdGhpcy5kcHI7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBkcHJTY2FsaW5nRW5hYmxlZCA9IGZhbHNlO1xyXG4gICAgcHVibGljIGVuYWJsZURwclNjYWxpbmcgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5kcHJTY2FsaW5nRW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5yZXNpemUoKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBkaXNhYmxlRHByU2NhbGluZyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmRwclNjYWxpbmdFbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5yZXNpemUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVzaXplZCA9IG5ldyBFRXZlbnQoKVxyXG5cclxuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7IH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZUZ1bGxTY3JlZW4oKTogRUNhbnZhcyB7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5wYXJlbnRFbGVtZW50LnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5tYXJnaW4gPSBcIjBcIjtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcclxuXHJcbiAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY2FudmFzKTtcclxuICAgICAgICBjYW52YXMuc3R5bGUud2lkdGggPSBcIjEwMCVcIlxyXG4gICAgICAgIGNhbnZhcy5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcclxuXHJcbiAgICAgICAgdmFyIGVuQ2FudmFzID0gbmV3IEVDYW52YXMoKTtcclxuICAgICAgICBlbkNhbnZhcy5jYW52YXMgPSBjYW52YXM7XHJcbiAgICAgICAgZW5DYW52YXMuY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgZW5DYW52YXMucmVzaXplKTtcclxuICAgICAgICBlbkNhbnZhcy5yZXNpemUoKTtcclxuICAgICAgICByZXR1cm4gZW5DYW52YXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgY3Vyc29yTG9jazogc3RyaW5nID0gbnVsbDtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIFNldEN1cnNvciA9IChuYW1lOiBzdHJpbmcsIHBvaW50ZXI6IGJvb2xlYW4pID0+IHtcclxuICAgICAgICBpZiAocG9pbnRlcikge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwicG9pbnRlclwiO1xyXG4gICAgICAgICAgICBFQ2FudmFzLmN1cnNvckxvY2sgPSBuYW1lO1xyXG4gICAgICAgIH0gZWxzZSBpZiAobmFtZSA9PSBFQ2FudmFzLmN1cnNvckxvY2spIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSBcImRlZmF1bHRcIjtcclxuICAgICAgICAgICAgRUNhbnZhcy5jdXJzb3JMb2NrID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlc2l6ZSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmRwciA9IHRoaXMuZHByU2NhbGluZ0VuYWJsZWQgPyB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyB8fCAxIDogMTtcclxuXHJcbiAgICAgICAgdGhpcy5jYW52YXMud2lkdGggPSB0aGlzLmNhbnZhcy5jbGllbnRXaWR0aDtcclxuICAgICAgICB0aGlzLmNhbnZhcy5oZWlnaHQgPSB0aGlzLmNhbnZhcy5jbGllbnRIZWlnaHQ7XHJcblxyXG4gICAgICAgIHRoaXMucmVzaXplZC5kaXNwYXRjaEV2ZW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRyYXcgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5jdHguc2F2ZSgpO1xyXG4gICAgICAgIHRoaXMuY3R4LnNjYWxlKHRoaXMuZHByLCB0aGlzLmRwcik7XHJcbiAgICAgICAgZm9yIChjb25zdCBkcmF3RnVuY3Rpb24gb2YgdGhpcy5kcmF3RnVuY3Rpb25zKSB7XHJcbiAgICAgICAgICAgIGRyYXdGdW5jdGlvbih0aGlzLmN0eCwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmN0eC5yZXN0b3JlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZERyYXdGdW5jdGlvbiA9IChmdW5jOiBEcmF3RnVuY3Rpb24pID0+IHtcclxuICAgICAgICB0aGlzLmRyYXdGdW5jdGlvbnMucHVzaChmdW5jKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlRHJhd0Z1bmN0aW9uID0gKGZ1bmM6IERyYXdGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgIHRoaXMuZHJhd0Z1bmN0aW9ucy5zcGxpY2UodGhpcy5kcmF3RnVuY3Rpb25zLmluZGV4T2YoZnVuYyksIDEpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgUmVuZGVyT2JqZWN0IH0gZnJvbSBcIi4uL3JlbmRlck9iamVjdFwiO1xyXG5pbXBvcnQgeyBFQ2FudmFzIH0gZnJvbSBcIi4uL2VDYW52YXNcIjtcclxuaW1wb3J0IHsgRUV2ZW50VCB9IGZyb20gXCIuLi8uLi9lRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBDb250cm9sIGV4dGVuZHMgUmVuZGVyT2JqZWN0IHtcclxuICAgIHByb3RlY3RlZCBpc01vdXNlT3ZlciA9IGZhbHNlO1xyXG4gICAgcHVibGljIGlzRW5hYmxlZCA9IHRydWU7XHJcblxyXG4gICAgcHVibGljIGNsaWNrZWQgPSBuZXcgRUV2ZW50VDxDb250cm9sPigpO1xyXG5cclxuICAgIHB1YmxpYyBtb3VzZU1vdmUoZXY6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICBpZiAodGhpcy5pc0VuYWJsZWQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZGltZW5zaW9ucy5pc0hpdEJ5KGV2LmNsaWVudFgsIGV2LmNsaWVudFkpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzTW91c2VPdmVyID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIEVDYW52YXMuU2V0Q3Vyc29yKHRoaXMubmFtZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlzTW91c2VPdmVyID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBFQ2FudmFzLlNldEN1cnNvcih0aGlzLm5hbWUsIGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2xpY2sgPSAoZXY6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5pc0VuYWJsZWQpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZGltZW5zaW9ucy5pc0hpdEJ5KGV2LmNsaWVudFgsIGV2LmNsaWVudFkpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsaWNrZWQuZGlzcGF0Y2hFdmVudCh0aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbW91c2VEb3duKGV2OiBNb3VzZUV2ZW50KTogdm9pZCB7IH1cclxuICAgIHB1YmxpYyBtb3VzZVVwKGV2OiBNb3VzZUV2ZW50KTogdm9pZCB7IH1cclxufSIsImV4cG9ydCBjbGFzcyBCdXR0b25Qcm9wZXJ0aWVzIHtcclxuICAgIHB1YmxpYyBmb250U2l6ZSA9IDQwO1xyXG4gICAgcHVibGljIGZvbnRQcmVmaXggPSBcIlwiO1xyXG4gICAgcHVibGljIGZvbnRGYW1pbHkgPSBcImZvbnRhd2Vzb21lXCI7XHJcbiAgICBwdWJsaWMgZmlsbFN0eWxlID0gXCJibHVlXCI7XHJcbiAgICBwdWJsaWMgbW91c2VPdmVyRmlsbFN0eWxlID0gXCJyZWRcIjtcclxuICAgIHB1YmxpYyBiYWNrZ3JvdW5kRmlsbFN0eWxlOiBzdHJpbmcgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgcHVibGljIGdldEZvbnQgPSAoKSA9PiB7XHJcbiAgICAgICAgdmFyIGZvbnQgPSBcIlwiO1xyXG4gICAgICAgIGlmICh0aGlzLmZvbnRQcmVmaXgpIHtcclxuICAgICAgICAgICAgZm9udCArPSB0aGlzLmZvbnRQcmVmaXggKyBcIiBcIlxyXG4gICAgICAgIH1cclxuICAgICAgICBmb250ICs9IHRoaXMuZm9udFNpemUgKyBcInB4XCIgKyBcIiBcIiArIHRoaXMuZm9udEZhbWlseTtcclxuICAgICAgICByZXR1cm4gZm9udDtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgQ29udHJvbCB9IGZyb20gXCIuL2NvbnRyb2xcIjtcclxuaW1wb3J0IHsgQnV0dG9uUHJvcGVydGllcyB9IGZyb20gXCIuL2J1dHRvblByb3BlcnRpZXNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBCdXR0b24gZXh0ZW5kcyBDb250cm9sIHtcclxuXHJcbiAgICBwdWJsaWMgcHJvcGVydGllcyA9IG5ldyBCdXR0b25Qcm9wZXJ0aWVzKCk7XHJcbiAgICBwdWJsaWMgdGV4dDogc3RyaW5nO1xyXG5cclxuICAgIHB1YmxpYyByZW5kZXIgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5wcm9wZXJ0aWVzLmJhY2tncm91bmRGaWxsU3R5bGUpIHtcclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMucHJvcGVydGllcy5iYWNrZ3JvdW5kRmlsbFN0eWxlO1xyXG4gICAgICAgICAgICBjdHguZmlsbFJlY3QodGhpcy5kaW1lbnNpb25zLngsIHRoaXMuZGltZW5zaW9ucy55LCB0aGlzLmRpbWVuc2lvbnMud2lkdGgsIHRoaXMuZGltZW5zaW9ucy5oZWlnaHQpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNNb3VzZU92ZXIpIHtcclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMucHJvcGVydGllcy5tb3VzZU92ZXJGaWxsU3R5bGU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMucHJvcGVydGllcy5maWxsU3R5bGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjdHguZm9udCA9IHRoaXMucHJvcGVydGllcy5nZXRGb250KCk7XHJcbiAgICAgICAgY3R4LnRleHRBbGlnbiA9IFwibGVmdFwiO1xyXG4gICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSBcInRvcFwiO1xyXG4gICAgICAgIGN0eC5maWxsVGV4dCh0aGlzLnRleHQsIHRoaXMuZGltZW5zaW9ucy54LCB0aGlzLmRpbWVuc2lvbnMueSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUxheW91dCA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpOiB2b2lkID0+IHtcclxuICAgICAgICBzdXBlci51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG5cclxuICAgICAgICBjdHguZm9udCA9IHRoaXMucHJvcGVydGllcy5nZXRGb250KCk7XHJcbiAgICAgICAgY3R4LnRleHRBbGlnbiA9IFwibGVmdFwiO1xyXG4gICAgICAgIGN0eC50ZXh0QmFzZWxpbmUgPSBcInRvcFwiO1xyXG4gICAgICAgIHZhciBzaXplID0gY3R4Lm1lYXN1cmVUZXh0KHRoaXMudGV4dCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdmFyIHggPSB0aGlzLmFsaWduZW1lbnQuY2FsY3VsYXRlRGltZW5zaW9uc1goYm91bmRzLCBzaXplLndpZHRoKTtcclxuICAgICAgICB2YXIgeSA9IHRoaXMuYWxpZ25lbWVudC5jYWxjdWxhdGVEaW1lbnNpb25zWShib3VuZHMsIHRoaXMucHJvcGVydGllcy5mb250U2l6ZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5kaW1lbnNpb25zID0gbmV3IFJlY3RhbmdsZSh4LCB5LCBzaXplLndpZHRoLCB0aGlzLnByb3BlcnRpZXMuZm9udFNpemUpXHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBPcmllbnRhdGlvbiB9IGZyb20gXCIuLi9hbGlnbmVtZW50L29yaWVudGF0aW9uXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTGlzdFZpZXdQcm9wZXJ0aWVzIHtcclxuICAgIHB1YmxpYyBpdGVtU3BhY2luZyA9IDMwO1xyXG4gICAgcHVibGljIG9yaWVudGF0aW9uID0gT3JpZW50YXRpb24uVmVydGljYWw7XHJcbn0iLCJpbXBvcnQgeyBMYXlvdXRWaWV3IH0gZnJvbSBcIi4vbGF5b3V0Vmlld1wiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IFJlbmRlck9iamVjdCB9IGZyb20gXCIuLi9yZW5kZXJPYmplY3RcIjtcclxuaW1wb3J0IHsgTGlzdFZpZXdQcm9wZXJ0aWVzIH0gZnJvbSBcIi4vbGlzdFZpZXdQcm9wZXJ0aWVzXCI7XHJcbmltcG9ydCB7IEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uIH0gZnJvbSBcIi4uL2FsaWduZW1lbnQvaG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuaW1wb3J0IHsgVmVydGljYWxBbGlnbmVtZW50T3B0aW9uIH0gZnJvbSBcIi4uL2FsaWduZW1lbnQvdmVydGljYWxBbGlnbmVtZW50T3B0aW9uXCI7XHJcbmltcG9ydCB7IE9yaWVudGF0aW9uIH0gZnJvbSBcIi4uL2FsaWduZW1lbnQvb3JpZW50YXRpb25cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBMaXN0VmlldyBleHRlbmRzIExheW91dFZpZXcge1xyXG4gICAgcHVibGljIHByb3BlcnRpZXMgPSBuZXcgTGlzdFZpZXdQcm9wZXJ0aWVzKCk7XHJcblxyXG4gICAgcHVibGljIGFkZEl0ZW0gPSAobGF5b3V0VmlldzogUmVuZGVyT2JqZWN0KSA9PiB7XHJcbiAgICAgICAgbGF5b3V0Vmlldy5hbGlnbmVtZW50Lmhvcml6b250YWxBbGlnbiA9IEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uLkxlZnQ7XHJcbiAgICAgICAgbGF5b3V0Vmlldy5hbGlnbmVtZW50LnZlcnRpY2FsQWxpZ24gPSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24uVG9wO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChsYXlvdXRWaWV3KTtcclxuICAgICAgICB0aGlzLnRyaWdnZXJVcGRhdGVMYXlvdXQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlSXRlbSA9IChsYXlvdXRWaWV3OiBSZW5kZXJPYmplY3QpID0+IHtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnJlbW92ZUl0ZW0obGF5b3V0Vmlldyk7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyVXBkYXRlTGF5b3V0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUxheW91dChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG5cclxuICAgICAgICB2YXIgeCA9IHRoaXMuYWxpZ25lbWVudC5jYWxjdWxhdGVEaW1lbnNpb25zWChib3VuZHMsIHRoaXMuZGltZW5zaW9ucy53aWR0aCk7XHJcbiAgICAgICAgdmFyIHkgPSB0aGlzLmFsaWduZW1lbnQuY2FsY3VsYXRlRGltZW5zaW9uc1koYm91bmRzLCB0aGlzLmRpbWVuc2lvbnMuaGVpZ2h0KTtcclxuXHJcbiAgICAgICAgdmFyIHdpZHRoID0gMDtcclxuICAgICAgICB2YXIgaGVpZ2h0ID0gMDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5vcmllbnRhdGlvbiA9PSBPcmllbnRhdGlvbi5WZXJ0aWNhbCkge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcclxuICAgICAgICAgICAgICAgIGlmIChpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHkgKz0gdGhpcy5wcm9wZXJ0aWVzLml0ZW1TcGFjaW5nO1xyXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCArPSB0aGlzLnByb3BlcnRpZXMuaXRlbVNwYWNpbmc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjaGlsZC51cGRhdGVMYXlvdXQoY3R4LCBuZXcgUmVjdGFuZ2xlKHgsIHksIDAsIDApKTtcclxuICAgICAgICAgICAgICAgIHkgKz0gY2hpbGQuZGltZW5zaW9ucy5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICBoZWlnaHQgKz0gY2hpbGQuZGltZW5zaW9ucy5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICB3aWR0aCA9IE1hdGgubWF4KHdpZHRoLCBjaGlsZC5kaW1lbnNpb25zLndpZHRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldO1xyXG4gICAgICAgICAgICAgICAgaWYgKGkgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgeCArPSB0aGlzLnByb3BlcnRpZXMuaXRlbVNwYWNpbmc7XHJcbiAgICAgICAgICAgICAgICAgICAgd2lkdGggKz0gdGhpcy5wcm9wZXJ0aWVzLml0ZW1TcGFjaW5nO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2hpbGQudXBkYXRlTGF5b3V0KGN0eCwgbmV3IFJlY3RhbmdsZSh4LCB5LCAwLCAwKSk7XHJcbiAgICAgICAgICAgICAgICB4ICs9IGNoaWxkLmRpbWVuc2lvbnMud2lkdGg7XHJcbiAgICAgICAgICAgICAgICB3aWR0aCArPSBjaGlsZC5kaW1lbnNpb25zLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgaGVpZ2h0ID0gTWF0aC5tYXgoaGVpZ2h0LCBjaGlsZC5kaW1lbnNpb25zLmhlaWdodCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmRpbWVuc2lvbnMueCAhPSB4IHx8IHRoaXMuZGltZW5zaW9ucy55ICE9IHkgfHwgdGhpcy5kaW1lbnNpb25zLndpZHRoICE9IHdpZHRoIHx8IHRoaXMuZGltZW5zaW9ucy5oZWlnaHQgIT0gaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGltZW5zaW9ucy54ID0geDtcclxuICAgICAgICAgICAgdGhpcy5kaW1lbnNpb25zLnkgPSB5O1xyXG4gICAgICAgICAgICB0aGlzLmRpbWVuc2lvbnMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgICAgICB0aGlzLmRpbWVuc2lvbnMud2lkdGggPSB3aWR0aDtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IENvbnRyb2wgfSBmcm9tIFwiLi9jb250cm9sXCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgRUV2ZW50VCB9IGZyb20gXCIuLi8uLi9lRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTbGlkZXIgZXh0ZW5kcyBDb250cm9sIHtcclxuICAgIHB1YmxpYyByYWRpdXM6IG51bWJlciA9IDEwO1xyXG5cclxuICAgIHB1YmxpYyBtaW5WYWx1ZSA9IDA7XHJcbiAgICBwdWJsaWMgbWF4VmFsdWUgPSAxMDA7XHJcbiAgICBwdWJsaWMgY3VycmVudFZhbHVlID0gNTA7XHJcbiAgICBpc0RyYWdnaW5nOiBib29sZWFuO1xyXG5cclxuICAgIHB1YmxpYyB2YWx1ZUNoYW5nZWQgPSBuZXcgRUV2ZW50VDxudW1iZXI+KCk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVuZGVyID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCA9PiB7XHJcbiAgICAgICAgdmFyIHggPSB0aGlzLmRpbWVuc2lvbnMueDtcclxuICAgICAgICB2YXIgeSA9IHRoaXMuZGltZW5zaW9ucy55O1xyXG4gICAgICAgIGN0eC5zdHJva2VTdHlsZSA9IFwid2hpdGVcIjtcclxuICAgICAgICBjdHgubGluZVdpZHRoID0gMjtcclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY3R4Lm1vdmVUbyh4ICsgdGhpcy5yYWRpdXMsIHkgKyB0aGlzLmRpbWVuc2lvbnMuaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgY3R4LmxpbmVUbyh4ICsgdGhpcy5kaW1lbnNpb25zLndpZHRoIC0gdGhpcy5yYWRpdXMsIHkgKyB0aGlzLmRpbWVuc2lvbnMuaGVpZ2h0IC8gMik7XHJcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG5cclxuICAgICAgICB2YXIgcmVsVmFsdWUgPSAodGhpcy5jdXJyZW50VmFsdWUgLSB0aGlzLm1pblZhbHVlKSAvICh0aGlzLm1heFZhbHVlIC0gdGhpcy5taW5WYWx1ZSk7XHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwiYmx1ZVwiO1xyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdHguYXJjKHggKyB0aGlzLnJhZGl1cyArICh0aGlzLmRpbWVuc2lvbnMud2lkdGggLSB0aGlzLnJhZGl1cyAqIDIpICogcmVsVmFsdWUsIHkgKyB0aGlzLmRpbWVuc2lvbnMuaGVpZ2h0IC8gMiwgdGhpcy5yYWRpdXMsIDAsIE1hdGguUEkgKiAyKTtcclxuICAgICAgICBjdHguY2xvc2VQYXRoKCk7XHJcbiAgICAgICAgY3R4LmZpbGwoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0ID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHN1cGVyLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcblxyXG4gICAgICAgIHRoaXMuZGltZW5zaW9ucyA9IG5ldyBSZWN0YW5nbGUoYm91bmRzLngsIGJvdW5kcy55LCAyMDAsIHRoaXMucmFkaXVzICogMik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG1vdXNlRG93biA9IChldjogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmRpbWVuc2lvbnMuaXNIaXRCeShldi5jbGllbnRYLCBldi5jbGllbnRZKSkge1xyXG4gICAgICAgICAgICB0aGlzLmlzRHJhZ2dpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUN1cnJlbnRWYWx1ZShldik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHVibGljIG1vdXNlVXAgPSAoZXY6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICB0aGlzLmlzRHJhZ2dpbmcgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbW91c2VNb3ZlKGV2OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgc3VwZXIubW91c2VNb3ZlKGV2KTtcclxuICAgICAgICBpZiAodGhpcy5pc0RyYWdnaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQ3VycmVudFZhbHVlKGV2KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVDdXJyZW50VmFsdWUoZXY6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICB2YXIgdmFsID0gZXYuY2xpZW50WCAtIHRoaXMuZGltZW5zaW9ucy54IC0gdGhpcy5yYWRpdXM7XHJcbiAgICAgICAgdmFsID0gdmFsIC8gKHRoaXMuZGltZW5zaW9ucy53aWR0aCAtIHRoaXMucmFkaXVzICogMikgKiAodGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWUpICsgdGhpcy5taW5WYWx1ZTtcclxuICAgICAgICBpZiAodmFsID4gdGhpcy5tYXhWYWx1ZSkge1xyXG4gICAgICAgICAgICB2YWwgPSB0aGlzLm1heFZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodmFsIDwgdGhpcy5taW5WYWx1ZSkge1xyXG4gICAgICAgICAgICB2YWwgPSB0aGlzLm1pblZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZSA9IHZhbDtcclxuICAgICAgICB0aGlzLnZhbHVlQ2hhbmdlZC5kaXNwYXRjaEV2ZW50KHRoaXMuY3VycmVudFZhbHVlKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IENvbnRyb2wgfSBmcm9tIFwiLi9jb250cm9sXCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgRUV2ZW50VFQgfSBmcm9tIFwiLi4vLi4vZUV2ZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUmFuZ2VTbGlkZXIgZXh0ZW5kcyBDb250cm9sIHtcclxuICAgIHB1YmxpYyByYWRpdXM6IG51bWJlciA9IDEwO1xyXG5cclxuICAgIHB1YmxpYyBtaW5WYWx1ZSA9IDA7XHJcbiAgICBwdWJsaWMgbWF4VmFsdWUgPSAxMDA7XHJcbiAgICBwdWJsaWMgY3VycmVudFZhbHVlTG93ID0gMjU7XHJcbiAgICBwdWJsaWMgY3VycmVudFZhbHVlSGlnaCA9IDc1O1xyXG4gICAgcHVibGljIG1pbkRpZmYgPSAwLjE7XHJcblxyXG4gICAgcHJpdmF0ZSBpc0RyYWdnaW5nTG93OiBib29sZWFuO1xyXG4gICAgcHJpdmF0ZSBpc0RyYWdnaW5nSGlnaDogYm9vbGVhbjtcclxuXHJcbiAgICBwdWJsaWMgdmFsdWVzQ2hhbmdlZCA9IG5ldyBFRXZlbnRUVDxudW1iZXIsIG51bWJlcj4oKTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBwdWJsaWMgcmVuZGVyID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCA9PiB7XHJcbiAgICAgICAgdmFyIHggPSB0aGlzLmRpbWVuc2lvbnMueDtcclxuICAgICAgICB2YXIgeSA9IHRoaXMuZGltZW5zaW9ucy55O1xyXG5cclxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBcIndoaXRlXCI7XHJcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDI7XHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5tb3ZlVG8oeCArIHRoaXMucmFkaXVzLCB5ICsgdGhpcy5kaW1lbnNpb25zLmhlaWdodCAvIDIpO1xyXG4gICAgICAgIGN0eC5saW5lVG8oeCArIHRoaXMuZGltZW5zaW9ucy53aWR0aCAtIHRoaXMucmFkaXVzLCB5ICsgdGhpcy5kaW1lbnNpb25zLmhlaWdodCAvIDIpO1xyXG4gICAgICAgIGN0eC5zdHJva2UoKTtcclxuXHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwiYmx1ZVwiO1xyXG4gICAgICAgIHZhciBzbGlkZXJZID0geSArIHRoaXMuZGltZW5zaW9ucy5oZWlnaHQgLyAyO1xyXG5cclxuICAgICAgICB2YXIgcmVsVmFsdWVMb3cgPSAodGhpcy5jdXJyZW50VmFsdWVMb3cgLSB0aGlzLm1pblZhbHVlKSAvICh0aGlzLm1heFZhbHVlIC0gdGhpcy5taW5WYWx1ZSk7XHJcbiAgICAgICAgdmFyIGxvd1ggPSB4ICsgdGhpcy5yYWRpdXMgKyAodGhpcy5kaW1lbnNpb25zLndpZHRoIC0gdGhpcy5yYWRpdXMgKiAyKSAqIHJlbFZhbHVlTG93O1xyXG5cclxuICAgICAgICB2YXIgcmVsVmFsdWVIaWdoID0gKHRoaXMuY3VycmVudFZhbHVlSGlnaCAtIHRoaXMubWluVmFsdWUpIC8gKHRoaXMubWF4VmFsdWUgLSB0aGlzLm1pblZhbHVlKTtcclxuICAgICAgICB2YXIgaGlnaFggPSB4ICsgdGhpcy5yYWRpdXMgKyAodGhpcy5kaW1lbnNpb25zLndpZHRoIC0gdGhpcy5yYWRpdXMgKiAyKSAqIHJlbFZhbHVlSGlnaDtcclxuXHJcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gXCJibHVlXCI7XHJcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDI7XHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5tb3ZlVG8obG93WCwgc2xpZGVyWSk7XHJcbiAgICAgICAgY3R4LmxpbmVUbyhoaWdoWCwgc2xpZGVyWSk7XHJcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG5cclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY3R4LmFyYyhsb3dYLCBzbGlkZXJZLCB0aGlzLnJhZGl1cywgMCwgTWF0aC5QSSAqIDIpO1xyXG4gICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcclxuICAgICAgICBjdHguZmlsbCgpO1xyXG5cclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY3R4LmFyYyhoaWdoWCwgc2xpZGVyWSwgdGhpcy5yYWRpdXMsIDAsIE1hdGguUEkgKiAyKTtcclxuICAgICAgICBjdHguY2xvc2VQYXRoKCk7XHJcbiAgICAgICAgY3R4LmZpbGwoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0ID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHN1cGVyLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcblxyXG4gICAgICAgIHRoaXMuZGltZW5zaW9ucyA9IG5ldyBSZWN0YW5nbGUoYm91bmRzLngsIGJvdW5kcy55LCAyMDAsIHRoaXMucmFkaXVzICogMik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG1vdXNlRG93biA9IChldjogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmRpbWVuc2lvbnMuaXNIaXRCeShldi5jbGllbnRYLCBldi5jbGllbnRZKSkge1xyXG4gICAgICAgICAgICB2YXIgdmFsID0gdGhpcy5nZXRDbGlja2VkVmFsdWUoZXYpO1xyXG4gICAgICAgICAgICB2YXIgZGlmZlRvTG93ID0gTWF0aC5hYnModGhpcy5jdXJyZW50VmFsdWVMb3cgLSB2YWwpO1xyXG4gICAgICAgICAgICB2YXIgZGlmZlRvSGlnaCA9IE1hdGguYWJzKHRoaXMuY3VycmVudFZhbHVlSGlnaCAtIHZhbCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZGlmZlRvTG93ID09IGRpZmZUb0hpZ2gpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWwgPCB0aGlzLmN1cnJlbnRWYWx1ZUxvdykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNEcmFnZ2luZ0xvdyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNEcmFnZ2luZ0hpZ2ggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGRpZmZUb0xvdyA+IGRpZmZUb0hpZ2gpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNEcmFnZ2luZ0hpZ2ggPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0RyYWdnaW5nTG93ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy51cGRhdGVDdXJyZW50VmFsdWVzKGV2KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgbW91c2VVcCA9IChldjogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIHRoaXMuaXNEcmFnZ2luZ0hpZ2ggPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmlzRHJhZ2dpbmdMb3cgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbW91c2VNb3ZlKGV2OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgc3VwZXIubW91c2VNb3ZlKGV2KTtcclxuICAgICAgICBpZiAodGhpcy5pc0RyYWdnaW5nSGlnaCB8fCB0aGlzLmlzRHJhZ2dpbmdMb3cpIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVDdXJyZW50VmFsdWVzKGV2KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVDdXJyZW50VmFsdWVzKGV2OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgdmFyIHZhbCA9IHRoaXMuZ2V0Q2xpY2tlZFZhbHVlKGV2KTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNEcmFnZ2luZ0xvdykge1xyXG4gICAgICAgICAgICBpZiAodmFsID4gKHRoaXMuY3VycmVudFZhbHVlSGlnaCAtIHRoaXMubWluRGlmZikpIHtcclxuICAgICAgICAgICAgICAgIHZhbCA9IHRoaXMuY3VycmVudFZhbHVlSGlnaCAtIHRoaXMubWluRGlmZjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHZhbCA8IHRoaXMuY3VycmVudFZhbHVlTG93ICsgdGhpcy5taW5EaWZmKSB7XHJcbiAgICAgICAgICAgICAgICB2YWwgPSB0aGlzLmN1cnJlbnRWYWx1ZUxvdyArIHRoaXMubWluRGlmZjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNEcmFnZ2luZ0xvdykge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZUxvdyA9IHZhbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFZhbHVlSGlnaCA9IHZhbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy52YWx1ZXNDaGFuZ2VkLmRpc3BhdGNoRXZlbnQodGhpcy5jdXJyZW50VmFsdWVMb3csIHRoaXMuY3VycmVudFZhbHVlSGlnaCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRDbGlja2VkVmFsdWUoZXY6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICB2YXIgdmFsID0gZXYuY2xpZW50WCAtIHRoaXMuZGltZW5zaW9ucy54IC0gdGhpcy5yYWRpdXM7XHJcbiAgICAgICAgdmFsID0gdmFsIC8gKHRoaXMuZGltZW5zaW9ucy53aWR0aCAtIHRoaXMucmFkaXVzICogMikgKiAodGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWUpICsgdGhpcy5taW5WYWx1ZTtcclxuICAgICAgICBpZiAodmFsID4gdGhpcy5tYXhWYWx1ZSkge1xyXG4gICAgICAgICAgICB2YWwgPSB0aGlzLm1heFZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodmFsIDwgdGhpcy5taW5WYWx1ZSkge1xyXG4gICAgICAgICAgICB2YWwgPSB0aGlzLm1pblZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdmFsO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgTGF5b3V0VmlldyB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xheW91dFZpZXdcIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IFN0YXJMYXllciB9IGZyb20gXCIuLi8uLi9tb2RlbHMvc3RhckxheWVyXCI7XHJcbmltcG9ydCB7IExpc3RWaWV3IH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGlzdFZpZXdcIjtcclxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvY29udHJvbHMvYnV0dG9uXCI7XHJcbmltcG9ydCB7IENvbnRyb2wgfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9jb250cm9scy9jb250cm9sXCI7XHJcbmltcG9ydCB7IEFwcCB9IGZyb20gXCIuLi8uLi9hcHBcIjtcclxuaW1wb3J0IHsgSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24gfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9hbGlnbmVtZW50L2hvcml6b250YWxBbGlnbmVtZW50T3B0aW9uXCI7XHJcbmltcG9ydCB7IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbiB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvdmVydGljYWxBbGlnbmVtZW50T3B0aW9uXCI7XHJcbmltcG9ydCB7IFNsaWRlciB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2NvbnRyb2xzL3NsaWRlclwiO1xyXG5pbXBvcnQgeyBSYW5nZVNsaWRlciB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2NvbnRyb2xzL3JhbmdlU2xpZGVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU3RhckxheWVyVmlldyBleHRlbmRzIExheW91dFZpZXcge1xyXG4gICAgcHJpdmF0ZSBzZXR0aW5nc0xpc3Q6IExpc3RWaWV3O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBzdGFyTGF5ZXI6IFN0YXJMYXllcikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QgPSBuZXcgTGlzdFZpZXcoKTtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5hbGlnbmVtZW50Lmhvcml6b250YWxBbGlnbiA9IEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uLkxlZnQ7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QuYWxpZ25lbWVudC52ZXJ0aWNhbEFsaWduID0gVmVydGljYWxBbGlnbmVtZW50T3B0aW9uLlRvcDtcclxuICAgICAgICB2YXIgYnRuRm9yTGF5ZXIgPSBuZXcgQnV0dG9uKCk7XHJcbiAgICAgICAgYnRuRm9yTGF5ZXIudGV4dCA9IFwiUmVtb3ZlIExheWVyXCI7XHJcbiAgICAgICAgYnRuRm9yTGF5ZXIucHJvcGVydGllcy5maWxsU3R5bGUgPSBcIndoaXRlXCI7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QuYWRkSXRlbShidG5Gb3JMYXllcik7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGJ0bkZvckxheWVyKTtcclxuICAgICAgICBidG5Gb3JMYXllci5jbGlja2VkLmFkZEV2ZW50TGlzdGVuZXIoKHNlbmRlcjogQ29udHJvbCkgPT4ge1xyXG4gICAgICAgICAgICBBcHAuc2V0dGluZ01hbmFnZXIucmVtb3ZlU3RhckxheWVyKHRoaXMuc3RhckxheWVyKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIHNsaWRlciA9IG5ldyBTbGlkZXIoKTtcclxuICAgICAgICBzbGlkZXIubWluVmFsdWUgPSAxMDtcclxuICAgICAgICBzbGlkZXIubWF4VmFsdWUgPSAxMDAwO1xyXG4gICAgICAgIHNsaWRlci5jdXJyZW50VmFsdWUgPSBzdGFyTGF5ZXIuc3RhcnMubGVuZ3RoO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChzbGlkZXIpO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LmFkZEl0ZW0oc2xpZGVyKTtcclxuICAgICAgICBzbGlkZXIudmFsdWVDaGFuZ2VkLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5udW1iZXJPZlN0YXJzQ2hhbmdlZCk7XHJcblxyXG4gICAgICAgIHZhciBzbGlkZXJTcGVlZCA9IG5ldyBTbGlkZXIoKTtcclxuICAgICAgICBzbGlkZXJTcGVlZC5taW5WYWx1ZSA9IDA7XHJcbiAgICAgICAgc2xpZGVyU3BlZWQubWF4VmFsdWUgPSAyMDtcclxuICAgICAgICBzbGlkZXJTcGVlZC5jdXJyZW50VmFsdWUgPSBzdGFyTGF5ZXIuc3BlZWQ7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHNsaWRlclNwZWVkKTtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5hZGRJdGVtKHNsaWRlclNwZWVkKTtcclxuICAgICAgICBzbGlkZXJTcGVlZC52YWx1ZUNoYW5nZWQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLnNwZWVkQ2hhbmdlZCk7XHJcblxyXG4gICAgICAgIHZhciBzbGlkZXJTaXplID0gbmV3IFJhbmdlU2xpZGVyKCk7XHJcbiAgICAgICAgdmFyIHNpemVzID0gdGhpcy5zdGFyTGF5ZXIuc3RhcnMubWFwKHggPT4geC5yKTtcclxuICAgICAgICBzbGlkZXJTaXplLm1pblZhbHVlID0gMC4wMDE7XHJcbiAgICAgICAgc2xpZGVyU2l6ZS5tYXhWYWx1ZSA9IDI7XHJcbiAgICAgICAgc2xpZGVyU2l6ZS5jdXJyZW50VmFsdWVMb3cgPSBNYXRoLm1pbiguLi5zaXplcyk7XHJcbiAgICAgICAgc2xpZGVyU2l6ZS5jdXJyZW50VmFsdWVIaWdoID0gTWF0aC5tYXgoLi4uc2l6ZXMpO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChzbGlkZXJTaXplKTtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5hZGRJdGVtKHNsaWRlclNpemUpO1xyXG4gICAgICAgIHNsaWRlclNpemUudmFsdWVzQ2hhbmdlZC5hZGRFdmVudExpc3RlbmVyKHRoaXMuc2l6ZXNDaGFuZ2VkKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbnVtYmVyT2ZTdGFyc0NoYW5nZWQgPSAobnVtYmVyT2ZTdGFyczogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgQXBwLnNldHRpbmdNYW5hZ2VyLmNoYW5nZU51bWJlck9mU3RhcnModGhpcy5zdGFyTGF5ZXIsIE1hdGgucm91bmQobnVtYmVyT2ZTdGFycykpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzcGVlZENoYW5nZWQgPSAoc3BlZWQ6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIEFwcC5zZXR0aW5nTWFuYWdlci5jaGFuZ2VTcGVlZCh0aGlzLnN0YXJMYXllciwgc3BlZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzaXplc0NoYW5nZWQgPSAobG93Qm9yZGVyOiBudW1iZXIsIGhpZ2hCb3JkZXI6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIEFwcC5zZXR0aW5nTWFuYWdlci5jaGFuZ2VTaXplcyh0aGlzLnN0YXJMYXllciwgbG93Qm9yZGVyLCBoaWdoQm9yZGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LnVwZGF0ZUxheW91dChjdHgsIG5ldyBSZWN0YW5nbGUoYm91bmRzLngsIGJvdW5kcy55LCAwLCAwKSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBMYXlvdXRWaWV3IH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGF5b3V0Vmlld1wiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsIH0gZnJvbSBcIi4vc2V0dGluZ3NPdmVybGF5Vmlld01vZGVsXCI7XHJcbmltcG9ydCB7IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlIH0gZnJvbSBcIi4vc2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGVcIjtcclxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvY29udHJvbHMvYnV0dG9uXCI7XHJcbmltcG9ydCB7IENvbnRyb2wgfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9jb250cm9scy9jb250cm9sXCI7XHJcbmltcG9ydCB7IExpc3RWaWV3IH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGlzdFZpZXdcIjtcclxuaW1wb3J0IHsgU3RhckxheWVyIH0gZnJvbSBcIi4uLy4uL21vZGVscy9zdGFyTGF5ZXJcIjtcclxuaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4uLy4uL2FwcFwiO1xyXG5pbXBvcnQgeyBTZXR0aW5nT3BlcmF0aW9uIH0gZnJvbSBcIi4uLy4uL3NldHRpbmdzL3NldHRpbmdPcGVyYXRpb25cIjtcclxuaW1wb3J0IHsgVmVydGljYWxBbGlnbmVtZW50T3B0aW9uIH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvYWxpZ25lbWVudC92ZXJ0aWNhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuaW1wb3J0IHsgSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24gfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9hbGlnbmVtZW50L2hvcml6b250YWxBbGlnbmVtZW50T3B0aW9uXCI7XHJcbmltcG9ydCB7IFN0YXJMYXllclZpZXcgfSBmcm9tIFwiLi9zdGFyTGF5ZXJWaWV3XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU2V0dGluZ3NPdmVybGF5VmlldyBleHRlbmRzIExheW91dFZpZXcge1xyXG4gICAgcHJpdmF0ZSB2aWV3TW9kZWw6IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbCA9IG5ldyBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWwoKTtcclxuICAgIHByaXZhdGUgbGFzdE1vdmVkID0gRGF0ZS5ub3coKTtcclxuICAgIHByaXZhdGUgaW5hY3Rpdml0eVRpbWVvdXQgPSAyMDAwO1xyXG4gICAgcHJpdmF0ZSBzaG93T3ZlckxheWVyQnV0dG9uOiBCdXR0b247XHJcbiAgICBwcml2YXRlIHNldHRpbmdzTGlzdDogTGlzdFZpZXc7XHJcblxyXG4gICAgcHJpdmF0ZSBsYXllckJ1dHRvbnM6IEJ1dHRvbltdID0gW107XHJcbiAgICBwcml2YXRlIGFkZExheWVyQnRuOiBCdXR0b247XHJcbiAgICBwcml2YXRlIGRldGFpbGVkU3RhckxheWVyVmlldzogU3RhckxheWVyVmlldztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcihmYWxzZSk7XHJcbiAgICAgICAgdGhpcy5zaG93T3ZlckxheWVyQnV0dG9uID0gbmV3IEJ1dHRvbigpO1xyXG4gICAgICAgIHRoaXMuc2hvd092ZXJMYXllckJ1dHRvbi50ZXh0ID0gXCJTaG93L0hpZGUgU2V0dGluZ3NcIjtcclxuICAgICAgICB0aGlzLnNob3dPdmVyTGF5ZXJCdXR0b24ucHJvcGVydGllcy5maWxsU3R5bGUgPSBcImdyZWVuXCI7XHJcbiAgICAgICAgdGhpcy5zaG93T3ZlckxheWVyQnV0dG9uLmFsaWduZW1lbnQudmVydGljYWxBbGlnbiA9IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi5Ub3A7XHJcbiAgICAgICAgdGhpcy5zaG93T3ZlckxheWVyQnV0dG9uLmFsaWduZW1lbnQuaG9yaXpvbnRhbEFsaWduID0gSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24uTGVmdDtcclxuICAgICAgICB0aGlzLnNob3dPdmVyTGF5ZXJCdXR0b24uY2xpY2tlZC5hZGRFdmVudExpc3RlbmVyKHRoaXMuc2hvd0hpZGVPdmVybGF5Q2xpY2tlZCk7XHJcbiAgICAgICAgdGhpcy5zaG93T3ZlckxheWVyQnV0dG9uLnByb3BlcnRpZXMuYmFja2dyb3VuZEZpbGxTdHlsZSA9IFwicmdiYSgwLCAwLCAwLCAwLjUpXCI7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHRoaXMuc2hvd092ZXJMYXllckJ1dHRvbik7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QgPSBuZXcgTGlzdFZpZXcoKTtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5hbGlnbmVtZW50Lmhvcml6b250YWxBbGlnbiA9IEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uLkxlZnQ7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QuYWxpZ25lbWVudC52ZXJ0aWNhbEFsaWduID0gVmVydGljYWxBbGlnbmVtZW50T3B0aW9uLlRvcDtcclxuXHJcbiAgICAgICAgdmFyIGJ0bkZvck5ld0xheWVyID0gbmV3IEJ1dHRvbigpO1xyXG4gICAgICAgIGJ0bkZvck5ld0xheWVyLnRleHQgPSBcIkFkZCBMYXllclwiO1xyXG4gICAgICAgIGJ0bkZvck5ld0xheWVyLnByb3BlcnRpZXMuZmlsbFN0eWxlID0gXCJ3aGl0ZVwiO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LmFkZEl0ZW0oYnRuRm9yTmV3TGF5ZXIpO1xyXG4gICAgICAgIGJ0bkZvck5ld0xheWVyLmNsaWNrZWQuYWRkRXZlbnRMaXN0ZW5lcigoc2VuZGVyOiBDb250cm9sKSA9PiB7XHJcbiAgICAgICAgICAgIEFwcC5zZXR0aW5nTWFuYWdlci5hZGRTdGFyTGF5ZXIoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFkZExheWVyQnRuID0gYnRuRm9yTmV3TGF5ZXI7XHJcblxyXG5cclxuICAgICAgICBBcHAuc2V0dGluZ01hbmFnZXIudXBkYXRlLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5zZXR0aW5nc1VwZGF0ZWQpO1xyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXR0aW5nc1VwZGF0ZWQgPSAob3BlcmF0aW9uOiBTZXR0aW5nT3BlcmF0aW9uKSA9PiB7XHJcbiAgICAgICAgc3dpdGNoIChvcGVyYXRpb24pIHtcclxuICAgICAgICAgICAgY2FzZSBTZXR0aW5nT3BlcmF0aW9uLkFkZFN0YXJMYXllcjpcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc3RhckxheWVyIG9mIEFwcC5zZXR0aW5ncy5zdGFyTGF5ZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmxheWVyQnV0dG9ucy5tYXAoeCA9PiB4LnRhZykuY29udGFpbnMoc3RhckxheWVyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5yZW1vdmVJdGVtKHRoaXMuYWRkTGF5ZXJCdG4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYnRuRm9yTGF5ZXIgPSBuZXcgQnV0dG9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ0bkZvckxheWVyLnRleHQgPSBcIkVkaXQgTGF5ZXJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnRuRm9yTGF5ZXIudGFnID0gc3RhckxheWVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidG5Gb3JMYXllci5wcm9wZXJ0aWVzLmZpbGxTdHlsZSA9IFwid2hpdGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QuYWRkSXRlbShidG5Gb3JMYXllcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGF5ZXJCdXR0b25zLnB1c2goYnRuRm9yTGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidG5Gb3JMYXllci5jbGlja2VkLmFkZEV2ZW50TGlzdGVuZXIoKHNlbmRlcjogQ29udHJvbCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b2dnbGVTaG93SGlkZVN0YXJMYXllclZpZXcoc3RhckxheWVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LmFkZEl0ZW0odGhpcy5hZGRMYXllckJ0bik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFNldHRpbmdPcGVyYXRpb24uUmVtb3ZlU3RhckxheWVyOlxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBzZXR0aW5nc0xheWVyIG9mIHRoaXMubGF5ZXJCdXR0b25zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFBcHAuc2V0dGluZ3Muc3RhckxheWVycy5jb250YWlucyhzZXR0aW5nc0xheWVyLnRhZykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QucmVtb3ZlSXRlbShzZXR0aW5nc0xheWVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXllckJ1dHRvbnMucmVtb3ZlSXRlbShzZXR0aW5nc0xheWVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5yZW1vdmVJdGVtKHRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSB0b2dnbGVTaG93SGlkZVN0YXJMYXllclZpZXcgPSAoc3RhckxheWVyOiBTdGFyTGF5ZXIpID0+IHtcclxuICAgICAgICBpZiAoIXRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3KSB7XHJcbiAgICAgICAgICAgIHZhciB2aWV3ID0gbmV3IFN0YXJMYXllclZpZXcoc3RhckxheWVyKTtcclxuICAgICAgICAgICAgdGhpcy5kZXRhaWxlZFN0YXJMYXllclZpZXcgPSB2aWV3O1xyXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2godGhpcy5kZXRhaWxlZFN0YXJMYXllclZpZXcpO1xyXG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJVcGRhdGVMYXlvdXQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5kZXRhaWxlZFN0YXJMYXllclZpZXcuc3RhckxheWVyICE9IHN0YXJMYXllcikge1xyXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnJlbW92ZUl0ZW0odGhpcy5kZXRhaWxlZFN0YXJMYXllclZpZXcpO1xyXG4gICAgICAgICAgICB0aGlzLmRldGFpbGVkU3RhckxheWVyVmlldyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgdmFyIHZpZXcgPSBuZXcgU3RhckxheWVyVmlldyhzdGFyTGF5ZXIpO1xyXG4gICAgICAgICAgICB0aGlzLmRldGFpbGVkU3RhckxheWVyVmlldyA9IHZpZXc7XHJcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaCh0aGlzLmRldGFpbGVkU3RhckxheWVyVmlldyk7XHJcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlclVwZGF0ZUxheW91dCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5yZW1vdmVJdGVtKHRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3KTtcclxuICAgICAgICAgICAgdGhpcy5kZXRhaWxlZFN0YXJMYXllclZpZXcgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2hvd0hpZGVPdmVybGF5Q2xpY2tlZCA9IChzZW5kZXI6IENvbnRyb2wpID0+IHtcclxuICAgICAgICBpZiAodGhpcy52aWV3TW9kZWwuc3RhdGUgPT0gU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUudmlzaWJsZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLmJlZm9yZVZpc2libGUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUudmlzaWJsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVMYXlvdXQoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGJvdW5kczogUmVjdGFuZ2xlKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIudXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuICAgICAgICB0aGlzLnNob3dPdmVyTGF5ZXJCdXR0b24udXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuICAgICAgICB2YXIgc3BhY2UgPSB0aGlzLnNob3dPdmVyTGF5ZXJCdXR0b24uZGltZW5zaW9ucy5oZWlnaHQgKiAyO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LnVwZGF0ZUxheW91dChjdHgsIG5ldyBSZWN0YW5nbGUoYm91bmRzLngsIGJvdW5kcy55ICsgc3BhY2UsIGJvdW5kcy53aWR0aCwgYm91bmRzLmhlaWdodCAtIHNwYWNlKSk7XHJcbiAgICAgICAgaWYgKHRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3LnVwZGF0ZUxheW91dChjdHgsIG5ldyBSZWN0YW5nbGUoYm91bmRzLnggKyB0aGlzLnNldHRpbmdzTGlzdC5kaW1lbnNpb25zLndpZHRoLCBib3VuZHMueSArIHNwYWNlLCBib3VuZHMud2lkdGgsIGJvdW5kcy5oZWlnaHQgLSBzcGFjZSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbW91c2VNb3ZlID0gKGV2OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMudmlld01vZGVsLnN0YXRlID09IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLmhpZGRlbiB8fCB0aGlzLnZpZXdNb2RlbC5zdGF0ZSA9PSBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS5iZWZvcmVWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUuYmVmb3JlVmlzaWJsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN1cGVyLm1vdXNlTW92ZShldik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG1vdXNlSW5hY3Rpdml0eUhhbmRsZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKERhdGUubm93KCkgLSB0aGlzLmxhc3RNb3ZlZCA+PSB0aGlzLmluYWN0aXZpdHlUaW1lb3V0KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnZpZXdNb2RlbC5zdGF0ZSA9PSBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS5iZWZvcmVWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLmhpZGRlbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMubW91c2VJbmFjdGl2aXR5SGFuZGxlciwgdGhpcy5pbmFjdGl2aXR5VGltZW91dCAtIChEYXRlLm5vdygpIC0gdGhpcy5sYXN0TW92ZWQpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXRTdGF0ZSA9IChzdGF0ZTogU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUpID0+IHtcclxuICAgICAgICBzd2l0Y2ggKHN0YXRlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUuaGlkZGVuOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5yZW1vdmVJdGVtKHRoaXMuc2hvd092ZXJMYXllckJ1dHRvbik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdNb2RlbC5zdGF0ZSA9IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLmhpZGRlbjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLmJlZm9yZVZpc2libGU6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RNb3ZlZCA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy52aWV3TW9kZWwuc3RhdGUgPT0gU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUuaGlkZGVuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCh0aGlzLm1vdXNlSW5hY3Rpdml0eUhhbmRsZXIsIHRoaXMuaW5hY3Rpdml0eVRpbWVvdXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4uYWRkSXRlbUlmTm90RXhpc3RzKHRoaXMuc2hvd092ZXJMYXllckJ1dHRvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy52aWV3TW9kZWwuc3RhdGUgPT0gU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUudmlzaWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQodGhpcy5tb3VzZUluYWN0aXZpdHlIYW5kbGVyLCB0aGlzLmluYWN0aXZpdHlUaW1lb3V0KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnJlbW92ZUl0ZW1JZkV4aXN0cyh0aGlzLnNldHRpbmdzTGlzdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5yZW1vdmVJdGVtSWZFeGlzdHModGhpcy5kZXRhaWxlZFN0YXJMYXllclZpZXcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3TW9kZWwuc3RhdGUgPSBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS5iZWZvcmVWaXNpYmxlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUudmlzaWJsZTpcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnZpZXdNb2RlbC5zdGF0ZSA9PSBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS5iZWZvcmVWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHRoaXMuc2V0dGluZ3NMaXN0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMudmlld01vZGVsLnN0YXRlID0gU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUudmlzaWJsZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IEFwcCB9IGZyb20gXCIuLi9hcHBcIjtcclxuaW1wb3J0IHsgU3RhckxheWVyIH0gZnJvbSBcIi4uL21vZGVscy9zdGFyTGF5ZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTdGFyTGF5ZXJBbmltYXRvciB7XHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgc3RhckxheWVyOiBTdGFyTGF5ZXIpIHtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlID0gKHRpbWVEaWZmOiBudW1iZXIpID0+IHtcclxuICAgICAgICBmb3IgKGNvbnN0IHN0YXIgb2YgdGhpcy5zdGFyTGF5ZXIuc3RhcnMpIHtcclxuICAgICAgICAgICAgc3Rhci54ICs9IHRoaXMuc3RhckxheWVyLnNwZWVkICogdGltZURpZmY7XHJcbiAgICAgICAgICAgIHN0YXIueSArPSB0aGlzLnN0YXJMYXllci5zcGVlZCAqIHRpbWVEaWZmO1xyXG4gICAgICAgICAgICBpZiAoc3Rhci54ID4gQXBwLnNldHRpbmdzLndpZHRoKSB7XHJcbiAgICAgICAgICAgICAgICBzdGFyLnggLT0gQXBwLnNldHRpbmdzLndpZHRoO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChzdGFyLnkgPiBBcHAuc2V0dGluZ3MuaGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICBzdGFyLnkgLT0gQXBwLnNldHRpbmdzLmhlaWdodDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBEaW5qZWN0IHtcclxuICAgIHByaXZhdGUgc3RhdGljIGluc3RhbmNlczogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9IHt9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBhZGRJbnN0YW5jZSA9IChuYW1lOiBzdHJpbmcsIGluc3RhbmNlOiBhbnkpID0+IHtcclxuICAgICAgICBEaW5qZWN0Lmluc3RhbmNlc1tuYW1lXSA9IGluc3RhbmNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgZ2V0SW5zdGFuY2UgPSA8VD4obmFtZTogc3RyaW5nKTogVCA9PiB7XHJcbiAgICAgICAgcmV0dXJuIDxUPkRpbmplY3QuaW5zdGFuY2VzW25hbWVdO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgTGF5b3V0VmlldyB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xheW91dFZpZXdcIjtcclxuXHJcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2J1dHRvblwiO1xyXG5pbXBvcnQgeyBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24gfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9hbGlnbmVtZW50L3ZlcnRpY2FsQWxpZ25lbWVudE9wdGlvblwiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgTGlzdFZpZXcgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9sYXlvdXRDb250cm9scy9saXN0Vmlld1wiO1xyXG5pbXBvcnQgeyBPcmllbnRhdGlvbiB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvb3JpZW50YXRpb25cIjtcclxuaW1wb3J0IHsgRGluamVjdCB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL2RpbmplY3RcIjtcclxuaW1wb3J0IHsgQXVkaW9NYW5hZ2VyIH0gZnJvbSBcIi4uL2F1ZGlvTWFuYWdlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFBsYXllclZpZXcgZXh0ZW5kcyBMYXlvdXRWaWV3IHtcclxuXHJcbiAgICBwcml2YXRlIHBsYXlJY29uVGV4dCA9IFwiXFx1ZjA0YlwiXHJcbiAgICBwcml2YXRlIHBhdXNlSWNvblRleHQgPSBcIlxcdWYwNGNcIlxyXG4gICAgcHJpdmF0ZSBzdG9wSWNvblRleHQgPSBcIlxcdWYwNGRcIlxyXG4gICAgcHJpdmF0ZSBuZXh0SWNvblRleHQgPSBcIlxcdWYwNTFcIlxyXG4gICAgcHJpdmF0ZSBwcmV2aW91c0ljb25UZXh0ID0gXCJcXHVmMDQ4XCJcclxuXHJcbiAgICAvLyBwcml2YXRlIHBsYXlJY29uVGV4dCA9IFwicGxheVwiXHJcbiAgICAvLyBwcml2YXRlIHBhdXNlSWNvblRleHQgPSBcInBhdXNlXCJcclxuICAgIC8vIHByaXZhdGUgc3RvcEljb25UZXh0ID0gXCJzdG9wXCJcclxuICAgIC8vIHByaXZhdGUgbmV4dEljb25UZXh0ID0gXCJuZXh0XCJcclxuICAgIC8vIHByaXZhdGUgcHJldmlvdXNJY29uVGV4dCA9IFwicHJldmlvdXNcIlxyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKGZhbHNlKTtcclxuXHJcbiAgICAgICAgdmFyIGF1ZGlvTWFuYWdlcjogQXVkaW9NYW5hZ2VyID0gRGluamVjdC5nZXRJbnN0YW5jZShcImF1ZGlvXCIpO1xyXG5cclxuICAgICAgICB2YXIgbGlzdFZpZXcgPSBuZXcgTGlzdFZpZXcoKTtcclxuICAgICAgICBsaXN0Vmlldy5hbGlnbmVtZW50LnZlcnRpY2FsQWxpZ24gPSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24uQm90dG9tO1xyXG4gICAgICAgIGxpc3RWaWV3LmFsaWduZW1lbnQubWFyZ2luLmJvdHRvbSA9IDEwO1xyXG4gICAgICAgIGxpc3RWaWV3LnByb3BlcnRpZXMub3JpZW50YXRpb24gPSBPcmllbnRhdGlvbi5Ib3Jpem9udGFsO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChsaXN0Vmlldyk7XHJcblxyXG4gICAgICAgIHZhciBwbGF5UGF1c2VCdG4gPSBuZXcgQnV0dG9uKCk7XHJcbiAgICAgICAgcGxheVBhdXNlQnRuLnByb3BlcnRpZXMuZm9udFByZWZpeCA9IFwiOTAwXCJcclxuICAgICAgICBwbGF5UGF1c2VCdG4ucHJvcGVydGllcy5mb250RmFtaWx5ID0gXCInRm9udCBBd2Vzb21lIDUgRnJlZSdcIlxyXG4gICAgICAgIHBsYXlQYXVzZUJ0bi50ZXh0ID0gdGhpcy5wbGF5SWNvblRleHQ7XHJcbiAgICAgICAgcGxheVBhdXNlQnRuLmNsaWNrZWQuYWRkRXZlbnRMaXN0ZW5lcigoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChwbGF5UGF1c2VCdG4udGV4dCA9PSB0aGlzLnBsYXlJY29uVGV4dCkge1xyXG4gICAgICAgICAgICAgICAgYXVkaW9NYW5hZ2VyLnBsYXkoKTtcclxuICAgICAgICAgICAgICAgIHBsYXlQYXVzZUJ0bi50ZXh0ID0gdGhpcy5wYXVzZUljb25UZXh0O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYXVkaW9NYW5hZ2VyLnBhdXNlKCk7XHJcbiAgICAgICAgICAgICAgICBwbGF5UGF1c2VCdG4udGV4dCA9IHRoaXMucGxheUljb25UZXh0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlclVwZGF0ZUxheW91dCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGxpc3RWaWV3LmFkZEl0ZW0ocGxheVBhdXNlQnRuKTtcclxuXHJcbiAgICAgICAgdmFyIHN0b3BCdG4gPSBuZXcgQnV0dG9uKCk7XHJcbiAgICAgICAgc3RvcEJ0bi5wcm9wZXJ0aWVzLmZvbnRQcmVmaXggPSBcIjkwMFwiXHJcbiAgICAgICAgc3RvcEJ0bi5wcm9wZXJ0aWVzLmZvbnRGYW1pbHkgPSBcIidGb250IEF3ZXNvbWUgNSBGcmVlJ1wiXHJcbiAgICAgICAgc3RvcEJ0bi50ZXh0ID0gdGhpcy5zdG9wSWNvblRleHQ7XHJcbiAgICAgICAgc3RvcEJ0bi5jbGlja2VkLmFkZEV2ZW50TGlzdGVuZXIoKCkgPT4ge1xyXG4gICAgICAgICAgICBhdWRpb01hbmFnZXIuc3RvcCgpO1xyXG4gICAgICAgICAgICBpZiAocGxheVBhdXNlQnRuLnRleHQgPT0gdGhpcy5wYXVzZUljb25UZXh0KSB7XHJcbiAgICAgICAgICAgICAgICBwbGF5UGF1c2VCdG4udGV4dCA9IHRoaXMucGxheUljb25UZXh0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlclVwZGF0ZUxheW91dCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGxpc3RWaWV3LmFkZEl0ZW0oc3RvcEJ0bik7XHJcblxyXG4gICAgICAgIHZhciBwcmV2aW91c0J0biA9IG5ldyBCdXR0b24oKTtcclxuICAgICAgICBwcmV2aW91c0J0bi5wcm9wZXJ0aWVzLmZvbnRQcmVmaXggPSBcIjkwMFwiXHJcbiAgICAgICAgcHJldmlvdXNCdG4ucHJvcGVydGllcy5mb250RmFtaWx5ID0gXCInRm9udCBBd2Vzb21lIDUgRnJlZSdcIlxyXG4gICAgICAgIHByZXZpb3VzQnRuLnRleHQgPSB0aGlzLnByZXZpb3VzSWNvblRleHQ7XHJcbiAgICAgICAgcHJldmlvdXNCdG4uY2xpY2tlZC5hZGRFdmVudExpc3RlbmVyKCgpID0+IHtcclxuICAgICAgICAgICAgYXVkaW9NYW5hZ2VyLnByZXZpb3VzKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbGlzdFZpZXcuYWRkSXRlbShwcmV2aW91c0J0bik7XHJcblxyXG4gICAgICAgIHZhciBuZXh0QnRuID0gbmV3IEJ1dHRvbigpO1xyXG4gICAgICAgIG5leHRCdG4ucHJvcGVydGllcy5mb250UHJlZml4ID0gXCI5MDBcIlxyXG4gICAgICAgIG5leHRCdG4ucHJvcGVydGllcy5mb250RmFtaWx5ID0gXCInRm9udCBBd2Vzb21lIDUgRnJlZSdcIlxyXG4gICAgICAgIG5leHRCdG4udGV4dCA9IHRoaXMubmV4dEljb25UZXh0O1xyXG4gICAgICAgIG5leHRCdG4uY2xpY2tlZC5hZGRFdmVudExpc3RlbmVyKCgpID0+IHtcclxuICAgICAgICAgICAgYXVkaW9NYW5hZ2VyLm5leHQoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBsaXN0Vmlldy5hZGRJdGVtKG5leHRCdG4pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVMYXlvdXQoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGJvdW5kczogUmVjdGFuZ2xlKSB7XHJcbiAgICAgICAgc3VwZXIudXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgY2hpbGQudXBkYXRlTGF5b3V0KGN0eCwgdGhpcy5ib3VuZHMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IEltYWdlU2NhbGluZ01vZGUgfSBmcm9tIFwiLi9pbWFnZVNjYWxpbmdNb2RlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgSW1hZ2VQcm9wZXJ0aWVzIHtcclxuICAgIHB1YmxpYyBpbWFnZVNjYWxpbmdNb2RlID0gSW1hZ2VTY2FsaW5nTW9kZS5GaXRBbmRTcGFjZTtcclxuICAgIHB1YmxpYyBzY2FsZSA9IDE7XHJcbn0iLCJpbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IENvbnRyb2wgfSBmcm9tIFwiLi9jb250cm9sXCI7XHJcbmltcG9ydCB7IEltYWdlUHJvcGVydGllcyB9IGZyb20gXCIuL2ltYWdlUHJvcGVydGllc1wiO1xyXG5pbXBvcnQgeyBJbWFnZVNjYWxpbmdNb2RlIH0gZnJvbSBcIi4vaW1hZ2VTY2FsaW5nTW9kZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEVJbWFnZSBleHRlbmRzIENvbnRyb2wge1xyXG4gICAgcHJpdmF0ZSBpbWFnZTogSFRNTEltYWdlRWxlbWVudDtcclxuICAgIHB1YmxpYyBwcm9wZXJ0aWVzID0gbmV3IEltYWdlUHJvcGVydGllcygpO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGltYWdlOiBIVE1MSW1hZ2VFbGVtZW50KSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmltYWdlID0gaW1hZ2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHN0YXRpYyBjcmVhdGVGcm9tVXJsID0gKGltYWdlVXJsOiBzdHJpbmcpOiBQcm9taXNlPEVJbWFnZT4gPT4ge1xyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIHZhciBpbWFnZSA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgICAgICBpbWFnZS5zcmMgPSBpbWFnZVVybDtcclxuICAgICAgICAgICAgaW1hZ2Uub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZShuZXcgRUltYWdlKGltYWdlKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIHN1cGVyUmVuZGVyID0gdGhpcy5yZW5kZXI7XHJcbiAgICBwdWJsaWMgcmVuZGVyID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zdXBlclJlbmRlcihjdHgpO1xyXG5cclxuICAgICAgICBjdHguZHJhd0ltYWdlKHRoaXMuaW1hZ2UsIHRoaXMuZGltZW5zaW9ucy54LCB0aGlzLmRpbWVuc2lvbnMueSwgdGhpcy5kaW1lbnNpb25zLndpZHRoLCB0aGlzLmRpbWVuc2lvbnMuaGVpZ2h0KTtcclxuICAgICAgICBpZiAodGhpcy5pc01vdXNlT3ZlciAmJiB0aGlzLmlzRW5hYmxlZCkge1xyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gXCJyZ2JhKDI1NSwyNTUsMjU1LDAuNSlcIjtcclxuICAgICAgICAgICAgY3R4LmZpbGxSZWN0KHRoaXMuZGltZW5zaW9ucy54LCB0aGlzLmRpbWVuc2lvbnMueSwgdGhpcy5kaW1lbnNpb25zLndpZHRoLCB0aGlzLmRpbWVuc2lvbnMuaGVpZ2h0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUxheW91dChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG5cclxuICAgICAgICB2YXIgZml0U2NhbGUgPSAxO1xyXG5cclxuICAgICAgICB2YXIgaW1hZ2VTaXppbmcgPSB0aGlzLmltYWdlLm5hdHVyYWxXaWR0aCAvIHRoaXMuaW1hZ2UubmF0dXJhbEhlaWdodDtcclxuICAgICAgICB2YXIgc3RhZ2VTaXppbmcgPSBib3VuZHMud2lkdGggLyBib3VuZHMuaGVpZ2h0O1xyXG5cclxuICAgICAgICB2YXIgaXNJbWFnZVdpZGVyID0gaW1hZ2VTaXppbmcgPiBzdGFnZVNpemluZztcclxuXHJcbiAgICAgICAgc3dpdGNoICh0aGlzLnByb3BlcnRpZXMuaW1hZ2VTY2FsaW5nTW9kZSkge1xyXG4gICAgICAgICAgICBjYXNlIEltYWdlU2NhbGluZ01vZGUuRml0QW5kT3ZlcmZpbGw6XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNJbWFnZVdpZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZml0U2NhbGUgPSBib3VuZHMuaGVpZ2h0IC8gdGhpcy5pbWFnZS5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpdFNjYWxlID0gYm91bmRzLndpZHRoIC8gdGhpcy5pbWFnZS53aWR0aDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEltYWdlU2NhbGluZ01vZGUuRml0QW5kU3BhY2U6XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNJbWFnZVdpZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZml0U2NhbGUgPSBib3VuZHMud2lkdGggLyB0aGlzLmltYWdlLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBmaXRTY2FsZSA9IGJvdW5kcy5oZWlnaHQgLyB0aGlzLmltYWdlLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5pbWFnZS5uYXR1cmFsV2lkdGggKiBmaXRTY2FsZTtcclxuICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5pbWFnZS5uYXR1cmFsSGVpZ2h0ICogZml0U2NhbGU7XHJcblxyXG4gICAgICAgIHRoaXMuZGltZW5zaW9ucy54ID0gdGhpcy5hbGlnbmVtZW50LmNhbGN1bGF0ZURpbWVuc2lvbnNYKGJvdW5kcywgd2lkdGgpO1xyXG4gICAgICAgIHRoaXMuZGltZW5zaW9ucy55ID0gdGhpcy5hbGlnbmVtZW50LmNhbGN1bGF0ZURpbWVuc2lvbnNZKGJvdW5kcywgd2lkdGgpO1xyXG4gICAgICAgIHRoaXMuZGltZW5zaW9ucy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIHRoaXMuZGltZW5zaW9ucy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBMYXlvdXRWaWV3IH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGF5b3V0Vmlld1wiO1xyXG5pbXBvcnQgeyBEaW5qZWN0IH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvZGluamVjdFwiO1xyXG5pbXBvcnQgeyBBc3NldE1hbmFnZXIgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9hc3NldE1hbmFnZXJcIjtcclxuaW1wb3J0IHsgRUltYWdlIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvY29udHJvbHMvaW1hZ2VcIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IEltYWdlU2NhbGluZ01vZGUgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9jb250cm9scy9pbWFnZVNjYWxpbmdNb2RlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQmFja2dyb3VuZEltYWdlVmlldyBleHRlbmRzIExheW91dFZpZXcge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoZmFsc2UpO1xyXG4gICAgICAgIHZhciBhc3NldE1hbmFnZXIgPSBEaW5qZWN0LmdldEluc3RhbmNlKFwiYXNzZXRzXCIpIGFzIEFzc2V0TWFuYWdlcjtcclxuICAgICAgICB2YXIgYmFja2dyb3VuZCA9IGFzc2V0TWFuYWdlci5nZXRJbWFnZShcImJhY2tncm91bmRcIik7XHJcblxyXG4gICAgICAgIHZhciBpbWFnZSA9IG5ldyBFSW1hZ2UoYmFja2dyb3VuZClcclxuICAgICAgICBpbWFnZS5kaXNhYmxlTW91c2VFdmVudHMoKTtcclxuICAgICAgICBpbWFnZS5wcm9wZXJ0aWVzLmltYWdlU2NhbGluZ01vZGUgPSBJbWFnZVNjYWxpbmdNb2RlLkZpdEFuZE92ZXJmaWxsO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChpbWFnZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUxheW91dChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICBjaGlsZC51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IExheW91dFZpZXcgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9sYXlvdXRDb250cm9scy9sYXlvdXRWaWV3XCI7XHJcbmltcG9ydCB7IERpbmplY3QgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9kaW5qZWN0XCI7XHJcbmltcG9ydCB7IEFzc2V0TWFuYWdlciB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL2Fzc2V0TWFuYWdlclwiO1xyXG5pbXBvcnQgeyBFSW1hZ2UgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9jb250cm9scy9pbWFnZVwiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgSW1hZ2VTY2FsaW5nTW9kZSB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2ltYWdlU2NhbGluZ01vZGVcIjtcclxuaW1wb3J0IHsgRUFuaW1hdGlvbiB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL2VBbmltYXRpb25cIjtcclxuaW1wb3J0IHsgQXVkaW9NYW5hZ2VyIH0gZnJvbSBcIi4uL2F1ZGlvTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBBdWRpb0dyYXBoTm9kZUFuYWx5c2VyIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvYXVkaW8vYXVkaW9HcmFwaE5vZGVBbmFseXNlclwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEZyb250VmlldyBleHRlbmRzIExheW91dFZpZXcge1xyXG4gICAgYW5hbHlzZXI6IEF1ZGlvR3JhcGhOb2RlQW5hbHlzZXI7XHJcblxyXG4gICAgcHJpdmF0ZSBmcmVxdWVuY3lJbmRleCA9IDc7XHJcbiAgICBwcml2YXRlIGxvd2VyQm9yZGVyID0gMC40O1xyXG4gICAgcHJpdmF0ZSB1cHBlckJvcmRlciA9IDAuOTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcihmYWxzZSk7XHJcbiAgICAgICAgdmFyIGFzc2V0TWFuYWdlciA9IERpbmplY3QuZ2V0SW5zdGFuY2UoXCJhc3NldHNcIikgYXMgQXNzZXRNYW5hZ2VyO1xyXG5cclxuICAgICAgICB2YXIgYXVkaW9NYW5hZ2VyID0gRGluamVjdC5nZXRJbnN0YW5jZShcImF1ZGlvXCIpIGFzIEF1ZGlvTWFuYWdlcjtcclxuICAgICAgICB0aGlzLmFuYWx5c2VyID0gYXVkaW9NYW5hZ2VyLmdldEFuYWx5c2VyKCk7XHJcblxyXG4gICAgICAgIHZhciBsb2dvID0gYXNzZXRNYW5hZ2VyLmdldEltYWdlKFwibG9nb1wiKTtcclxuICAgICAgICB2YXIgbG9nb05vdmEgPSBhc3NldE1hbmFnZXIuZ2V0SW1hZ2UoXCJsb2dvLW5vdmFcIik7XHJcblxyXG4gICAgICAgIHRoaXMuZGlzYWJsZU1vdXNlRXZlbnRzKCk7XHJcblxyXG4gICAgICAgIHZhciBsb2dvTm92YUVJbWFnZSA9IG5ldyBFSW1hZ2UobG9nb05vdmEpO1xyXG4gICAgICAgIGxvZ29Ob3ZhRUltYWdlLnByb3BlcnRpZXMuaW1hZ2VTY2FsaW5nTW9kZSA9IEltYWdlU2NhbGluZ01vZGUuRml0QW5kT3ZlcmZpbGw7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGxvZ29Ob3ZhRUltYWdlKTtcclxuXHJcbiAgICAgICAgdmFyIGZ1bmMgPSBsb2dvTm92YUVJbWFnZS5yZW5kZXJcclxuXHJcbiAgICAgICAgbG9nb05vdmFFSW1hZ2UucmVuZGVyID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PiB7XHJcbiAgICAgICAgICAgIHZhciBkYXRhID0gdGhpcy5hbmFseXNlci5nZXRTcGVjdHJ1bSgpO1xyXG4gICAgICAgICAgICB2YXIgcmVsRGF0YVZhbHVlID0gdGhpcy5jYWxjdWxhdGVSZWxEYXRhVmFsdWUoZGF0YVt0aGlzLmZyZXF1ZW5jeUluZGV4XSk7XHJcblxyXG4gICAgICAgICAgICBjdHguc2F2ZSgpO1xyXG4gICAgICAgICAgICBjdHguZ2xvYmFsQWxwaGEgPSByZWxEYXRhVmFsdWU7XHJcbiAgICAgICAgICAgIGZ1bmMoY3R4KTtcclxuICAgICAgICAgICAgY3R4LnJlc3RvcmUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBsb2dvRnJvbnQgPSBuZXcgRUltYWdlKGxvZ28pO1xyXG4gICAgICAgIGxvZ29Gcm9udC5wcm9wZXJ0aWVzLmltYWdlU2NhbGluZ01vZGUgPSBJbWFnZVNjYWxpbmdNb2RlLkZpdEFuZE92ZXJmaWxsO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChsb2dvRnJvbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY2FsY3VsYXRlUmVsRGF0YVZhbHVlKGRhdGFWYWx1ZTogbnVtYmVyKSB7XHJcbiAgICAgICAgdmFyIHJlbERhdGFWYWx1ZSA9IGRhdGFWYWx1ZSAvIDI1NTtcclxuICAgICAgICBpZiAocmVsRGF0YVZhbHVlIDwgdGhpcy5sb3dlckJvcmRlcikge1xyXG4gICAgICAgICAgICByZWxEYXRhVmFsdWUgPSB0aGlzLmxvd2VyQm9yZGVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAocmVsRGF0YVZhbHVlID4gdGhpcy51cHBlckJvcmRlcikge1xyXG4gICAgICAgICAgICByZWxEYXRhVmFsdWUgPSB0aGlzLnVwcGVyQm9yZGVyO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZmluYWxSZWxEYXRhVmFsdWUgPSAocmVsRGF0YVZhbHVlIC0gdGhpcy5sb3dlckJvcmRlcikgLyAodGhpcy51cHBlckJvcmRlciAtIHRoaXMubG93ZXJCb3JkZXIpO1xyXG4gICAgICAgIHJldHVybiBmaW5hbFJlbERhdGFWYWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGNoaWxkLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIExhYmVsUHJvcGVydGllcyB7XHJcbiAgICBwdWJsaWMgZm9udFNpemUgPSA0MDtcclxuICAgIHB1YmxpYyBmb250UHJlZml4ID0gXCJcIjtcclxuICAgIHB1YmxpYyBmb250RmFtaWx5ID0gXCJmb250YXdlc29tZVwiO1xyXG4gICAgcHVibGljIGZpbGxTdHlsZSA9IFwiYmx1ZVwiO1xyXG4gICAgcHVibGljIGJhY2tncm91bmRGaWxsU3R5bGU6IHN0cmluZyA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICBwdWJsaWMgZ2V0Rm9udCA9ICgpID0+IHtcclxuICAgICAgICB2YXIgZm9udCA9IFwiXCI7XHJcbiAgICAgICAgaWYgKHRoaXMuZm9udFByZWZpeCkge1xyXG4gICAgICAgICAgICBmb250ICs9IHRoaXMuZm9udFByZWZpeCArIFwiIFwiXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvbnQgKz0gdGhpcy5mb250U2l6ZSArIFwicHhcIiArIFwiIFwiICsgdGhpcy5mb250RmFtaWx5O1xyXG4gICAgICAgIHJldHVybiBmb250O1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQ29udHJvbCB9IGZyb20gXCIuL2NvbnRyb2xcIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBMYWJlbFByb3BlcnRpZXMgfSBmcm9tIFwiLi9sYWJlbFByb3BlcnRpZXNcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBMYWJlbCBleHRlbmRzIENvbnRyb2wge1xyXG4gICAgcHVibGljIHByb3BlcnRpZXMgPSBuZXcgTGFiZWxQcm9wZXJ0aWVzKCk7XHJcblxyXG4gICAgcHVibGljIHRleHQ6IHN0cmluZztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuZGlzYWJsZU1vdXNlRXZlbnRzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbmRlciA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4ge1xyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLnByb3BlcnRpZXMuZmlsbFN0eWxlO1xyXG4gICAgICAgIGN0eC5mb250ID0gdGhpcy5wcm9wZXJ0aWVzLmdldEZvbnQoKTtcclxuICAgICAgICBjdHgudGV4dEFsaWduID0gXCJsZWZ0XCI7XHJcbiAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9IFwidG9wXCI7XHJcbiAgICAgICAgY3R4LmZpbGxUZXh0KHRoaXMudGV4dCwgdGhpcy5kaW1lbnNpb25zLngsIHRoaXMuZGltZW5zaW9ucy55KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0ID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHN1cGVyLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcblxyXG4gICAgICAgIGN0eC5mb250ID0gdGhpcy5wcm9wZXJ0aWVzLmdldEZvbnQoKTtcclxuICAgICAgICBjdHgudGV4dEFsaWduID0gXCJsZWZ0XCI7XHJcbiAgICAgICAgY3R4LnRleHRCYXNlbGluZSA9IFwidG9wXCI7XHJcbiAgICAgICAgdmFyIHNpemUgPSBjdHgubWVhc3VyZVRleHQodGhpcy50ZXh0KTtcclxuXHJcbiAgICAgICAgdmFyIHggPSB0aGlzLmFsaWduZW1lbnQuY2FsY3VsYXRlRGltZW5zaW9uc1goYm91bmRzLCBzaXplLndpZHRoKTtcclxuICAgICAgICB2YXIgeSA9IHRoaXMuYWxpZ25lbWVudC5jYWxjdWxhdGVEaW1lbnNpb25zWShib3VuZHMsIHRoaXMucHJvcGVydGllcy5mb250U2l6ZSk7XHJcblxyXG4gICAgICAgIHRoaXMuZGltZW5zaW9ucyA9IG5ldyBSZWN0YW5nbGUoeCwgeSwgc2l6ZS53aWR0aCwgdGhpcy5wcm9wZXJ0aWVzLmZvbnRTaXplKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZGltZW5zaW9ucyk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBMYXlvdXRWaWV3IH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGF5b3V0Vmlld1wiO1xyXG5pbXBvcnQgeyBMYWJlbCB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2xhYmVsXCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIExvYWRpbmdWaWV3IGV4dGVuZHMgTGF5b3V0VmlldyB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHZhciBsb2FkaW5nTGFiZWwgPSBuZXcgTGFiZWwoKTtcclxuICAgICAgICBsb2FkaW5nTGFiZWwudGV4dCA9IFwiTG9hZGluZy4uLlwiO1xyXG4gICAgICAgIGxvYWRpbmdMYWJlbC5wcm9wZXJ0aWVzLmZpbGxTdHlsZSA9IFwid2hpdGVcIlxyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChsb2FkaW5nTGFiZWwpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVMYXlvdXQoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGJvdW5kczogUmVjdGFuZ2xlKSB7XHJcbiAgICAgICAgc3VwZXIudXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgY2hpbGQudXBkYXRlTGF5b3V0KGN0eCwgdGhpcy5ib3VuZHMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IExheW91dFZpZXcgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9sYXlvdXRDb250cm9scy9sYXlvdXRWaWV3XCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBTdGFyTGF5ZXJEcmF3ZXIgfSBmcm9tIFwiLi9zdGFyTGF5ZXJEcmF3ZXJcIjtcclxuaW1wb3J0IHsgU2V0dGluZ3NPdmVybGF5VmlldyB9IGZyb20gXCIuL292ZXJsYXkvc2V0dGluZ3NPdmVybGF5Vmlld1wiO1xyXG5pbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi4vYXBwXCI7XHJcbmltcG9ydCB7IFN0YXJMYXllckFuaW1hdG9yIH0gZnJvbSBcIi4vc3RhckxheWVyQW5pbWF0b3JcIjtcclxuaW1wb3J0IHsgRUFuaW1hdGlvbiB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL2VBbmltYXRpb25cIjtcclxuaW1wb3J0IHsgU2V0dGluZ09wZXJhdGlvbiB9IGZyb20gXCIuLi9zZXR0aW5ncy9zZXR0aW5nT3BlcmF0aW9uXCI7XHJcbmltcG9ydCB7IERpbmplY3QgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9kaW5qZWN0XCI7XHJcbmltcG9ydCB7IFBsYXllclZpZXcgfSBmcm9tIFwiLi9wbGF5ZXJWaWV3XCI7XHJcbmltcG9ydCB7IEJhY2tncm91bmRJbWFnZVZpZXcgfSBmcm9tIFwiLi9iYWNrZ3JvdW5kSW1hZ2VWaWV3XCI7XHJcbmltcG9ydCB7IEZyb250VmlldyB9IGZyb20gXCIuL2Zyb250Vmlld1wiO1xyXG5pbXBvcnQgeyBMb2FkaW5nVmlldyB9IGZyb20gXCIuL2xvYWRpbmdWaWV3XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgSW5zcGllcnR5UGxheWVyVmlldyBleHRlbmRzIExheW91dFZpZXcge1xyXG4gICAgcHJpdmF0ZSBzdGFyTGF5ZXJzOiBTdGFyTGF5ZXJEcmF3ZXJbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBzdGFyQW5pbWF0b3JzOiBTdGFyTGF5ZXJBbmltYXRvcltdID0gW107XHJcblxyXG4gICAgcHJpdmF0ZSBhbmltYXRpb246IEVBbmltYXRpb247XHJcblxyXG4gICAgcHJpdmF0ZSBsb2FkaW5nVmlldzogTG9hZGluZ1ZpZXc7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuXHJcbiAgICAgICAgdGhpcy5hbmltYXRpb24gPSBEaW5qZWN0LmdldEluc3RhbmNlKFwiYW5pbWF0aW9uXCIpO1xyXG5cclxuICAgICAgICB0aGlzLmxvYWRpbmdWaWV3ID0gbmV3IExvYWRpbmdWaWV3KCk7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHRoaXMubG9hZGluZ1ZpZXcpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGFydCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnJlbW92ZUl0ZW0odGhpcy5sb2FkaW5nVmlldyk7XHJcblxyXG4gICAgICAgIHZhciBiYWNrZ3JvdW5kID0gbmV3IEJhY2tncm91bmRJbWFnZVZpZXcoKTtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goYmFja2dyb3VuZCk7XHJcbiAgICAgICAgYmFja2dyb3VuZC5hY3RpdmF0ZSgpO1xyXG4gICAgICAgIChkb2N1bWVudCBhcyBhbnkpLnRlc3RpdCA9IGJhY2tncm91bmQ7XHJcblxyXG4gICAgICAgIHZhciBwbGF5ZXJWaWV3ID0gbmV3IFBsYXllclZpZXcoKTtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2gocGxheWVyVmlldyk7XHJcbiAgICAgICAgcGxheWVyVmlldy5hY3RpdmF0ZSgpO1xyXG5cclxuICAgICAgICB2YXIgZnJvbnQgPSBuZXcgRnJvbnRWaWV3KCk7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGZyb250KTtcclxuICAgICAgICBmcm9udC5hY3RpdmF0ZSgpO1xyXG5cclxuICAgICAgICB2YXIgc2V0dGluZ3NPdmVybGF5ID0gbmV3IFNldHRpbmdzT3ZlcmxheVZpZXcoKTtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goc2V0dGluZ3NPdmVybGF5KTtcclxuICAgICAgICBzZXR0aW5nc092ZXJsYXkuYWN0aXZhdGUoKTtcclxuXHJcbiAgICAgICAgQXBwLnNldHRpbmdNYW5hZ2VyLnVwZGF0ZS5hZGRFdmVudExpc3RlbmVyKHRoaXMuYXBwU2V0dGluZ3NVcGRhdGVkKTtcclxuICAgICAgICB0aGlzLnRyaWdnZXJVcGRhdGVMYXlvdXQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFwcFNldHRpbmdzVXBkYXRlZCA9IChvcGVyYXRpb246IFNldHRpbmdPcGVyYXRpb24pID0+IHtcclxuICAgICAgICBzd2l0Y2ggKG9wZXJhdGlvbikge1xyXG4gICAgICAgICAgICBjYXNlIFNldHRpbmdPcGVyYXRpb24uQWRkU3RhckxheWVyOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRTdGFyTGF5ZXIoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFNldHRpbmdPcGVyYXRpb24uUmVtb3ZlU3RhckxheWVyOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVTdGFyTGF5ZXIoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkU3RhckxheWVyID0gKCkgPT4ge1xyXG4gICAgICAgIGZvciAoY29uc3Qgc3RhckxheWVyIG9mIEFwcC5zZXR0aW5ncy5zdGFyTGF5ZXJzKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXJMYXllcnMuZmlyc3RPckRlZmF1bHQoeCA9PiB4LnN0YXJMYXllciA9PSBzdGFyTGF5ZXIpID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHZhciBsYXllciA9IG5ldyBTdGFyTGF5ZXJEcmF3ZXIoc3RhckxheWVyKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhckxheWVycy5wdXNoKGxheWVyKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKDEsIDAsIGxheWVyKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlclVwZGF0ZUxheW91dCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBhbmltYXRvciA9IG5ldyBTdGFyTGF5ZXJBbmltYXRvcihzdGFyTGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb24uYWRkVXBkYXRlRnVuY3Rpb24oYW5pbWF0b3IudXBkYXRlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhckFuaW1hdG9ycy5wdXNoKGFuaW1hdG9yKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVTdGFyTGF5ZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgZm9yIChjb25zdCBzdGFyTGF5ZXJEcmF3cyBvZiB0aGlzLnN0YXJMYXllcnMpIHtcclxuICAgICAgICAgICAgaWYgKEFwcC5zZXR0aW5ncy5zdGFyTGF5ZXJzLmZpcnN0T3JEZWZhdWx0KHggPT4geCA9PSBzdGFyTGF5ZXJEcmF3cy5zdGFyTGF5ZXIpID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhbmltYXRvciA9IHRoaXMuc3RhckFuaW1hdG9ycy5maXJzdCh4ID0+IHguc3RhckxheWVyID09IHN0YXJMYXllckRyYXdzLnN0YXJMYXllcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvbi5yZW1vdmVVcGRhdGVGdW5jdGlvbihhbmltYXRvci51cGRhdGUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFyQW5pbWF0b3JzLnJlbW92ZUl0ZW0oYW5pbWF0b3IpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucmVtb3ZlKHggPT4geCA9PSBzdGFyTGF5ZXJEcmF3cyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJMYXllcnMucmVtb3ZlKHggPT4geCA9PSBzdGFyTGF5ZXJEcmF3cyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXJVcGRhdGVMYXlvdXQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGNoaWxkLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgU3RhciB9IGZyb20gXCIuL3N0YXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTdGFyTGF5ZXIge1xyXG4gICAgcHVibGljIHN0YXJzOiBTdGFyW10gPSBbXTtcclxuICAgIHB1YmxpYyBzcGVlZCA9IE1hdGgucmFuZG9tKCkgKiAxICsgMC4xO1xyXG59IiwiZXhwb3J0IHR5cGUgVXBkYXRlRnVuY3Rpb24gPSAodGltZURpZmY6IG51bWJlcikgPT4gdm9pZDtcclxuXHJcbmV4cG9ydCBjbGFzcyBFQW5pbWF0aW9uIHtcclxuICAgIHByaXZhdGUgdXBkYXRlRnVuY3Rpb25zOiBVcGRhdGVGdW5jdGlvbltdID0gW107XHJcbiAgICBwcml2YXRlIGlzUnVubmluZyA9IGZhbHNlO1xyXG4gICAgcHJpdmF0ZSBsYXN0RnJhbWVUaW1lOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGZwczogbnVtYmVyO1xyXG4gICAgcHJpdmF0ZSBmcHNJbnRlcnZhbDogbnVtYmVyO1xyXG5cclxuICAgIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnNldEZwcygzMCk7XHJcbiAgICAgICAgdGhpcy5wbGF5KCk7XHJcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50LmtleUNvZGUgPT0gODApIHsgLy8gcFxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5UGF1c2UoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwbGF5KCkge1xyXG4gICAgICAgIGlmICghdGhpcy5pc1J1bm5pbmcpIHtcclxuICAgICAgICAgICAgdGhpcy5pc1J1bm5pbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RGcmFtZVRpbWUgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbkxvb3AoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBhdXNlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzUnVubmluZykge1xyXG4gICAgICAgICAgICB0aGlzLmlzUnVubmluZyA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGxheVBhdXNlKCkge1xyXG4gICAgICAgIHRoaXMuaXNSdW5uaW5nID8gdGhpcy5wYXVzZSgpIDogdGhpcy5wbGF5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZFVwZGF0ZUZ1bmN0aW9uID0gKGZ1bmM6IFVwZGF0ZUZ1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgdGhpcy51cGRhdGVGdW5jdGlvbnMucHVzaChmdW5jKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlVXBkYXRlRnVuY3Rpb24gPSAoZnVuYzogVXBkYXRlRnVuY3Rpb24pID0+IHtcclxuICAgICAgICB0aGlzLnVwZGF0ZUZ1bmN0aW9ucy5zcGxpY2UodGhpcy51cGRhdGVGdW5jdGlvbnMuaW5kZXhPZihmdW5jKSwgMSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNldEZwcyA9IChmcHM6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIHRoaXMuZnBzID0gZnBzO1xyXG4gICAgICAgIHRoaXMuZnBzSW50ZXJ2YWwgPSAxMDAwIC8gdGhpcy5mcHM7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBhbmltYXRpb25Mb29wID0gKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmlzUnVubmluZykge1xyXG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGhpcy5hbmltYXRpb25Mb29wKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBub3cgPSBEYXRlLm5vdygpO1xyXG4gICAgICAgIHZhciBlbGFwc2VkID0gbm93IC0gdGhpcy5sYXN0RnJhbWVUaW1lO1xyXG5cclxuICAgICAgICBpZiAoZWxhcHNlZCA+IHRoaXMuZnBzSW50ZXJ2YWwpIHtcclxuICAgICAgICAgICAgdGhpcy5sYXN0RnJhbWVUaW1lID0gbm93O1xyXG4gICAgICAgICAgICB2YXIgdGltZURpZmYgPSBlbGFwc2VkIC8gMTAwMDtcclxuXHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgdXBkYXRlRnVuY3Rpb24gb2YgdGhpcy51cGRhdGVGdW5jdGlvbnMpIHtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZUZ1bmN0aW9uKHRpbWVEaWZmKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBDYW52YXNIZWxwZXIge1xyXG4gICAgcHVibGljIGxvYWRGb250YXdlc29tZUZyZWUgPSAoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZEZvbnQoXCJcXHVmMjQ0XCIsIFwiXFx1ZjI0MFwiLCBcIjkwMCAyMHB4ICdGb250IEF3ZXNvbWUgNSBGcmVlJ1wiKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbG9hZEZvbnRhd2Vzb21lQnJhbmRzID0gKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmxvYWRGb250KFwiXFx1ZjNkM1wiLCBcIlxcdWYzYjhcIiwgXCI0MDAgMjBweCAnRm9udCBBd2Vzb21lIDUgQnJhbmRzJ1wiKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNvdW50UGl4ZWxzID0gKGltYWdlRGF0YTogSW1hZ2VEYXRhKSA9PiB7XHJcbiAgICAgICAgdmFyIHBpeGVsQ291bnQgPSAwO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW1hZ2VEYXRhLmRhdGEubGVuZ3RoOyBpID0gaSArIDQpIHtcclxuICAgICAgICAgICAgdmFyIHIgPSBpbWFnZURhdGEuZGF0YVtpXTtcclxuICAgICAgICAgICAgdmFyIGcgPSBpbWFnZURhdGEuZGF0YVtpICsgMV07XHJcbiAgICAgICAgICAgIHZhciBiID0gaW1hZ2VEYXRhLmRhdGFbaSArIDJdO1xyXG4gICAgICAgICAgICB2YXIgYSA9IGltYWdlRGF0YS5kYXRhW2kgKyAzXTtcclxuXHJcbiAgICAgICAgICAgIGlmIChyIDwgNTAgJiYgZyA8IDUwICYmIGIgPCA1MCAmJiBhID4gMC45KSB7XHJcbiAgICAgICAgICAgICAgICBwaXhlbENvdW50Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHBpeGVsQ291bnRcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldEljb25QaXhlbHMgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGNhbnZhczogSFRNTENhbnZhc0VsZW1lbnQsIGljb246IHN0cmluZykgPT4ge1xyXG4gICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcclxuICAgICAgICBjdHguZmlsbFRleHQoaWNvbiwgMCwgMCk7XHJcbiAgICAgICAgdmFyIGltYWdlRGF0YSA9IGN0eC5nZXRJbWFnZURhdGEoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcclxuICAgICAgICB2YXIgaWNvbjFQaXhlbENvdW50ID0gdGhpcy5jb3VudFBpeGVscyhpbWFnZURhdGEpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiaWNvbiAxIHBpeGVsIGNvdW50OiBcIiArIGljb24xUGl4ZWxDb3VudCk7XHJcbiAgICAgICAgcmV0dXJuIGljb24xUGl4ZWxDb3VudDtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGxvYWRGb250ID0gKGljb24xOiBzdHJpbmcsIGljb24yOiBzdHJpbmcsIGZvbnQ6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIHZhciByZXRyeURlbGF5TXMgPSA1MDA7XHJcbiAgICAgICAgdmFyIHJldHJpZXMgPSAxMFxyXG5cclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImxvYWRpbmcgZm9udCBcXFwiXCIgKyBmb250ICsgXCJcXFwiXCIpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHRlbXBDYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgICAgICAgICAgdGVtcENhbnZhcy53aWR0aCA9IDIwO1xyXG4gICAgICAgICAgICB0ZW1wQ2FudmFzLmhlaWdodCA9IDIwO1xyXG4gICAgICAgICAgICB2YXIgdGVtcEN0eCA9IHRlbXBDYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcclxuICAgICAgICAgICAgdGVtcEN0eC5mb250ID0gZm9udDtcclxuICAgICAgICAgICAgdGVtcEN0eC5maWxsU3R5bGUgPSBcImJsYWNrXCI7XHJcbiAgICAgICAgICAgIHRlbXBDdHgudGV4dEFsaWduID0gXCJsZWZ0XCI7XHJcbiAgICAgICAgICAgIHRlbXBDdHgudGV4dEJhc2VsaW5lID0gXCJ0b3BcIjtcclxuXHJcbiAgICAgICAgICAgIHZhciBjaGVja0xvYWRlZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBpY29uMVBpeGVsQ291bnQgPSB0aGlzLmdldEljb25QaXhlbHModGVtcEN0eCwgdGVtcENhbnZhcywgaWNvbjEpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGljb24yUGl4ZWxDb3VudCA9IHRoaXMuZ2V0SWNvblBpeGVscyh0ZW1wQ3R4LCB0ZW1wQ2FudmFzLCBpY29uMik7XHJcblxyXG4gICAgICAgICAgICAgICAgdmFyIGRpZmZQaXhlbHMgPSBNYXRoLmFicyhpY29uMlBpeGVsQ291bnQgLSBpY29uMVBpeGVsQ291bnQpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChkaWZmUGl4ZWxzID4gNSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwibG9hZGVkIGZvbnQgXFxcIlwiICsgZm9udCArIFwiXFxcIlwiKTtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHJpZXMtLTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmV0cmllcyA9PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic3RvcCBsb2FkaW5nIGZvbnQgYWZ0ZXIgXCIgKyByZXRyaWVzICsgXCIgcmV0cmllcyB3aXRoIFwiICsgcmV0cnlEZWxheU1zICsgXCJtcyBkZWxheVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwid2FpdGluZyBhIHdoaWxlIChcIiArIHJldHJ5RGVsYXlNcyArIFwibXMpXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrTG9hZGVkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJldHJ5RGVsYXlNcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNoZWNrTG9hZGVkKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgYWJzdHJhY3QgY2xhc3MgQXVkaW9HcmFwaE5vZGUge1xyXG4gICAgY29uc3RydWN0b3IocHVibGljIG5hbWU6IHN0cmluZywgcHJvdGVjdGVkIGF1ZGlvQ3R4OiBBdWRpb0NvbnRleHQpIHsgfVxyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBnZXRBdWRpb05vZGUoKTogQXVkaW9Ob2RlO1xyXG4gICAgcHVibGljIGFic3RyYWN0IHJlbG9hZCgpOiBQcm9taXNlPHZvaWQ+O1xyXG59IiwiaW1wb3J0IHsgQXVkaW9HcmFwaE5vZGUgfSBmcm9tIFwiLi9hdWRpb0dyYXBoTm9kZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEF1ZGlvR3JhcGhOb2RlQW5hbHlzZXIgZXh0ZW5kcyBBdWRpb0dyYXBoTm9kZSB7XHJcbiAgICBhbmFseXNlck5vZGU6IEFuYWx5c2VyTm9kZTtcclxuICAgIGJ1ZmZlckxlbmd0aDogbnVtYmVyO1xyXG4gICAgZGF0YUFycmF5OiBVaW50OEFycmF5O1xyXG5cclxuICAgIHB1YmxpYyBnZXRBdWRpb05vZGUgPSAoKTogQXVkaW9Ob2RlID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hbmFseXNlck5vZGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbG9hZCgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuYW5hbHlzZXJOb2RlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFuYWx5c2VyTm9kZSA9IHRoaXMuYXVkaW9DdHguY3JlYXRlQW5hbHlzZXIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmFuYWx5c2VyTm9kZS5mZnRTaXplID0gMzI7XHJcbiAgICAgICAgICAgIHRoaXMuYW5hbHlzZXJOb2RlLnNtb290aGluZ1RpbWVDb25zdGFudCA9IDAuOTtcclxuICAgICAgICAgICAgdGhpcy5idWZmZXJMZW5ndGggPSB0aGlzLmFuYWx5c2VyTm9kZS5mcmVxdWVuY3lCaW5Db3VudDtcclxuICAgICAgICAgICAgdGhpcy5kYXRhQXJyYXkgPSBuZXcgVWludDhBcnJheSh0aGlzLmJ1ZmZlckxlbmd0aCk7XHJcbiAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0U3BlY3RydW0oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYW5hbHlzZXJOb2RlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYW5hbHlzZXJOb2RlLmdldEJ5dGVGcmVxdWVuY3lEYXRhKHRoaXMuZGF0YUFycmF5KTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YUFycmF5O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoMCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFdhdmUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYW5hbHlzZXJOb2RlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYW5hbHlzZXJOb2RlLmdldEJ5dGVUaW1lRG9tYWluRGF0YSh0aGlzLmRhdGFBcnJheSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGFBcnJheTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KDApO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQXVkaW9HcmFwaE5vZGUgfSBmcm9tIFwiLi9hdWRpb0dyYXBoTm9kZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEF1ZGlvR3JhcGhOb2RlRGVzdGluYXRpb24gZXh0ZW5kcyBBdWRpb0dyYXBoTm9kZSB7XHJcbiAgICBwdWJsaWMgZ2V0QXVkaW9Ob2RlID0gKCk6IEF1ZGlvTm9kZSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYXVkaW9DdHguZGVzdGluYXRpb247XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbG9hZCgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBBdWRpb0dyYXBoTm9kZSB9IGZyb20gXCIuL2F1ZGlvR3JhcGhOb2RlXCI7XHJcbmltcG9ydCB7IEVFdmVudCB9IGZyb20gXCIuLi9lRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBdWRpb0dyYXBoTm9kZUVsZW1lbnRTb3VyY2UgZXh0ZW5kcyBBdWRpb0dyYXBoTm9kZSB7XHJcbiAgICBwdWJsaWMgdXJsOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgYXVkaW9FbmRlZCA9IG5ldyBFRXZlbnQoKTtcclxuXHJcbiAgICBwcml2YXRlIHNvdXJjZTogTWVkaWFFbGVtZW50QXVkaW9Tb3VyY2VOb2RlO1xyXG4gICAgcHJpdmF0ZSBhdWRpbzogSFRNTEF1ZGlvRWxlbWVudDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIGF1ZGlvQ3R4OiBBdWRpb0NvbnRleHQsIHVybDogc3RyaW5nKSB7XHJcbiAgICAgICAgc3VwZXIobmFtZSwgYXVkaW9DdHgpO1xyXG4gICAgICAgIHRoaXMudXJsID0gdXJsO1xyXG5cclxuICAgICAgICB0aGlzLmF1ZGlvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXVkaW8nKTtcclxuICAgICAgICB0aGlzLmF1ZGlvLmNvbnRyb2xzID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmF1ZGlvLnNyYyA9IHRoaXMudXJsO1xyXG4gICAgICAgIHRoaXMuYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsIHRoaXMuYXVkaW9FbmRlZEV2ZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGF1ZGlvRW5kZWRFdmVudCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmF1ZGlvRW5kZWQuZGlzcGF0Y2hFdmVudCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRBdWRpb05vZGUgPSAoKTogQXVkaW9Ob2RlID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zb3VyY2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbG9hZCgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuc291cmNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdXJjZSA9IHRoaXMuYXVkaW9DdHguY3JlYXRlTWVkaWFFbGVtZW50U291cmNlKHRoaXMuYXVkaW8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGxheSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmF1ZGlvLnBsYXkoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGF1c2UgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5hdWRpby5wYXVzZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdG9wID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuYXVkaW8ucGF1c2UoKTtcclxuICAgICAgICB0aGlzLmF1ZGlvLmN1cnJlbnRUaW1lID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0VXJsID0gKHVybDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgdmFyIHBsYXkgPSAhdGhpcy5hdWRpby5wYXVzZWQ7XHJcbiAgICAgICAgdGhpcy51cmwgPSB1cmw7XHJcbiAgICAgICAgdGhpcy5hdWRpby5zcmMgPSB1cmw7XHJcbiAgICAgICAgdGhpcy5hdWRpby5sb2FkKCk7XHJcbiAgICAgICAgaWYgKHBsYXkpIHtcclxuICAgICAgICAgICAgdGhpcy5hdWRpby5wbGF5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQXVkaW9HcmFwaE5vZGUgfSBmcm9tIFwiLi9hdWRpb0dyYXBoTm9kZVwiO1xyXG5pbXBvcnQgeyBBdWRpb0dyYXBoTm9kZUFuYWx5c2VyIH0gZnJvbSBcIi4vYXVkaW9HcmFwaE5vZGVBbmFseXNlclwiO1xyXG5pbXBvcnQgeyBBdWRpb0dyYXBoTm9kZURlc3RpbmF0aW9uIH0gZnJvbSBcIi4vYXVkaW9HcmFwaE5vZGVEZXN0aW5hdGlvblwiO1xyXG5pbXBvcnQgeyBBdWRpb0dyYXBoTm9kZUVsZW1lbnRTb3VyY2UgfSBmcm9tIFwiLi9hdWRpb0dyYXBoTm9kZUVsZW1lbnRTb3VyY2VcIjtcclxuaW1wb3J0IHsgQXVkaW9HcmFwaE5vZGVTdHJlYW1Tb3VyY2UgfSBmcm9tIFwiLi9hdWRpb0dyYXBoTm9kZVN0cmVhbVNvdXJjZVwiO1xyXG5pbXBvcnQgeyBFRXZlbnRUIH0gZnJvbSBcIi4uL2VFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEF1ZGlvR3JhcGgge1xyXG4gICAgcHVibGljIGF1ZGlvQ3R4OiBBdWRpb0NvbnRleHQ7XHJcblxyXG4gICAgLy8gcHJpdmF0ZSBzb3VyY2VOb2RlOiBBdWRpb0dyYXBoTm9kZTxBdWRpb05vZGU+O1xyXG4gICAgLy8gcHJpdmF0ZSBhbmFseXplck5vZGU6IEF1ZGlvR3JhcGhOb2RlQW5hbHlzZXI7XHJcblxyXG4gICAgLy8gcmVtb3ZlIGdlbmVyaWMgVD9cclxuICAgIHByaXZhdGUgYXVkaW9Ob2RlczogQXVkaW9HcmFwaE5vZGVbXSA9IFtdO1xyXG5cclxuICAgIHB1YmxpYyBkZXN0aW5hdGlvbk5vZGU6IEF1ZGlvR3JhcGhOb2RlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuYXVkaW9DdHggPSBuZXcgQXVkaW9Db250ZXh0KCk7XHJcbiAgICAgICAgdGhpcy5hdWRpb0N0eC5hZGRFdmVudExpc3RlbmVyKFwic3RhdGVjaGFuZ2VcIiwgdGhpcy5hdWRpb0NvbnRleHRTdGF0ZUNoYW5nZWRFdmFsdWF0b3IpO1xyXG4gICAgICAgIGlmICh0aGlzLmF1ZGlvQ3R4LnN0YXRlID09PSBcInN1c3BlbmRlZFwiKSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmRvY3VtZW50Q2xpY2spO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkF1ZGlvIGNvbnRleHQgaXMgc3VzcGVuZGVkLiBDbGljayB0aGUgZG9tIHRvIG1ha2UgaXQgcnVubmluZy5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZGVzdGluYXRpb25Ob2RlID0gbmV3IEF1ZGlvR3JhcGhOb2RlRGVzdGluYXRpb24oXCJkZXN0aW5hdGlvblwiLCB0aGlzLmF1ZGlvQ3R4KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkTWVkaWFFbGVtZW50U291cmNlID0gKG5hbWU6IHN0cmluZywgdXJsOiBzdHJpbmcpID0+IHtcclxuICAgICAgICB2YXIgc291cmNlTm9kZSA9IG5ldyBBdWRpb0dyYXBoTm9kZUVsZW1lbnRTb3VyY2UobmFtZSwgdGhpcy5hdWRpb0N0eCwgdXJsKTtcclxuICAgICAgICB0aGlzLmF1ZGlvTm9kZXMucHVzaChzb3VyY2VOb2RlKTtcclxuICAgICAgICByZXR1cm4gc291cmNlTm9kZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkQW5hbHl6ZXIgPSAobmFtZTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgdmFyIGFuYWx5emVyTm9kZSA9IG5ldyBBdWRpb0dyYXBoTm9kZUFuYWx5c2VyKG5hbWUsIHRoaXMuYXVkaW9DdHgpO1xyXG4gICAgICAgIHRoaXMuYXVkaW9Ob2Rlcy5wdXNoKGFuYWx5emVyTm9kZSk7XHJcbiAgICAgICAgcmV0dXJuIGFuYWx5emVyTm9kZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0QXVkaW9HcmFwaE5vZGUgPSAobmFtZTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYXVkaW9Ob2Rlcy5maXJzdCh4ID0+IHgubmFtZSA9PSBuYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBwdWJsaWMgcGxheVVybCA9ICh1cmw6IHN0cmluZykgPT4ge1xyXG4gICAgLy8gICAgIHRoaXMuc291cmNlTm9kZSA9IG5ldyBBdWRpb0dyYXBoTm9kZUVsZW1lbnRTb3VyY2UodGhpcy5hdWRpb0N0eCwgdXJsKTtcclxuICAgIC8vICAgICBpZiAodGhpcy5hdWRpb0N0eC5zdGF0ZSA9PT0gXCJydW5uaW5nXCIpIHtcclxuICAgIC8vICAgICAgICAgdGhpcy5idWlsZEdyYXBoKCk7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIHB1YmxpYyBwbGF5U3RyZWFtID0gKCkgPT4ge1xyXG4gICAgLy8gICAgIHRoaXMuc291cmNlTm9kZSA9IG5ldyBBdWRpb0dyYXBoTm9kZVN0cmVhbVNvdXJjZSh0aGlzLmF1ZGlvQ3R4KTtcclxuICAgIC8vICAgICBpZiAodGhpcy5hdWRpb0N0eC5zdGF0ZSA9PT0gXCJydW5uaW5nXCIpIHtcclxuICAgIC8vICAgICAgICAgdGhpcy5idWlsZEdyYXBoKCk7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfVxyXG5cclxuICAgIHB1YmxpYyBhdWRpb0NvbnRleHRTdGF0ZUNoYW5nZWQgPSBuZXcgRUV2ZW50VDxzdHJpbmc+KCk7XHJcblxyXG4gICAgcHJpdmF0ZSBkb2N1bWVudENsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmF1ZGlvQ3R4LnN0YXRlID09PSBcInN1c3BlbmRlZFwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYXVkaW9DdHgucmVzdW1lKCk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmRvY3VtZW50Q2xpY2spO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGF1ZGlvQ29udGV4dFN0YXRlQ2hhbmdlZEV2YWx1YXRvciA9ICgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5hdWRpb0N0eC5zdGF0ZSA9PT0gXCJydW5uaW5nXCIpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJhdWRpbyBjb250ZXh0IHN0YXRlIGNoYW5nZWRcIik7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLmF1ZGlvQ3R4LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzdGF0ZWNoYW5nZVwiLCB0aGlzLmF1ZGlvQ29udGV4dFN0YXRlQ2hhbmdlZEV2YWx1YXRvcik7XHJcbiAgICAgICAgICAgIHRoaXMucmVsb2FkKClcclxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1ZGlvQ29udGV4dFN0YXRlQ2hhbmdlZC5kaXNwYXRjaEV2ZW50KHRoaXMuYXVkaW9DdHguc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZWxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJyZWFsb2FkaW5nIGF1ZGlvIGdyYXBoXCIpO1xyXG4gICAgICAgICAgICBQcm9taXNlLmFsbCh0aGlzLmF1ZGlvTm9kZXMubWFwKHggPT4geC5yZWxvYWQoKSkpXHJcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJyZWxvYWRlZCBhdWRpbyBncmFwaFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYXVkaW9Ob2Rlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhdWRpb05vZGUgPSB0aGlzLmF1ZGlvTm9kZXNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1ZGlvTm9kZS5nZXRBdWRpb05vZGUoKS5kaXNjb25uZWN0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA8IHRoaXMuYXVkaW9Ob2Rlcy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdWRpb05vZGUuZ2V0QXVkaW9Ob2RlKCkuY29ubmVjdCh0aGlzLmF1ZGlvTm9kZXNbaSArIDFdLmdldEF1ZGlvTm9kZSgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1ZGlvTm9kZS5nZXRBdWRpb05vZGUoKS5jb25uZWN0KHRoaXMuZGVzdGluYXRpb25Ob2RlLmdldEF1ZGlvTm9kZSgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBwcml2YXRlIGJ1aWxkR3JhcGgoKSB7XHJcbiAgICAvLyAgICAgY29uc29sZS5sb2coXCJCdWlsZGluZyBhdWRpbyBncmFwaC5cIik7XHJcblxyXG4gICAgLy8gICAgIGlmICh0aGlzLnNvdXJjZU5vZGUuZ2V0QXVkaW9Ob2RlKCkpIHtcclxuICAgIC8vICAgICAgICAgdGhpcy5zb3VyY2VOb2RlLmdldEF1ZGlvTm9kZSgpLmRpc2Nvbm5lY3QoKTtcclxuICAgIC8vICAgICAgICAgdGhpcy5hbmFseXplck5vZGUuZ2V0QXVkaW9Ob2RlKCkuZGlzY29ubmVjdCgpO1xyXG4gICAgLy8gICAgICAgICB0aGlzLmRlc3RpbmF0aW9uTm9kZS5nZXRBdWRpb05vZGUoKS5kaXNjb25uZWN0KCk7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuc291cmNlTm9kZS5nZXRBdWRpb05vZGUoKS5jb25uZWN0KHRoaXMuYW5hbHl6ZXJOb2RlLmdldEF1ZGlvTm9kZSgpKTtcclxuICAgIC8vICAgICAgICAgdGhpcy5hbmFseXplck5vZGUuZ2V0QXVkaW9Ob2RlKCkuY29ubmVjdCh0aGlzLmRlc3RpbmF0aW9uTm9kZS5nZXRBdWRpb05vZGUoKSk7XHJcbiAgICAvLyAgICAgfSBlbHNlIHtcclxuICAgIC8vICAgICAgICAgY29uc29sZS5sb2coXCJBdWRpbyBzb3VyY2Ugbm90IGF2YWlsYWJsZS4gV2FpdGluZyBzb21lIHRpbWUuXCIpO1xyXG4gICAgLy8gICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgIC8vICAgICAgICAgICAgIHRoaXMuYnVpbGRHcmFwaCgpO1xyXG4gICAgLy8gICAgICAgICB9LCAxMDAwKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gcHVibGljIGdldFNwZWN0cnVtKCkge1xyXG4gICAgLy8gICAgIHJldHVybiB0aGlzLmFuYWx5emVyTm9kZS5nZXRTcGVjdHJ1bSgpO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIHB1YmxpYyBnZXRXYXZlKCkge1xyXG4gICAgLy8gICAgIHJldHVybiB0aGlzLmFuYWx5emVyTm9kZS5nZXRXYXZlKCk7XHJcbiAgICAvLyB9XHJcbn0iLCJpbXBvcnQgeyBBdWRpb0dyYXBoIH0gZnJvbSBcIi4uL2VuYy9zcmMvYXVkaW8vYXVkaW9HcmFwaFwiO1xyXG5pbXBvcnQgeyBBdWRpb0dyYXBoTm9kZUVsZW1lbnRTb3VyY2UgfSBmcm9tIFwiLi4vZW5jL3NyYy9hdWRpby9hdWRpb0dyYXBoTm9kZUVsZW1lbnRTb3VyY2VcIjtcclxuaW1wb3J0IHsgQXVkaW9HcmFwaE5vZGVBbmFseXNlciB9IGZyb20gXCIuLi9lbmMvc3JjL2F1ZGlvL2F1ZGlvR3JhcGhOb2RlQW5hbHlzZXJcIjtcclxuXHJcbi8vIGltcG9ydCBGYWludEFzc2V0TVAzIGZyb20gXCIuL2Fzc2V0cy9tcDMtZGVtby9kZW1vXzFfZmFpbnRfY29sb3IubXAzXCJcclxuLy8gaW1wb3J0IFByaXNtQXNzZXRNUDMgZnJvbSBcIi4vYXNzZXRzL21wMy1kZW1vL2RlbW9fMl9wcmlzbS5tcDNcIlxyXG4vLyBpbXBvcnQgSG9wZWZ1bEFzc2V0TVAzIGZyb20gXCIuL2Fzc2V0cy9tcDMtZGVtby9kZW1vXzNfaG9wZWZ1bC5tcDNcIlxyXG4vLyBpbXBvcnQgRGVlcEFzc2V0TVAzIGZyb20gXCIuL2Fzc2V0cy9tcDMtZGVtby9kZW1vXzRfZGVlcF9maWVsZC5tcDNcIlxyXG4vLyBpbXBvcnQgR3Jhdml0eUFzc2V0TVAzIGZyb20gXCIuL2Fzc2V0cy9tcDMtZGVtby9kZW1vXzVfZ3Jhdml0eS5tcDNcIlxyXG4vLyBpbXBvcnQgSm91cm5leUFzc2V0TVAzIGZyb20gXCIuL2Fzc2V0cy9tcDMtZGVtby9kZW1vXzZfam91cm5leV90b190aGVfcGxhbmV0cy5tcDNcIlxyXG4vLyBpbXBvcnQgRHJpZnRpbmdBc3NldE1QMyBmcm9tIFwiLi9hc3NldHMvbXAzLWRlbW8vZGVtb183X2RyaWZ0aW5nX2ludG9fdGhlX2F0bW9zcGhlcmUubXAzXCJcclxuXHJcbmltcG9ydCBGYWludEFzc2V0TVAzIGZyb20gXCIuL2Fzc2V0cy9kZW1vL1RyYWlsZXJfZmFpbnRDb2xvci5tcDNcIlxyXG5pbXBvcnQgRGVlcEFzc2V0TVAzIGZyb20gXCIuL2Fzc2V0cy9kZW1vL1RyYWlsZXJfRGVlcEZpZWxkLm1wM1wiXHJcbmltcG9ydCBEcmlmdGluZ0Fzc2V0TVAzIGZyb20gXCIuL2Fzc2V0cy9kZW1vL1RyYWlsZXJfRHJpZnRpbmdJbnRvVGhlQXRtb3NwaGVyZS5tcDNcIlxyXG5cclxuZXhwb3J0IGNsYXNzIEF1ZGlvTWFuYWdlciB7XHJcbiAgICBwcml2YXRlIGF1ZGlvR3JhcGg6IEF1ZGlvR3JhcGg7XHJcbiAgICBwcml2YXRlIHNvdXJjZTogQXVkaW9HcmFwaE5vZGVFbGVtZW50U291cmNlO1xyXG4gICAgcHJpdmF0ZSBhbmFseXNlcjogQXVkaW9HcmFwaE5vZGVBbmFseXNlcjtcclxuXHJcbiAgICBwcml2YXRlIHNvbmdzID0gW1xyXG4gICAgICAgIEZhaW50QXNzZXRNUDMsXHJcbiAgICAgICAgLy8gUHJpc21Bc3NldE1QMyxcclxuICAgICAgICAvLyBIb3BlZnVsQXNzZXRNUDMsXHJcbiAgICAgICAgRGVlcEFzc2V0TVAzLFxyXG4gICAgICAgIC8vIEdyYXZpdHlBc3NldE1QMyxcclxuICAgICAgICAvLyBKb3VybmV5QXNzZXRNUDMsXHJcbiAgICAgICAgRHJpZnRpbmdBc3NldE1QM1xyXG4gICAgXVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuYXVkaW9HcmFwaCA9IG5ldyBBdWRpb0dyYXBoKCk7XHJcbiAgICAgICAgdGhpcy5zb3VyY2UgPSB0aGlzLmF1ZGlvR3JhcGguYWRkTWVkaWFFbGVtZW50U291cmNlKFwic291cmNlXCIsIHRoaXMuc29uZ3NbMF0pXHJcbiAgICAgICAgdGhpcy5hbmFseXNlciA9IHRoaXMuYXVkaW9HcmFwaC5hZGRBbmFseXplcihcImFuYWx5c2VyXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZWxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYXVkaW9HcmFwaC5yZWxvYWQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGxheSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNvdXJjZS5wbGF5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBhdXNlID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc291cmNlLnBhdXNlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG5leHQgPSAoKSA9PiB7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRTb25nSW5kZXggPSB0aGlzLnNvbmdzLmluZGV4T2YodGhpcy5zb3VyY2UudXJsKTtcclxuICAgICAgICB2YXIgbmV4dFNvbmdJbmRleCA9IGN1cnJlbnRTb25nSW5kZXggKyAxO1xyXG4gICAgICAgIGlmIChuZXh0U29uZ0luZGV4ID09IHRoaXMuc29uZ3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIG5leHRTb25nSW5kZXggPSAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zb3VyY2Uuc2V0VXJsKHRoaXMuc29uZ3NbbmV4dFNvbmdJbmRleF0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwcmV2aW91cyA9ICgpID0+IHtcclxuICAgICAgICB2YXIgY3VycmVudFNvbmdJbmRleCA9IHRoaXMuc29uZ3MuaW5kZXhPZih0aGlzLnNvdXJjZS51cmwpO1xyXG4gICAgICAgIHZhciBwcmV2aW91c1NvbmdJbmRleCA9IGN1cnJlbnRTb25nSW5kZXggLSAxO1xyXG4gICAgICAgIGlmIChwcmV2aW91c1NvbmdJbmRleCA9PSAtMSkge1xyXG4gICAgICAgICAgICBwcmV2aW91c1NvbmdJbmRleCA9IHRoaXMuc29uZ3MubGVuZ3RoIC0gMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuc291cmNlLnNldFVybCh0aGlzLnNvbmdzW3ByZXZpb3VzU29uZ0luZGV4XSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEFuYWx5c2VyID0gKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmFuYWx5c2VyO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdG9wID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc291cmNlLnN0b3AoKTtcclxuICAgIH1cclxufSIsImV4cG9ydCBjbGFzcyBBc3NldE1hbmFnZXIge1xyXG4gICAgcHJpdmF0ZSBpbWFnZUFzc2V0czogeyBuYW1lOiBzdHJpbmcsIHVybDogc3RyaW5nLCBpbWFnZTogSFRNTEltYWdlRWxlbWVudCB9W10gPSBbXTtcclxuXHJcbiAgICBwdWJsaWMgYWRkSW1hZ2UgPSAobmFtZTogc3RyaW5nLCB1cmw6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIHRoaXMuaW1hZ2VBc3NldHMucHVzaCh7XHJcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgICAgIHVybDogdXJsLFxyXG4gICAgICAgICAgICBpbWFnZTogdW5kZWZpbmVkXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEltYWdlID0gKG5hbWU6IHN0cmluZyk6IEhUTUxJbWFnZUVsZW1lbnQgPT4ge1xyXG4gICAgICAgIHZhciBpbWFnZUFzc2V0ID0gdGhpcy5pbWFnZUFzc2V0cy5maXJzdE9yRGVmYXVsdCh4ID0+IHgubmFtZSA9PSBuYW1lKTtcclxuICAgICAgICBpZiAoaW1hZ2VBc3NldCkge1xyXG4gICAgICAgICAgICByZXR1cm4gaW1hZ2VBc3NldC5pbWFnZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbG9hZCA9ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwodGhpcy5pbWFnZUFzc2V0cy5tYXAoeCA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXguaW1hZ2UpIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICAgICAgICAgICAgICBpbWFnZS5zcmMgPSB4LnVybDtcclxuICAgICAgICAgICAgICAgICAgICBpbWFnZS5vbmxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHguaW1hZ2UgPSBpbWFnZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBTdGFnZSB9IGZyb20gXCIuLi9lbmMvc3JjL3VpL3N0YWdlXCI7XHJcbmltcG9ydCB7IEluc3BpZXJ0eVBsYXllclZpZXcgfSBmcm9tIFwiLi92aWV3L2luc3BpZXJ0eVBsYXllclZpZXdcIjtcclxuaW1wb3J0IHsgU2V0dGluZ3MgfSBmcm9tIFwiLi9tb2RlbHMvc2V0dGluZ3NcIjtcclxuaW1wb3J0IHsgU2V0dGluZ3NNYW5hZ2VyIH0gZnJvbSBcIi4vc2V0dGluZ3Mvc2V0dGluZ3NNYW5hZ2VyXCI7XHJcbmltcG9ydCB7IERpbmplY3QgfSBmcm9tIFwiLi4vZW5jL3NyYy9kaW5qZWN0XCI7XHJcbmltcG9ydCB7IEVBbmltYXRpb24gfSBmcm9tIFwiLi4vZW5jL3NyYy9lQW5pbWF0aW9uXCI7XHJcbmltcG9ydCB7IEVDYW52YXMgfSBmcm9tIFwiLi4vZW5jL3NyYy91aS9lQ2FudmFzXCI7XHJcbmltcG9ydCB7IENhbnZhc0hlbHBlciB9IGZyb20gXCIuLi9lbmMvc3JjL3VpL2NhbnZhc0hlbHBlclwiO1xyXG5pbXBvcnQgeyBBdWRpb01hbmFnZXIgfSBmcm9tIFwiLi9hdWRpb01hbmFnZXJcIjtcclxuaW1wb3J0IHsgQXNzZXRNYW5hZ2VyIH0gZnJvbSBcIi4uL2VuYy9zcmMvYXNzZXRNYW5hZ2VyXCI7XHJcblxyXG5pbXBvcnQgYmFja2dyb3VuZFBuZyBmcm9tIFwiLi9hc3NldHMvYmFja2dyb3VuZC5wbmdcIlxyXG5pbXBvcnQgbG9nb0Zyb250UG5nIGZyb20gXCIuL2Fzc2V0cy9sb2dvLWZyb250LnBuZ1wiXHJcbmltcG9ydCBsb2dvTm92YVBuZyBmcm9tIFwiLi9hc3NldHMvbG9nby1ub3ZhLnBuZ1wiXHJcblxyXG5leHBvcnQgY2xhc3MgQXBwIHtcclxuICAgIHB1YmxpYyBzdGF0aWMgc2V0dGluZ3MgPSBuZXcgU2V0dGluZ3Mod2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCk7XHJcbiAgICBwdWJsaWMgc3RhdGljIHNldHRpbmdNYW5hZ2VyID0gbmV3IFNldHRpbmdzTWFuYWdlcigpO1xyXG5cclxuICAgIHB1YmxpYyBydW4gPSAoKSA9PiB7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcImJsYWNrXCI7XHJcblxyXG4gICAgICAgIHZhciBjYW52YXMgPSBFQ2FudmFzLmNyZWF0ZUZ1bGxTY3JlZW4oKTtcclxuICAgICAgICB2YXIgc3RhZ2UgPSBuZXcgU3RhZ2UoY2FudmFzKTtcclxuICAgICAgICB2YXIgYW5pbWF0aW9uID0gbmV3IEVBbmltYXRpb24oKTtcclxuICAgICAgICBhbmltYXRpb24uYWRkVXBkYXRlRnVuY3Rpb24oY2FudmFzLmRyYXcpO1xyXG5cclxuICAgICAgICBEaW5qZWN0LmFkZEluc3RhbmNlKFwiY2FudmFzXCIsIGNhbnZhcyk7XHJcbiAgICAgICAgRGluamVjdC5hZGRJbnN0YW5jZShcInN0YWdlXCIsIHN0YWdlKTtcclxuICAgICAgICBEaW5qZWN0LmFkZEluc3RhbmNlKFwiYW5pbWF0aW9uXCIsIGFuaW1hdGlvbik7XHJcblxyXG4gICAgICAgIHZhciB2aWV3ID0gbmV3IEluc3BpZXJ0eVBsYXllclZpZXcoKTtcclxuICAgICAgICBzdGFnZS5zZXRWaWV3KHZpZXcpO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhcImxvYWRpbmcgYXBwXCIpO1xyXG4gICAgICAgIFByb21pc2UuYWxsKFtcclxuICAgICAgICAgICAgbmV3IENhbnZhc0hlbHBlcigpLmxvYWRGb250YXdlc29tZUZyZWUoKSxcclxuICAgICAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIGF1ZGlvTWFuYWdlciA9IG5ldyBBdWRpb01hbmFnZXIoKTtcclxuICAgICAgICAgICAgICAgIGF1ZGlvTWFuYWdlci5yZWxvYWQoKVxyXG4gICAgICAgICAgICAgICAgRGluamVjdC5hZGRJbnN0YW5jZShcImF1ZGlvXCIsIGF1ZGlvTWFuYWdlcik7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICB9LCAyMDAwKTtcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBhc3NldE1hbmFnZXIgPSBuZXcgQXNzZXRNYW5hZ2VyKCk7XHJcbiAgICAgICAgICAgICAgICBEaW5qZWN0LmFkZEluc3RhbmNlKFwiYXNzZXRzXCIsIGFzc2V0TWFuYWdlcik7XHJcbiAgICAgICAgICAgICAgICBhc3NldE1hbmFnZXIuYWRkSW1hZ2UoXCJiYWNrZ3JvdW5kXCIsIGJhY2tncm91bmRQbmcpO1xyXG4gICAgICAgICAgICAgICAgYXNzZXRNYW5hZ2VyLmFkZEltYWdlKFwibG9nb1wiLCBsb2dvRnJvbnRQbmcpO1xyXG4gICAgICAgICAgICAgICAgYXNzZXRNYW5hZ2VyLmFkZEltYWdlKFwibG9nby1ub3ZhXCIsIGxvZ29Ob3ZhUG5nKTtcclxuICAgICAgICAgICAgICAgIGFzc2V0TWFuYWdlci5sb2FkKClcclxuICAgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIF0pLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImxvYWRlZCBhcHBcIik7XHJcblxyXG4gICAgICAgICAgICBBcHAuc2V0dGluZ01hbmFnZXIuYWRkU3RhckxheWVyKCk7XHJcbiAgICAgICAgICAgIEFwcC5zZXR0aW5nTWFuYWdlci5hZGRTdGFyTGF5ZXIoKTtcclxuICAgICAgICAgICAgQXBwLnNldHRpbmdNYW5hZ2VyLmFkZFN0YXJMYXllcigpO1xyXG4gICAgICAgICAgICBBcHAuc2V0dGluZ01hbmFnZXIuYWRkU3RhckxheWVyKCk7XHJcblxyXG4gICAgICAgICAgICB2aWV3LnN0YXJ0KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBTdGFyTGF5ZXIgfSBmcm9tIFwiLi9zdGFyTGF5ZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTZXR0aW5ncyB7XHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgd2lkdGg6IG51bWJlciwgcHVibGljIGhlaWdodDogbnVtYmVyKSB7IH1cclxuXHJcbiAgICBwdWJsaWMgc3RhckxheWVyczogU3RhckxheWVyW10gPSBbXTtcclxufVxyXG4iLCJpbXBvcnQgeyBTZXR0aW5nT3BlcmF0aW9uIH0gZnJvbSBcIi4vc2V0dGluZ09wZXJhdGlvblwiO1xyXG5pbXBvcnQgeyBFRXZlbnRUIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvZUV2ZW50XCI7XHJcbmltcG9ydCB7IEFwcCB9IGZyb20gXCIuLi9hcHBcIjtcclxuaW1wb3J0IHsgU3RhckxheWVyIH0gZnJvbSBcIi4uL21vZGVscy9zdGFyTGF5ZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTZXR0aW5nc01hbmFnZXIge1xyXG4gICAgcHVibGljIHVwZGF0ZSA9IG5ldyBFRXZlbnRUPFNldHRpbmdPcGVyYXRpb24+KCk7XHJcblxyXG4gICAgcHVibGljIGFkZFN0YXJMYXllciA9ICgpID0+IHtcclxuICAgICAgICB2YXIgbGF5ZXIgPSBuZXcgU3RhckxheWVyKCk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzAwOyBpKyspIHtcclxuICAgICAgICAgICAgbGF5ZXIuc3RhcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICB4OiBNYXRoLnJhbmRvbSgpICogQXBwLnNldHRpbmdzLndpZHRoLFxyXG4gICAgICAgICAgICAgICAgeTogTWF0aC5yYW5kb20oKSAqIEFwcC5zZXR0aW5ncy5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgICByOiBNYXRoLnJhbmRvbSgpICogMC41ICsgMC4wNVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgQXBwLnNldHRpbmdzLnN0YXJMYXllcnMucHVzaChsYXllcik7XHJcbiAgICAgICAgdGhpcy51cGRhdGUuZGlzcGF0Y2hFdmVudChTZXR0aW5nT3BlcmF0aW9uLkFkZFN0YXJMYXllcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZVN0YXJMYXllciA9IChzdGFyTGF5ZXI6IFN0YXJMYXllcikgPT4ge1xyXG4gICAgICAgIEFwcC5zZXR0aW5ncy5zdGFyTGF5ZXJzLnJlbW92ZUl0ZW0oc3RhckxheWVyKTtcclxuICAgICAgICB0aGlzLnVwZGF0ZS5kaXNwYXRjaEV2ZW50KFNldHRpbmdPcGVyYXRpb24uUmVtb3ZlU3RhckxheWVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2hhbmdlTnVtYmVyT2ZTdGFycyA9IChzdGFyTGF5ZXI6IFN0YXJMYXllciwgbnVtYmVyT2ZTdGFyczogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgaWYgKG51bWJlck9mU3RhcnMgPiAwKSB7XHJcbiAgICAgICAgICAgIHZhciBkaWZmID0gbnVtYmVyT2ZTdGFycyAtIHN0YXJMYXllci5zdGFycy5sZW5ndGg7XHJcbiAgICAgICAgICAgIGlmIChkaWZmID4gMCkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkaWZmOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgc2l6ZXMgPSBzdGFyTGF5ZXIuc3RhcnMubWFwKHggPT4geC5yKTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudFZhbHVlTG93ID0gTWF0aC5taW4oLi4uc2l6ZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50VmFsdWVIaWdoID0gTWF0aC5tYXgoLi4uc2l6ZXMpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBzdGFyTGF5ZXIuc3RhcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHg6IE1hdGgucmFuZG9tKCkgKiBBcHAuc2V0dGluZ3Mud2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHk6IE1hdGgucmFuZG9tKCkgKiBBcHAuc2V0dGluZ3MuaGVpZ2h0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByOiBNYXRoLnJhbmRvbSgpICogKGN1cnJlbnRWYWx1ZUhpZ2ggLSBjdXJyZW50VmFsdWVMb3cpICsgY3VycmVudFZhbHVlTG93XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChkaWZmIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAtZGlmZjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhckxheWVyLnN0YXJzLnNwbGljZShNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBzdGFyTGF5ZXIuc3RhcnMubGVuZ3RoKSwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy51cGRhdGUuZGlzcGF0Y2hFdmVudChTZXR0aW5nT3BlcmF0aW9uLkNoYW5nZU51bWJlck9mU3RhcnMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2hhbmdlU3BlZWQgPSAoc3RhckxheWVyOiBTdGFyTGF5ZXIsIHNwZWVkOiBudW1iZXIpID0+IHtcclxuICAgICAgICBzdGFyTGF5ZXIuc3BlZWQgPSBzcGVlZDtcclxuICAgICAgICB0aGlzLnVwZGF0ZS5kaXNwYXRjaEV2ZW50KFNldHRpbmdPcGVyYXRpb24uQ2hhbmdlU3BlZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjaGFuZ2VTaXplcyA9IChzdGFyTGF5ZXI6IFN0YXJMYXllciwgbG93Qm9yZGVyOiBudW1iZXIsIGhpZ2hCb3JkZXI6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIHZhciBzaXplcyA9IHN0YXJMYXllci5zdGFycy5tYXAoeCA9PiB4LnIpO1xyXG4gICAgICAgIHZhciBjdXJyZW50VmFsdWVMb3cgPSBNYXRoLm1pbiguLi5zaXplcyk7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRWYWx1ZUhpZ2ggPSBNYXRoLm1heCguLi5zaXplcyk7XHJcblxyXG4gICAgICAgIHZhciBtaW5GaXggPSAoY3VycmVudFZhbHVlSGlnaCAtIGN1cnJlbnRWYWx1ZUxvdyk7XHJcbiAgICAgICAgaWYgKG1pbkZpeCA8PSAwKSB7XHJcbiAgICAgICAgICAgIG1pbkZpeCA9IDAuMDAwMVxyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGNvbnN0IHN0YXIgb2Ygc3RhckxheWVyLnN0YXJzKSB7XHJcbiAgICAgICAgICAgIHN0YXIuciA9ICgoc3Rhci5yIC0gY3VycmVudFZhbHVlTG93KSAvIG1pbkZpeCAqIChoaWdoQm9yZGVyIC0gbG93Qm9yZGVyKSkgKyBsb3dCb3JkZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMudXBkYXRlLmRpc3BhdGNoRXZlbnQoU2V0dGluZ09wZXJhdGlvbi5DaGFuZ2VTcGVlZCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi9hcHBcIjtcclxuaW1wb3J0IFwiLi4vZW5jL3NyYy9leHRlbnNpb25zXCI7XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgbWFpbiwgZmFsc2UpO1xyXG5cclxuZnVuY3Rpb24gbWFpbigpIHtcclxuICAgIHZhciBhcHAgPSBuZXcgQXBwKCk7XHJcbiAgICBhcHAucnVuKCk7XHJcbn1cclxuXHJcbmlmICgnc2VydmljZVdvcmtlcicgaW4gbmF2aWdhdG9yKSB7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcclxuICAgICAgICBuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3Rlcignc2VydmljZS13b3JrZXIuanMnKVxyXG4gICAgICAgICAgICAudGhlbihyZWdpc3RyYXRpb24gPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1NXIHJlZ2lzdGVyZWQ6ICcsIHJlZ2lzdHJhdGlvbik7XHJcbiAgICAgICAgICAgIH0pLmNhdGNoKHJlZ2lzdHJhdGlvbkVycm9yID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTVyByZWdpc3RyYXRpb24gZmFpbGVkOiAnLCByZWdpc3RyYXRpb25FcnJvcik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ==