!function(t){var e={};function i(s){if(e[s])return e[s].exports;var n=e[s]={i:s,l:!1,exports:{}};return t[s].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=3)}([function(t,e,i){t.exports=i.p+"ef12961f66786d579f3985c19fea303b.ogg"},function(t,e,i){t.exports=i.p+"4f3b71289b7ebbf613233710c9237407.png"},function(t,e){Array.prototype.firstOrDefault=function(t){for(const e of this)if(t(e))return e;return null},Array.prototype.first=function(t){for(const e of this)if(t(e))return e;throw console.log("item not found"),console.log(this),"item not found"},Array.prototype.getNext=function(t,e){var i=e(t)+1,s=this.firstOrDefault(t=>e(t)==i);return s||(s=this.first(t=>1==e(t))),s},Array.prototype.removeItem=function(t){var e=this.indexOf(t);if(-1==e)throw"item not found";this.splice(e,1)},Array.prototype.contains=function(t){return-1!==this.indexOf(t)},Array.prototype.removeItemIfExists=function(t){var e=this.indexOf(t);-1!=e&&this.splice(e,1)},Array.prototype.addItemIfNotExists=function(t){-1==this.indexOf(t)&&this.push(t)},Array.prototype.remove=function(t){this.removeItem(this.first(t))},Array.prototype.toList=function(){return this.filter(t=>!0)}},function(t,e,i){"use strict";i.r(e);class s{constructor(t,e,i,s){this.x=t,this.y=e,this.width=i,this.height=s,this.collidesWith=(t=>{var e=!1,i=!1;return this.x<=t.x?this.x<=t.x&&this.x+this.width>t.x&&(e=!0):t.x<=this.x&&t.x+t.width>this.x&&(e=!0),e&&(this.y<=t.y?this.y<=t.y&&this.y+this.width>t.y&&(i=!0):t.y<=this.y&&t.y+t.width>this.y&&(i=!0)),e&&i}),this.isHitBy=((t,e)=>t>this.x&&t<this.x+this.width&&e>this.y&&e<this.y+this.height)}}class n{constructor(t){this.canvas=t,this.canvasResized=(()=>{this.shouldUpdateLayout=!0}),this.mouseDown=(t=>{this.view&&this.view.mouseDown(t)}),this.mouseUp=(t=>{this.view&&this.view.mouseUp(t)}),this.mouseMove=(t=>{this.view&&this.view.mouseMove(t)}),this.click=(t=>{this.view&&this.view.click(t)}),this.render=((t,e,i)=>{this.view&&(this.shouldUpdateLayout&&(this.view.updateLayout(t,new s(0,0,e,i)),this.shouldUpdateLayout=!1),t.clearRect(0,0,e,i),this.view.render(t))}),this.setView=(t=>{this.view=t,this.shouldUpdateLayout=!0}),t.addDrawFunction(this.render),t.resized.addEventListener(this.canvasResized),document.addEventListener("mousedown",this.mouseDown),document.addEventListener("mouseup",this.mouseUp),document.addEventListener("mousemove",this.mouseMove),document.addEventListener("click",this.click)}}var a,r,h,o,d,u;!function(t){t[t.Left=0]="Left",t[t.Center=1]="Center",t[t.Right=2]="Right"}(a||(a={})),function(t){t[t.Top=0]="Top",t[t.Center=1]="Center",t[t.Bottom=2]="Bottom"}(r||(r={}));class l{constructor(){this.top=0,this.right=0,this.bottom=0,this.left=0}}class c{constructor(){this.horizontalAlign=a.Center,this.verticalAlign=r.Center,this.margin=new l,this.calculateDimensionsX=((t,e)=>{switch(this.horizontalAlign){case a.Left:return t.x+this.margin.left;case a.Center:return t.x+t.width/2-e/2;case a.Right:return t.x+t.width-e-this.margin.right}}),this.calculateDimensionsY=((t,e)=>{switch(this.verticalAlign){case r.Top:return t.y+this.margin.top;case r.Center:return t.y+t.height/2-e/2;case r.Bottom:return t.y+t.height-e-this.margin.bottom}})}}class m{constructor(){this.generateNewId=(()=>(m.idCounter++,m.idCounter)),this.bounds=new s(0,0,0,0),this.dimensions=new s(0,0,0,0),this.alignement=new c,this.shouldUpdateLayout=!1,this.triggerUpdateLayout=(()=>{this.shouldUpdateLayout=!0}),this.disableMouseEvents=(()=>{this.mouseDown=(()=>{}),this.mouseUp=(()=>{}),this.mouseMove=(()=>{}),this.click=(()=>{})}),this.id=this.generateNewId(),this.name="object "+this.id}render(t){this.shouldUpdateLayout&&(this.updateLayout(t,this.bounds),this.shouldUpdateLayout=!1)}updateLayout(t,e){this.bounds=e}}m.idCounter=0;class g extends m{constructor(){super(...arguments),this.children=[]}render(t){super.render(t);for(const e of this.children)e.render(t)}mouseDown(t){for(const e of this.children)e.mouseDown(t)}mouseUp(t){for(const e of this.children)e.mouseUp(t)}mouseMove(t){for(const e of this.children)e.mouseMove(t)}click(t){for(const e of this.children.toList())e.click(t)}}class p extends m{constructor(t){super(),this.star=t}mouseDown(t){}mouseUp(t){}render(t){t.fillStyle="white",t.beginPath(),t.arc(this.star.x,this.star.y,this.star.r,0,2*Math.PI),t.fill()}mouseMove(t){throw new Error("Method not implemented.")}click(t){throw new Error("Method not implemented.")}}!function(t){t[t.AddStarLayer=0]="AddStarLayer",t[t.RemoveStarLayer=1]="RemoveStarLayer",t[t.ChangeNumberOfStars=2]="ChangeNumberOfStars",t[t.ChangeSpeed=3]="ChangeSpeed",t[t.ChangeSizes=4]="ChangeSizes"}(h||(h={}));class y extends g{constructor(t){super(),this.starLayer=t,this.settingsUpdated=(t=>{switch(t){case h.ChangeNumberOfStars:this.updateNumberOfStars()}}),this.updateNumberOfStars=(()=>{this.triggerUpdateLayout()}),Z.settingManager.update.addEventListener(this.settingsUpdated),this.disableMouseEvents(),this.triggerUpdateLayout()}updateLayout(t,e){this.children=[];for(const t of this.starLayer.stars)this.children.push(new p(t))}mouseMove(t){}click(t){}}!function(t){t[t.hidden=0]="hidden",t[t.beforeVisible=1]="beforeVisible",t[t.visible=2]="visible"}(o||(o={}));class v{constructor(){this.state=o.hidden}}class f{constructor(){this.listeners=[],this.addEventListener=(t=>{if(!t||this.listeners.indexOf(t)>=0)throw"listener already added";this.listeners.push(t)}),this.addEventListenerIfNotExists=(t=>{!t||this.listeners.indexOf(t)>=0||this.listeners.push(t)}),this.dispatchEvent=(()=>{for(let t=0;t<this.listeners.length;t++){(0,this.listeners[t])()}}),this.removeEventListener=(t=>{if(!t||this.listeners.indexOf(t)<0)throw"listener not found";this.listeners.splice(this.listeners.indexOf(t),1)}),this.removeEventListenerIfExists=(t=>{!t||this.listeners.indexOf(t)<0||this.listeners.splice(this.listeners.indexOf(t),1)})}}class w{constructor(){this.listeners=[],this.addEventListener=(t=>{if(!t||this.listeners.indexOf(t)>=0)throw"listener already added";this.listeners.push(t)}),this.dispatchEvent=(t=>{for(let e=0;e<this.listeners.length;e++){(0,this.listeners[e])(t)}}),this.removeEventListener=(t=>{if(!t||this.listeners.indexOf(t)<0)throw"listener not found";this.listeners.splice(this.listeners.indexOf(t),1)})}}class L{constructor(){this.listeners=[],this.addEventListener=(t=>{if(!t||this.listeners.indexOf(t)>=0)throw"listener already added";this.listeners.push(t)}),this.dispatchEvent=((t,e)=>{for(let i=0;i<this.listeners.length;i++){(0,this.listeners[i])(t,e)}}),this.removeEventListener=(t=>{if(!t||this.listeners.indexOf(t)<0)throw"listener not found";this.listeners.splice(this.listeners.indexOf(t),1)})}}class x{constructor(){this.drawFunctions=[],this.dprScalingEnabled=!0,this.enableDprScaling=(()=>{this.dprScalingEnabled=!0,this.resize()}),this.disableDprScaling=(()=>{this.dprScalingEnabled=!1,this.resize()}),this.resized=new f,this.resize=(()=>{var t=this.dprScalingEnabled&&window.devicePixelRatio||1;this.canvas.width=this.canvas.clientWidth*t,this.canvas.height=this.canvas.clientHeight*t,1!=t&&this.ctx.scale(t,t),this.resized.dispatchEvent()}),this.draw=(()=>{for(const t of this.drawFunctions)t(this.ctx,this.width,this.height)}),this.addDrawFunction=(t=>{this.drawFunctions.push(t)}),this.removeDrawFunction=(t=>{this.drawFunctions.splice(this.drawFunctions.indexOf(t),1)})}get width(){return this.canvas.clientWidth}get height(){return this.canvas.clientHeight}static createFullScreen(){document.body.parentElement.style.height="100%",document.body.style.height="100%",document.body.style.margin="0",document.body.style.overflow="hidden";var t=document.createElement("canvas");document.body.appendChild(t),t.style.width="100%",t.style.height="100%";var e=new x;return e.canvas=t,e.ctx=t.getContext("2d"),window.addEventListener("resize",e.resize),e.resize(),e}}x.cursorLock=null,x.SetCursor=((t,e)=>{e?(document.body.style.cursor="pointer",x.cursorLock=t):t==x.cursorLock&&(document.body.style.cursor="default",x.cursorLock=null)});class S extends m{constructor(){super(...arguments),this.isMouseOver=!1,this.isEnabled=!0,this.clicked=new w,this.click=(t=>{this.isEnabled&&this.dimensions.isHitBy(t.clientX,t.clientY)&&this.clicked.dispatchEvent(this)})}mouseMove(t){this.isEnabled&&(this.dimensions.isHitBy(t.clientX,t.clientY)?(this.isMouseOver=!0,x.SetCursor(this.name,!0)):(this.isMouseOver=!1,x.SetCursor(this.name,!1)))}mouseDown(t){}mouseUp(t){}}class b{constructor(){this.fontSize=40,this.fontPrefix="",this.fontFamily="fontawesome",this.fillStyle="blue",this.mouseOverFillStyle="red",this.backgroundFillStyle=void 0,this.getFont=(()=>{var t="";return this.fontPrefix&&(t+=this.fontPrefix+" "),t+=this.fontSize+"px "+this.fontFamily})}}class V extends S{constructor(){super(...arguments),this.properties=new b,this.render=(t=>{this.properties.backgroundFillStyle&&(t.fillStyle=this.properties.backgroundFillStyle,t.fillRect(this.dimensions.x,this.dimensions.y,this.dimensions.width,this.dimensions.height)),this.isMouseOver?t.fillStyle=this.properties.mouseOverFillStyle:t.fillStyle=this.properties.fillStyle,t.font=this.properties.getFont(),t.textAlign="left",t.textBaseline="top",t.fillText(this.text,this.dimensions.x,this.dimensions.y)}),this.updateLayout=((t,e)=>{super.updateLayout(t,e),t.font=this.properties.getFont(),t.textAlign="left",t.textBaseline="top";var i=t.measureText(this.text),n=this.alignement.calculateDimensionsX(e,i.width),a=this.alignement.calculateDimensionsY(e,this.properties.fontSize);this.dimensions=new s(n,a,i.width,this.properties.fontSize)})}}!function(t){t[t.Horizontal=0]="Horizontal",t[t.Vertical=1]="Vertical"}(d||(d={}));class C{constructor(){this.itemSpacing=30,this.orientation=d.Vertical}}class E extends g{constructor(){super(...arguments),this.properties=new C,this.addItem=(t=>{t.alignement.horizontalAlign=a.Left,t.alignement.verticalAlign=r.Top,this.children.push(t),this.triggerUpdateLayout()}),this.removeItem=(t=>{this.children.removeItem(t),this.triggerUpdateLayout()})}updateLayout(t,e){super.updateLayout(t,e);var i=this.alignement.calculateDimensionsX(e,this.dimensions.width),n=this.alignement.calculateDimensionsY(e,this.dimensions.height),a=0,r=0;if(this.properties.orientation==d.Vertical)for(let e=0;e<this.children.length;e++){const h=this.children[e];e>0&&(n+=this.properties.itemSpacing,r+=this.properties.itemSpacing),h.updateLayout(t,new s(i,n,0,0)),n+=h.dimensions.height,r+=h.dimensions.height,a=Math.max(a,h.dimensions.width)}else for(let e=0;e<this.children.length;e++){const h=this.children[e];e>0&&(i+=this.properties.itemSpacing,a+=this.properties.itemSpacing),h.updateLayout(t,new s(i,n,0,0)),i+=h.dimensions.width,a+=h.dimensions.width,r=Math.max(r,h.dimensions.height)}this.dimensions.x==i&&this.dimensions.y==n&&this.dimensions.width==a&&this.dimensions.height==r||(this.dimensions.x=i,this.dimensions.y=n,this.dimensions.height=r,this.dimensions.width=a,this.updateLayout(t,e))}}class I extends S{constructor(){super(),this.radius=10,this.minValue=0,this.maxValue=100,this.currentValue=50,this.valueChanged=new w,this.updateLayout=((t,e)=>{super.updateLayout(t,e),this.dimensions=new s(e.x,e.y,200,2*this.radius)}),this.mouseDown=(t=>{this.dimensions.isHitBy(t.clientX,t.clientY)&&(this.isDragging=!0,this.updateCurrentValue(t))}),this.mouseUp=(t=>{this.isDragging=!1})}render(t){var e=this.dimensions.x,i=this.dimensions.y;t.strokeStyle="white",t.lineWidth=2,t.beginPath(),t.moveTo(e+this.radius,i+this.dimensions.height/2),t.lineTo(e+this.dimensions.width-this.radius,i+this.dimensions.height/2),t.stroke();var s=(this.currentValue-this.minValue)/(this.maxValue-this.minValue);t.fillStyle="blue",t.beginPath(),t.arc(e+this.radius+(this.dimensions.width-2*this.radius)*s,i+this.dimensions.height/2,this.radius,0,2*Math.PI),t.closePath(),t.fill()}mouseMove(t){super.mouseMove(t),this.isDragging&&this.updateCurrentValue(t)}updateCurrentValue(t){var e=t.clientX-this.dimensions.x-this.radius;(e=e/(this.dimensions.width-2*this.radius)*(this.maxValue-this.minValue)+this.minValue)>this.maxValue&&(e=this.maxValue),e<this.minValue&&(e=this.minValue),this.currentValue=e,this.valueChanged.dispatchEvent(this.currentValue)}}class M extends S{constructor(){super(),this.radius=10,this.minValue=0,this.maxValue=100,this.currentValueLow=25,this.currentValueHigh=75,this.minDiff=.1,this.valuesChanged=new L,this.updateLayout=((t,e)=>{super.updateLayout(t,e),this.dimensions=new s(e.x,e.y,200,2*this.radius)}),this.mouseDown=(t=>{if(this.dimensions.isHitBy(t.clientX,t.clientY)){var e=this.getClickedValue(t),i=Math.abs(this.currentValueLow-e),s=Math.abs(this.currentValueHigh-e);i==s?e<this.currentValueLow?this.isDraggingLow=!0:this.isDraggingHigh=!0:i>s?this.isDraggingHigh=!0:this.isDraggingLow=!0,this.updateCurrentValues(t)}}),this.mouseUp=(t=>{this.isDraggingHigh=!1,this.isDraggingLow=!1})}render(t){var e=this.dimensions.x,i=this.dimensions.y;t.strokeStyle="white",t.lineWidth=2,t.beginPath(),t.moveTo(e+this.radius,i+this.dimensions.height/2),t.lineTo(e+this.dimensions.width-this.radius,i+this.dimensions.height/2),t.stroke(),t.fillStyle="blue";var s=i+this.dimensions.height/2,n=(this.currentValueLow-this.minValue)/(this.maxValue-this.minValue),a=e+this.radius+(this.dimensions.width-2*this.radius)*n,r=(this.currentValueHigh-this.minValue)/(this.maxValue-this.minValue),h=e+this.radius+(this.dimensions.width-2*this.radius)*r;t.strokeStyle="blue",t.lineWidth=2,t.beginPath(),t.moveTo(a,s),t.lineTo(h,s),t.stroke(),t.beginPath(),t.arc(a,s,this.radius,0,2*Math.PI),t.closePath(),t.fill(),t.beginPath(),t.arc(h,s,this.radius,0,2*Math.PI),t.closePath(),t.fill()}mouseMove(t){super.mouseMove(t),(this.isDraggingHigh||this.isDraggingLow)&&this.updateCurrentValues(t)}updateCurrentValues(t){var e=this.getClickedValue(t);this.isDraggingLow?e>this.currentValueHigh-this.minDiff&&(e=this.currentValueHigh-this.minDiff):e<this.currentValueLow+this.minDiff&&(e=this.currentValueLow+this.minDiff),this.isDraggingLow?this.currentValueLow=e:this.currentValueHigh=e,this.valuesChanged.dispatchEvent(this.currentValueLow,this.currentValueHigh)}getClickedValue(t){var e=t.clientX-this.dimensions.x-this.radius;return(e=e/(this.dimensions.width-2*this.radius)*(this.maxValue-this.minValue)+this.minValue)>this.maxValue&&(e=this.maxValue),e<this.minValue&&(e=this.minValue),e}}class A extends g{constructor(t){super(),this.starLayer=t,this.numberOfStarsChanged=(t=>{Z.settingManager.changeNumberOfStars(this.starLayer,Math.round(t))}),this.speedChanged=(t=>{Z.settingManager.changeSpeed(this.starLayer,t)}),this.sizesChanged=((t,e)=>{Z.settingManager.changeSizes(this.starLayer,t,e)}),this.settingsList=new E,this.settingsList.alignement.horizontalAlign=a.Left,this.settingsList.alignement.verticalAlign=r.Top;var e=new V;e.text="Remove Layer",e.properties.fillStyle="white",this.settingsList.addItem(e),this.children.push(e),e.clicked.addEventListener(t=>{Z.settingManager.removeStarLayer(this.starLayer)});var i=new I;i.minValue=10,i.maxValue=1e3,i.currentValue=t.stars.length,this.children.push(i),this.settingsList.addItem(i),i.valueChanged.addEventListener(this.numberOfStarsChanged);var s=new I;s.minValue=0,s.maxValue=30,s.currentValue=t.speed,this.children.push(s),this.settingsList.addItem(s),s.valueChanged.addEventListener(this.speedChanged);var n=new M,h=this.starLayer.stars.map(t=>t.r);n.minValue=.01,n.maxValue=5,n.currentValueLow=Math.min(...h),n.currentValueHigh=Math.max(...h),this.children.push(n),this.settingsList.addItem(n),n.valuesChanged.addEventListener(this.sizesChanged)}updateLayout(t,e){this.settingsList.updateLayout(t,new s(e.x,e.y,0,0))}}class F extends g{constructor(){super(),this.viewModel=new v,this.lastMoved=Date.now(),this.inactivityTimeout=2e3,this.layerButtons=[],this.settingsUpdated=(t=>{switch(t){case h.AddStarLayer:for(const t of Z.settings.starLayers)if(!this.layerButtons.map(t=>t.tag).contains(t)){this.settingsList.removeItem(this.addLayerBtn);var e=new V;e.text="Edit Layer",e.tag=t,e.properties.fillStyle="white",this.settingsList.addItem(e),this.layerButtons.push(e),e.clicked.addEventListener(e=>{this.toggleShowHideStarLayerView(t)}),this.settingsList.addItem(this.addLayerBtn);break}break;case h.RemoveStarLayer:for(const t of this.layerButtons)if(!Z.settings.starLayers.contains(t.tag)){this.settingsList.removeItem(t),this.layerButtons.removeItem(t);break}this.children.removeItem(this.detailedStarLayerView),this.detailedStarLayerView=void 0}}),this.toggleShowHideStarLayerView=(t=>{if(this.detailedStarLayerView)if(this.detailedStarLayerView.starLayer!=t){this.children.removeItem(this.detailedStarLayerView),this.detailedStarLayerView=void 0;e=new A(t);this.detailedStarLayerView=e,this.children.push(this.detailedStarLayerView),this.triggerUpdateLayout()}else this.children.removeItem(this.detailedStarLayerView),this.detailedStarLayerView=void 0;else{var e=new A(t);this.detailedStarLayerView=e,this.children.push(this.detailedStarLayerView),this.triggerUpdateLayout()}}),this.showHideOverlayClicked=(t=>{this.viewModel.state==o.visible?this.setState(o.beforeVisible):this.setState(o.visible)}),this.mouseMove=(t=>{this.viewModel.state!=o.hidden&&this.viewModel.state!=o.beforeVisible||this.setState(o.beforeVisible),super.mouseMove(t)}),this.mouseInactivityHandler=(()=>{Date.now()-this.lastMoved>=this.inactivityTimeout?this.viewModel.state==o.beforeVisible&&this.setState(o.hidden):setTimeout(this.mouseInactivityHandler,this.inactivityTimeout-(Date.now()-this.lastMoved))}),this.setState=(t=>{switch(t){case o.hidden:this.children.removeItem(this.showOverLayerButton),this.viewModel.state=o.hidden;break;case o.beforeVisible:this.lastMoved=Date.now(),this.viewModel.state==o.hidden&&(setTimeout(this.mouseInactivityHandler,this.inactivityTimeout),this.children.addItemIfNotExists(this.showOverLayerButton)),this.viewModel.state==o.visible&&(setTimeout(this.mouseInactivityHandler,this.inactivityTimeout),this.children.removeItemIfExists(this.settingsList),this.children.removeItemIfExists(this.detailedStarLayerView),this.detailedStarLayerView=void 0),this.viewModel.state=o.beforeVisible;break;case o.visible:this.viewModel.state==o.beforeVisible&&this.children.push(this.settingsList),this.viewModel.state=o.visible}}),this.showOverLayerButton=new V,this.showOverLayerButton.text="Show/Hide Settings",this.showOverLayerButton.properties.fillStyle="green",this.showOverLayerButton.alignement.verticalAlign=r.Top,this.showOverLayerButton.alignement.horizontalAlign=a.Left,this.showOverLayerButton.clicked.addEventListener(this.showHideOverlayClicked),this.showOverLayerButton.properties.backgroundFillStyle="rgba(0, 0, 0, 0.5)",this.children.push(this.showOverLayerButton),this.settingsList=new E,this.settingsList.alignement.horizontalAlign=a.Left,this.settingsList.alignement.verticalAlign=r.Top;var t=new V;t.text="Add Layer",t.properties.fillStyle="white",this.settingsList.addItem(t),t.clicked.addEventListener(t=>{Z.settingManager.addStarLayer()}),this.addLayerBtn=t,Z.settingManager.update.addEventListener(this.settingsUpdated)}updateLayout(t,e){super.updateLayout(t,e),this.showOverLayerButton.updateLayout(t,e);var i=2*this.showOverLayerButton.dimensions.height;this.settingsList.updateLayout(t,new s(e.x,e.y+i,e.width,e.height-i)),this.detailedStarLayerView&&this.detailedStarLayerView.updateLayout(t,new s(e.x+this.settingsList.dimensions.width,e.y+i,e.width,e.height-i))}}class O{constructor(t){this.starLayer=t,this.update=(t=>{for(const e of this.starLayer.stars)e.x+=this.starLayer.speed*t,e.x>Z.settings.width&&(e.x-=Z.settings.width)})}}class k{}k.instances={},k.addInstance=((t,e)=>{k.instances[t]=e}),k.getInstance=(t=>k.instances[t]);class D extends g{constructor(){super(),this.playIconText="",this.pauseIconText="",this.stopIconText="",this.nextIconText="",this.previousIconText="";var t=k.getInstance("audio"),e=new E;e.alignement.verticalAlign=r.Bottom,e.alignement.margin.bottom=10,e.properties.orientation=d.Horizontal,this.children.push(e);var i=new V;i.properties.fontPrefix="900",i.properties.fontFamily="'Font Awesome 5 Free'",i.text=this.playIconText,i.clicked.addEventListener(()=>{i.text==this.playIconText?(t.play(),i.text=this.pauseIconText):(t.pause(),i.text=this.playIconText)}),e.addItem(i);var s=new V;s.properties.fontPrefix="900",s.properties.fontFamily="'Font Awesome 5 Free'",s.text=this.stopIconText,s.clicked.addEventListener(()=>{t.stop(),i.text==this.pauseIconText&&(i.text=this.playIconText)}),e.addItem(s);var n=new V;n.properties.fontPrefix="900",n.properties.fontFamily="'Font Awesome 5 Free'",n.text=this.previousIconText,n.clicked.addEventListener(()=>{t.previous()}),e.addItem(n);var a=new V;a.properties.fontPrefix="900",a.properties.fontFamily="'Font Awesome 5 Free'",a.text=this.nextIconText,a.clicked.addEventListener(()=>{t.next()}),e.addItem(a)}updateLayout(t,e){super.updateLayout(t,e);for(const e of this.children)e.updateLayout(t,this.bounds)}}!function(t){t[t.FitAndOverfill=0]="FitAndOverfill",t[t.FitAndSpace=1]="FitAndSpace"}(u||(u={}));class T{constructor(){this.imageScalingMode=u.FitAndSpace,this.scale=1}}class P extends S{constructor(t){super(),this.properties=new T,this.render=(t=>{super.render(t),t.drawImage(this.image,this.dimensions.x,this.dimensions.y,this.dimensions.width,this.dimensions.height),this.isMouseOver&&this.isEnabled&&(t.fillStyle="rgba(255,255,255,0.5)",t.fillRect(this.dimensions.x,this.dimensions.y,this.dimensions.width,this.dimensions.height))}),this.image=t}updateLayout(t,e){super.updateLayout(t,e);var i=1,s=this.image.naturalWidth/this.image.naturalHeight>e.width/e.height;switch(this.properties.imageScalingMode){case u.FitAndOverfill:i=s?e.height/this.image.height:e.width/this.image.width;break;case u.FitAndSpace:i=s?e.width/this.image.width:e.height/this.image.height}var n=this.image.naturalWidth*i,a=this.image.naturalHeight*i;this.dimensions.x=this.alignement.calculateDimensionsX(e,n),this.dimensions.y=this.alignement.calculateDimensionsY(e,n),this.dimensions.width=n,this.dimensions.height=a}}P.createFromUrl=(t=>new Promise((e,i)=>{var s=new Image;s.src=t,s.onload=(()=>{e(new P(s))})}));class U extends g{constructor(){super();var t=k.getInstance("assets").getImage("background"),e=new P(t);e.disableMouseEvents(),e.properties.imageScalingMode=u.FitAndOverfill,this.children.push(e)}updateLayout(t,e){super.updateLayout(t,e);for(const i of this.children)i.updateLayout(t,e)}}class N extends g{constructor(){super(),this.starLayers=[],this.starAnimators=[],this.appSettingsUpdated=(t=>{switch(t){case h.AddStarLayer:this.addStarLayer();break;case h.RemoveStarLayer:this.removeStarLayer()}}),this.addStarLayer=(()=>{for(const i of Z.settings.starLayers)if(null==this.starLayers.firstOrDefault(t=>t.starLayer==i)){var t=new y(i);this.starLayers.push(t),this.children.splice(1,0,t),this.triggerUpdateLayout();var e=new O(i);this.animation.addUpdateFunction(e.update),this.starAnimators.push(e);break}}),this.removeStarLayer=(()=>{for(const e of this.starLayers)if(null==Z.settings.starLayers.firstOrDefault(t=>t==e.starLayer)){var t=this.starAnimators.first(t=>t.starLayer==e.starLayer);this.animation.removeUpdateFunction(t.update),this.starAnimators.removeItem(t),this.children.remove(t=>t==e),this.starLayers.remove(t=>t==e),this.triggerUpdateLayout()}}),this.animation=k.getInstance("animation"),this.settingsOverlay=new F,this.playerView=new D,this.children.push(new U),this.children.push(this.playerView),this.children.push(this.settingsOverlay),Z.settingManager.update.addEventListener(this.appSettingsUpdated)}updateLayout(t,e){super.updateLayout(t,e);for(const i of this.children)i.updateLayout(t,e)}}class B{constructor(){this.stars=[],this.speed=20*Math.random()+5}}class H{constructor(){this.updateFunctions=[],this.isRunning=!1,this.addUpdateFunction=(t=>{this.updateFunctions.push(t)}),this.removeUpdateFunction=(t=>{this.updateFunctions.splice(this.updateFunctions.indexOf(t),1)}),this.setFps=(t=>{this.fps=t,this.fpsInterval=1e3/this.fps}),this.animationLoop=(()=>{this.isRunning&&requestAnimationFrame(this.animationLoop);var t=Date.now(),e=t-this.lastFrameTime;if(e>this.fpsInterval){this.lastFrameTime=t;var i=e/1e3;for(const t of this.updateFunctions)t(i)}}),this.setFps(30),this.play(),document.addEventListener("keyup",t=>{80==t.keyCode&&this.playPause()})}play(){this.isRunning||(this.isRunning=!0,this.lastFrameTime=Date.now(),this.animationLoop())}pause(){this.isRunning&&(this.isRunning=!1)}playPause(){this.isRunning?this.pause():this.play()}}class z{constructor(){this.loadFontawesomeFree=(()=>this.loadFont("","","900 20px 'Font Awesome 5 Free'")),this.loadFontawesomeBrands=(()=>this.loadFont("","","400 20px 'Font Awesome 5 Brands'")),this.countPixels=(t=>{var e=0;for(let r=0;r<t.data.length;r+=4){var i=t.data[r],s=t.data[r+1],n=t.data[r+2],a=t.data[r+3];i<50&&s<50&&n<50&&a>.9&&e++}return e}),this.getIconPixels=((t,e,i)=>{t.clearRect(0,0,e.width,e.height),t.fillText(i,0,0);var s=t.getImageData(0,0,e.width,e.height);return this.countPixels(s)}),this.loadFont=((t,e,i)=>{var s=10;return new Promise((n,a)=>{console.log('loading font "'+i+'"');var r=document.createElement("canvas");r.width=20,r.height=20;var h=r.getContext("2d");h.font=i,h.fillStyle="black",h.textAlign="left",h.textBaseline="top";var o=()=>{var a=this.getIconPixels(h,r,t),d=this.getIconPixels(h,r,e);Math.abs(d-a)>5?(console.log('loaded font "'+i+'"'),n()):0==--s?console.log("stop loading font after "+s+" retries with 500ms delay"):setTimeout(()=>{o()},500)};o()})})}}class R{constructor(t,e){this.name=t,this.audioCtx=e}}class W extends R{constructor(){super(...arguments),this.getAudioNode=(()=>this.analyserNode)}reload(){return new Promise((t,e)=>{this.analyserNode||(this.analyserNode=this.audioCtx.createAnalyser()),this.analyserNode.fftSize=32,this.analyserNode.smoothingTimeConstant=.9,this.bufferLength=this.analyserNode.frequencyBinCount,this.dataArray=new Uint8Array(this.bufferLength),t()})}getSpectrum(){return this.analyserNode?(this.analyserNode.getByteFrequencyData(this.dataArray),this.dataArray):new Uint8Array(0)}getWave(){return this.analyserNode?(this.analyserNode.getByteTimeDomainData(this.dataArray),this.dataArray):new Uint8Array(0)}}class X extends R{constructor(){super(...arguments),this.getAudioNode=(()=>this.audioCtx.destination)}reload(){}}class j extends R{constructor(t,e,i){super(t,e),this.audioEnded=new f,this.audioEndedEvent=(()=>{this.audioEnded.dispatchEvent()}),this.getAudioNode=(()=>this.source),this.play=(()=>{this.audio.play()}),this.pause=(()=>{this.audio.pause()}),this.stop=(()=>{this.audio.pause(),this.audio.currentTime=0}),this.setUrl=(t=>{var e=!this.audio.paused;this.url=t,this.audio.src=t,this.audio.load(),e&&this.audio.play()}),this.url=i,this.audio=document.createElement("audio"),this.audio.controls=!0,this.audio.src=this.url,this.audio.addEventListener("ended",this.audioEndedEvent)}reload(){return new Promise((t,e)=>{this.source||(this.source=this.audioCtx.createMediaElementSource(this.audio)),t()})}}class Y{constructor(){this.audioNodes=[],this.addMediaElementSource=((t,e)=>{var i=new j(t,this.audioCtx,e);return this.audioNodes.push(i),i}),this.addAnalyzer=(t=>{var e=new W(t,this.audioCtx);return this.audioNodes.push(e),e}),this.getAudioGraphNode=(t=>this.audioNodes.first(e=>e.name==t)),this.audioContextStateChanged=new w,this.documentClick=(()=>{"suspended"===this.audioCtx.state&&(this.audioCtx.resume(),document.removeEventListener("click",this.documentClick))}),this.audioContextStateChangedEvaluator=(()=>{"running"===this.audioCtx.state&&(console.log("audio context state changed"),this.audioCtx.removeEventListener("statechange",this.audioContextStateChangedEvaluator),this.reload().then(()=>{this.audioContextStateChanged.dispatchEvent(this.audioCtx.state)}))}),this.reload=(()=>new Promise((t,e)=>{console.log("realoading audio graph"),Promise.all(this.audioNodes.map(t=>t.reload())).then(()=>{console.log("reloaded audio graph");for(let t=0;t<this.audioNodes.length;t++){const e=this.audioNodes[t];e.getAudioNode().disconnect(),t<this.audioNodes.length-1?e.getAudioNode().connect(this.audioNodes[t+1].getAudioNode()):e.getAudioNode().connect(this.destinationNode.getAudioNode())}t()})})),this.audioCtx=new AudioContext,this.audioCtx.addEventListener("statechange",this.audioContextStateChangedEvaluator),"suspended"===this.audioCtx.state&&(document.addEventListener("click",this.documentClick),console.log("Audio context is suspended. Click the dom to make it running.")),this.destinationNode=new X("destination",this.audioCtx)}}var _=i(0),G=i.n(_);class q{constructor(){this.songs=[G.a,G.a,G.a,G.a,G.a,G.a,G.a],this.reload=(()=>this.audioGraph.reload()),this.play=(()=>{this.source.play()}),this.pause=(()=>{this.source.pause()}),this.next=(()=>{var t=this.songs.indexOf(this.source.url)+1;t==this.songs.length&&(t=0),this.source.setUrl(this.songs[t])}),this.previous=(()=>{var t=this.songs.indexOf(this.source.url)-1;-1==t&&(t=this.songs.length-1),this.source.setUrl(this.songs[t])}),this.stop=(()=>{this.source.stop()}),this.audioGraph=new Y,this.source=this.audioGraph.addMediaElementSource("source",this.songs[0]),this.analyser=this.audioGraph.addAnalyzer("analyser")}}class J{constructor(){this.imageAssets=[],this.addImage=((t,e)=>{this.imageAssets.push({name:t,url:e,image:void 0})}),this.getImage=(t=>{var e=this.imageAssets.firstOrDefault(e=>e.name==t);return e?e.image:void 0}),this.load=(()=>Promise.all(this.imageAssets.map(t=>new Promise((e,i)=>{if(t.image)e();else{var s=new Image;s.src=t.url,s.onload=(()=>{t.image=s,e()})}}))))}}var K=i(1),Q=i.n(K);class Z{constructor(){this.run=(()=>{document.body.style.backgroundColor="black",console.log("loading app"),Promise.all([(new z).loadFontawesomeFree(),new Promise((t,e)=>{var i=new q;i.reload(),k.addInstance("audio",i),t()}),new Promise((t,e)=>{var i=x.createFullScreen(),s=new n(i),a=new H;a.addUpdateFunction(i.draw),k.addInstance("canvas",i),k.addInstance("stage",s),k.addInstance("animation",a),t()}),new Promise((t,e)=>{var i=new J;k.addInstance("assets",i),i.addImage("background",Q.a),i.load().then(()=>{t()})})]).then(()=>{console.log("loaded app");var t=k.getInstance("stage"),e=new N;t.setView(e),Z.settingManager.addStarLayer(),Z.settingManager.addStarLayer()})})}}Z.settings=new class{constructor(t,e){this.width=t,this.height=e,this.starLayers=[]}}(window.innerWidth,window.innerHeight),Z.settingManager=new class{constructor(){this.update=new w,this.addStarLayer=(()=>{var t=new B;for(let e=0;e<100;e++)t.stars.push({x:Math.random()*Z.settings.width,y:Math.random()*Z.settings.height,r:2*Math.random()+.05});Z.settings.starLayers.push(t),this.update.dispatchEvent(h.AddStarLayer)}),this.removeStarLayer=(t=>{Z.settings.starLayers.removeItem(t),this.update.dispatchEvent(h.RemoveStarLayer)}),this.changeNumberOfStars=((t,e)=>{if(e>0){var i=e-t.stars.length;if(i>0)for(let e=0;e<i;e++)t.stars.push({x:Math.random()*Z.settings.width,y:Math.random()*Z.settings.height,r:2*Math.random()+.05});else if(i<0)for(let e=0;e<-i;e++)t.stars.splice(Math.floor(Math.random()*t.stars.length),1);this.update.dispatchEvent(h.ChangeNumberOfStars)}}),this.changeSpeed=((t,e)=>{t.speed=e,this.update.dispatchEvent(h.ChangeSpeed)}),this.changeSizes=((t,e,i)=>{var s=t.stars.map(t=>t.r),n=Math.min(...s),a=Math.max(...s)-n;a<=0&&(a=1e-4);for(const s of t.stars)s.r=(s.r-n)/a*(i-e)+e;console.log(t.stars[0].r),this.update.dispatchEvent(h.ChangeSpeed)})}};i(2);document.addEventListener("DOMContentLoaded",function(){(new Z).run()},!1)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9UcmFpbGVyX0NvbnN0ZWxsYXRpb24ub2dnIiwid2VicGFjazovLy8uL3NyYy9hc3NldHMvYmFja2dyb3VuZC5wbmciLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy9leHRlbnNpb25zLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvZ2VvbWV0cnkvcmVjdGFuZ2xlLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvc3RhZ2UudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9hbGlnbmVtZW50L2hvcml6b250YWxBbGlnbmVtZW50T3B0aW9uLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvYWxpZ25lbWVudC92ZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NldHRpbmdzL3NldHRpbmdPcGVyYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXcvb3ZlcmxheS9zZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvb3JpZW50YXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9jb250cm9scy9pbWFnZVNjYWxpbmdNb2RlLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvYWxpZ25lbWVudC9zcGFjaW5nLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvYWxpZ25lbWVudC9hbGlnbmVtZW50LnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvcmVuZGVyT2JqZWN0LnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGF5b3V0Vmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy9zdGFyUmVuZGVyT2JqZWN0LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3L3N0YXJMYXllckRyYXdlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy9vdmVybGF5L3NldHRpbmdzT3ZlcmxheVZpZXdNb2RlbC50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL2VFdmVudC50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2VDYW52YXMudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9jb250cm9scy9jb250cm9sLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvY29udHJvbHMvYnV0dG9uUHJvcGVydGllcy50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2J1dHRvbi50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xpc3RWaWV3UHJvcGVydGllcy50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xpc3RWaWV3LnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvY29udHJvbHMvc2xpZGVyLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvdWkvY29udHJvbHMvcmFuZ2VTbGlkZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXcvb3ZlcmxheS9zdGFyTGF5ZXJWaWV3LnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3L292ZXJsYXkvc2V0dGluZ3NPdmVybGF5Vmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdmlldy9zdGFyTGF5ZXJBbmltYXRvci50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL2RpbmplY3QudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXcvcGxheWVyVmlldy50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2ltYWdlUHJvcGVydGllcy50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2ltYWdlLnRzIiwid2VicGFjazovLy8uL3NyYy92aWV3L2JhY2tncm91bmRJbWFnZVZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3ZpZXcvaW5zcGllcnR5UGxheWVyVmlldy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvbW9kZWxzL3N0YXJMYXllci50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL2VBbmltYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy91aS9jYW52YXNIZWxwZXIudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy9hdWRpby9hdWRpb0dyYXBoTm9kZS50cyIsIndlYnBhY2s6Ly8vLi9lbmMvc3JjL2F1ZGlvL2F1ZGlvR3JhcGhOb2RlQW5hbHlzZXIudHMiLCJ3ZWJwYWNrOi8vLy4vZW5jL3NyYy9hdWRpby9hdWRpb0dyYXBoTm9kZURlc3RpbmF0aW9uLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvYXVkaW8vYXVkaW9HcmFwaE5vZGVFbGVtZW50U291cmNlLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvYXVkaW8vYXVkaW9HcmFwaC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXVkaW9NYW5hZ2VyLnRzIiwid2VicGFjazovLy8uL2VuYy9zcmMvYXNzZXRNYW5hZ2VyLnRzIiwid2VicGFjazovLy8uL3NyYy9hcHAudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21vZGVscy9zZXR0aW5ncy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2V0dGluZ3Mvc2V0dGluZ3NNYW5hZ2VyLnRzIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIkFycmF5IiwiZmlyc3RPckRlZmF1bHQiLCJmdW5jIiwiYXJyYXlJdGVtIiwidGhpcyIsImZpcnN0IiwiY29uc29sZSIsImxvZyIsImdldE5leHQiLCJjdXJyZW50Iiwic2VsZWN0b3IiLCJuZXh0UG9zaXRpb24iLCJuZXh0IiwieCIsInJlbW92ZUl0ZW0iLCJpdGVtIiwiaW5kZXgiLCJpbmRleE9mIiwic3BsaWNlIiwiY29udGFpbnMiLCJyZW1vdmVJdGVtSWZFeGlzdHMiLCJhZGRJdGVtSWZOb3RFeGlzdHMiLCJwdXNoIiwicmVtb3ZlIiwidG9MaXN0IiwiZmlsdGVyIiwiUmVjdGFuZ2xlIiwiW29iamVjdCBPYmplY3RdIiwieSIsIndpZHRoIiwiaGVpZ2h0IiwiY29sbGlkZXNXaXRoIiwicmVjdGFuZ2xlIiwiaGl0eCIsImhpdHkiLCJpc0hpdEJ5Iiwic3RhZ2VfU3RhZ2UiLCJjYW52YXMiLCJjYW52YXNSZXNpemVkIiwic2hvdWxkVXBkYXRlTGF5b3V0IiwibW91c2VEb3duIiwiZXYiLCJ2aWV3IiwibW91c2VVcCIsIm1vdXNlTW92ZSIsImNsaWNrIiwicmVuZGVyIiwiY3R4IiwidXBkYXRlTGF5b3V0IiwiY2xlYXJSZWN0Iiwic2V0VmlldyIsImFkZERyYXdGdW5jdGlvbiIsInJlc2l6ZWQiLCJhZGRFdmVudExpc3RlbmVyIiwiZG9jdW1lbnQiLCJIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbiIsIlZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbiIsIlNldHRpbmdPcGVyYXRpb24iLCJTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZSIsIk9yaWVudGF0aW9uIiwiSW1hZ2VTY2FsaW5nTW9kZSIsIlNwYWNpbmciLCJ0b3AiLCJyaWdodCIsImJvdHRvbSIsImxlZnQiLCJhbGlnbmVtZW50X0FsaWduZW1lbnQiLCJob3Jpem9udGFsQWxpZ24iLCJDZW50ZXIiLCJ2ZXJ0aWNhbEFsaWduIiwibWFyZ2luIiwiY2FsY3VsYXRlRGltZW5zaW9uc1giLCJib3VuZHMiLCJMZWZ0IiwiUmlnaHQiLCJjYWxjdWxhdGVEaW1lbnNpb25zWSIsIlRvcCIsIkJvdHRvbSIsInJlbmRlck9iamVjdF9SZW5kZXJPYmplY3QiLCJnZW5lcmF0ZU5ld0lkIiwiaWRDb3VudGVyIiwiZGltZW5zaW9ucyIsImFsaWduZW1lbnQiLCJ0cmlnZ2VyVXBkYXRlTGF5b3V0IiwiZGlzYWJsZU1vdXNlRXZlbnRzIiwiaWQiLCJsYXlvdXRWaWV3X0xheW91dFZpZXciLCJjaGlsZHJlbiIsInN1cGVyIiwiY2hpbGQiLCJzdGFyUmVuZGVyT2JqZWN0X1N0YXJSZW5kZXJPYmplY3QiLCJzdGFyIiwiZmlsbFN0eWxlIiwiYmVnaW5QYXRoIiwiYXJjIiwiTWF0aCIsIlBJIiwiZmlsbCIsIkVycm9yIiwic3RhckxheWVyRHJhd2VyX1N0YXJMYXllckRyYXdlciIsInN0YXJMYXllciIsInNldHRpbmdzVXBkYXRlZCIsIm9wZXJhdGlvbiIsIkNoYW5nZU51bWJlck9mU3RhcnMiLCJ1cGRhdGVOdW1iZXJPZlN0YXJzIiwiYXBwX0FwcCIsInNldHRpbmdNYW5hZ2VyIiwidXBkYXRlIiwic3RhcnMiLCJzZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxfU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsIiwic3RhdGUiLCJoaWRkZW4iLCJFRXZlbnQiLCJsaXN0ZW5lcnMiLCJsaXN0ZW5lciIsImFkZEV2ZW50TGlzdGVuZXJJZk5vdEV4aXN0cyIsImRpc3BhdGNoRXZlbnQiLCJsZW5ndGgiLCJldmVudCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVySWZFeGlzdHMiLCJFRXZlbnRUIiwiYXJnIiwiRUV2ZW50VFQiLCJhcmcxIiwiYXJnMiIsImVDYW52YXNfRUNhbnZhcyIsImRyYXdGdW5jdGlvbnMiLCJkcHJTY2FsaW5nRW5hYmxlZCIsImVuYWJsZURwclNjYWxpbmciLCJyZXNpemUiLCJkaXNhYmxlRHByU2NhbGluZyIsImRwciIsIndpbmRvdyIsImRldmljZVBpeGVsUmF0aW8iLCJjbGllbnRXaWR0aCIsImNsaWVudEhlaWdodCIsInNjYWxlIiwiZHJhdyIsImRyYXdGdW5jdGlvbiIsInJlbW92ZURyYXdGdW5jdGlvbiIsImJvZHkiLCJwYXJlbnRFbGVtZW50Iiwic3R5bGUiLCJvdmVyZmxvdyIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsImVuQ2FudmFzIiwiZ2V0Q29udGV4dCIsImN1cnNvckxvY2siLCJTZXRDdXJzb3IiLCJwb2ludGVyIiwiY3Vyc29yIiwiY29udHJvbF9Db250cm9sIiwiaXNNb3VzZU92ZXIiLCJpc0VuYWJsZWQiLCJjbGlja2VkIiwiY2xpZW50WCIsImNsaWVudFkiLCJCdXR0b25Qcm9wZXJ0aWVzIiwiZm9udFNpemUiLCJmb250UHJlZml4IiwiZm9udEZhbWlseSIsIm1vdXNlT3ZlckZpbGxTdHlsZSIsImJhY2tncm91bmRGaWxsU3R5bGUiLCJ1bmRlZmluZWQiLCJnZXRGb250IiwiZm9udCIsImJ1dHRvbl9CdXR0b24iLCJwcm9wZXJ0aWVzIiwiZmlsbFJlY3QiLCJ0ZXh0QWxpZ24iLCJ0ZXh0QmFzZWxpbmUiLCJmaWxsVGV4dCIsInRleHQiLCJzaXplIiwibWVhc3VyZVRleHQiLCJsaXN0Vmlld1Byb3BlcnRpZXNfTGlzdFZpZXdQcm9wZXJ0aWVzIiwiaXRlbVNwYWNpbmciLCJvcmllbnRhdGlvbiIsIlZlcnRpY2FsIiwibGlzdFZpZXdfTGlzdFZpZXciLCJhZGRJdGVtIiwibGF5b3V0VmlldyIsIm1heCIsInNsaWRlcl9TbGlkZXIiLCJyYWRpdXMiLCJtaW5WYWx1ZSIsIm1heFZhbHVlIiwiY3VycmVudFZhbHVlIiwidmFsdWVDaGFuZ2VkIiwiaXNEcmFnZ2luZyIsInVwZGF0ZUN1cnJlbnRWYWx1ZSIsInN0cm9rZVN0eWxlIiwibGluZVdpZHRoIiwibW92ZVRvIiwibGluZVRvIiwic3Ryb2tlIiwicmVsVmFsdWUiLCJjbG9zZVBhdGgiLCJ2YWwiLCJyYW5nZVNsaWRlcl9SYW5nZVNsaWRlciIsImN1cnJlbnRWYWx1ZUxvdyIsImN1cnJlbnRWYWx1ZUhpZ2giLCJtaW5EaWZmIiwidmFsdWVzQ2hhbmdlZCIsImdldENsaWNrZWRWYWx1ZSIsImRpZmZUb0xvdyIsImFicyIsImRpZmZUb0hpZ2giLCJpc0RyYWdnaW5nTG93IiwiaXNEcmFnZ2luZ0hpZ2giLCJ1cGRhdGVDdXJyZW50VmFsdWVzIiwic2xpZGVyWSIsInJlbFZhbHVlTG93IiwibG93WCIsInJlbFZhbHVlSGlnaCIsImhpZ2hYIiwic3RhckxheWVyVmlld19TdGFyTGF5ZXJWaWV3IiwibnVtYmVyT2ZTdGFyc0NoYW5nZWQiLCJudW1iZXJPZlN0YXJzIiwiY2hhbmdlTnVtYmVyT2ZTdGFycyIsInJvdW5kIiwic3BlZWRDaGFuZ2VkIiwic3BlZWQiLCJjaGFuZ2VTcGVlZCIsInNpemVzQ2hhbmdlZCIsImxvd0JvcmRlciIsImhpZ2hCb3JkZXIiLCJjaGFuZ2VTaXplcyIsInNldHRpbmdzTGlzdCIsImJ0bkZvckxheWVyIiwic2VuZGVyIiwicmVtb3ZlU3RhckxheWVyIiwic2xpZGVyIiwic2xpZGVyU3BlZWQiLCJzbGlkZXJTaXplIiwic2l6ZXMiLCJtYXAiLCJtaW4iLCJzZXR0aW5nc092ZXJsYXlWaWV3X1NldHRpbmdzT3ZlcmxheVZpZXciLCJ2aWV3TW9kZWwiLCJsYXN0TW92ZWQiLCJEYXRlIiwibm93IiwiaW5hY3Rpdml0eVRpbWVvdXQiLCJsYXllckJ1dHRvbnMiLCJBZGRTdGFyTGF5ZXIiLCJzZXR0aW5ncyIsInN0YXJMYXllcnMiLCJ0YWciLCJhZGRMYXllckJ0biIsInRvZ2dsZVNob3dIaWRlU3RhckxheWVyVmlldyIsIlJlbW92ZVN0YXJMYXllciIsInNldHRpbmdzTGF5ZXIiLCJkZXRhaWxlZFN0YXJMYXllclZpZXciLCJzaG93SGlkZU92ZXJsYXlDbGlja2VkIiwidmlzaWJsZSIsInNldFN0YXRlIiwiYmVmb3JlVmlzaWJsZSIsIm1vdXNlSW5hY3Rpdml0eUhhbmRsZXIiLCJzZXRUaW1lb3V0Iiwic2hvd092ZXJMYXllckJ1dHRvbiIsImJ0bkZvck5ld0xheWVyIiwiYWRkU3RhckxheWVyIiwic3BhY2UiLCJzdGFyTGF5ZXJBbmltYXRvcl9TdGFyTGF5ZXJBbmltYXRvciIsInRpbWVEaWZmIiwiRGluamVjdCIsImluc3RhbmNlcyIsImFkZEluc3RhbmNlIiwiaW5zdGFuY2UiLCJnZXRJbnN0YW5jZSIsInBsYXllclZpZXdfUGxheWVyVmlldyIsInBsYXlJY29uVGV4dCIsInBhdXNlSWNvblRleHQiLCJzdG9wSWNvblRleHQiLCJuZXh0SWNvblRleHQiLCJwcmV2aW91c0ljb25UZXh0IiwiYXVkaW9NYW5hZ2VyIiwibGlzdFZpZXciLCJIb3Jpem9udGFsIiwicGxheVBhdXNlQnRuIiwicGxheSIsInBhdXNlIiwic3RvcEJ0biIsInN0b3AiLCJwcmV2aW91c0J0biIsInByZXZpb3VzIiwibmV4dEJ0biIsImltYWdlUHJvcGVydGllc19JbWFnZVByb3BlcnRpZXMiLCJpbWFnZVNjYWxpbmdNb2RlIiwiRml0QW5kU3BhY2UiLCJpbWFnZV9FSW1hZ2UiLCJpbWFnZSIsImRyYXdJbWFnZSIsImZpdFNjYWxlIiwiaXNJbWFnZVdpZGVyIiwibmF0dXJhbFdpZHRoIiwibmF0dXJhbEhlaWdodCIsIkZpdEFuZE92ZXJmaWxsIiwiY3JlYXRlRnJvbVVybCIsImltYWdlVXJsIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJJbWFnZSIsInNyYyIsIm9ubG9hZCIsImJhY2tncm91bmRJbWFnZVZpZXdfQmFja2dyb3VuZEltYWdlVmlldyIsImJhY2tncm91bmQiLCJnZXRJbWFnZSIsImluc3BpZXJ0eVBsYXllclZpZXdfSW5zcGllcnR5UGxheWVyVmlldyIsInN0YXJBbmltYXRvcnMiLCJhcHBTZXR0aW5nc1VwZGF0ZWQiLCJsYXllciIsImFuaW1hdG9yIiwiYW5pbWF0aW9uIiwiYWRkVXBkYXRlRnVuY3Rpb24iLCJzdGFyTGF5ZXJEcmF3cyIsInJlbW92ZVVwZGF0ZUZ1bmN0aW9uIiwic2V0dGluZ3NPdmVybGF5IiwicGxheWVyVmlldyIsIlN0YXJMYXllciIsInJhbmRvbSIsIkVBbmltYXRpb24iLCJ1cGRhdGVGdW5jdGlvbnMiLCJpc1J1bm5pbmciLCJzZXRGcHMiLCJmcHMiLCJmcHNJbnRlcnZhbCIsImFuaW1hdGlvbkxvb3AiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJlbGFwc2VkIiwibGFzdEZyYW1lVGltZSIsInVwZGF0ZUZ1bmN0aW9uIiwia2V5Q29kZSIsInBsYXlQYXVzZSIsIkNhbnZhc0hlbHBlciIsImxvYWRGb250YXdlc29tZUZyZWUiLCJsb2FkRm9udCIsImxvYWRGb250YXdlc29tZUJyYW5kcyIsImNvdW50UGl4ZWxzIiwiaW1hZ2VEYXRhIiwicGl4ZWxDb3VudCIsImRhdGEiLCJnIiwiYiIsImEiLCJnZXRJY29uUGl4ZWxzIiwiaWNvbiIsImdldEltYWdlRGF0YSIsImljb24xIiwiaWNvbjIiLCJyZXRyaWVzIiwidGVtcENhbnZhcyIsInRlbXBDdHgiLCJjaGVja0xvYWRlZCIsImljb24xUGl4ZWxDb3VudCIsImljb24yUGl4ZWxDb3VudCIsIkF1ZGlvR3JhcGhOb2RlIiwiYXVkaW9DdHgiLCJhdWRpb0dyYXBoTm9kZUFuYWx5c2VyX0F1ZGlvR3JhcGhOb2RlQW5hbHlzZXIiLCJnZXRBdWRpb05vZGUiLCJhbmFseXNlck5vZGUiLCJjcmVhdGVBbmFseXNlciIsImZmdFNpemUiLCJzbW9vdGhpbmdUaW1lQ29uc3RhbnQiLCJidWZmZXJMZW5ndGgiLCJmcmVxdWVuY3lCaW5Db3VudCIsImRhdGFBcnJheSIsIlVpbnQ4QXJyYXkiLCJnZXRCeXRlRnJlcXVlbmN5RGF0YSIsImdldEJ5dGVUaW1lRG9tYWluRGF0YSIsImF1ZGlvR3JhcGhOb2RlRGVzdGluYXRpb25fQXVkaW9HcmFwaE5vZGVEZXN0aW5hdGlvbiIsImRlc3RpbmF0aW9uIiwiYXVkaW9HcmFwaE5vZGVFbGVtZW50U291cmNlX0F1ZGlvR3JhcGhOb2RlRWxlbWVudFNvdXJjZSIsInVybCIsImF1ZGlvRW5kZWQiLCJhdWRpb0VuZGVkRXZlbnQiLCJzb3VyY2UiLCJhdWRpbyIsImN1cnJlbnRUaW1lIiwic2V0VXJsIiwicGF1c2VkIiwibG9hZCIsImNvbnRyb2xzIiwiY3JlYXRlTWVkaWFFbGVtZW50U291cmNlIiwiYXVkaW9HcmFwaF9BdWRpb0dyYXBoIiwiYXVkaW9Ob2RlcyIsImFkZE1lZGlhRWxlbWVudFNvdXJjZSIsInNvdXJjZU5vZGUiLCJhZGRBbmFseXplciIsImFuYWx5emVyTm9kZSIsImdldEF1ZGlvR3JhcGhOb2RlIiwiYXVkaW9Db250ZXh0U3RhdGVDaGFuZ2VkIiwiZG9jdW1lbnRDbGljayIsInJlc3VtZSIsImF1ZGlvQ29udGV4dFN0YXRlQ2hhbmdlZEV2YWx1YXRvciIsInJlbG9hZCIsInRoZW4iLCJhbGwiLCJhdWRpb05vZGUiLCJkaXNjb25uZWN0IiwiY29ubmVjdCIsImRlc3RpbmF0aW9uTm9kZSIsIkF1ZGlvQ29udGV4dCIsImF1ZGlvTWFuYWdlcl9BdWRpb01hbmFnZXIiLCJzb25ncyIsIlRyYWlsZXJfQ29uc3RlbGxhdGlvbl9kZWZhdWx0IiwiYXVkaW9HcmFwaCIsIm5leHRTb25nSW5kZXgiLCJwcmV2aW91c1NvbmdJbmRleCIsImFuYWx5c2VyIiwiQXNzZXRNYW5hZ2VyIiwiaW1hZ2VBc3NldHMiLCJhZGRJbWFnZSIsImltYWdlQXNzZXQiLCJydW4iLCJiYWNrZ3JvdW5kQ29sb3IiLCJjcmVhdGVGdWxsU2NyZWVuIiwic3RhZ2UiLCJhc3NldE1hbmFnZXIiLCJiYWNrZ3JvdW5kX2RlZmF1bHQiLCJpbm5lcldpZHRoIiwiaW5uZXJIZWlnaHQiLCJkaWZmIiwiZmxvb3IiLCJDaGFuZ2VTcGVlZCIsIm1pbkZpeCJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxRQUFBLElBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcs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QVVRLE1BQU10RixLQUFLLENBQ2pCVCxFQUFHa0YsS0FBS3FPLFNBQVczTixFQUFJK0ksU0FBUzNOLE1BQ2hDRCxFQUFHbUUsS0FBS3FPLFNBQVczTixFQUFJK0ksU0FBUzFOLE9BQ2hDaEQsRUFBbUIsRUFBaEJpSCxLQUFLcU8sU0FBZSxXQUk5QixHQUFJc0csRUFBTyxFQUNaLElBQUssSUFBSTFjLEVBQUksRUFBR0EsR0FBSzBjLEVBQU0xYyxJQUN2Qm9JLEVBQVVRLE1BQU0xRixPQUFPNkUsS0FBSzRVLE1BQU01VSxLQUFLcU8sU0FBV2hPLEVBQVVRLE1BQU1TLFFBQVMsR0FHbkZqSCxLQUFLdUcsT0FBT1MsY0FBYzNELEVBQWlCOEMsd0JBSTVDbkcsS0FBQTZOLFlBQWMsRUFBQzdILEVBQXNCNEgsS0FDeEM1SCxFQUFVNEgsTUFBUUEsRUFDbEI1TixLQUFLdUcsT0FBT1MsY0FBYzNELEVBQWlCbVgsZUFHeEN4YSxLQUFBaU8sWUFBYyxFQUFDakksRUFBc0IrSCxFQUFtQkMsS0FDM0QsSUFBSVMsRUFBUXpJLEVBQVVRLE1BQU1rSSxJQUFJak8sR0FBS0EsRUFBRS9CLEdBQ25DNE4sRUFBa0IzRyxLQUFLZ0osT0FBT0YsR0FHOUJnTSxFQUZtQjlVLEtBQUt5RixPQUFPcUQsR0FFRm5DLEVBQzdCbU8sR0FBVSxJQUNWQSxFQUFTLE1BRWIsSUFBSyxNQUFNbFYsS0FBUVMsRUFBVVEsTUFDekJqQixFQUFLN0csR0FBTTZHLEVBQUs3RyxFQUFJNE4sR0FBbUJtTyxHQUFVek0sRUFBYUQsR0FBY0EsRUFHaEY3TixRQUFRQyxJQUFJNkYsRUFBVVEsTUFBTSxHQUFHOUgsR0FDL0JzQixLQUFLdUcsT0FBT1MsY0FBYzNELEVBQWlCbVgsc0JDakVuRHRYLFNBQVNELGlCQUFpQixtQkFFMUIsWUFDYyxJQUFJb0QsR0FDVnlULFFBSjRDIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMyk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCJlZjEyOTYxZjY2Nzg2ZDU3OWYzOTg1YzE5ZmVhMzAzYi5vZ2dcIjsiLCJtb2R1bGUuZXhwb3J0cyA9IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCI0ZjNiNzEyODliN2ViYmY2MTMyMzM3MTBjOTIzNzQwNy5wbmdcIjsiLCJpbnRlcmZhY2UgQXJyYXk8VD4ge1xyXG4gICAgcmVtb3ZlSXRlbUlmRXhpc3RzKGl0ZW06IFQpOiB2b2lkO1xyXG4gICAgY29udGFpbnMoaXRlbTogVCk6IGJvb2xlYW47XHJcbiAgICByZW1vdmVJdGVtKGl0ZW06IFQpOiB2b2lkO1xyXG4gICAgcmVtb3ZlKHNlbGVjdG9yOiAoaXRlbTogVCkgPT4gYm9vbGVhbik6IHZvaWQ7XHJcbiAgICBhZGRJdGVtSWZOb3RFeGlzdHMoaXRlbTogVCk6IHZvaWQ7XHJcbiAgICB0b0xpc3QoKTogVFtdO1xyXG4gICAgZ2V0TmV4dChjdXJyZW50OiBULCBzZWxlY3RvcjogKGl0ZW06IFQpID0+IG51bWJlcik6IFQ7XHJcbiAgICBmaXJzdChzZWxlY3RvcjogKGl0ZW06IFQpID0+IGJvb2xlYW4pOiBUO1xyXG4gICAgZmlyc3RPckRlZmF1bHQoc2VsZWN0b3I6IChpdGVtOiBUKSA9PiBib29sZWFuKTogVDtcclxufVxyXG5cclxuQXJyYXkucHJvdG90eXBlLmZpcnN0T3JEZWZhdWx0ID0gZnVuY3Rpb24gKGZ1bmMpIHtcclxuICAgIGZvciAoY29uc3QgYXJyYXlJdGVtIG9mIHRoaXMpIHtcclxuICAgICAgICBpZiAoZnVuYyhhcnJheUl0ZW0pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhcnJheUl0ZW07XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn1cclxuXHJcbkFycmF5LnByb3RvdHlwZS5maXJzdCA9IGZ1bmN0aW9uIChmdW5jKSB7XHJcbiAgICBmb3IgKGNvbnN0IGFycmF5SXRlbSBvZiB0aGlzKSB7XHJcbiAgICAgICAgaWYgKGZ1bmMoYXJyYXlJdGVtKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYXJyYXlJdGVtO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnNvbGUubG9nKFwiaXRlbSBub3QgZm91bmRcIik7XHJcbiAgICBjb25zb2xlLmxvZyh0aGlzKTtcclxuICAgIHRocm93IFwiaXRlbSBub3QgZm91bmRcIjtcclxufVxyXG5cclxuQXJyYXkucHJvdG90eXBlLmdldE5leHQgPSBmdW5jdGlvbiA8VD4oY3VycmVudDogVCwgc2VsZWN0b3I6IChpdGVtOiBUKSA9PiBudW1iZXIpOiBUIHtcclxuICAgIHZhciBuZXh0UG9zaXRpb24gPSBzZWxlY3RvcihjdXJyZW50KSArIDE7XHJcbiAgICB2YXIgbmV4dCA9ICh0aGlzIGFzIFRbXSkuZmlyc3RPckRlZmF1bHQoKHgpID0+IHNlbGVjdG9yKHgpID09IG5leHRQb3NpdGlvbik7XHJcbiAgICBpZiAoIW5leHQpIHtcclxuICAgICAgICBuZXh0ID0gKHRoaXMgYXMgVFtdKS5maXJzdCh4ID0+IHNlbGVjdG9yKHgpID09IDEpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBuZXh0O1xyXG59XHJcblxyXG5BcnJheS5wcm90b3R5cGUucmVtb3ZlSXRlbSA9IGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4T2YoaXRlbSk7XHJcbiAgICBpZiAoaW5kZXggIT0gLTEpIHtcclxuICAgICAgICB0aGlzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRocm93IFwiaXRlbSBub3QgZm91bmRcIjtcclxuICAgIH1cclxufVxyXG5cclxuQXJyYXkucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gPFQ+KGl0ZW06IFQpIHtcclxuICAgIHJldHVybiB0aGlzLmluZGV4T2YoaXRlbSkgIT09IC0xO1xyXG59XHJcblxyXG5BcnJheS5wcm90b3R5cGUucmVtb3ZlSXRlbUlmRXhpc3RzID0gZnVuY3Rpb24gPFQ+KGl0ZW06IFQpIHtcclxuICAgIHZhciBpbmRleCA9IHRoaXMuaW5kZXhPZihpdGVtKTtcclxuICAgIGlmIChpbmRleCAhPSAtMSkge1xyXG4gICAgICAgIHRoaXMuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgIH1cclxufVxyXG5cclxuQXJyYXkucHJvdG90eXBlLmFkZEl0ZW1JZk5vdEV4aXN0cyA9IGZ1bmN0aW9uIDxUPihpdGVtOiBUKSB7XHJcbiAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4T2YoaXRlbSk7XHJcbiAgICBpZiAoaW5kZXggPT0gLTEpIHtcclxuICAgICAgICAodGhpcyBhcyBUW10pLnB1c2goaXRlbSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbkFycmF5LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiA8VD4oc2VsZWN0b3I6IChpdGVtOiBUKSA9PiBib29sZWFuKSB7XHJcbiAgICAodGhpcyBhcyBUW10pLnJlbW92ZUl0ZW0oKHRoaXMgYXMgVFtdKS5maXJzdChzZWxlY3RvcikpO1xyXG59XHJcblxyXG5BcnJheS5wcm90b3R5cGUudG9MaXN0ID0gZnVuY3Rpb24gPFQ+KCk6IFRbXSB7XHJcbiAgICByZXR1cm4gKHRoaXMgYXMgVFtdKS5maWx0ZXIoeCA9PiB0cnVlKTtcclxufVxyXG4iLCJleHBvcnQgY2xhc3MgUmVjdGFuZ2xlIHtcclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyB4OiBudW1iZXIsIHB1YmxpYyB5OiBudW1iZXIsIHB1YmxpYyB3aWR0aDogbnVtYmVyLCBwdWJsaWMgaGVpZ2h0OiBudW1iZXIpIHsgfVxyXG5cclxuICAgIHB1YmxpYyBjb2xsaWRlc1dpdGggPSAocmVjdGFuZ2xlOiBSZWN0YW5nbGUpID0+IHtcclxuICAgICAgICB2YXIgaGl0eCA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBoaXR5ID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHRoaXMueCA8PSByZWN0YW5nbGUueCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy54IDw9IHJlY3RhbmdsZS54ICYmIHRoaXMueCArIHRoaXMud2lkdGggPiByZWN0YW5nbGUueCkge1xyXG4gICAgICAgICAgICAgICAgaGl0eCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAocmVjdGFuZ2xlLnggPD0gdGhpcy54ICYmIHJlY3RhbmdsZS54ICsgcmVjdGFuZ2xlLndpZHRoID4gdGhpcy54KSB7XHJcbiAgICAgICAgICAgICAgICBoaXR4ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGhpdHgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMueSA8PSByZWN0YW5nbGUueSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMueSA8PSByZWN0YW5nbGUueSAmJiB0aGlzLnkgKyB0aGlzLndpZHRoID4gcmVjdGFuZ2xlLnkpIHtcclxuICAgICAgICAgICAgICAgICAgICBoaXR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZWN0YW5nbGUueSA8PSB0aGlzLnkgJiYgcmVjdGFuZ2xlLnkgKyByZWN0YW5nbGUud2lkdGggPiB0aGlzLnkpIHtcclxuICAgICAgICAgICAgICAgICAgICBoaXR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGhpdHggJiYgaGl0eTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgaXNIaXRCeSA9ICh4OiBudW1iZXIsIHk6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIHJldHVybiB4ID4gdGhpcy54ICYmIHggPCB0aGlzLnggKyB0aGlzLndpZHRoXHJcbiAgICAgICAgICAgICYmIHkgPiB0aGlzLnkgJiYgeSA8IHRoaXMueSArIHRoaXMuaGVpZ2h0O1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgRUNhbnZhcyB9IGZyb20gXCIuL2VDYW52YXNcIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBMYXlvdXRWaWV3IH0gZnJvbSBcIi4vbGF5b3V0Q29udHJvbHMvbGF5b3V0Vmlld1wiO1xyXG5pbXBvcnQgeyBFQW5pbWF0aW9uIH0gZnJvbSBcIi4uL2VBbmltYXRpb25cIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTdGFnZSB7XHJcbiAgICBwcml2YXRlIHZpZXc6IExheW91dFZpZXc7XHJcbiAgICBwcml2YXRlIHNob3VsZFVwZGF0ZUxheW91dDogYm9vbGVhbjtcclxuXHJcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNhbnZhczogRUNhbnZhcykge1xyXG4gICAgICAgIGNhbnZhcy5hZGREcmF3RnVuY3Rpb24odGhpcy5yZW5kZXIpO1xyXG4gICAgICAgIGNhbnZhcy5yZXNpemVkLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5jYW52YXNSZXNpemVkKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMubW91c2VEb3duKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCB0aGlzLm1vdXNlVXApO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIiwgdGhpcy5tb3VzZU1vdmUpO1xyXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmNsaWNrKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGNhbnZhc1Jlc2l6ZWQgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zaG91bGRVcGRhdGVMYXlvdXQgPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbW91c2VEb3duID0gKGV2OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMudmlldykge1xyXG4gICAgICAgICAgICB0aGlzLnZpZXcubW91c2VEb3duKGV2KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBtb3VzZVVwID0gKGV2OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMudmlldykge1xyXG4gICAgICAgICAgICB0aGlzLnZpZXcubW91c2VVcChldik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbW91c2VNb3ZlID0gKGV2OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMudmlldykge1xyXG4gICAgICAgICAgICB0aGlzLnZpZXcubW91c2VNb3ZlKGV2KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBjbGljayA9IChldjogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLnZpZXcpIHtcclxuICAgICAgICAgICAgdGhpcy52aWV3LmNsaWNrKGV2KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSByZW5kZXIgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIHdpZHRoPzogbnVtYmVyLCBoZWlnaHQ/OiBudW1iZXIpID0+IHtcclxuICAgICAgICBpZiAodGhpcy52aWV3KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnNob3VsZFVwZGF0ZUxheW91dCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3LnVwZGF0ZUxheW91dChjdHgsIG5ldyBSZWN0YW5nbGUoMCwgMCwgd2lkdGgsIGhlaWdodCkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG91bGRVcGRhdGVMYXlvdXQgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjdHguY2xlYXJSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgICAgICAgICB0aGlzLnZpZXcucmVuZGVyKGN0eCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzZXRWaWV3ID0gKHZpZXc6IExheW91dFZpZXcpID0+IHtcclxuICAgICAgICB0aGlzLnZpZXcgPSB2aWV3O1xyXG4gICAgICAgIHRoaXMuc2hvdWxkVXBkYXRlTGF5b3V0ID0gdHJ1ZTtcclxuICAgIH1cclxufSIsImV4cG9ydCBlbnVtIEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uIHtcclxuICAgIExlZnQsXHJcbiAgICBDZW50ZXIsXHJcbiAgICBSaWdodCxcclxufSIsImV4cG9ydCBlbnVtIFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbiB7XHJcbiAgICBUb3AsXHJcbiAgICBDZW50ZXIsXHJcbiAgICBCb3R0b20sXHJcbn0iLCJleHBvcnQgZW51bSBTZXR0aW5nT3BlcmF0aW9uIHtcclxuICAgIEFkZFN0YXJMYXllcixcclxuICAgIFJlbW92ZVN0YXJMYXllcixcclxuICAgIENoYW5nZU51bWJlck9mU3RhcnMsXHJcbiAgICBDaGFuZ2VTcGVlZCxcclxuICAgIENoYW5nZVNpemVzXHJcbn0iLCJleHBvcnQgZW51bSBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZSB7XHJcbiAgICBoaWRkZW4sXHJcbiAgICBiZWZvcmVWaXNpYmxlLFxyXG4gICAgdmlzaWJsZVxyXG59IiwiZXhwb3J0IGVudW0gT3JpZW50YXRpb24ge1xyXG4gICAgSG9yaXpvbnRhbCxcclxuICAgIFZlcnRpY2FsXHJcbn0iLCJleHBvcnQgZW51bSBJbWFnZVNjYWxpbmdNb2Rle1xyXG4gICAgRml0QW5kT3ZlcmZpbGwsXHJcbiAgICBGaXRBbmRTcGFjZVxyXG59IiwiZXhwb3J0IGNsYXNzIFNwYWNpbmcge1xyXG4gICAgcHVibGljIHRvcDogbnVtYmVyID0gMDtcclxuICAgIHB1YmxpYyByaWdodDogbnVtYmVyID0gMDtcclxuICAgIHB1YmxpYyBib3R0b206IG51bWJlciA9IDA7XHJcbiAgICBwdWJsaWMgbGVmdDogbnVtYmVyID0gMDtcclxufSIsImltcG9ydCB7IEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uIH0gZnJvbSBcIi4vaG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuaW1wb3J0IHsgVmVydGljYWxBbGlnbmVtZW50T3B0aW9uIH0gZnJvbSBcIi4vdmVydGljYWxBbGlnbmVtZW50T3B0aW9uXCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi8uLi9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgU3BhY2luZyB9IGZyb20gXCIuL3NwYWNpbmdcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBbGlnbmVtZW50IHtcclxuICAgIHB1YmxpYyBob3Jpem9udGFsQWxpZ24gPSBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbi5DZW50ZXI7XHJcbiAgICBwdWJsaWMgdmVydGljYWxBbGlnbiA9IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi5DZW50ZXI7XHJcblxyXG4gICAgcHVibGljIG1hcmdpbiA9IG5ldyBTcGFjaW5nKCk7XHJcbiAgICAvLyBwdWJsaWMgcGFkZGluZyA9IG5ldyBTcGFjaW5nKCk7XHJcblxyXG4gICAgcHVibGljIGNhbGN1bGF0ZURpbWVuc2lvbnNYID0gKGJvdW5kczogUmVjdGFuZ2xlLCB3aWR0aDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLmhvcml6b250YWxBbGlnbikge1xyXG4gICAgICAgICAgICBjYXNlIEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uLkxlZnQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYm91bmRzLnggKyB0aGlzLm1hcmdpbi5sZWZ0O1xyXG4gICAgICAgICAgICBjYXNlIEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uLkNlbnRlcjpcclxuICAgICAgICAgICAgICAgIHJldHVybiBib3VuZHMueCArIGJvdW5kcy53aWR0aCAvIDIgLSB3aWR0aCAvIDI7XHJcbiAgICAgICAgICAgIGNhc2UgSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24uUmlnaHQ6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYm91bmRzLnggKyBib3VuZHMud2lkdGggLSB3aWR0aCAtIHRoaXMubWFyZ2luLnJpZ2h0O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2FsY3VsYXRlRGltZW5zaW9uc1kgPSAoYm91bmRzOiBSZWN0YW5nbGUsIGhlaWdodDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgc3dpdGNoICh0aGlzLnZlcnRpY2FsQWxpZ24pIHtcclxuICAgICAgICAgICAgY2FzZSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24uVG9wOlxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJvdW5kcy55ICsgdGhpcy5tYXJnaW4udG9wO1xyXG4gICAgICAgICAgICBjYXNlIFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi5DZW50ZXI6XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYm91bmRzLnkgKyBib3VuZHMuaGVpZ2h0IC8gMiAtIGhlaWdodCAvIDI7XHJcbiAgICAgICAgICAgIGNhc2UgVmVydGljYWxBbGlnbmVtZW50T3B0aW9uLkJvdHRvbTpcclxuICAgICAgICAgICAgICAgIHJldHVybiBib3VuZHMueSArIGJvdW5kcy5oZWlnaHQgLSBoZWlnaHQgLSB0aGlzLm1hcmdpbi5ib3R0b207XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBBbGlnbmVtZW50IH0gZnJvbSBcIi4vYWxpZ25lbWVudC9hbGlnbmVtZW50XCI7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgUmVuZGVyT2JqZWN0IHtcclxuICAgIHByaXZhdGUgc3RhdGljIGlkQ291bnRlciA9IDA7XHJcbiAgICBwcml2YXRlIGdlbmVyYXRlTmV3SWQgPSAoKSA9PiB7XHJcbiAgICAgICAgUmVuZGVyT2JqZWN0LmlkQ291bnRlcisrO1xyXG4gICAgICAgIHJldHVybiBSZW5kZXJPYmplY3QuaWRDb3VudGVyO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuaWQgPSB0aGlzLmdlbmVyYXRlTmV3SWQoKTtcclxuICAgICAgICB0aGlzLm5hbWUgPSBcIm9iamVjdCBcIiArIHRoaXMuaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGlkOiBudW1iZXI7XHJcbiAgICBwdWJsaWMgbmFtZTogc3RyaW5nO1xyXG4gICAgcHVibGljIHRhZzogYW55O1xyXG5cclxuICAgIHB1YmxpYyBib3VuZHM6IFJlY3RhbmdsZSA9IG5ldyBSZWN0YW5nbGUoMCwgMCwgMCwgMCk7XHJcbiAgICBwdWJsaWMgZGltZW5zaW9uczogUmVjdGFuZ2xlID0gbmV3IFJlY3RhbmdsZSgwLCAwLCAwLCAwKTtcclxuXHJcbiAgICBwdWJsaWMgYWxpZ25lbWVudCA9IG5ldyBBbGlnbmVtZW50KCk7XHJcblxyXG4gICAgcHJpdmF0ZSBzaG91bGRVcGRhdGVMYXlvdXQgPSBmYWxzZTtcclxuXHJcbiAgICBwdWJsaWMgcmVuZGVyKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc2hvdWxkVXBkYXRlTGF5b3V0KSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTGF5b3V0KGN0eCwgdGhpcy5ib3VuZHMpO1xyXG4gICAgICAgICAgICB0aGlzLnNob3VsZFVwZGF0ZUxheW91dCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUxheW91dChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpIHtcclxuICAgICAgICB0aGlzLmJvdW5kcyA9IGJvdW5kcztcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdHJpZ2dlclVwZGF0ZUxheW91dCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNob3VsZFVwZGF0ZUxheW91dCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRpc2FibGVNb3VzZUV2ZW50cyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLm1vdXNlRG93biA9ICgpID0+IHsgfTtcclxuICAgICAgICB0aGlzLm1vdXNlVXAgPSAoKSA9PiB7IH07XHJcbiAgICAgICAgdGhpcy5tb3VzZU1vdmUgPSAoKSA9PiB7IH07XHJcbiAgICAgICAgdGhpcy5jbGljayA9ICgpID0+IHsgfTtcclxuICAgIH1cclxuXHJcbiAgICBhYnN0cmFjdCBtb3VzZURvd24oZXY6IE1vdXNlRXZlbnQpOiB2b2lkO1xyXG4gICAgYWJzdHJhY3QgbW91c2VVcChldjogTW91c2VFdmVudCk6IHZvaWQ7XHJcbiAgICBhYnN0cmFjdCBtb3VzZU1vdmUoZXY6IE1vdXNlRXZlbnQpOiB2b2lkO1xyXG4gICAgYWJzdHJhY3QgY2xpY2soZXY6IE1vdXNlRXZlbnQpOiB2b2lkO1xyXG59IiwiaW1wb3J0IHsgUmVuZGVyT2JqZWN0IH0gZnJvbSBcIi4uL3JlbmRlck9iamVjdFwiO1xyXG5cclxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIExheW91dFZpZXcgZXh0ZW5kcyBSZW5kZXJPYmplY3Qge1xyXG4gICAgcHJvdGVjdGVkIGNoaWxkcmVuOiBSZW5kZXJPYmplY3RbXSA9IFtdO1xyXG5cclxuICAgIHB1YmxpYyByZW5kZXIoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQpIHtcclxuICAgICAgICBzdXBlci5yZW5kZXIoY3R4KTtcclxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgY2hpbGQucmVuZGVyKGN0eCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBwdWJsaWMgbW91c2VEb3duKGV2OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGNoaWxkLm1vdXNlRG93bihldik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtb3VzZVVwKGV2OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGNoaWxkLm1vdXNlVXAoZXYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbW91c2VNb3ZlKGV2OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGNoaWxkLm1vdXNlTW92ZShldik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjbGljayhldjogTW91c2VFdmVudCkge1xyXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbi50b0xpc3QoKSkge1xyXG4gICAgICAgICAgICBjaGlsZC5jbGljayhldik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgUmVuZGVyT2JqZWN0IH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvcmVuZGVyT2JqZWN0XCI7XHJcbmltcG9ydCB7IFN0YXIgfSBmcm9tIFwiLi4vbW9kZWxzL3N0YXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTdGFyUmVuZGVyT2JqZWN0IGV4dGVuZHMgUmVuZGVyT2JqZWN0IHtcclxuICAgIG1vdXNlRG93bihldjogTW91c2VFdmVudCk6IHZvaWQge1xyXG4gICAgfVxyXG4gICAgbW91c2VVcChldjogTW91c2VFdmVudCk6IHZvaWQge1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgc3RhcjogU3Rhcikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbmRlcihjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiZHJhd2luZ1wiKTtcclxuICAgICAgICBcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gXCJ3aGl0ZVwiO1xyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdHguYXJjKHRoaXMuc3Rhci54LCB0aGlzLnN0YXIueSwgdGhpcy5zdGFyLnIsIDAsIE1hdGguUEkgKiAyKTtcclxuICAgICAgICBjdHguZmlsbCgpO1xyXG4gICAgfVxyXG4gICAgbW91c2VNb3ZlKGV2OiBNb3VzZUV2ZW50KTogdm9pZCB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIG5vdCBpbXBsZW1lbnRlZC5cIik7XHJcbiAgICB9XHJcbiAgICBjbGljayhldjogTW91c2VFdmVudCk6IHZvaWQge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1ldGhvZCBub3QgaW1wbGVtZW50ZWQuXCIpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgTGF5b3V0VmlldyB9IGZyb20gXCIuLi8uLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xheW91dFZpZXdcIjtcclxuaW1wb3J0IHsgU3RhclJlbmRlck9iamVjdCB9IGZyb20gXCIuL3N0YXJSZW5kZXJPYmplY3RcIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IFN0YXJMYXllciB9IGZyb20gXCIuLi9tb2RlbHMvc3RhckxheWVyXCI7XHJcbmltcG9ydCB7IEFwcCB9IGZyb20gXCIuLi9hcHBcIjtcclxuaW1wb3J0IHsgU2V0dGluZ09wZXJhdGlvbiB9IGZyb20gXCIuLi9zZXR0aW5ncy9zZXR0aW5nT3BlcmF0aW9uXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU3RhckxheWVyRHJhd2VyIGV4dGVuZHMgTGF5b3V0VmlldyB7XHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgc3RhckxheWVyOiBTdGFyTGF5ZXIpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIEFwcC5zZXR0aW5nTWFuYWdlci51cGRhdGUuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLnNldHRpbmdzVXBkYXRlZClcclxuICAgICAgICB0aGlzLmRpc2FibGVNb3VzZUV2ZW50cygpO1xyXG4gICAgICAgIHRoaXMudHJpZ2dlclVwZGF0ZUxheW91dCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2V0dGluZ3NVcGRhdGVkID0gKG9wZXJhdGlvbjogU2V0dGluZ09wZXJhdGlvbikgPT4ge1xyXG4gICAgICAgIHN3aXRjaCAob3BlcmF0aW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgU2V0dGluZ09wZXJhdGlvbi5DaGFuZ2VOdW1iZXJPZlN0YXJzOlxyXG4gICAgICAgICAgICAgICAgdGhpcy51cGRhdGVOdW1iZXJPZlN0YXJzKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVOdW1iZXJPZlN0YXJzID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMudHJpZ2dlclVwZGF0ZUxheW91dCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVMYXlvdXQoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGJvdW5kczogUmVjdGFuZ2xlKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbiA9IFtdO1xyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IHN0YXIgb2YgdGhpcy5zdGFyTGF5ZXIuc3RhcnMpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKG5ldyBTdGFyUmVuZGVyT2JqZWN0KHN0YXIpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG5cclxuICAgIHB1YmxpYyBtb3VzZU1vdmUoZXY6IE1vdXNlRXZlbnQpIHtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2xpY2soZXY6IE1vdXNlRXZlbnQpIHtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlIH0gZnJvbSBcIi4vc2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWwge1xyXG4gICAgcHVibGljIHN0YXRlOiBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZSA9IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLmhpZGRlbjtcclxufSIsImV4cG9ydCBjbGFzcyBFRXZlbnQge1xyXG4gICAgcHJpdmF0ZSBsaXN0ZW5lcnM6ICgoKSA9PiB2b2lkKVtdID0gW107XHJcblxyXG4gICAgcHVibGljIGFkZEV2ZW50TGlzdGVuZXIgPSAobGlzdGVuZXI6ICgpID0+IHZvaWQpID0+IHtcclxuICAgICAgICAvLyB2YWxpZGF0aW9uXHJcbiAgICAgICAgaWYgKCFsaXN0ZW5lciB8fCB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSA+PSAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IFwibGlzdGVuZXIgYWxyZWFkeSBhZGRlZFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGFkZEV2ZW50TGlzdGVuZXJJZk5vdEV4aXN0cyA9IChsaXN0ZW5lcjogKCkgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIC8vIHZhbGlkYXRpb25cclxuICAgICAgICBpZiAoIWxpc3RlbmVyIHx8IHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpID49IDApIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGRpc3BhdGNoRXZlbnQgPSAoKSA9PiB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBldmVudCA9IHRoaXMubGlzdGVuZXJzW2ldO1xyXG4gICAgICAgICAgICBldmVudCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlRXZlbnRMaXN0ZW5lciA9IChsaXN0ZW5lcjogKCkgPT4gdm9pZCkgPT4ge1xyXG4gICAgICAgIC8vIHZhbGlkYXRpb25cclxuICAgICAgICBpZiAoIWxpc3RlbmVyIHx8IHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpIDwgMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBcImxpc3RlbmVyIG5vdCBmb3VuZFwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5saXN0ZW5lcnMuc3BsaWNlKHRoaXMubGlzdGVuZXJzLmluZGV4T2YobGlzdGVuZXIpLCAxKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVtb3ZlRXZlbnRMaXN0ZW5lcklmRXhpc3RzID0gKGxpc3RlbmVyOiAoKSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgLy8gdmFsaWRhdGlvblxyXG4gICAgICAgIGlmICghbGlzdGVuZXIgfHwgdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcikgPCAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnNwbGljZSh0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSwgMSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBFRXZlbnRUPFQ+IHtcclxuICAgIHByaXZhdGUgbGlzdGVuZXJzOiAoKGFyZzogVCkgPT4gdm9pZClbXSA9IFtdO1xyXG5cclxuICAgIHB1YmxpYyBhZGRFdmVudExpc3RlbmVyID0gKGxpc3RlbmVyOiAoYXJnOiBUKSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgLy8gdmFsaWRhdGlvblxyXG4gICAgICAgIGlmICghbGlzdGVuZXIgfHwgdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcikgPj0gMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBcImxpc3RlbmVyIGFscmVhZHkgYWRkZWRcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkaXNwYXRjaEV2ZW50ID0gKGFyZzogVCkgPT4ge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5saXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSB0aGlzLmxpc3RlbmVyc1tpXTtcclxuICAgICAgICAgICAgZXZlbnQoYXJnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZUV2ZW50TGlzdGVuZXIgPSAobGlzdGVuZXI6IChhcmc6IFQpID0+IHZvaWQpID0+IHtcclxuICAgICAgICAvLyB2YWxpZGF0aW9uXHJcbiAgICAgICAgaWYgKCFsaXN0ZW5lciB8fCB0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSA8IDApIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJsaXN0ZW5lciBub3QgZm91bmRcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnNwbGljZSh0aGlzLmxpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKSwgMSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBFRXZlbnRUVDxUMSwgVDI+IHtcclxuICAgIHByaXZhdGUgbGlzdGVuZXJzOiAoKGFyZzE6IFQxLCBhcmcyOiBUMikgPT4gdm9pZClbXSA9IFtdO1xyXG5cclxuICAgIHB1YmxpYyBhZGRFdmVudExpc3RlbmVyID0gKGxpc3RlbmVyOiAoYXJnMTogVDEsIGFyZzI6IFQyKSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgLy8gdmFsaWRhdGlvblxyXG4gICAgICAgIGlmICghbGlzdGVuZXIgfHwgdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcikgPj0gMCkge1xyXG4gICAgICAgICAgICB0aHJvdyBcImxpc3RlbmVyIGFscmVhZHkgYWRkZWRcIjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMubGlzdGVuZXJzLnB1c2gobGlzdGVuZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBkaXNwYXRjaEV2ZW50ID0gKGFyZzE6IFQxLCBhcmcyOiBUMikgPT4ge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5saXN0ZW5lcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSB0aGlzLmxpc3RlbmVyc1tpXTtcclxuICAgICAgICAgICAgZXZlbnQoYXJnMSwgYXJnMik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVFdmVudExpc3RlbmVyID0gKGxpc3RlbmVyOiAoYXJnMTogVDEsIGFyZzI6IFQyKSA9PiB2b2lkKSA9PiB7XHJcbiAgICAgICAgLy8gdmFsaWRhdGlvblxyXG4gICAgICAgIGlmICghbGlzdGVuZXIgfHwgdGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lcikgPCAwKSB7XHJcbiAgICAgICAgICAgIHRocm93IFwibGlzdGVuZXIgbm90IGZvdW5kXCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLmxpc3RlbmVycy5zcGxpY2UodGhpcy5saXN0ZW5lcnMuaW5kZXhPZihsaXN0ZW5lciksIDEpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgRUFuaW1hdGlvbiB9IGZyb20gXCIuLi9lQW5pbWF0aW9uXCI7XHJcbmltcG9ydCB7IEVFdmVudCB9IGZyb20gXCIuLi9lRXZlbnRcIjtcclxuXHJcbmV4cG9ydCB0eXBlIERyYXdGdW5jdGlvbiA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgd2lkdGg/OiBudW1iZXIsIGhlaWdodD86IG51bWJlcikgPT4gdm9pZDtcclxuXHJcbmV4cG9ydCBjbGFzcyBFQ2FudmFzIHtcclxuICAgIHByaXZhdGUgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgIHByaXZhdGUgY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XHJcblxyXG4gICAgcHJpdmF0ZSBkcmF3RnVuY3Rpb25zOiBEcmF3RnVuY3Rpb25bXSA9IFtdO1xyXG5cclxuICAgIHB1YmxpYyBnZXQgd2lkdGgoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXMuY2xpZW50V2lkdGg7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBoZWlnaHQoKTogbnVtYmVyIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jYW52YXMuY2xpZW50SGVpZ2h0O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZHByU2NhbGluZ0VuYWJsZWQgPSB0cnVlO1xyXG4gICAgcHVibGljIGVuYWJsZURwclNjYWxpbmcgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5kcHJTY2FsaW5nRW5hYmxlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5yZXNpemUoKTtcclxuICAgIH1cclxuICAgIHB1YmxpYyBkaXNhYmxlRHByU2NhbGluZyA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmRwclNjYWxpbmdFbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5yZXNpemUoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVzaXplZCA9IG5ldyBFRXZlbnQoKVxyXG5cclxuICAgIHByaXZhdGUgY29uc3RydWN0b3IoKSB7IH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZUZ1bGxTY3JlZW4oKTogRUNhbnZhcyB7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5wYXJlbnRFbGVtZW50LnN0eWxlLmhlaWdodCA9IFwiMTAwJVwiO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuaGVpZ2h0ID0gXCIxMDAlXCI7XHJcbiAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5tYXJnaW4gPSBcIjBcIjtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93ID0gXCJoaWRkZW5cIjtcclxuXHJcbiAgICAgICAgdmFyIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG4gICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY2FudmFzKTtcclxuICAgICAgICBjYW52YXMuc3R5bGUud2lkdGggPSBcIjEwMCVcIlxyXG4gICAgICAgIGNhbnZhcy5zdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcclxuXHJcbiAgICAgICAgdmFyIGVuQ2FudmFzID0gbmV3IEVDYW52YXMoKTtcclxuICAgICAgICBlbkNhbnZhcy5jYW52YXMgPSBjYW52YXM7XHJcbiAgICAgICAgZW5DYW52YXMuY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgZW5DYW52YXMucmVzaXplKTtcclxuICAgICAgICBlbkNhbnZhcy5yZXNpemUoKTtcclxuICAgICAgICByZXR1cm4gZW5DYW52YXM7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzdGF0aWMgY3Vyc29yTG9jazogc3RyaW5nID0gbnVsbDtcclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIFNldEN1cnNvciA9IChuYW1lOiBzdHJpbmcsIHBvaW50ZXI6IGJvb2xlYW4pID0+IHtcclxuICAgICAgICBpZiAocG9pbnRlcikge1xyXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmN1cnNvciA9IFwicG9pbnRlclwiO1xyXG4gICAgICAgICAgICBFQ2FudmFzLmN1cnNvckxvY2sgPSBuYW1lO1xyXG4gICAgICAgIH0gZWxzZSBpZiAobmFtZSA9PSBFQ2FudmFzLmN1cnNvckxvY2spIHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5jdXJzb3IgPSBcImRlZmF1bHRcIjtcclxuICAgICAgICAgICAgRUNhbnZhcy5jdXJzb3JMb2NrID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlc2l6ZSA9ICgpID0+IHtcclxuICAgICAgICB2YXIgZHByID0gdGhpcy5kcHJTY2FsaW5nRW5hYmxlZCA/IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvIHx8IDEgOiAxO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuY2FudmFzLndpZHRoID0gdGhpcy5jYW52YXMuY2xpZW50V2lkdGggKiBkcHI7XHJcbiAgICAgICAgdGhpcy5jYW52YXMuaGVpZ2h0ID0gdGhpcy5jYW52YXMuY2xpZW50SGVpZ2h0ICogZHByO1xyXG5cclxuICAgICAgICBpZiAoZHByICE9IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5jdHguc2NhbGUoZHByLCBkcHIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5yZXNpemVkLmRpc3BhdGNoRXZlbnQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZHJhdyA9ICgpID0+IHtcclxuICAgICAgICBmb3IgKGNvbnN0IGRyYXdGdW5jdGlvbiBvZiB0aGlzLmRyYXdGdW5jdGlvbnMpIHtcclxuICAgICAgICAgICAgZHJhd0Z1bmN0aW9uKHRoaXMuY3R4LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBhZGREcmF3RnVuY3Rpb24gPSAoZnVuYzogRHJhd0Z1bmN0aW9uKSA9PiB7XHJcbiAgICAgICAgdGhpcy5kcmF3RnVuY3Rpb25zLnB1c2goZnVuYyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZURyYXdGdW5jdGlvbiA9IChmdW5jOiBEcmF3RnVuY3Rpb24pID0+IHtcclxuICAgICAgICB0aGlzLmRyYXdGdW5jdGlvbnMuc3BsaWNlKHRoaXMuZHJhd0Z1bmN0aW9ucy5pbmRleE9mKGZ1bmMpLCAxKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IFJlbmRlck9iamVjdCB9IGZyb20gXCIuLi9yZW5kZXJPYmplY3RcIjtcclxuaW1wb3J0IHsgRUNhbnZhcyB9IGZyb20gXCIuLi9lQ2FudmFzXCI7XHJcbmltcG9ydCB7IEVFdmVudFQgfSBmcm9tIFwiLi4vLi4vZUV2ZW50XCI7XHJcblxyXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgQ29udHJvbCBleHRlbmRzIFJlbmRlck9iamVjdCB7XHJcbiAgICBwcm90ZWN0ZWQgaXNNb3VzZU92ZXIgPSBmYWxzZTtcclxuICAgIHB1YmxpYyBpc0VuYWJsZWQgPSB0cnVlO1xyXG5cclxuICAgIHB1YmxpYyBjbGlja2VkID0gbmV3IEVFdmVudFQ8Q29udHJvbD4oKTtcclxuXHJcbiAgICBwdWJsaWMgbW91c2VNb3ZlKGV2OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNFbmFibGVkKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRpbWVuc2lvbnMuaXNIaXRCeShldi5jbGllbnRYLCBldi5jbGllbnRZKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc01vdXNlT3ZlciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBFQ2FudmFzLlNldEN1cnNvcih0aGlzLm5hbWUsIHRydWUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc01vdXNlT3ZlciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgRUNhbnZhcy5TZXRDdXJzb3IodGhpcy5uYW1lLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNsaWNrID0gKGV2OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNFbmFibGVkKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmRpbWVuc2lvbnMuaXNIaXRCeShldi5jbGllbnRYLCBldi5jbGllbnRZKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGlja2VkLmRpc3BhdGNoRXZlbnQodGhpcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG1vdXNlRG93bihldjogTW91c2VFdmVudCk6IHZvaWQgeyB9XHJcbiAgICBwdWJsaWMgbW91c2VVcChldjogTW91c2VFdmVudCk6IHZvaWQgeyB9XHJcbn0iLCJleHBvcnQgY2xhc3MgQnV0dG9uUHJvcGVydGllcyB7XHJcbiAgICBwdWJsaWMgZm9udFNpemUgPSA0MDtcclxuICAgIHB1YmxpYyBmb250UHJlZml4ID0gXCJcIjtcclxuICAgIHB1YmxpYyBmb250RmFtaWx5ID0gXCJmb250YXdlc29tZVwiO1xyXG4gICAgcHVibGljIGZpbGxTdHlsZSA9IFwiYmx1ZVwiO1xyXG4gICAgcHVibGljIG1vdXNlT3ZlckZpbGxTdHlsZSA9IFwicmVkXCI7XHJcbiAgICBwdWJsaWMgYmFja2dyb3VuZEZpbGxTdHlsZTogc3RyaW5nID0gdW5kZWZpbmVkO1xyXG5cclxuICAgIHB1YmxpYyBnZXRGb250ID0gKCkgPT4ge1xyXG4gICAgICAgIHZhciBmb250ID0gXCJcIjtcclxuICAgICAgICBpZiAodGhpcy5mb250UHJlZml4KSB7XHJcbiAgICAgICAgICAgIGZvbnQgKz0gdGhpcy5mb250UHJlZml4ICsgXCIgXCJcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9udCArPSB0aGlzLmZvbnRTaXplICsgXCJweFwiICsgXCIgXCIgKyB0aGlzLmZvbnRGYW1pbHk7XHJcbiAgICAgICAgcmV0dXJuIGZvbnQ7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IENvbnRyb2wgfSBmcm9tIFwiLi9jb250cm9sXCI7XHJcbmltcG9ydCB7IEJ1dHRvblByb3BlcnRpZXMgfSBmcm9tIFwiLi9idXR0b25Qcm9wZXJ0aWVzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQnV0dG9uIGV4dGVuZHMgQ29udHJvbCB7XHJcblxyXG4gICAgcHVibGljIHByb3BlcnRpZXMgPSBuZXcgQnV0dG9uUHJvcGVydGllcygpO1xyXG4gICAgcHVibGljIHRleHQ6IHN0cmluZztcclxuXHJcbiAgICBwdWJsaWMgcmVuZGVyID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5iYWNrZ3JvdW5kRmlsbFN0eWxlKSB7XHJcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLnByb3BlcnRpZXMuYmFja2dyb3VuZEZpbGxTdHlsZTtcclxuICAgICAgICAgICAgY3R4LmZpbGxSZWN0KHRoaXMuZGltZW5zaW9ucy54LCB0aGlzLmRpbWVuc2lvbnMueSwgdGhpcy5kaW1lbnNpb25zLndpZHRoLCB0aGlzLmRpbWVuc2lvbnMuaGVpZ2h0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLmlzTW91c2VPdmVyKSB7XHJcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLnByb3BlcnRpZXMubW91c2VPdmVyRmlsbFN0eWxlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGN0eC5maWxsU3R5bGUgPSB0aGlzLnByb3BlcnRpZXMuZmlsbFN0eWxlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY3R4LmZvbnQgPSB0aGlzLnByb3BlcnRpZXMuZ2V0Rm9udCgpO1xyXG4gICAgICAgIGN0eC50ZXh0QWxpZ24gPSBcImxlZnRcIjtcclxuICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gXCJ0b3BcIjtcclxuICAgICAgICBjdHguZmlsbFRleHQodGhpcy50ZXh0LCB0aGlzLmRpbWVuc2lvbnMueCwgdGhpcy5kaW1lbnNpb25zLnkpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVMYXlvdXQgPSAoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGJvdW5kczogUmVjdGFuZ2xlKTogdm9pZCA9PiB7XHJcbiAgICAgICAgc3VwZXIudXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuXHJcbiAgICAgICAgY3R4LmZvbnQgPSB0aGlzLnByb3BlcnRpZXMuZ2V0Rm9udCgpO1xyXG4gICAgICAgIGN0eC50ZXh0QWxpZ24gPSBcImxlZnRcIjtcclxuICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gXCJ0b3BcIjtcclxuICAgICAgICB2YXIgc2l6ZSA9IGN0eC5tZWFzdXJlVGV4dCh0aGlzLnRleHQpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHZhciB4ID0gdGhpcy5hbGlnbmVtZW50LmNhbGN1bGF0ZURpbWVuc2lvbnNYKGJvdW5kcywgc2l6ZS53aWR0aCk7XHJcbiAgICAgICAgdmFyIHkgPSB0aGlzLmFsaWduZW1lbnQuY2FsY3VsYXRlRGltZW5zaW9uc1koYm91bmRzLCB0aGlzLnByb3BlcnRpZXMuZm9udFNpemUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuZGltZW5zaW9ucyA9IG5ldyBSZWN0YW5nbGUoeCwgeSwgc2l6ZS53aWR0aCwgdGhpcy5wcm9wZXJ0aWVzLmZvbnRTaXplKVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgT3JpZW50YXRpb24gfSBmcm9tIFwiLi4vYWxpZ25lbWVudC9vcmllbnRhdGlvblwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIExpc3RWaWV3UHJvcGVydGllcyB7XHJcbiAgICBwdWJsaWMgaXRlbVNwYWNpbmcgPSAzMDtcclxuICAgIHB1YmxpYyBvcmllbnRhdGlvbiA9IE9yaWVudGF0aW9uLlZlcnRpY2FsO1xyXG59IiwiaW1wb3J0IHsgTGF5b3V0VmlldyB9IGZyb20gXCIuL2xheW91dFZpZXdcIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBSZW5kZXJPYmplY3QgfSBmcm9tIFwiLi4vcmVuZGVyT2JqZWN0XCI7XHJcbmltcG9ydCB7IExpc3RWaWV3UHJvcGVydGllcyB9IGZyb20gXCIuL2xpc3RWaWV3UHJvcGVydGllc1wiO1xyXG5pbXBvcnQgeyBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbiB9IGZyb20gXCIuLi9hbGlnbmVtZW50L2hvcml6b250YWxBbGlnbmVtZW50T3B0aW9uXCI7XHJcbmltcG9ydCB7IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbiB9IGZyb20gXCIuLi9hbGlnbmVtZW50L3ZlcnRpY2FsQWxpZ25lbWVudE9wdGlvblwiO1xyXG5pbXBvcnQgeyBPcmllbnRhdGlvbiB9IGZyb20gXCIuLi9hbGlnbmVtZW50L29yaWVudGF0aW9uXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgTGlzdFZpZXcgZXh0ZW5kcyBMYXlvdXRWaWV3IHtcclxuICAgIHB1YmxpYyBwcm9wZXJ0aWVzID0gbmV3IExpc3RWaWV3UHJvcGVydGllcygpO1xyXG5cclxuICAgIHB1YmxpYyBhZGRJdGVtID0gKGxheW91dFZpZXc6IFJlbmRlck9iamVjdCkgPT4ge1xyXG4gICAgICAgIGxheW91dFZpZXcuYWxpZ25lbWVudC5ob3Jpem9udGFsQWxpZ24gPSBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbi5MZWZ0O1xyXG4gICAgICAgIGxheW91dFZpZXcuYWxpZ25lbWVudC52ZXJ0aWNhbEFsaWduID0gVmVydGljYWxBbGlnbmVtZW50T3B0aW9uLlRvcDtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2gobGF5b3V0Vmlldyk7XHJcbiAgICAgICAgdGhpcy50cmlnZ2VyVXBkYXRlTGF5b3V0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbW92ZUl0ZW0gPSAobGF5b3V0VmlldzogUmVuZGVyT2JqZWN0KSA9PiB7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5yZW1vdmVJdGVtKGxheW91dFZpZXcpO1xyXG4gICAgICAgIHRoaXMudHJpZ2dlclVwZGF0ZUxheW91dCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVMYXlvdXQoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGJvdW5kczogUmVjdGFuZ2xlKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIudXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuXHJcbiAgICAgICAgdmFyIHggPSB0aGlzLmFsaWduZW1lbnQuY2FsY3VsYXRlRGltZW5zaW9uc1goYm91bmRzLCB0aGlzLmRpbWVuc2lvbnMud2lkdGgpO1xyXG4gICAgICAgIHZhciB5ID0gdGhpcy5hbGlnbmVtZW50LmNhbGN1bGF0ZURpbWVuc2lvbnNZKGJvdW5kcywgdGhpcy5kaW1lbnNpb25zLmhlaWdodCk7XHJcblxyXG4gICAgICAgIHZhciB3aWR0aCA9IDA7XHJcbiAgICAgICAgdmFyIGhlaWdodCA9IDA7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLnByb3BlcnRpZXMub3JpZW50YXRpb24gPT0gT3JpZW50YXRpb24uVmVydGljYWwpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV07XHJcbiAgICAgICAgICAgICAgICBpZiAoaSA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICB5ICs9IHRoaXMucHJvcGVydGllcy5pdGVtU3BhY2luZztcclxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQgKz0gdGhpcy5wcm9wZXJ0aWVzLml0ZW1TcGFjaW5nO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2hpbGQudXBkYXRlTGF5b3V0KGN0eCwgbmV3IFJlY3RhbmdsZSh4LCB5LCAwLCAwKSk7XHJcbiAgICAgICAgICAgICAgICB5ICs9IGNoaWxkLmRpbWVuc2lvbnMuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgaGVpZ2h0ICs9IGNoaWxkLmRpbWVuc2lvbnMuaGVpZ2h0O1xyXG4gICAgICAgICAgICAgICAgd2lkdGggPSBNYXRoLm1heCh3aWR0aCwgY2hpbGQuZGltZW5zaW9ucy53aWR0aCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXTtcclxuICAgICAgICAgICAgICAgIGlmIChpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHggKz0gdGhpcy5wcm9wZXJ0aWVzLml0ZW1TcGFjaW5nO1xyXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoICs9IHRoaXMucHJvcGVydGllcy5pdGVtU3BhY2luZztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNoaWxkLnVwZGF0ZUxheW91dChjdHgsIG5ldyBSZWN0YW5nbGUoeCwgeSwgMCwgMCkpO1xyXG4gICAgICAgICAgICAgICAgeCArPSBjaGlsZC5kaW1lbnNpb25zLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgd2lkdGggKz0gY2hpbGQuZGltZW5zaW9ucy53aWR0aDtcclxuICAgICAgICAgICAgICAgIGhlaWdodCA9IE1hdGgubWF4KGhlaWdodCwgY2hpbGQuZGltZW5zaW9ucy5oZWlnaHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5kaW1lbnNpb25zLnggIT0geCB8fCB0aGlzLmRpbWVuc2lvbnMueSAhPSB5IHx8IHRoaXMuZGltZW5zaW9ucy53aWR0aCAhPSB3aWR0aCB8fCB0aGlzLmRpbWVuc2lvbnMuaGVpZ2h0ICE9IGhlaWdodCkge1xyXG4gICAgICAgICAgICB0aGlzLmRpbWVuc2lvbnMueCA9IHg7XHJcbiAgICAgICAgICAgIHRoaXMuZGltZW5zaW9ucy55ID0geTtcclxuICAgICAgICAgICAgdGhpcy5kaW1lbnNpb25zLmhlaWdodCA9IGhlaWdodDtcclxuICAgICAgICAgICAgdGhpcy5kaW1lbnNpb25zLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBDb250cm9sIH0gZnJvbSBcIi4vY29udHJvbFwiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IEVFdmVudFQgfSBmcm9tIFwiLi4vLi4vZUV2ZW50XCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU2xpZGVyIGV4dGVuZHMgQ29udHJvbCB7XHJcbiAgICBwdWJsaWMgcmFkaXVzOiBudW1iZXIgPSAxMDtcclxuXHJcbiAgICBwdWJsaWMgbWluVmFsdWUgPSAwO1xyXG4gICAgcHVibGljIG1heFZhbHVlID0gMTAwO1xyXG4gICAgcHVibGljIGN1cnJlbnRWYWx1ZSA9IDUwO1xyXG4gICAgaXNEcmFnZ2luZzogYm9vbGVhbjtcclxuXHJcbiAgICBwdWJsaWMgdmFsdWVDaGFuZ2VkID0gbmV3IEVFdmVudFQ8bnVtYmVyPigpO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbmRlcihjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCk6IHZvaWQge1xyXG4gICAgICAgIHZhciB4ID0gdGhpcy5kaW1lbnNpb25zLng7XHJcbiAgICAgICAgdmFyIHkgPSB0aGlzLmRpbWVuc2lvbnMueTtcclxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBcIndoaXRlXCI7XHJcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDI7XHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5tb3ZlVG8oeCArIHRoaXMucmFkaXVzLCB5ICsgdGhpcy5kaW1lbnNpb25zLmhlaWdodCAvIDIpO1xyXG4gICAgICAgIGN0eC5saW5lVG8oeCArIHRoaXMuZGltZW5zaW9ucy53aWR0aCAtIHRoaXMucmFkaXVzLCB5ICsgdGhpcy5kaW1lbnNpb25zLmhlaWdodCAvIDIpO1xyXG4gICAgICAgIGN0eC5zdHJva2UoKTtcclxuXHJcbiAgICAgICAgdmFyIHJlbFZhbHVlID0gKHRoaXMuY3VycmVudFZhbHVlIC0gdGhpcy5taW5WYWx1ZSkgLyAodGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWUpO1xyXG4gICAgICAgIGN0eC5maWxsU3R5bGUgPSBcImJsdWVcIjtcclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY3R4LmFyYyh4ICsgdGhpcy5yYWRpdXMgKyAodGhpcy5kaW1lbnNpb25zLndpZHRoIC0gdGhpcy5yYWRpdXMgKiAyKSAqIHJlbFZhbHVlLCB5ICsgdGhpcy5kaW1lbnNpb25zLmhlaWdodCAvIDIsIHRoaXMucmFkaXVzLCAwLCBNYXRoLlBJICogMik7XHJcbiAgICAgICAgY3R4LmNsb3NlUGF0aCgpO1xyXG4gICAgICAgIGN0eC5maWxsKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUxheW91dCA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpOiB2b2lkID0+IHtcclxuICAgICAgICBzdXBlci51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG5cclxuICAgICAgICB0aGlzLmRpbWVuc2lvbnMgPSBuZXcgUmVjdGFuZ2xlKGJvdW5kcy54LCBib3VuZHMueSwgMjAwLCB0aGlzLnJhZGl1cyAqIDIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBtb3VzZURvd24gPSAoZXY6IE1vdXNlRXZlbnQpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5kaW1lbnNpb25zLmlzSGl0QnkoZXYuY2xpZW50WCwgZXYuY2xpZW50WSkpIHtcclxuICAgICAgICAgICAgdGhpcy5pc0RyYWdnaW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVDdXJyZW50VmFsdWUoZXYpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHB1YmxpYyBtb3VzZVVwID0gKGV2OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgdGhpcy5pc0RyYWdnaW5nID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG1vdXNlTW92ZShldjogTW91c2VFdmVudCkge1xyXG4gICAgICAgIHN1cGVyLm1vdXNlTW92ZShldik7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEcmFnZ2luZykge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUN1cnJlbnRWYWx1ZShldik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgdXBkYXRlQ3VycmVudFZhbHVlKGV2OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgdmFyIHZhbCA9IGV2LmNsaWVudFggLSB0aGlzLmRpbWVuc2lvbnMueCAtIHRoaXMucmFkaXVzO1xyXG4gICAgICAgIHZhbCA9IHZhbCAvICh0aGlzLmRpbWVuc2lvbnMud2lkdGggLSB0aGlzLnJhZGl1cyAqIDIpICogKHRoaXMubWF4VmFsdWUgLSB0aGlzLm1pblZhbHVlKSArIHRoaXMubWluVmFsdWU7XHJcbiAgICAgICAgaWYgKHZhbCA+IHRoaXMubWF4VmFsdWUpIHtcclxuICAgICAgICAgICAgdmFsID0gdGhpcy5tYXhWYWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHZhbCA8IHRoaXMubWluVmFsdWUpIHtcclxuICAgICAgICAgICAgdmFsID0gdGhpcy5taW5WYWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jdXJyZW50VmFsdWUgPSB2YWw7XHJcbiAgICAgICAgdGhpcy52YWx1ZUNoYW5nZWQuZGlzcGF0Y2hFdmVudCh0aGlzLmN1cnJlbnRWYWx1ZSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBDb250cm9sIH0gZnJvbSBcIi4vY29udHJvbFwiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IEVFdmVudFRUIH0gZnJvbSBcIi4uLy4uL2VFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIFJhbmdlU2xpZGVyIGV4dGVuZHMgQ29udHJvbCB7XHJcbiAgICBwdWJsaWMgcmFkaXVzOiBudW1iZXIgPSAxMDtcclxuXHJcbiAgICBwdWJsaWMgbWluVmFsdWUgPSAwO1xyXG4gICAgcHVibGljIG1heFZhbHVlID0gMTAwO1xyXG4gICAgcHVibGljIGN1cnJlbnRWYWx1ZUxvdyA9IDI1O1xyXG4gICAgcHVibGljIGN1cnJlbnRWYWx1ZUhpZ2ggPSA3NTtcclxuICAgIHB1YmxpYyBtaW5EaWZmID0gMC4xO1xyXG5cclxuICAgIHByaXZhdGUgaXNEcmFnZ2luZ0xvdzogYm9vbGVhbjtcclxuICAgIHByaXZhdGUgaXNEcmFnZ2luZ0hpZ2g6IGJvb2xlYW47XHJcblxyXG4gICAgcHVibGljIHZhbHVlc0NoYW5nZWQgPSBuZXcgRUV2ZW50VFQ8bnVtYmVyLCBudW1iZXI+KCk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcmVuZGVyKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7XHJcbiAgICAgICAgdmFyIHggPSB0aGlzLmRpbWVuc2lvbnMueDtcclxuICAgICAgICB2YXIgeSA9IHRoaXMuZGltZW5zaW9ucy55O1xyXG5cclxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBcIndoaXRlXCI7XHJcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDI7XHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5tb3ZlVG8oeCArIHRoaXMucmFkaXVzLCB5ICsgdGhpcy5kaW1lbnNpb25zLmhlaWdodCAvIDIpO1xyXG4gICAgICAgIGN0eC5saW5lVG8oeCArIHRoaXMuZGltZW5zaW9ucy53aWR0aCAtIHRoaXMucmFkaXVzLCB5ICsgdGhpcy5kaW1lbnNpb25zLmhlaWdodCAvIDIpO1xyXG4gICAgICAgIGN0eC5zdHJva2UoKTtcclxuXHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IFwiYmx1ZVwiO1xyXG4gICAgICAgIHZhciBzbGlkZXJZID0geSArIHRoaXMuZGltZW5zaW9ucy5oZWlnaHQgLyAyO1xyXG5cclxuICAgICAgICB2YXIgcmVsVmFsdWVMb3cgPSAodGhpcy5jdXJyZW50VmFsdWVMb3cgLSB0aGlzLm1pblZhbHVlKSAvICh0aGlzLm1heFZhbHVlIC0gdGhpcy5taW5WYWx1ZSk7XHJcbiAgICAgICAgdmFyIGxvd1ggPSB4ICsgdGhpcy5yYWRpdXMgKyAodGhpcy5kaW1lbnNpb25zLndpZHRoIC0gdGhpcy5yYWRpdXMgKiAyKSAqIHJlbFZhbHVlTG93O1xyXG5cclxuICAgICAgICB2YXIgcmVsVmFsdWVIaWdoID0gKHRoaXMuY3VycmVudFZhbHVlSGlnaCAtIHRoaXMubWluVmFsdWUpIC8gKHRoaXMubWF4VmFsdWUgLSB0aGlzLm1pblZhbHVlKTtcclxuICAgICAgICB2YXIgaGlnaFggPSB4ICsgdGhpcy5yYWRpdXMgKyAodGhpcy5kaW1lbnNpb25zLndpZHRoIC0gdGhpcy5yYWRpdXMgKiAyKSAqIHJlbFZhbHVlSGlnaDtcclxuXHJcbiAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gXCJibHVlXCI7XHJcbiAgICAgICAgY3R4LmxpbmVXaWR0aCA9IDI7XHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5tb3ZlVG8obG93WCwgc2xpZGVyWSk7XHJcbiAgICAgICAgY3R4LmxpbmVUbyhoaWdoWCwgc2xpZGVyWSk7XHJcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG5cclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY3R4LmFyYyhsb3dYLCBzbGlkZXJZLCB0aGlzLnJhZGl1cywgMCwgTWF0aC5QSSAqIDIpO1xyXG4gICAgICAgIGN0eC5jbG9zZVBhdGgoKTtcclxuICAgICAgICBjdHguZmlsbCgpO1xyXG5cclxuICAgICAgICBjdHguYmVnaW5QYXRoKCk7XHJcbiAgICAgICAgY3R4LmFyYyhoaWdoWCwgc2xpZGVyWSwgdGhpcy5yYWRpdXMsIDAsIE1hdGguUEkgKiAyKTtcclxuICAgICAgICBjdHguY2xvc2VQYXRoKCk7XHJcbiAgICAgICAgY3R4LmZpbGwoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0ID0gKGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSk6IHZvaWQgPT4ge1xyXG4gICAgICAgIHN1cGVyLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcblxyXG4gICAgICAgIHRoaXMuZGltZW5zaW9ucyA9IG5ldyBSZWN0YW5nbGUoYm91bmRzLngsIGJvdW5kcy55LCAyMDAsIHRoaXMucmFkaXVzICogMik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG1vdXNlRG93biA9IChldjogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmRpbWVuc2lvbnMuaXNIaXRCeShldi5jbGllbnRYLCBldi5jbGllbnRZKSkge1xyXG4gICAgICAgICAgICB2YXIgdmFsID0gdGhpcy5nZXRDbGlja2VkVmFsdWUoZXYpO1xyXG4gICAgICAgICAgICB2YXIgZGlmZlRvTG93ID0gTWF0aC5hYnModGhpcy5jdXJyZW50VmFsdWVMb3cgLSB2YWwpO1xyXG4gICAgICAgICAgICB2YXIgZGlmZlRvSGlnaCA9IE1hdGguYWJzKHRoaXMuY3VycmVudFZhbHVlSGlnaCAtIHZhbCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZGlmZlRvTG93ID09IGRpZmZUb0hpZ2gpIHtcclxuICAgICAgICAgICAgICAgIGlmICh2YWwgPCB0aGlzLmN1cnJlbnRWYWx1ZUxvdykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNEcmFnZ2luZ0xvdyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNEcmFnZ2luZ0hpZ2ggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGRpZmZUb0xvdyA+IGRpZmZUb0hpZ2gpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuaXNEcmFnZ2luZ0hpZ2ggPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pc0RyYWdnaW5nTG93ID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy51cGRhdGVDdXJyZW50VmFsdWVzKGV2KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwdWJsaWMgbW91c2VVcCA9IChldjogTW91c2VFdmVudCkgPT4ge1xyXG4gICAgICAgIHRoaXMuaXNEcmFnZ2luZ0hpZ2ggPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmlzRHJhZ2dpbmdMb3cgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbW91c2VNb3ZlKGV2OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgc3VwZXIubW91c2VNb3ZlKGV2KTtcclxuICAgICAgICBpZiAodGhpcy5pc0RyYWdnaW5nSGlnaCB8fCB0aGlzLmlzRHJhZ2dpbmdMb3cpIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGVDdXJyZW50VmFsdWVzKGV2KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSB1cGRhdGVDdXJyZW50VmFsdWVzKGV2OiBNb3VzZUV2ZW50KSB7XHJcbiAgICAgICAgdmFyIHZhbCA9IHRoaXMuZ2V0Q2xpY2tlZFZhbHVlKGV2KTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNEcmFnZ2luZ0xvdykge1xyXG4gICAgICAgICAgICBpZiAodmFsID4gKHRoaXMuY3VycmVudFZhbHVlSGlnaCAtIHRoaXMubWluRGlmZikpIHtcclxuICAgICAgICAgICAgICAgIHZhbCA9IHRoaXMuY3VycmVudFZhbHVlSGlnaCAtIHRoaXMubWluRGlmZjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKHZhbCA8IHRoaXMuY3VycmVudFZhbHVlTG93ICsgdGhpcy5taW5EaWZmKSB7XHJcbiAgICAgICAgICAgICAgICB2YWwgPSB0aGlzLmN1cnJlbnRWYWx1ZUxvdyArIHRoaXMubWluRGlmZjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuaXNEcmFnZ2luZ0xvdykge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRWYWx1ZUxvdyA9IHZhbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudFZhbHVlSGlnaCA9IHZhbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy52YWx1ZXNDaGFuZ2VkLmRpc3BhdGNoRXZlbnQodGhpcy5jdXJyZW50VmFsdWVMb3csIHRoaXMuY3VycmVudFZhbHVlSGlnaCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRDbGlja2VkVmFsdWUoZXY6IE1vdXNlRXZlbnQpIHtcclxuICAgICAgICB2YXIgdmFsID0gZXYuY2xpZW50WCAtIHRoaXMuZGltZW5zaW9ucy54IC0gdGhpcy5yYWRpdXM7XHJcbiAgICAgICAgdmFsID0gdmFsIC8gKHRoaXMuZGltZW5zaW9ucy53aWR0aCAtIHRoaXMucmFkaXVzICogMikgKiAodGhpcy5tYXhWYWx1ZSAtIHRoaXMubWluVmFsdWUpICsgdGhpcy5taW5WYWx1ZTtcclxuICAgICAgICBpZiAodmFsID4gdGhpcy5tYXhWYWx1ZSkge1xyXG4gICAgICAgICAgICB2YWwgPSB0aGlzLm1heFZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodmFsIDwgdGhpcy5taW5WYWx1ZSkge1xyXG4gICAgICAgICAgICB2YWwgPSB0aGlzLm1pblZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdmFsO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgTGF5b3V0VmlldyB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2xheW91dENvbnRyb2xzL2xheW91dFZpZXdcIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IFN0YXJMYXllciB9IGZyb20gXCIuLi8uLi9tb2RlbHMvc3RhckxheWVyXCI7XHJcbmltcG9ydCB7IExpc3RWaWV3IH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGlzdFZpZXdcIjtcclxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIi4uLy4uLy4uL2VuYy9zcmMvdWkvY29udHJvbHMvYnV0dG9uXCI7XHJcbmltcG9ydCB7IENvbnRyb2wgfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9jb250cm9scy9jb250cm9sXCI7XHJcbmltcG9ydCB7IEFwcCB9IGZyb20gXCIuLi8uLi9hcHBcIjtcclxuaW1wb3J0IHsgSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24gfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9hbGlnbmVtZW50L2hvcml6b250YWxBbGlnbmVtZW50T3B0aW9uXCI7XHJcbmltcG9ydCB7IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbiB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvdmVydGljYWxBbGlnbmVtZW50T3B0aW9uXCI7XHJcbmltcG9ydCB7IFNsaWRlciB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2NvbnRyb2xzL3NsaWRlclwiO1xyXG5pbXBvcnQgeyBSYW5nZVNsaWRlciB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2NvbnRyb2xzL3JhbmdlU2xpZGVyXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgU3RhckxheWVyVmlldyBleHRlbmRzIExheW91dFZpZXcge1xyXG4gICAgcHJpdmF0ZSBzZXR0aW5nc0xpc3Q6IExpc3RWaWV3O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBzdGFyTGF5ZXI6IFN0YXJMYXllcikge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QgPSBuZXcgTGlzdFZpZXcoKTtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5hbGlnbmVtZW50Lmhvcml6b250YWxBbGlnbiA9IEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uLkxlZnQ7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QuYWxpZ25lbWVudC52ZXJ0aWNhbEFsaWduID0gVmVydGljYWxBbGlnbmVtZW50T3B0aW9uLlRvcDtcclxuICAgICAgICB2YXIgYnRuRm9yTGF5ZXIgPSBuZXcgQnV0dG9uKCk7XHJcbiAgICAgICAgYnRuRm9yTGF5ZXIudGV4dCA9IFwiUmVtb3ZlIExheWVyXCI7XHJcbiAgICAgICAgYnRuRm9yTGF5ZXIucHJvcGVydGllcy5maWxsU3R5bGUgPSBcIndoaXRlXCI7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QuYWRkSXRlbShidG5Gb3JMYXllcik7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKGJ0bkZvckxheWVyKTtcclxuICAgICAgICBidG5Gb3JMYXllci5jbGlja2VkLmFkZEV2ZW50TGlzdGVuZXIoKHNlbmRlcjogQ29udHJvbCkgPT4ge1xyXG4gICAgICAgICAgICBBcHAuc2V0dGluZ01hbmFnZXIucmVtb3ZlU3RhckxheWVyKHRoaXMuc3RhckxheWVyKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdmFyIHNsaWRlciA9IG5ldyBTbGlkZXIoKTtcclxuICAgICAgICBzbGlkZXIubWluVmFsdWUgPSAxMDtcclxuICAgICAgICBzbGlkZXIubWF4VmFsdWUgPSAxMDAwO1xyXG4gICAgICAgIHNsaWRlci5jdXJyZW50VmFsdWUgPSBzdGFyTGF5ZXIuc3RhcnMubGVuZ3RoO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChzbGlkZXIpO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LmFkZEl0ZW0oc2xpZGVyKTtcclxuICAgICAgICBzbGlkZXIudmFsdWVDaGFuZ2VkLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5udW1iZXJPZlN0YXJzQ2hhbmdlZCk7XHJcblxyXG4gICAgICAgIHZhciBzbGlkZXJTcGVlZCA9IG5ldyBTbGlkZXIoKTtcclxuICAgICAgICBzbGlkZXJTcGVlZC5taW5WYWx1ZSA9IDA7XHJcbiAgICAgICAgc2xpZGVyU3BlZWQubWF4VmFsdWUgPSAzMDtcclxuICAgICAgICBzbGlkZXJTcGVlZC5jdXJyZW50VmFsdWUgPSBzdGFyTGF5ZXIuc3BlZWQ7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHNsaWRlclNwZWVkKTtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5hZGRJdGVtKHNsaWRlclNwZWVkKTtcclxuICAgICAgICBzbGlkZXJTcGVlZC52YWx1ZUNoYW5nZWQuYWRkRXZlbnRMaXN0ZW5lcih0aGlzLnNwZWVkQ2hhbmdlZCk7XHJcblxyXG4gICAgICAgIHZhciBzbGlkZXJTaXplID0gbmV3IFJhbmdlU2xpZGVyKCk7XHJcbiAgICAgICAgdmFyIHNpemVzID0gdGhpcy5zdGFyTGF5ZXIuc3RhcnMubWFwKHggPT4geC5yKTtcclxuICAgICAgICBzbGlkZXJTaXplLm1pblZhbHVlID0gMC4wMTtcclxuICAgICAgICBzbGlkZXJTaXplLm1heFZhbHVlID0gNTtcclxuICAgICAgICBzbGlkZXJTaXplLmN1cnJlbnRWYWx1ZUxvdyA9IE1hdGgubWluKC4uLnNpemVzKTtcclxuICAgICAgICBzbGlkZXJTaXplLmN1cnJlbnRWYWx1ZUhpZ2ggPSBNYXRoLm1heCguLi5zaXplcyk7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHNsaWRlclNpemUpO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LmFkZEl0ZW0oc2xpZGVyU2l6ZSk7XHJcbiAgICAgICAgc2xpZGVyU2l6ZS52YWx1ZXNDaGFuZ2VkLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5zaXplc0NoYW5nZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBudW1iZXJPZlN0YXJzQ2hhbmdlZCA9IChudW1iZXJPZlN0YXJzOiBudW1iZXIpID0+IHtcclxuICAgICAgICBBcHAuc2V0dGluZ01hbmFnZXIuY2hhbmdlTnVtYmVyT2ZTdGFycyh0aGlzLnN0YXJMYXllciwgTWF0aC5yb3VuZChudW1iZXJPZlN0YXJzKSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNwZWVkQ2hhbmdlZCA9IChzcGVlZDogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgQXBwLnNldHRpbmdNYW5hZ2VyLmNoYW5nZVNwZWVkKHRoaXMuc3RhckxheWVyLCBzcGVlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHNpemVzQ2hhbmdlZCA9IChsb3dCb3JkZXI6IG51bWJlciwgaGlnaEJvcmRlcjogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgQXBwLnNldHRpbmdNYW5hZ2VyLmNoYW5nZVNpemVzKHRoaXMuc3RhckxheWVyLCBsb3dCb3JkZXIsIGhpZ2hCb3JkZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVMYXlvdXQoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGJvdW5kczogUmVjdGFuZ2xlKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QudXBkYXRlTGF5b3V0KGN0eCwgbmV3IFJlY3RhbmdsZShib3VuZHMueCwgYm91bmRzLnksIDAsIDApKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IExheW91dFZpZXcgfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9sYXlvdXRDb250cm9scy9sYXlvdXRWaWV3XCI7XHJcbmltcG9ydCB7IFJlY3RhbmdsZSB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWwgfSBmcm9tIFwiLi9zZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxcIjtcclxuaW1wb3J0IHsgU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUgfSBmcm9tIFwiLi9zZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZVwiO1xyXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9jb250cm9scy9idXR0b25cIjtcclxuaW1wb3J0IHsgQ29udHJvbCB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2NvbnRyb2xzL2NvbnRyb2xcIjtcclxuaW1wb3J0IHsgTGlzdFZpZXcgfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9sYXlvdXRDb250cm9scy9saXN0Vmlld1wiO1xyXG5pbXBvcnQgeyBTdGFyTGF5ZXIgfSBmcm9tIFwiLi4vLi4vbW9kZWxzL3N0YXJMYXllclwiO1xyXG5pbXBvcnQgeyBBcHAgfSBmcm9tIFwiLi4vLi4vYXBwXCI7XHJcbmltcG9ydCB7IFNldHRpbmdPcGVyYXRpb24gfSBmcm9tIFwiLi4vLi4vc2V0dGluZ3Mvc2V0dGluZ09wZXJhdGlvblwiO1xyXG5pbXBvcnQgeyBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24gfSBmcm9tIFwiLi4vLi4vLi4vZW5jL3NyYy91aS9hbGlnbmVtZW50L3ZlcnRpY2FsQWxpZ25lbWVudE9wdGlvblwiO1xyXG5pbXBvcnQgeyBIb3Jpem9udGFsQWxpZ25lbWVudE9wdGlvbiB9IGZyb20gXCIuLi8uLi8uLi9lbmMvc3JjL3VpL2FsaWduZW1lbnQvaG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuaW1wb3J0IHsgU3RhckxheWVyVmlldyB9IGZyb20gXCIuL3N0YXJMYXllclZpZXdcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTZXR0aW5nc092ZXJsYXlWaWV3IGV4dGVuZHMgTGF5b3V0VmlldyB7XHJcbiAgICBwcml2YXRlIHZpZXdNb2RlbDogU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsID0gbmV3IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbCgpO1xyXG4gICAgcHJpdmF0ZSBsYXN0TW92ZWQgPSBEYXRlLm5vdygpO1xyXG4gICAgcHJpdmF0ZSBpbmFjdGl2aXR5VGltZW91dCA9IDIwMDA7XHJcbiAgICBwcml2YXRlIHNob3dPdmVyTGF5ZXJCdXR0b246IEJ1dHRvbjtcclxuICAgIHByaXZhdGUgc2V0dGluZ3NMaXN0OiBMaXN0VmlldztcclxuXHJcbiAgICBwcml2YXRlIGxheWVyQnV0dG9uczogQnV0dG9uW10gPSBbXTtcclxuICAgIHByaXZhdGUgYWRkTGF5ZXJCdG46IEJ1dHRvbjtcclxuICAgIHByaXZhdGUgZGV0YWlsZWRTdGFyTGF5ZXJWaWV3OiBTdGFyTGF5ZXJWaWV3O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5zaG93T3ZlckxheWVyQnV0dG9uID0gbmV3IEJ1dHRvbigpO1xyXG4gICAgICAgIHRoaXMuc2hvd092ZXJMYXllckJ1dHRvbi50ZXh0ID0gXCJTaG93L0hpZGUgU2V0dGluZ3NcIjtcclxuICAgICAgICB0aGlzLnNob3dPdmVyTGF5ZXJCdXR0b24ucHJvcGVydGllcy5maWxsU3R5bGUgPSBcImdyZWVuXCI7XHJcbiAgICAgICAgdGhpcy5zaG93T3ZlckxheWVyQnV0dG9uLmFsaWduZW1lbnQudmVydGljYWxBbGlnbiA9IFZlcnRpY2FsQWxpZ25lbWVudE9wdGlvbi5Ub3A7XHJcbiAgICAgICAgdGhpcy5zaG93T3ZlckxheWVyQnV0dG9uLmFsaWduZW1lbnQuaG9yaXpvbnRhbEFsaWduID0gSG9yaXpvbnRhbEFsaWduZW1lbnRPcHRpb24uTGVmdDtcclxuICAgICAgICB0aGlzLnNob3dPdmVyTGF5ZXJCdXR0b24uY2xpY2tlZC5hZGRFdmVudExpc3RlbmVyKHRoaXMuc2hvd0hpZGVPdmVybGF5Q2xpY2tlZCk7XHJcbiAgICAgICAgdGhpcy5zaG93T3ZlckxheWVyQnV0dG9uLnByb3BlcnRpZXMuYmFja2dyb3VuZEZpbGxTdHlsZSA9IFwicmdiYSgwLCAwLCAwLCAwLjUpXCI7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHRoaXMuc2hvd092ZXJMYXllckJ1dHRvbik7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QgPSBuZXcgTGlzdFZpZXcoKTtcclxuICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5hbGlnbmVtZW50Lmhvcml6b250YWxBbGlnbiA9IEhvcml6b250YWxBbGlnbmVtZW50T3B0aW9uLkxlZnQ7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QuYWxpZ25lbWVudC52ZXJ0aWNhbEFsaWduID0gVmVydGljYWxBbGlnbmVtZW50T3B0aW9uLlRvcDtcclxuXHJcbiAgICAgICAgdmFyIGJ0bkZvck5ld0xheWVyID0gbmV3IEJ1dHRvbigpO1xyXG4gICAgICAgIGJ0bkZvck5ld0xheWVyLnRleHQgPSBcIkFkZCBMYXllclwiO1xyXG4gICAgICAgIGJ0bkZvck5ld0xheWVyLnByb3BlcnRpZXMuZmlsbFN0eWxlID0gXCJ3aGl0ZVwiO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LmFkZEl0ZW0oYnRuRm9yTmV3TGF5ZXIpO1xyXG4gICAgICAgIGJ0bkZvck5ld0xheWVyLmNsaWNrZWQuYWRkRXZlbnRMaXN0ZW5lcigoc2VuZGVyOiBDb250cm9sKSA9PiB7XHJcbiAgICAgICAgICAgIEFwcC5zZXR0aW5nTWFuYWdlci5hZGRTdGFyTGF5ZXIoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmFkZExheWVyQnRuID0gYnRuRm9yTmV3TGF5ZXI7XHJcblxyXG5cclxuICAgICAgICBBcHAuc2V0dGluZ01hbmFnZXIudXBkYXRlLmFkZEV2ZW50TGlzdGVuZXIodGhpcy5zZXR0aW5nc1VwZGF0ZWQpO1xyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXR0aW5nc1VwZGF0ZWQgPSAob3BlcmF0aW9uOiBTZXR0aW5nT3BlcmF0aW9uKSA9PiB7XHJcbiAgICAgICAgc3dpdGNoIChvcGVyYXRpb24pIHtcclxuICAgICAgICAgICAgY2FzZSBTZXR0aW5nT3BlcmF0aW9uLkFkZFN0YXJMYXllcjpcclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc3RhckxheWVyIG9mIEFwcC5zZXR0aW5ncy5zdGFyTGF5ZXJzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLmxheWVyQnV0dG9ucy5tYXAoeCA9PiB4LnRhZykuY29udGFpbnMoc3RhckxheWVyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzTGlzdC5yZW1vdmVJdGVtKHRoaXMuYWRkTGF5ZXJCdG4pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYnRuRm9yTGF5ZXIgPSBuZXcgQnV0dG9uKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ0bkZvckxheWVyLnRleHQgPSBcIkVkaXQgTGF5ZXJcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnRuRm9yTGF5ZXIudGFnID0gc3RhckxheWVyO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidG5Gb3JMYXllci5wcm9wZXJ0aWVzLmZpbGxTdHlsZSA9IFwid2hpdGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QuYWRkSXRlbShidG5Gb3JMYXllcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubGF5ZXJCdXR0b25zLnB1c2goYnRuRm9yTGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBidG5Gb3JMYXllci5jbGlja2VkLmFkZEV2ZW50TGlzdGVuZXIoKHNlbmRlcjogQ29udHJvbCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b2dnbGVTaG93SGlkZVN0YXJMYXllclZpZXcoc3RhckxheWVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LmFkZEl0ZW0odGhpcy5hZGRMYXllckJ0bik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFNldHRpbmdPcGVyYXRpb24uUmVtb3ZlU3RhckxheWVyOlxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBzZXR0aW5nc0xheWVyIG9mIHRoaXMubGF5ZXJCdXR0b25zKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFBcHAuc2V0dGluZ3Muc3RhckxheWVycy5jb250YWlucyhzZXR0aW5nc0xheWVyLnRhZykpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5nc0xpc3QucmVtb3ZlSXRlbShzZXR0aW5nc0xheWVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXllckJ1dHRvbnMucmVtb3ZlSXRlbShzZXR0aW5nc0xheWVyKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5yZW1vdmVJdGVtKHRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcHJpdmF0ZSB0b2dnbGVTaG93SGlkZVN0YXJMYXllclZpZXcgPSAoc3RhckxheWVyOiBTdGFyTGF5ZXIpID0+IHtcclxuICAgICAgICBpZiAoIXRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3KSB7XHJcbiAgICAgICAgICAgIHZhciB2aWV3ID0gbmV3IFN0YXJMYXllclZpZXcoc3RhckxheWVyKTtcclxuICAgICAgICAgICAgdGhpcy5kZXRhaWxlZFN0YXJMYXllclZpZXcgPSB2aWV3O1xyXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2godGhpcy5kZXRhaWxlZFN0YXJMYXllclZpZXcpO1xyXG4gICAgICAgICAgICB0aGlzLnRyaWdnZXJVcGRhdGVMYXlvdXQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5kZXRhaWxlZFN0YXJMYXllclZpZXcuc3RhckxheWVyICE9IHN0YXJMYXllcikge1xyXG4gICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnJlbW92ZUl0ZW0odGhpcy5kZXRhaWxlZFN0YXJMYXllclZpZXcpO1xyXG4gICAgICAgICAgICB0aGlzLmRldGFpbGVkU3RhckxheWVyVmlldyA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgdmFyIHZpZXcgPSBuZXcgU3RhckxheWVyVmlldyhzdGFyTGF5ZXIpO1xyXG4gICAgICAgICAgICB0aGlzLmRldGFpbGVkU3RhckxheWVyVmlldyA9IHZpZXc7XHJcbiAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaCh0aGlzLmRldGFpbGVkU3RhckxheWVyVmlldyk7XHJcbiAgICAgICAgICAgIHRoaXMudHJpZ2dlclVwZGF0ZUxheW91dCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5yZW1vdmVJdGVtKHRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3KTtcclxuICAgICAgICAgICAgdGhpcy5kZXRhaWxlZFN0YXJMYXllclZpZXcgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgc2hvd0hpZGVPdmVybGF5Q2xpY2tlZCA9IChzZW5kZXI6IENvbnRyb2wpID0+IHtcclxuICAgICAgICBpZiAodGhpcy52aWV3TW9kZWwuc3RhdGUgPT0gU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUudmlzaWJsZSkge1xyXG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLmJlZm9yZVZpc2libGUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUudmlzaWJsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVMYXlvdXQoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGJvdW5kczogUmVjdGFuZ2xlKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIudXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuICAgICAgICB0aGlzLnNob3dPdmVyTGF5ZXJCdXR0b24udXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuICAgICAgICB2YXIgc3BhY2UgPSB0aGlzLnNob3dPdmVyTGF5ZXJCdXR0b24uZGltZW5zaW9ucy5oZWlnaHQgKiAyO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ3NMaXN0LnVwZGF0ZUxheW91dChjdHgsIG5ldyBSZWN0YW5nbGUoYm91bmRzLngsIGJvdW5kcy55ICsgc3BhY2UsIGJvdW5kcy53aWR0aCwgYm91bmRzLmhlaWdodCAtIHNwYWNlKSk7XHJcbiAgICAgICAgaWYgKHRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3LnVwZGF0ZUxheW91dChjdHgsIG5ldyBSZWN0YW5nbGUoYm91bmRzLnggKyB0aGlzLnNldHRpbmdzTGlzdC5kaW1lbnNpb25zLndpZHRoLCBib3VuZHMueSArIHNwYWNlLCBib3VuZHMud2lkdGgsIGJvdW5kcy5oZWlnaHQgLSBzcGFjZSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgbW91c2VNb3ZlID0gKGV2OiBNb3VzZUV2ZW50KSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMudmlld01vZGVsLnN0YXRlID09IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLmhpZGRlbiB8fCB0aGlzLnZpZXdNb2RlbC5zdGF0ZSA9PSBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS5iZWZvcmVWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUuYmVmb3JlVmlzaWJsZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN1cGVyLm1vdXNlTW92ZShldik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG1vdXNlSW5hY3Rpdml0eUhhbmRsZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKERhdGUubm93KCkgLSB0aGlzLmxhc3RNb3ZlZCA+PSB0aGlzLmluYWN0aXZpdHlUaW1lb3V0KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnZpZXdNb2RlbC5zdGF0ZSA9PSBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS5iZWZvcmVWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLmhpZGRlbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KHRoaXMubW91c2VJbmFjdGl2aXR5SGFuZGxlciwgdGhpcy5pbmFjdGl2aXR5VGltZW91dCAtIChEYXRlLm5vdygpIC0gdGhpcy5sYXN0TW92ZWQpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBzZXRTdGF0ZSA9IChzdGF0ZTogU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUpID0+IHtcclxuICAgICAgICBzd2l0Y2ggKHN0YXRlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUuaGlkZGVuOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5yZW1vdmVJdGVtKHRoaXMuc2hvd092ZXJMYXllckJ1dHRvbik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdNb2RlbC5zdGF0ZSA9IFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLmhpZGRlbjtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFNldHRpbmdzT3ZlcmxheVZpZXdNb2RlbFN0YXRlLmJlZm9yZVZpc2libGU6XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RNb3ZlZCA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy52aWV3TW9kZWwuc3RhdGUgPT0gU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUuaGlkZGVuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCh0aGlzLm1vdXNlSW5hY3Rpdml0eUhhbmRsZXIsIHRoaXMuaW5hY3Rpdml0eVRpbWVvdXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4uYWRkSXRlbUlmTm90RXhpc3RzKHRoaXMuc2hvd092ZXJMYXllckJ1dHRvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy52aWV3TW9kZWwuc3RhdGUgPT0gU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUudmlzaWJsZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQodGhpcy5tb3VzZUluYWN0aXZpdHlIYW5kbGVyLCB0aGlzLmluYWN0aXZpdHlUaW1lb3V0KTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoaWxkcmVuLnJlbW92ZUl0ZW1JZkV4aXN0cyh0aGlzLnNldHRpbmdzTGlzdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5yZW1vdmVJdGVtSWZFeGlzdHModGhpcy5kZXRhaWxlZFN0YXJMYXllclZpZXcpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGV0YWlsZWRTdGFyTGF5ZXJWaWV3ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3TW9kZWwuc3RhdGUgPSBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS5iZWZvcmVWaXNpYmxlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUudmlzaWJsZTpcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnZpZXdNb2RlbC5zdGF0ZSA9PSBTZXR0aW5nc092ZXJsYXlWaWV3TW9kZWxTdGF0ZS5iZWZvcmVWaXNpYmxlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKHRoaXMuc2V0dGluZ3NMaXN0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMudmlld01vZGVsLnN0YXRlID0gU2V0dGluZ3NPdmVybGF5Vmlld01vZGVsU3RhdGUudmlzaWJsZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCB7IEFwcCB9IGZyb20gXCIuLi9hcHBcIjtcclxuaW1wb3J0IHsgU3RhckxheWVyIH0gZnJvbSBcIi4uL21vZGVscy9zdGFyTGF5ZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTdGFyTGF5ZXJBbmltYXRvciB7XHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgc3RhckxheWVyOiBTdGFyTGF5ZXIpIHtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlID0gKHRpbWVEaWZmOiBudW1iZXIpID0+IHtcclxuICAgICAgICBmb3IgKGNvbnN0IHN0YXIgb2YgdGhpcy5zdGFyTGF5ZXIuc3RhcnMpIHtcclxuICAgICAgICAgICAgc3Rhci54ICs9IHRoaXMuc3RhckxheWVyLnNwZWVkICogdGltZURpZmY7XHJcbiAgICAgICAgICAgIGlmIChzdGFyLnggPiBBcHAuc2V0dGluZ3Mud2lkdGgpIHtcclxuICAgICAgICAgICAgICAgIHN0YXIueCAtPSBBcHAuc2V0dGluZ3Mud2lkdGg7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgRGluamVjdCB7XHJcbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZXM6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPSB7fVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgYWRkSW5zdGFuY2UgPSAobmFtZTogc3RyaW5nLCBpbnN0YW5jZTogYW55KSA9PiB7XHJcbiAgICAgICAgRGluamVjdC5pbnN0YW5jZXNbbmFtZV0gPSBpbnN0YW5jZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlID0gPFQ+KG5hbWU6IHN0cmluZyk6IFQgPT4ge1xyXG4gICAgICAgIHJldHVybiA8VD5EaW5qZWN0Lmluc3RhbmNlc1tuYW1lXTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IExheW91dFZpZXcgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9sYXlvdXRDb250cm9scy9sYXlvdXRWaWV3XCI7XHJcblxyXG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9jb250cm9scy9idXR0b25cIjtcclxuaW1wb3J0IHsgVmVydGljYWxBbGlnbmVtZW50T3B0aW9uIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvYWxpZ25lbWVudC92ZXJ0aWNhbEFsaWduZW1lbnRPcHRpb25cIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IExpc3RWaWV3IH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGlzdFZpZXdcIjtcclxuaW1wb3J0IHsgT3JpZW50YXRpb24gfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9hbGlnbmVtZW50L29yaWVudGF0aW9uXCI7XHJcbmltcG9ydCB7IERpbmplY3QgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9kaW5qZWN0XCI7XHJcbmltcG9ydCB7IEF1ZGlvTWFuYWdlciB9IGZyb20gXCIuLi9hdWRpb01hbmFnZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQbGF5ZXJWaWV3IGV4dGVuZHMgTGF5b3V0VmlldyB7XHJcblxyXG4gICAgcHJpdmF0ZSBwbGF5SWNvblRleHQgPSBcIlxcdWYwNGJcIlxyXG4gICAgcHJpdmF0ZSBwYXVzZUljb25UZXh0ID0gXCJcXHVmMDRjXCJcclxuICAgIHByaXZhdGUgc3RvcEljb25UZXh0ID0gXCJcXHVmMDRkXCJcclxuICAgIHByaXZhdGUgbmV4dEljb25UZXh0ID0gXCJcXHVmMDUxXCJcclxuICAgIHByaXZhdGUgcHJldmlvdXNJY29uVGV4dCA9IFwiXFx1ZjA0OFwiXHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuXHJcbiAgICAgICAgdmFyIGF1ZGlvTWFuYWdlcjogQXVkaW9NYW5hZ2VyID0gRGluamVjdC5nZXRJbnN0YW5jZShcImF1ZGlvXCIpO1xyXG5cclxuICAgICAgICB2YXIgbGlzdFZpZXcgPSBuZXcgTGlzdFZpZXcoKTtcclxuICAgICAgICBsaXN0Vmlldy5hbGlnbmVtZW50LnZlcnRpY2FsQWxpZ24gPSBWZXJ0aWNhbEFsaWduZW1lbnRPcHRpb24uQm90dG9tO1xyXG4gICAgICAgIGxpc3RWaWV3LmFsaWduZW1lbnQubWFyZ2luLmJvdHRvbSA9IDEwO1xyXG4gICAgICAgIGxpc3RWaWV3LnByb3BlcnRpZXMub3JpZW50YXRpb24gPSBPcmllbnRhdGlvbi5Ib3Jpem9udGFsO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaChsaXN0Vmlldyk7XHJcblxyXG4gICAgICAgIHZhciBwbGF5UGF1c2VCdG4gPSBuZXcgQnV0dG9uKCk7XHJcbiAgICAgICAgcGxheVBhdXNlQnRuLnByb3BlcnRpZXMuZm9udFByZWZpeCA9IFwiOTAwXCJcclxuICAgICAgICBwbGF5UGF1c2VCdG4ucHJvcGVydGllcy5mb250RmFtaWx5ID0gXCInRm9udCBBd2Vzb21lIDUgRnJlZSdcIlxyXG4gICAgICAgIHBsYXlQYXVzZUJ0bi50ZXh0ID0gdGhpcy5wbGF5SWNvblRleHQ7XHJcbiAgICAgICAgcGxheVBhdXNlQnRuLmNsaWNrZWQuYWRkRXZlbnRMaXN0ZW5lcigoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChwbGF5UGF1c2VCdG4udGV4dCA9PSB0aGlzLnBsYXlJY29uVGV4dCkge1xyXG4gICAgICAgICAgICAgICAgYXVkaW9NYW5hZ2VyLnBsYXkoKTtcclxuICAgICAgICAgICAgICAgIHBsYXlQYXVzZUJ0bi50ZXh0ID0gdGhpcy5wYXVzZUljb25UZXh0O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgYXVkaW9NYW5hZ2VyLnBhdXNlKCk7XHJcbiAgICAgICAgICAgICAgICBwbGF5UGF1c2VCdG4udGV4dCA9IHRoaXMucGxheUljb25UZXh0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbGlzdFZpZXcuYWRkSXRlbShwbGF5UGF1c2VCdG4pO1xyXG5cclxuICAgICAgICB2YXIgc3RvcEJ0biA9IG5ldyBCdXR0b24oKTtcclxuICAgICAgICBzdG9wQnRuLnByb3BlcnRpZXMuZm9udFByZWZpeCA9IFwiOTAwXCJcclxuICAgICAgICBzdG9wQnRuLnByb3BlcnRpZXMuZm9udEZhbWlseSA9IFwiJ0ZvbnQgQXdlc29tZSA1IEZyZWUnXCJcclxuICAgICAgICBzdG9wQnRuLnRleHQgPSB0aGlzLnN0b3BJY29uVGV4dDtcclxuICAgICAgICBzdG9wQnRuLmNsaWNrZWQuYWRkRXZlbnRMaXN0ZW5lcigoKSA9PiB7XHJcbiAgICAgICAgICAgIGF1ZGlvTWFuYWdlci5zdG9wKCk7XHJcbiAgICAgICAgICAgIGlmIChwbGF5UGF1c2VCdG4udGV4dCA9PSB0aGlzLnBhdXNlSWNvblRleHQpIHtcclxuICAgICAgICAgICAgICAgIHBsYXlQYXVzZUJ0bi50ZXh0ID0gdGhpcy5wbGF5SWNvblRleHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBsaXN0Vmlldy5hZGRJdGVtKHN0b3BCdG4pO1xyXG5cclxuICAgICAgICB2YXIgcHJldmlvdXNCdG4gPSBuZXcgQnV0dG9uKCk7XHJcbiAgICAgICAgcHJldmlvdXNCdG4ucHJvcGVydGllcy5mb250UHJlZml4ID0gXCI5MDBcIlxyXG4gICAgICAgIHByZXZpb3VzQnRuLnByb3BlcnRpZXMuZm9udEZhbWlseSA9IFwiJ0ZvbnQgQXdlc29tZSA1IEZyZWUnXCJcclxuICAgICAgICBwcmV2aW91c0J0bi50ZXh0ID0gdGhpcy5wcmV2aW91c0ljb25UZXh0O1xyXG4gICAgICAgIHByZXZpb3VzQnRuLmNsaWNrZWQuYWRkRXZlbnRMaXN0ZW5lcigoKSA9PiB7XHJcbiAgICAgICAgICAgIGF1ZGlvTWFuYWdlci5wcmV2aW91cygpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGxpc3RWaWV3LmFkZEl0ZW0ocHJldmlvdXNCdG4pO1xyXG5cclxuICAgICAgICB2YXIgbmV4dEJ0biA9IG5ldyBCdXR0b24oKTtcclxuICAgICAgICBuZXh0QnRuLnByb3BlcnRpZXMuZm9udFByZWZpeCA9IFwiOTAwXCJcclxuICAgICAgICBuZXh0QnRuLnByb3BlcnRpZXMuZm9udEZhbWlseSA9IFwiJ0ZvbnQgQXdlc29tZSA1IEZyZWUnXCJcclxuICAgICAgICBuZXh0QnRuLnRleHQgPSB0aGlzLm5leHRJY29uVGV4dDtcclxuICAgICAgICBuZXh0QnRuLmNsaWNrZWQuYWRkRXZlbnRMaXN0ZW5lcigoKSA9PiB7XHJcbiAgICAgICAgICAgIGF1ZGlvTWFuYWdlci5uZXh0KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbGlzdFZpZXcuYWRkSXRlbShuZXh0QnRuKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSkge1xyXG4gICAgICAgIHN1cGVyLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiB0aGlzLmNoaWxkcmVuKSB7XHJcbiAgICAgICAgICAgIGNoaWxkLnVwZGF0ZUxheW91dChjdHgsIHRoaXMuYm91bmRzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBJbWFnZVNjYWxpbmdNb2RlIH0gZnJvbSBcIi4vaW1hZ2VTY2FsaW5nTW9kZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEltYWdlUHJvcGVydGllcyB7XHJcbiAgICBwdWJsaWMgaW1hZ2VTY2FsaW5nTW9kZSA9IEltYWdlU2NhbGluZ01vZGUuRml0QW5kU3BhY2U7XHJcbiAgICBwdWJsaWMgc2NhbGUgPSAxO1xyXG59IiwiaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uL2dlb21ldHJ5L3JlY3RhbmdsZVwiO1xyXG5pbXBvcnQgeyBDb250cm9sIH0gZnJvbSBcIi4vY29udHJvbFwiO1xyXG5pbXBvcnQgeyBJbWFnZVByb3BlcnRpZXMgfSBmcm9tIFwiLi9pbWFnZVByb3BlcnRpZXNcIjtcclxuaW1wb3J0IHsgSW1hZ2VTY2FsaW5nTW9kZSB9IGZyb20gXCIuL2ltYWdlU2NhbGluZ01vZGVcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBFSW1hZ2UgZXh0ZW5kcyBDb250cm9sIHtcclxuICAgIHByaXZhdGUgaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQ7XHJcbiAgICBwdWJsaWMgcHJvcGVydGllcyA9IG5ldyBJbWFnZVByb3BlcnRpZXMoKTtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihpbWFnZTogSFRNTEltYWdlRWxlbWVudCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5pbWFnZSA9IGltYWdlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdGF0aWMgY3JlYXRlRnJvbVVybCA9IChpbWFnZVVybDogc3RyaW5nKTogUHJvbWlzZTxFSW1hZ2U+ID0+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuICAgICAgICAgICAgaW1hZ2Uuc3JjID0gaW1hZ2VVcmw7XHJcbiAgICAgICAgICAgIGltYWdlLm9ubG9hZCA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUobmV3IEVJbWFnZShpbWFnZSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbmRlciA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCkgPT4ge1xyXG4gICAgICAgIHN1cGVyLnJlbmRlcihjdHgpO1xyXG5cclxuICAgICAgICBjdHguZHJhd0ltYWdlKHRoaXMuaW1hZ2UsIHRoaXMuZGltZW5zaW9ucy54LCB0aGlzLmRpbWVuc2lvbnMueSwgdGhpcy5kaW1lbnNpb25zLndpZHRoLCB0aGlzLmRpbWVuc2lvbnMuaGVpZ2h0KTtcclxuICAgICAgICBpZiAodGhpcy5pc01vdXNlT3ZlciAmJiB0aGlzLmlzRW5hYmxlZCkge1xyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gXCJyZ2JhKDI1NSwyNTUsMjU1LDAuNSlcIjtcclxuICAgICAgICAgICAgY3R4LmZpbGxSZWN0KHRoaXMuZGltZW5zaW9ucy54LCB0aGlzLmRpbWVuc2lvbnMueSwgdGhpcy5kaW1lbnNpb25zLndpZHRoLCB0aGlzLmRpbWVuc2lvbnMuaGVpZ2h0KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHVwZGF0ZUxheW91dChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgYm91bmRzOiBSZWN0YW5nbGUpOiB2b2lkIHtcclxuICAgICAgICBzdXBlci51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG5cclxuICAgICAgICB2YXIgZml0U2NhbGUgPSAxO1xyXG5cclxuICAgICAgICB2YXIgaW1hZ2VTaXppbmcgPSB0aGlzLmltYWdlLm5hdHVyYWxXaWR0aCAvIHRoaXMuaW1hZ2UubmF0dXJhbEhlaWdodDtcclxuICAgICAgICB2YXIgc3RhZ2VTaXppbmcgPSBib3VuZHMud2lkdGggLyBib3VuZHMuaGVpZ2h0O1xyXG5cclxuICAgICAgICB2YXIgaXNJbWFnZVdpZGVyID0gaW1hZ2VTaXppbmcgPiBzdGFnZVNpemluZztcclxuXHJcbiAgICAgICAgc3dpdGNoICh0aGlzLnByb3BlcnRpZXMuaW1hZ2VTY2FsaW5nTW9kZSkge1xyXG4gICAgICAgICAgICBjYXNlIEltYWdlU2NhbGluZ01vZGUuRml0QW5kT3ZlcmZpbGw6XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNJbWFnZVdpZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZml0U2NhbGUgPSBib3VuZHMuaGVpZ2h0IC8gdGhpcy5pbWFnZS5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGZpdFNjYWxlID0gYm91bmRzLndpZHRoIC8gdGhpcy5pbWFnZS53aWR0aDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIEltYWdlU2NhbGluZ01vZGUuRml0QW5kU3BhY2U6XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNJbWFnZVdpZGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZml0U2NhbGUgPSBib3VuZHMud2lkdGggLyB0aGlzLmltYWdlLndpZHRoO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBmaXRTY2FsZSA9IGJvdW5kcy5oZWlnaHQgLyB0aGlzLmltYWdlLmhlaWdodDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHdpZHRoID0gdGhpcy5pbWFnZS5uYXR1cmFsV2lkdGggKiBmaXRTY2FsZTtcclxuICAgICAgICB2YXIgaGVpZ2h0ID0gdGhpcy5pbWFnZS5uYXR1cmFsSGVpZ2h0ICogZml0U2NhbGU7XHJcblxyXG4gICAgICAgIHRoaXMuZGltZW5zaW9ucy54ID0gdGhpcy5hbGlnbmVtZW50LmNhbGN1bGF0ZURpbWVuc2lvbnNYKGJvdW5kcywgd2lkdGgpO1xyXG4gICAgICAgIHRoaXMuZGltZW5zaW9ucy55ID0gdGhpcy5hbGlnbmVtZW50LmNhbGN1bGF0ZURpbWVuc2lvbnNZKGJvdW5kcywgd2lkdGgpO1xyXG4gICAgICAgIHRoaXMuZGltZW5zaW9ucy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIHRoaXMuZGltZW5zaW9ucy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBMYXlvdXRWaWV3IH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGF5b3V0Vmlld1wiO1xyXG5pbXBvcnQgeyBEaW5qZWN0IH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvZGluamVjdFwiO1xyXG5pbXBvcnQgeyBBc3NldE1hbmFnZXIgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9hc3NldE1hbmFnZXJcIjtcclxuaW1wb3J0IHsgRUltYWdlIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvY29udHJvbHMvaW1hZ2VcIjtcclxuaW1wb3J0IHsgUmVjdGFuZ2xlIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvZ2VvbWV0cnkvcmVjdGFuZ2xlXCI7XHJcbmltcG9ydCB7IEltYWdlU2NhbGluZ01vZGUgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy91aS9jb250cm9scy9pbWFnZVNjYWxpbmdNb2RlXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgQmFja2dyb3VuZEltYWdlVmlldyBleHRlbmRzIExheW91dFZpZXcge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB2YXIgYXNzZXRNYW5hZ2VyID0gRGluamVjdC5nZXRJbnN0YW5jZShcImFzc2V0c1wiKSBhcyBBc3NldE1hbmFnZXI7XHJcbiAgICAgICAgdmFyIGJhY2tncm91bmQgPSBhc3NldE1hbmFnZXIuZ2V0SW1hZ2UoXCJiYWNrZ3JvdW5kXCIpO1xyXG5cclxuICAgICAgICB2YXIgaW1hZ2UgPSBuZXcgRUltYWdlKGJhY2tncm91bmQpXHJcbiAgICAgICAgaW1hZ2UuZGlzYWJsZU1vdXNlRXZlbnRzKCk7XHJcbiAgICAgICAgaW1hZ2UucHJvcGVydGllcy5pbWFnZVNjYWxpbmdNb2RlID0gSW1hZ2VTY2FsaW5nTW9kZS5GaXRBbmRPdmVyZmlsbDtcclxuICAgICAgICB0aGlzLmNoaWxkcmVuLnB1c2goaW1hZ2UpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyB1cGRhdGVMYXlvdXQoY3R4OiBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQsIGJvdW5kczogUmVjdGFuZ2xlKTogdm9pZCB7XHJcbiAgICAgICAgc3VwZXIudXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHRoaXMuY2hpbGRyZW4pIHtcclxuICAgICAgICAgICAgY2hpbGQudXBkYXRlTGF5b3V0KGN0eCwgYm91bmRzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBMYXlvdXRWaWV3IH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvdWkvbGF5b3V0Q29udHJvbHMvbGF5b3V0Vmlld1wiO1xyXG5pbXBvcnQgeyBSZWN0YW5nbGUgfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9nZW9tZXRyeS9yZWN0YW5nbGVcIjtcclxuaW1wb3J0IHsgU3RhckxheWVyRHJhd2VyIH0gZnJvbSBcIi4vc3RhckxheWVyRHJhd2VyXCI7XHJcbmltcG9ydCB7IFNldHRpbmdzT3ZlcmxheVZpZXcgfSBmcm9tIFwiLi9vdmVybGF5L3NldHRpbmdzT3ZlcmxheVZpZXdcIjtcclxuaW1wb3J0IHsgQXBwIH0gZnJvbSBcIi4uL2FwcFwiO1xyXG5pbXBvcnQgeyBTdGFyTGF5ZXJBbmltYXRvciB9IGZyb20gXCIuL3N0YXJMYXllckFuaW1hdG9yXCI7XHJcbmltcG9ydCB7IEVBbmltYXRpb24gfSBmcm9tIFwiLi4vLi4vZW5jL3NyYy9lQW5pbWF0aW9uXCI7XHJcbmltcG9ydCB7IFNldHRpbmdPcGVyYXRpb24gfSBmcm9tIFwiLi4vc2V0dGluZ3Mvc2V0dGluZ09wZXJhdGlvblwiO1xyXG5pbXBvcnQgeyBEaW5qZWN0IH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvZGluamVjdFwiO1xyXG5pbXBvcnQgeyBQbGF5ZXJWaWV3IH0gZnJvbSBcIi4vcGxheWVyVmlld1wiO1xyXG5pbXBvcnQgeyBCYWNrZ3JvdW5kSW1hZ2VWaWV3IH0gZnJvbSBcIi4vYmFja2dyb3VuZEltYWdlVmlld1wiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEluc3BpZXJ0eVBsYXllclZpZXcgZXh0ZW5kcyBMYXlvdXRWaWV3IHtcclxuICAgIHByaXZhdGUgc3RhckxheWVyczogU3RhckxheWVyRHJhd2VyW10gPSBbXTtcclxuICAgIHByaXZhdGUgc3RhckFuaW1hdG9yczogU3RhckxheWVyQW5pbWF0b3JbXSA9IFtdO1xyXG4gICAgcHJpdmF0ZSBzZXR0aW5nc092ZXJsYXk6IFNldHRpbmdzT3ZlcmxheVZpZXc7XHJcblxyXG4gICAgcHJpdmF0ZSBhbmltYXRpb246IEVBbmltYXRpb247XHJcbiAgICBwbGF5ZXJWaWV3OiBQbGF5ZXJWaWV3O1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcblxyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uID0gRGluamVjdC5nZXRJbnN0YW5jZShcImFuaW1hdGlvblwiKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXR0aW5nc092ZXJsYXkgPSBuZXcgU2V0dGluZ3NPdmVybGF5VmlldygpO1xyXG4gICAgICAgIHRoaXMucGxheWVyVmlldyA9IG5ldyBQbGF5ZXJWaWV3KCk7XHJcbiAgICAgICAgdGhpcy5jaGlsZHJlbi5wdXNoKG5ldyBCYWNrZ3JvdW5kSW1hZ2VWaWV3KCkpO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaCh0aGlzLnBsYXllclZpZXcpO1xyXG4gICAgICAgIHRoaXMuY2hpbGRyZW4ucHVzaCh0aGlzLnNldHRpbmdzT3ZlcmxheSk7XHJcbiAgICAgICAgQXBwLnNldHRpbmdNYW5hZ2VyLnVwZGF0ZS5hZGRFdmVudExpc3RlbmVyKHRoaXMuYXBwU2V0dGluZ3NVcGRhdGVkKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFwcFNldHRpbmdzVXBkYXRlZCA9IChvcGVyYXRpb246IFNldHRpbmdPcGVyYXRpb24pID0+IHtcclxuICAgICAgICBzd2l0Y2ggKG9wZXJhdGlvbikge1xyXG4gICAgICAgICAgICBjYXNlIFNldHRpbmdPcGVyYXRpb24uQWRkU3RhckxheWVyOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRTdGFyTGF5ZXIoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIFNldHRpbmdPcGVyYXRpb24uUmVtb3ZlU3RhckxheWVyOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVTdGFyTGF5ZXIoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkU3RhckxheWVyID0gKCkgPT4ge1xyXG4gICAgICAgIGZvciAoY29uc3Qgc3RhckxheWVyIG9mIEFwcC5zZXR0aW5ncy5zdGFyTGF5ZXJzKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXJMYXllcnMuZmlyc3RPckRlZmF1bHQoeCA9PiB4LnN0YXJMYXllciA9PSBzdGFyTGF5ZXIpID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHZhciBsYXllciA9IG5ldyBTdGFyTGF5ZXJEcmF3ZXIoc3RhckxheWVyKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhckxheWVycy5wdXNoKGxheWVyKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKDEsIDAsIGxheWVyKTtcclxuICAgICAgICAgICAgICAgIHRoaXMudHJpZ2dlclVwZGF0ZUxheW91dCgpO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBhbmltYXRvciA9IG5ldyBTdGFyTGF5ZXJBbmltYXRvcihzdGFyTGF5ZXIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb24uYWRkVXBkYXRlRnVuY3Rpb24oYW5pbWF0b3IudXBkYXRlKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RhckFuaW1hdG9ycy5wdXNoKGFuaW1hdG9yKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVTdGFyTGF5ZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgZm9yIChjb25zdCBzdGFyTGF5ZXJEcmF3cyBvZiB0aGlzLnN0YXJMYXllcnMpIHtcclxuICAgICAgICAgICAgaWYgKEFwcC5zZXR0aW5ncy5zdGFyTGF5ZXJzLmZpcnN0T3JEZWZhdWx0KHggPT4geCA9PSBzdGFyTGF5ZXJEcmF3cy5zdGFyTGF5ZXIpID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhbmltYXRvciA9IHRoaXMuc3RhckFuaW1hdG9ycy5maXJzdCh4ID0+IHguc3RhckxheWVyID09IHN0YXJMYXllckRyYXdzLnN0YXJMYXllcik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFuaW1hdGlvbi5yZW1vdmVVcGRhdGVGdW5jdGlvbihhbmltYXRvci51cGRhdGUpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFyQW5pbWF0b3JzLnJlbW92ZUl0ZW0oYW5pbWF0b3IpO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4ucmVtb3ZlKHggPT4geCA9PSBzdGFyTGF5ZXJEcmF3cyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJMYXllcnMucmVtb3ZlKHggPT4geCA9PSBzdGFyTGF5ZXJEcmF3cyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnRyaWdnZXJVcGRhdGVMYXlvdXQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgdXBkYXRlTGF5b3V0KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJELCBib3VuZHM6IFJlY3RhbmdsZSk6IHZvaWQge1xyXG4gICAgICAgIHN1cGVyLnVwZGF0ZUxheW91dChjdHgsIGJvdW5kcyk7XHJcblxyXG4gICAgICAgIGZvciAoY29uc3QgY2hpbGQgb2YgdGhpcy5jaGlsZHJlbikge1xyXG4gICAgICAgICAgICBjaGlsZC51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBmb3IgKGNvbnN0IGxheWVyIG9mIHRoaXMuc3RhckxheWVycykge1xyXG4gICAgICAgIC8vICAgICBsYXllci51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyB0aGlzLnNldHRpbmdzT3ZlcmxheS51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG4gICAgICAgIC8vIHRoaXMucGxheWVyVmlldy51cGRhdGVMYXlvdXQoY3R4LCBib3VuZHMpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgU3RhciB9IGZyb20gXCIuL3N0YXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTdGFyTGF5ZXIge1xyXG4gICAgcHVibGljIHN0YXJzOiBTdGFyW10gPSBbXTtcclxuICAgIHB1YmxpYyBzcGVlZCA9IE1hdGgucmFuZG9tKCkgKiAyMCArIDU7XHJcbn0iLCJleHBvcnQgdHlwZSBVcGRhdGVGdW5jdGlvbiA9ICh0aW1lRGlmZjogbnVtYmVyKSA9PiB2b2lkO1xyXG5cclxuZXhwb3J0IGNsYXNzIEVBbmltYXRpb24ge1xyXG4gICAgcHJpdmF0ZSB1cGRhdGVGdW5jdGlvbnM6IFVwZGF0ZUZ1bmN0aW9uW10gPSBbXTtcclxuICAgIHByaXZhdGUgaXNSdW5uaW5nID0gZmFsc2U7XHJcbiAgICBwcml2YXRlIGxhc3RGcmFtZVRpbWU6IG51bWJlcjtcclxuICAgIHByaXZhdGUgZnBzOiBudW1iZXI7XHJcbiAgICBwcml2YXRlIGZwc0ludGVydmFsOiBudW1iZXI7XHJcblxyXG4gICAgcHVibGljIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuc2V0RnBzKDMwKTtcclxuICAgICAgICB0aGlzLnBsYXkoKTtcclxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSA9PSA4MCkgeyAvLyBwXHJcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXlQYXVzZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBsYXkoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzUnVubmluZykge1xyXG4gICAgICAgICAgICB0aGlzLmlzUnVubmluZyA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdEZyYW1lVGltZSA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uTG9vcCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGF1c2UoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNSdW5uaW5nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaXNSdW5uaW5nID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwbGF5UGF1c2UoKSB7XHJcbiAgICAgICAgdGhpcy5pc1J1bm5pbmcgPyB0aGlzLnBhdXNlKCkgOiB0aGlzLnBsYXkoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkVXBkYXRlRnVuY3Rpb24gPSAoZnVuYzogVXBkYXRlRnVuY3Rpb24pID0+IHtcclxuICAgICAgICB0aGlzLnVwZGF0ZUZ1bmN0aW9ucy5wdXNoKGZ1bmMpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVVcGRhdGVGdW5jdGlvbiA9IChmdW5jOiBVcGRhdGVGdW5jdGlvbikgPT4ge1xyXG4gICAgICAgIHRoaXMudXBkYXRlRnVuY3Rpb25zLnNwbGljZSh0aGlzLnVwZGF0ZUZ1bmN0aW9ucy5pbmRleE9mKGZ1bmMpLCAxKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0RnBzID0gKGZwczogbnVtYmVyKSA9PiB7XHJcbiAgICAgICAgdGhpcy5mcHMgPSBmcHM7XHJcbiAgICAgICAgdGhpcy5mcHNJbnRlcnZhbCA9IDEwMDAgLyB0aGlzLmZwcztcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGFuaW1hdGlvbkxvb3AgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNSdW5uaW5nKSB7XHJcbiAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLmFuaW1hdGlvbkxvb3ApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIG5vdyA9IERhdGUubm93KCk7XHJcbiAgICAgICAgdmFyIGVsYXBzZWQgPSBub3cgLSB0aGlzLmxhc3RGcmFtZVRpbWU7XHJcblxyXG4gICAgICAgIGlmIChlbGFwc2VkID4gdGhpcy5mcHNJbnRlcnZhbCkge1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RGcmFtZVRpbWUgPSBub3c7XHJcbiAgICAgICAgICAgIHZhciB0aW1lRGlmZiA9IGVsYXBzZWQgLyAxMDAwO1xyXG5cclxuICAgICAgICAgICAgZm9yIChjb25zdCB1cGRhdGVGdW5jdGlvbiBvZiB0aGlzLnVwZGF0ZUZ1bmN0aW9ucykge1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlRnVuY3Rpb24odGltZURpZmYpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNsYXNzIENhbnZhc0hlbHBlciB7XHJcbiAgICBwdWJsaWMgbG9hZEZvbnRhd2Vzb21lRnJlZSA9ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5sb2FkRm9udChcIlxcdWYyNDRcIiwgXCJcXHVmMjQwXCIsIFwiOTAwIDIwcHggJ0ZvbnQgQXdlc29tZSA1IEZyZWUnXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBsb2FkRm9udGF3ZXNvbWVCcmFuZHMgPSAoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubG9hZEZvbnQoXCJcXHVmM2QzXCIsIFwiXFx1ZjNiOFwiLCBcIjQwMCAyMHB4ICdGb250IEF3ZXNvbWUgNSBCcmFuZHMnXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgY291bnRQaXhlbHMgPSAoaW1hZ2VEYXRhOiBJbWFnZURhdGEpID0+IHtcclxuICAgICAgICB2YXIgcGl4ZWxDb3VudCA9IDA7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbWFnZURhdGEuZGF0YS5sZW5ndGg7IGkgPSBpICsgNCkge1xyXG4gICAgICAgICAgICB2YXIgciA9IGltYWdlRGF0YS5kYXRhW2ldO1xyXG4gICAgICAgICAgICB2YXIgZyA9IGltYWdlRGF0YS5kYXRhW2kgKyAxXTtcclxuICAgICAgICAgICAgdmFyIGIgPSBpbWFnZURhdGEuZGF0YVtpICsgMl07XHJcbiAgICAgICAgICAgIHZhciBhID0gaW1hZ2VEYXRhLmRhdGFbaSArIDNdO1xyXG5cclxuICAgICAgICAgICAgaWYgKHIgPCA1MCAmJiBnIDwgNTAgJiYgYiA8IDUwICYmIGEgPiAwLjkpIHtcclxuICAgICAgICAgICAgICAgIHBpeGVsQ291bnQrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcGl4ZWxDb3VudFxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0SWNvblBpeGVscyA9IChjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCwgY2FudmFzOiBIVE1MQ2FudmFzRWxlbWVudCwgaWNvbjogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xyXG4gICAgICAgIGN0eC5maWxsVGV4dChpY29uLCAwLCAwKTtcclxuICAgICAgICB2YXIgaW1hZ2VEYXRhID0gY3R4LmdldEltYWdlRGF0YSgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xyXG4gICAgICAgIHZhciBpY29uMVBpeGVsQ291bnQgPSB0aGlzLmNvdW50UGl4ZWxzKGltYWdlRGF0YSk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJpY29uIDEgcGl4ZWwgY291bnQ6IFwiICsgaWNvbjFQaXhlbENvdW50KTtcclxuICAgICAgICByZXR1cm4gaWNvbjFQaXhlbENvdW50O1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgbG9hZEZvbnQgPSAoaWNvbjE6IHN0cmluZywgaWNvbjI6IHN0cmluZywgZm9udDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgdmFyIHJldHJ5RGVsYXlNcyA9IDUwMDtcclxuICAgICAgICB2YXIgcmV0cmllcyA9IDEwXHJcblxyXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwibG9hZGluZyBmb250IFxcXCJcIiArIGZvbnQgKyBcIlxcXCJcIik7XHJcblxyXG4gICAgICAgICAgICB2YXIgdGVtcENhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xyXG4gICAgICAgICAgICB0ZW1wQ2FudmFzLndpZHRoID0gMjA7XHJcbiAgICAgICAgICAgIHRlbXBDYW52YXMuaGVpZ2h0ID0gMjA7XHJcbiAgICAgICAgICAgIHZhciB0ZW1wQ3R4ID0gdGVtcENhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgICAgICAgICB0ZW1wQ3R4LmZvbnQgPSBmb250O1xyXG4gICAgICAgICAgICB0ZW1wQ3R4LmZpbGxTdHlsZSA9IFwiYmxhY2tcIjtcclxuICAgICAgICAgICAgdGVtcEN0eC50ZXh0QWxpZ24gPSBcImxlZnRcIjtcclxuICAgICAgICAgICAgdGVtcEN0eC50ZXh0QmFzZWxpbmUgPSBcInRvcFwiO1xyXG5cclxuICAgICAgICAgICAgdmFyIGNoZWNrTG9hZGVkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIGljb24xUGl4ZWxDb3VudCA9IHRoaXMuZ2V0SWNvblBpeGVscyh0ZW1wQ3R4LCB0ZW1wQ2FudmFzLCBpY29uMSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgaWNvbjJQaXhlbENvdW50ID0gdGhpcy5nZXRJY29uUGl4ZWxzKHRlbXBDdHgsIHRlbXBDYW52YXMsIGljb24yKTtcclxuXHJcbiAgICAgICAgICAgICAgICB2YXIgZGlmZlBpeGVscyA9IE1hdGguYWJzKGljb24yUGl4ZWxDb3VudCAtIGljb24xUGl4ZWxDb3VudCk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGRpZmZQaXhlbHMgPiA1KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJsb2FkZWQgZm9udCBcXFwiXCIgKyBmb250ICsgXCJcXFwiXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0cmllcy0tO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXRyaWVzID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJzdG9wIGxvYWRpbmcgZm9udCBhZnRlciBcIiArIHJldHJpZXMgKyBcIiByZXRyaWVzIHdpdGggXCIgKyByZXRyeURlbGF5TXMgKyBcIm1zIGRlbGF5XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwid2FpdGluZyBhIHdoaWxlIChcIiArIHJldHJ5RGVsYXlNcyArIFwibXMpXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrTG9hZGVkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJldHJ5RGVsYXlNcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNoZWNrTG9hZGVkKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgYWJzdHJhY3QgY2xhc3MgQXVkaW9HcmFwaE5vZGUge1xyXG4gICAgY29uc3RydWN0b3IocHVibGljIG5hbWU6IHN0cmluZywgcHJvdGVjdGVkIGF1ZGlvQ3R4OiBBdWRpb0NvbnRleHQpIHsgfVxyXG5cclxuICAgIHB1YmxpYyBhYnN0cmFjdCBnZXRBdWRpb05vZGUoKTogQXVkaW9Ob2RlO1xyXG4gICAgcHVibGljIGFic3RyYWN0IHJlbG9hZCgpOiBQcm9taXNlPHZvaWQ+O1xyXG59IiwiaW1wb3J0IHsgQXVkaW9HcmFwaE5vZGUgfSBmcm9tIFwiLi9hdWRpb0dyYXBoTm9kZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEF1ZGlvR3JhcGhOb2RlQW5hbHlzZXIgZXh0ZW5kcyBBdWRpb0dyYXBoTm9kZSB7XHJcbiAgICBhbmFseXNlck5vZGU6IEFuYWx5c2VyTm9kZTtcclxuICAgIGJ1ZmZlckxlbmd0aDogbnVtYmVyO1xyXG4gICAgZGF0YUFycmF5OiBVaW50OEFycmF5O1xyXG5cclxuICAgIHB1YmxpYyBnZXRBdWRpb05vZGUgPSAoKTogQXVkaW9Ob2RlID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5hbmFseXNlck5vZGU7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbG9hZCgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuYW5hbHlzZXJOb2RlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFuYWx5c2VyTm9kZSA9IHRoaXMuYXVkaW9DdHguY3JlYXRlQW5hbHlzZXIoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmFuYWx5c2VyTm9kZS5mZnRTaXplID0gMzI7XHJcbiAgICAgICAgICAgIHRoaXMuYW5hbHlzZXJOb2RlLnNtb290aGluZ1RpbWVDb25zdGFudCA9IDAuOTtcclxuICAgICAgICAgICAgdGhpcy5idWZmZXJMZW5ndGggPSB0aGlzLmFuYWx5c2VyTm9kZS5mcmVxdWVuY3lCaW5Db3VudDtcclxuICAgICAgICAgICAgdGhpcy5kYXRhQXJyYXkgPSBuZXcgVWludDhBcnJheSh0aGlzLmJ1ZmZlckxlbmd0aCk7XHJcbiAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0U3BlY3RydW0oKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYW5hbHlzZXJOb2RlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYW5hbHlzZXJOb2RlLmdldEJ5dGVGcmVxdWVuY3lEYXRhKHRoaXMuZGF0YUFycmF5KTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGF0YUFycmF5O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkoMCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldFdhdmUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuYW5hbHlzZXJOb2RlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYW5hbHlzZXJOb2RlLmdldEJ5dGVUaW1lRG9tYWluRGF0YSh0aGlzLmRhdGFBcnJheSk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRhdGFBcnJheTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KDApO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQXVkaW9HcmFwaE5vZGUgfSBmcm9tIFwiLi9hdWRpb0dyYXBoTm9kZVwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEF1ZGlvR3JhcGhOb2RlRGVzdGluYXRpb24gZXh0ZW5kcyBBdWRpb0dyYXBoTm9kZSB7XHJcbiAgICBwdWJsaWMgZ2V0QXVkaW9Ob2RlID0gKCk6IEF1ZGlvTm9kZSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYXVkaW9DdHguZGVzdGluYXRpb247XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbG9hZCgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBBdWRpb0dyYXBoTm9kZSB9IGZyb20gXCIuL2F1ZGlvR3JhcGhOb2RlXCI7XHJcbmltcG9ydCB7IEVFdmVudCB9IGZyb20gXCIuLi9lRXZlbnRcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBBdWRpb0dyYXBoTm9kZUVsZW1lbnRTb3VyY2UgZXh0ZW5kcyBBdWRpb0dyYXBoTm9kZSB7XHJcbiAgICBwdWJsaWMgdXJsOiBzdHJpbmc7XHJcbiAgICBwdWJsaWMgYXVkaW9FbmRlZCA9IG5ldyBFRXZlbnQoKTtcclxuXHJcbiAgICBwcml2YXRlIHNvdXJjZTogTWVkaWFFbGVtZW50QXVkaW9Tb3VyY2VOb2RlO1xyXG4gICAgcHJpdmF0ZSBhdWRpbzogSFRNTEF1ZGlvRWxlbWVudDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIGF1ZGlvQ3R4OiBBdWRpb0NvbnRleHQsIHVybDogc3RyaW5nKSB7XHJcbiAgICAgICAgc3VwZXIobmFtZSwgYXVkaW9DdHgpO1xyXG4gICAgICAgIHRoaXMudXJsID0gdXJsO1xyXG5cclxuICAgICAgICB0aGlzLmF1ZGlvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYXVkaW8nKTtcclxuICAgICAgICB0aGlzLmF1ZGlvLmNvbnRyb2xzID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmF1ZGlvLnNyYyA9IHRoaXMudXJsO1xyXG4gICAgICAgIHRoaXMuYXVkaW8uYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsIHRoaXMuYXVkaW9FbmRlZEV2ZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGF1ZGlvRW5kZWRFdmVudCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmF1ZGlvRW5kZWQuZGlzcGF0Y2hFdmVudCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRBdWRpb05vZGUgPSAoKTogQXVkaW9Ob2RlID0+IHtcclxuICAgICAgICByZXR1cm4gdGhpcy5zb3VyY2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHJlbG9hZCgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXRoaXMuc291cmNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvdXJjZSA9IHRoaXMuYXVkaW9DdHguY3JlYXRlTWVkaWFFbGVtZW50U291cmNlKHRoaXMuYXVkaW8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGxheSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLmF1ZGlvLnBsYXkoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGF1c2UgPSAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5hdWRpby5wYXVzZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBzdG9wID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuYXVkaW8ucGF1c2UoKTtcclxuICAgICAgICB0aGlzLmF1ZGlvLmN1cnJlbnRUaW1lID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0VXJsID0gKHVybDogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgdmFyIHBsYXkgPSAhdGhpcy5hdWRpby5wYXVzZWQ7XHJcbiAgICAgICAgdGhpcy51cmwgPSB1cmw7XHJcbiAgICAgICAgdGhpcy5hdWRpby5zcmMgPSB1cmw7XHJcbiAgICAgICAgdGhpcy5hdWRpby5sb2FkKCk7XHJcbiAgICAgICAgaWYgKHBsYXkpIHtcclxuICAgICAgICAgICAgdGhpcy5hdWRpby5wbGF5KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgQXVkaW9HcmFwaE5vZGUgfSBmcm9tIFwiLi9hdWRpb0dyYXBoTm9kZVwiO1xyXG5pbXBvcnQgeyBBdWRpb0dyYXBoTm9kZUFuYWx5c2VyIH0gZnJvbSBcIi4vYXVkaW9HcmFwaE5vZGVBbmFseXNlclwiO1xyXG5pbXBvcnQgeyBBdWRpb0dyYXBoTm9kZURlc3RpbmF0aW9uIH0gZnJvbSBcIi4vYXVkaW9HcmFwaE5vZGVEZXN0aW5hdGlvblwiO1xyXG5pbXBvcnQgeyBBdWRpb0dyYXBoTm9kZUVsZW1lbnRTb3VyY2UgfSBmcm9tIFwiLi9hdWRpb0dyYXBoTm9kZUVsZW1lbnRTb3VyY2VcIjtcclxuaW1wb3J0IHsgQXVkaW9HcmFwaE5vZGVTdHJlYW1Tb3VyY2UgfSBmcm9tIFwiLi9hdWRpb0dyYXBoTm9kZVN0cmVhbVNvdXJjZVwiO1xyXG5pbXBvcnQgeyBFRXZlbnRUIH0gZnJvbSBcIi4uL2VFdmVudFwiO1xyXG5cclxuZXhwb3J0IGNsYXNzIEF1ZGlvR3JhcGgge1xyXG4gICAgcHVibGljIGF1ZGlvQ3R4OiBBdWRpb0NvbnRleHQ7XHJcblxyXG4gICAgLy8gcHJpdmF0ZSBzb3VyY2VOb2RlOiBBdWRpb0dyYXBoTm9kZTxBdWRpb05vZGU+O1xyXG4gICAgLy8gcHJpdmF0ZSBhbmFseXplck5vZGU6IEF1ZGlvR3JhcGhOb2RlQW5hbHlzZXI7XHJcblxyXG4gICAgLy8gcmVtb3ZlIGdlbmVyaWMgVD9cclxuICAgIHByaXZhdGUgYXVkaW9Ob2RlczogQXVkaW9HcmFwaE5vZGVbXSA9IFtdO1xyXG5cclxuICAgIHB1YmxpYyBkZXN0aW5hdGlvbk5vZGU6IEF1ZGlvR3JhcGhOb2RlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuYXVkaW9DdHggPSBuZXcgQXVkaW9Db250ZXh0KCk7XHJcbiAgICAgICAgdGhpcy5hdWRpb0N0eC5hZGRFdmVudExpc3RlbmVyKFwic3RhdGVjaGFuZ2VcIiwgdGhpcy5hdWRpb0NvbnRleHRTdGF0ZUNoYW5nZWRFdmFsdWF0b3IpO1xyXG4gICAgICAgIGlmICh0aGlzLmF1ZGlvQ3R4LnN0YXRlID09PSBcInN1c3BlbmRlZFwiKSB7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmRvY3VtZW50Q2xpY2spO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkF1ZGlvIGNvbnRleHQgaXMgc3VzcGVuZGVkLiBDbGljayB0aGUgZG9tIHRvIG1ha2UgaXQgcnVubmluZy5cIik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuZGVzdGluYXRpb25Ob2RlID0gbmV3IEF1ZGlvR3JhcGhOb2RlRGVzdGluYXRpb24oXCJkZXN0aW5hdGlvblwiLCB0aGlzLmF1ZGlvQ3R4KTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkTWVkaWFFbGVtZW50U291cmNlID0gKG5hbWU6IHN0cmluZywgdXJsOiBzdHJpbmcpID0+IHtcclxuICAgICAgICB2YXIgc291cmNlTm9kZSA9IG5ldyBBdWRpb0dyYXBoTm9kZUVsZW1lbnRTb3VyY2UobmFtZSwgdGhpcy5hdWRpb0N0eCwgdXJsKTtcclxuICAgICAgICB0aGlzLmF1ZGlvTm9kZXMucHVzaChzb3VyY2VOb2RlKTtcclxuICAgICAgICByZXR1cm4gc291cmNlTm9kZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgYWRkQW5hbHl6ZXIgPSAobmFtZTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgdmFyIGFuYWx5emVyTm9kZSA9IG5ldyBBdWRpb0dyYXBoTm9kZUFuYWx5c2VyKG5hbWUsIHRoaXMuYXVkaW9DdHgpO1xyXG4gICAgICAgIHRoaXMuYXVkaW9Ob2Rlcy5wdXNoKGFuYWx5emVyTm9kZSk7XHJcbiAgICAgICAgcmV0dXJuIGFuYWx5emVyTm9kZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0QXVkaW9HcmFwaE5vZGUgPSAobmFtZTogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYXVkaW9Ob2Rlcy5maXJzdCh4ID0+IHgubmFtZSA9PSBuYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBwdWJsaWMgcGxheVVybCA9ICh1cmw6IHN0cmluZykgPT4ge1xyXG4gICAgLy8gICAgIHRoaXMuc291cmNlTm9kZSA9IG5ldyBBdWRpb0dyYXBoTm9kZUVsZW1lbnRTb3VyY2UodGhpcy5hdWRpb0N0eCwgdXJsKTtcclxuICAgIC8vICAgICBpZiAodGhpcy5hdWRpb0N0eC5zdGF0ZSA9PT0gXCJydW5uaW5nXCIpIHtcclxuICAgIC8vICAgICAgICAgdGhpcy5idWlsZEdyYXBoKCk7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIHB1YmxpYyBwbGF5U3RyZWFtID0gKCkgPT4ge1xyXG4gICAgLy8gICAgIHRoaXMuc291cmNlTm9kZSA9IG5ldyBBdWRpb0dyYXBoTm9kZVN0cmVhbVNvdXJjZSh0aGlzLmF1ZGlvQ3R4KTtcclxuICAgIC8vICAgICBpZiAodGhpcy5hdWRpb0N0eC5zdGF0ZSA9PT0gXCJydW5uaW5nXCIpIHtcclxuICAgIC8vICAgICAgICAgdGhpcy5idWlsZEdyYXBoKCk7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfVxyXG5cclxuICAgIHB1YmxpYyBhdWRpb0NvbnRleHRTdGF0ZUNoYW5nZWQgPSBuZXcgRUV2ZW50VDxzdHJpbmc+KCk7XHJcblxyXG4gICAgcHJpdmF0ZSBkb2N1bWVudENsaWNrID0gKCkgPT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmF1ZGlvQ3R4LnN0YXRlID09PSBcInN1c3BlbmRlZFwiKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYXVkaW9DdHgucmVzdW1lKCk7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmRvY3VtZW50Q2xpY2spO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGF1ZGlvQ29udGV4dFN0YXRlQ2hhbmdlZEV2YWx1YXRvciA9ICgpID0+IHtcclxuICAgICAgICBpZiAodGhpcy5hdWRpb0N0eC5zdGF0ZSA9PT0gXCJydW5uaW5nXCIpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJhdWRpbyBjb250ZXh0IHN0YXRlIGNoYW5nZWRcIik7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLmF1ZGlvQ3R4LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzdGF0ZWNoYW5nZVwiLCB0aGlzLmF1ZGlvQ29udGV4dFN0YXRlQ2hhbmdlZEV2YWx1YXRvcik7XHJcbiAgICAgICAgICAgIHRoaXMucmVsb2FkKClcclxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1ZGlvQ29udGV4dFN0YXRlQ2hhbmdlZC5kaXNwYXRjaEV2ZW50KHRoaXMuYXVkaW9DdHguc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZWxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJyZWFsb2FkaW5nIGF1ZGlvIGdyYXBoXCIpO1xyXG4gICAgICAgICAgICBQcm9taXNlLmFsbCh0aGlzLmF1ZGlvTm9kZXMubWFwKHggPT4geC5yZWxvYWQoKSkpXHJcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJyZWxvYWRlZCBhdWRpbyBncmFwaFwiKTtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuYXVkaW9Ob2Rlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBhdWRpb05vZGUgPSB0aGlzLmF1ZGlvTm9kZXNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1ZGlvTm9kZS5nZXRBdWRpb05vZGUoKS5kaXNjb25uZWN0KCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaSA8IHRoaXMuYXVkaW9Ob2Rlcy5sZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdWRpb05vZGUuZ2V0QXVkaW9Ob2RlKCkuY29ubmVjdCh0aGlzLmF1ZGlvTm9kZXNbaSArIDFdLmdldEF1ZGlvTm9kZSgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1ZGlvTm9kZS5nZXRBdWRpb05vZGUoKS5jb25uZWN0KHRoaXMuZGVzdGluYXRpb25Ob2RlLmdldEF1ZGlvTm9kZSgpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBwcml2YXRlIGJ1aWxkR3JhcGgoKSB7XHJcbiAgICAvLyAgICAgY29uc29sZS5sb2coXCJCdWlsZGluZyBhdWRpbyBncmFwaC5cIik7XHJcblxyXG4gICAgLy8gICAgIGlmICh0aGlzLnNvdXJjZU5vZGUuZ2V0QXVkaW9Ob2RlKCkpIHtcclxuICAgIC8vICAgICAgICAgdGhpcy5zb3VyY2VOb2RlLmdldEF1ZGlvTm9kZSgpLmRpc2Nvbm5lY3QoKTtcclxuICAgIC8vICAgICAgICAgdGhpcy5hbmFseXplck5vZGUuZ2V0QXVkaW9Ob2RlKCkuZGlzY29ubmVjdCgpO1xyXG4gICAgLy8gICAgICAgICB0aGlzLmRlc3RpbmF0aW9uTm9kZS5nZXRBdWRpb05vZGUoKS5kaXNjb25uZWN0KCk7XHJcbiAgICAvLyAgICAgICAgIHRoaXMuc291cmNlTm9kZS5nZXRBdWRpb05vZGUoKS5jb25uZWN0KHRoaXMuYW5hbHl6ZXJOb2RlLmdldEF1ZGlvTm9kZSgpKTtcclxuICAgIC8vICAgICAgICAgdGhpcy5hbmFseXplck5vZGUuZ2V0QXVkaW9Ob2RlKCkuY29ubmVjdCh0aGlzLmRlc3RpbmF0aW9uTm9kZS5nZXRBdWRpb05vZGUoKSk7XHJcbiAgICAvLyAgICAgfSBlbHNlIHtcclxuICAgIC8vICAgICAgICAgY29uc29sZS5sb2coXCJBdWRpbyBzb3VyY2Ugbm90IGF2YWlsYWJsZS4gV2FpdGluZyBzb21lIHRpbWUuXCIpO1xyXG4gICAgLy8gICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgIC8vICAgICAgICAgICAgIHRoaXMuYnVpbGRHcmFwaCgpO1xyXG4gICAgLy8gICAgICAgICB9LCAxMDAwKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9XHJcblxyXG4gICAgLy8gcHVibGljIGdldFNwZWN0cnVtKCkge1xyXG4gICAgLy8gICAgIHJldHVybiB0aGlzLmFuYWx5emVyTm9kZS5nZXRTcGVjdHJ1bSgpO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIC8vIHB1YmxpYyBnZXRXYXZlKCkge1xyXG4gICAgLy8gICAgIHJldHVybiB0aGlzLmFuYWx5emVyTm9kZS5nZXRXYXZlKCk7XHJcbiAgICAvLyB9XHJcbn0iLCJpbXBvcnQgeyBBdWRpb0dyYXBoIH0gZnJvbSBcIi4uL2VuYy9zcmMvYXVkaW8vYXVkaW9HcmFwaFwiO1xyXG5pbXBvcnQgeyBBdWRpb0dyYXBoTm9kZUVsZW1lbnRTb3VyY2UgfSBmcm9tIFwiLi4vZW5jL3NyYy9hdWRpby9hdWRpb0dyYXBoTm9kZUVsZW1lbnRTb3VyY2VcIjtcclxuaW1wb3J0IHsgQXVkaW9HcmFwaE5vZGVBbmFseXNlciB9IGZyb20gXCIuLi9lbmMvc3JjL2F1ZGlvL2F1ZGlvR3JhcGhOb2RlQW5hbHlzZXJcIjtcclxuXHJcbi8vIGltcG9ydCBGYWludEFzc2V0TVAzIGZyb20gXCIuL2Fzc2V0cy9tcDMtZGVtby9kZW1vXzFfZmFpbnRfY29sb3IubXAzXCJcclxuLy8gaW1wb3J0IFByaXNtQXNzZXRNUDMgZnJvbSBcIi4vYXNzZXRzL21wMy1kZW1vL2RlbW9fMl9wcmlzbS5tcDNcIlxyXG4vLyBpbXBvcnQgSG9wZWZ1bEFzc2V0TVAzIGZyb20gXCIuL2Fzc2V0cy9tcDMtZGVtby9kZW1vXzNfaG9wZWZ1bC5tcDNcIlxyXG4vLyBpbXBvcnQgRGVlcEFzc2V0TVAzIGZyb20gXCIuL2Fzc2V0cy9tcDMtZGVtby9kZW1vXzRfZGVlcF9maWVsZC5tcDNcIlxyXG4vLyBpbXBvcnQgR3Jhdml0eUFzc2V0TVAzIGZyb20gXCIuL2Fzc2V0cy9tcDMtZGVtby9kZW1vXzVfZ3Jhdml0eS5tcDNcIlxyXG4vLyBpbXBvcnQgSm91cm5leUFzc2V0TVAzIGZyb20gXCIuL2Fzc2V0cy9tcDMtZGVtby9kZW1vXzZfam91cm5leV90b190aGVfcGxhbmV0cy5tcDNcIlxyXG4vLyBpbXBvcnQgRHJpZnRpbmdBc3NldE1QMyBmcm9tIFwiLi9hc3NldHMvbXAzLWRlbW8vZGVtb183X2RyaWZ0aW5nX2ludG9fdGhlX2F0bW9zcGhlcmUubXAzXCJcclxuXHJcbmltcG9ydCBGYWludEFzc2V0TVAzIGZyb20gXCIuL2Fzc2V0cy9UcmFpbGVyX0NvbnN0ZWxsYXRpb24ub2dnXCJcclxuaW1wb3J0IFByaXNtQXNzZXRNUDMgZnJvbSBcIi4vYXNzZXRzL1RyYWlsZXJfQ29uc3RlbGxhdGlvbi5vZ2dcIlxyXG5pbXBvcnQgSG9wZWZ1bEFzc2V0TVAzIGZyb20gXCIuL2Fzc2V0cy9UcmFpbGVyX0NvbnN0ZWxsYXRpb24ub2dnXCJcclxuaW1wb3J0IERlZXBBc3NldE1QMyBmcm9tIFwiLi9hc3NldHMvVHJhaWxlcl9Db25zdGVsbGF0aW9uLm9nZ1wiXHJcbmltcG9ydCBHcmF2aXR5QXNzZXRNUDMgZnJvbSBcIi4vYXNzZXRzL1RyYWlsZXJfQ29uc3RlbGxhdGlvbi5vZ2dcIlxyXG5pbXBvcnQgSm91cm5leUFzc2V0TVAzIGZyb20gXCIuL2Fzc2V0cy9UcmFpbGVyX0NvbnN0ZWxsYXRpb24ub2dnXCJcclxuaW1wb3J0IERyaWZ0aW5nQXNzZXRNUDMgZnJvbSBcIi4vYXNzZXRzL1RyYWlsZXJfQ29uc3RlbGxhdGlvbi5vZ2dcIlxyXG5cclxuZXhwb3J0IGNsYXNzIEF1ZGlvTWFuYWdlciB7XHJcbiAgICBwcml2YXRlIGF1ZGlvR3JhcGg6IEF1ZGlvR3JhcGg7XHJcbiAgICBwcml2YXRlIHNvdXJjZTogQXVkaW9HcmFwaE5vZGVFbGVtZW50U291cmNlO1xyXG4gICAgcHJpdmF0ZSBhbmFseXNlcjogQXVkaW9HcmFwaE5vZGVBbmFseXNlcjtcclxuXHJcbiAgICBwcml2YXRlIHNvbmdzID0gW1xyXG4gICAgICAgIEZhaW50QXNzZXRNUDMsXHJcbiAgICAgICAgUHJpc21Bc3NldE1QMyxcclxuICAgICAgICBIb3BlZnVsQXNzZXRNUDMsXHJcbiAgICAgICAgRGVlcEFzc2V0TVAzLFxyXG4gICAgICAgIEdyYXZpdHlBc3NldE1QMyxcclxuICAgICAgICBKb3VybmV5QXNzZXRNUDMsXHJcbiAgICAgICAgRHJpZnRpbmdBc3NldE1QM1xyXG4gICAgXVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuYXVkaW9HcmFwaCA9IG5ldyBBdWRpb0dyYXBoKCk7XHJcbiAgICAgICAgdGhpcy5zb3VyY2UgPSB0aGlzLmF1ZGlvR3JhcGguYWRkTWVkaWFFbGVtZW50U291cmNlKFwic291cmNlXCIsIHRoaXMuc29uZ3NbMF0pXHJcbiAgICAgICAgdGhpcy5hbmFseXNlciA9IHRoaXMuYXVkaW9HcmFwaC5hZGRBbmFseXplcihcImFuYWx5c2VyXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZWxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuYXVkaW9HcmFwaC5yZWxvYWQoKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgcGxheSA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNvdXJjZS5wbGF5KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHBhdXNlID0gKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc291cmNlLnBhdXNlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIG5leHQgPSAoKSA9PiB7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRTb25nSW5kZXggPSB0aGlzLnNvbmdzLmluZGV4T2YodGhpcy5zb3VyY2UudXJsKTtcclxuICAgICAgICB2YXIgbmV4dFNvbmdJbmRleCA9IGN1cnJlbnRTb25nSW5kZXggKyAxO1xyXG4gICAgICAgIGlmIChuZXh0U29uZ0luZGV4ID09IHRoaXMuc29uZ3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIG5leHRTb25nSW5kZXggPSAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5zb3VyY2Uuc2V0VXJsKHRoaXMuc29uZ3NbbmV4dFNvbmdJbmRleF0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBwcmV2aW91cyA9ICgpID0+IHtcclxuICAgICAgICB2YXIgY3VycmVudFNvbmdJbmRleCA9IHRoaXMuc29uZ3MuaW5kZXhPZih0aGlzLnNvdXJjZS51cmwpO1xyXG4gICAgICAgIHZhciBwcmV2aW91c1NvbmdJbmRleCA9IGN1cnJlbnRTb25nSW5kZXggLSAxO1xyXG4gICAgICAgIGlmIChwcmV2aW91c1NvbmdJbmRleCA9PSAtMSkge1xyXG4gICAgICAgICAgICBwcmV2aW91c1NvbmdJbmRleCA9IHRoaXMuc29uZ3MubGVuZ3RoIC0gMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhpcy5zb3VyY2Uuc2V0VXJsKHRoaXMuc29uZ3NbcHJldmlvdXNTb25nSW5kZXhdKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc3RvcCA9ICgpID0+IHtcclxuICAgICAgICB0aGlzLnNvdXJjZS5zdG9wKCk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgQXNzZXRNYW5hZ2VyIHtcclxuICAgIHByaXZhdGUgaW1hZ2VBc3NldHM6IHsgbmFtZTogc3RyaW5nLCB1cmw6IHN0cmluZywgaW1hZ2U6IEhUTUxJbWFnZUVsZW1lbnQgfVtdID0gW107XHJcblxyXG4gICAgcHVibGljIGFkZEltYWdlID0gKG5hbWU6IHN0cmluZywgdXJsOiBzdHJpbmcpID0+IHtcclxuICAgICAgICB0aGlzLmltYWdlQXNzZXRzLnB1c2goe1xyXG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgICAgICB1cmw6IHVybCxcclxuICAgICAgICAgICAgaW1hZ2U6IHVuZGVmaW5lZFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBnZXRJbWFnZSA9IChuYW1lOiBzdHJpbmcpOiBIVE1MSW1hZ2VFbGVtZW50ID0+IHtcclxuICAgICAgICB2YXIgaW1hZ2VBc3NldCA9IHRoaXMuaW1hZ2VBc3NldHMuZmlyc3RPckRlZmF1bHQoeCA9PiB4Lm5hbWUgPT0gbmFtZSk7XHJcbiAgICAgICAgaWYgKGltYWdlQXNzZXQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGltYWdlQXNzZXQuaW1hZ2U7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGxvYWQgPSAoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHRoaXMuaW1hZ2VBc3NldHMubWFwKHggPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCF4LmltYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGltYWdlID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2Uuc3JjID0geC51cmw7XHJcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2Uub25sb2FkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB4LmltYWdlID0gaW1hZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSkpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgU3RhZ2UgfSBmcm9tIFwiLi4vZW5jL3NyYy91aS9zdGFnZVwiO1xyXG5pbXBvcnQgeyBJbnNwaWVydHlQbGF5ZXJWaWV3IH0gZnJvbSBcIi4vdmlldy9pbnNwaWVydHlQbGF5ZXJWaWV3XCI7XHJcbmltcG9ydCB7IFNldHRpbmdzIH0gZnJvbSBcIi4vbW9kZWxzL3NldHRpbmdzXCI7XHJcbmltcG9ydCB7IFNldHRpbmdzTWFuYWdlciB9IGZyb20gXCIuL3NldHRpbmdzL3NldHRpbmdzTWFuYWdlclwiO1xyXG5pbXBvcnQgeyBEaW5qZWN0IH0gZnJvbSBcIi4uL2VuYy9zcmMvZGluamVjdFwiO1xyXG5pbXBvcnQgeyBFQW5pbWF0aW9uIH0gZnJvbSBcIi4uL2VuYy9zcmMvZUFuaW1hdGlvblwiO1xyXG5pbXBvcnQgeyBFQ2FudmFzIH0gZnJvbSBcIi4uL2VuYy9zcmMvdWkvZUNhbnZhc1wiO1xyXG5pbXBvcnQgeyBDYW52YXNIZWxwZXIgfSBmcm9tIFwiLi4vZW5jL3NyYy91aS9jYW52YXNIZWxwZXJcIjtcclxuaW1wb3J0IHsgQXVkaW9NYW5hZ2VyIH0gZnJvbSBcIi4vYXVkaW9NYW5hZ2VyXCI7XHJcbmltcG9ydCB7IEFzc2V0TWFuYWdlciB9IGZyb20gXCIuLi9lbmMvc3JjL2Fzc2V0TWFuYWdlclwiO1xyXG5cclxuaW1wb3J0IGJhY2tncm91bmRQbmcgZnJvbSBcIi4vYXNzZXRzL2JhY2tncm91bmQucG5nXCJcclxuXHJcbmV4cG9ydCBjbGFzcyBBcHAge1xyXG4gICAgcHVibGljIHN0YXRpYyBzZXR0aW5ncyA9IG5ldyBTZXR0aW5ncyh3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0KTtcclxuICAgIHB1YmxpYyBzdGF0aWMgc2V0dGluZ01hbmFnZXIgPSBuZXcgU2V0dGluZ3NNYW5hZ2VyKCk7XHJcblxyXG4gICAgcHVibGljIHJ1biA9ICgpID0+IHtcclxuICAgICAgICBkb2N1bWVudC5ib2R5LnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwiYmxhY2tcIjtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coXCJsb2FkaW5nIGFwcFwiKTtcclxuICAgICAgICBQcm9taXNlLmFsbChbXHJcbiAgICAgICAgICAgIG5ldyBDYW52YXNIZWxwZXIoKS5sb2FkRm9udGF3ZXNvbWVGcmVlKCksXHJcbiAgICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBhdWRpb01hbmFnZXIgPSBuZXcgQXVkaW9NYW5hZ2VyKCk7XHJcbiAgICAgICAgICAgICAgICBhdWRpb01hbmFnZXIucmVsb2FkKClcclxuICAgICAgICAgICAgICAgIERpbmplY3QuYWRkSW5zdGFuY2UoXCJhdWRpb1wiLCBhdWRpb01hbmFnZXIpO1xyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIGNhbnZhcyA9IEVDYW52YXMuY3JlYXRlRnVsbFNjcmVlbigpO1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0YWdlID0gbmV3IFN0YWdlKGNhbnZhcyk7XHJcbiAgICAgICAgICAgICAgICB2YXIgYW5pbWF0aW9uID0gbmV3IEVBbmltYXRpb24oKTtcclxuICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5hZGRVcGRhdGVGdW5jdGlvbihjYW52YXMuZHJhdyk7XHJcblxyXG4gICAgICAgICAgICAgICAgRGluamVjdC5hZGRJbnN0YW5jZShcImNhbnZhc1wiLCBjYW52YXMpO1xyXG4gICAgICAgICAgICAgICAgRGluamVjdC5hZGRJbnN0YW5jZShcInN0YWdlXCIsIHN0YWdlKTtcclxuICAgICAgICAgICAgICAgIERpbmplY3QuYWRkSW5zdGFuY2UoXCJhbmltYXRpb25cIiwgYW5pbWF0aW9uKTtcclxuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcclxuICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICAgICAgICAgIHZhciBhc3NldE1hbmFnZXIgPSBuZXcgQXNzZXRNYW5hZ2VyKCk7XHJcbiAgICAgICAgICAgICAgICBEaW5qZWN0LmFkZEluc3RhbmNlKFwiYXNzZXRzXCIsIGFzc2V0TWFuYWdlcik7XHJcbiAgICAgICAgICAgICAgICBhc3NldE1hbmFnZXIuYWRkSW1hZ2UoXCJiYWNrZ3JvdW5kXCIsIGJhY2tncm91bmRQbmcpO1xyXG4gICAgICAgICAgICAgICAgYXNzZXRNYW5hZ2VyLmxvYWQoKVxyXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgXSkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwibG9hZGVkIGFwcFwiKTtcclxuXHJcbiAgICAgICAgICAgIHZhciBzdGFnZSA9IERpbmplY3QuZ2V0SW5zdGFuY2UoXCJzdGFnZVwiKSBhcyBTdGFnZTtcclxuICAgICAgICAgICAgdmFyIHZpZXcgPSBuZXcgSW5zcGllcnR5UGxheWVyVmlldygpO1xyXG4gICAgICAgICAgICBzdGFnZS5zZXRWaWV3KHZpZXcpO1xyXG5cclxuICAgICAgICAgICAgQXBwLnNldHRpbmdNYW5hZ2VyLmFkZFN0YXJMYXllcigpO1xyXG4gICAgICAgICAgICBBcHAuc2V0dGluZ01hbmFnZXIuYWRkU3RhckxheWVyKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBTdGFyTGF5ZXIgfSBmcm9tIFwiLi9zdGFyTGF5ZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTZXR0aW5ncyB7XHJcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgd2lkdGg6IG51bWJlciwgcHVibGljIGhlaWdodDogbnVtYmVyKSB7IH1cclxuXHJcbiAgICBwdWJsaWMgc3RhckxheWVyczogU3RhckxheWVyW10gPSBbXTtcclxufVxyXG4iLCJpbXBvcnQgeyBTZXR0aW5nT3BlcmF0aW9uIH0gZnJvbSBcIi4vc2V0dGluZ09wZXJhdGlvblwiO1xyXG5pbXBvcnQgeyBFRXZlbnRUIH0gZnJvbSBcIi4uLy4uL2VuYy9zcmMvZUV2ZW50XCI7XHJcbmltcG9ydCB7IEFwcCB9IGZyb20gXCIuLi9hcHBcIjtcclxuaW1wb3J0IHsgU3RhckxheWVyIH0gZnJvbSBcIi4uL21vZGVscy9zdGFyTGF5ZXJcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBTZXR0aW5nc01hbmFnZXIge1xyXG4gICAgcHVibGljIHVwZGF0ZSA9IG5ldyBFRXZlbnRUPFNldHRpbmdPcGVyYXRpb24+KCk7XHJcblxyXG4gICAgcHVibGljIGFkZFN0YXJMYXllciA9ICgpID0+IHtcclxuICAgICAgICB2YXIgbGF5ZXIgPSBuZXcgU3RhckxheWVyKCk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTAwOyBpKyspIHtcclxuICAgICAgICAgICAgbGF5ZXIuc3RhcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICB4OiBNYXRoLnJhbmRvbSgpICogQXBwLnNldHRpbmdzLndpZHRoLFxyXG4gICAgICAgICAgICAgICAgeTogTWF0aC5yYW5kb20oKSAqIEFwcC5zZXR0aW5ncy5oZWlnaHQsXHJcbiAgICAgICAgICAgICAgICByOiBNYXRoLnJhbmRvbSgpICogMiArIDAuMDVcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIEFwcC5zZXR0aW5ncy5zdGFyTGF5ZXJzLnB1c2gobGF5ZXIpO1xyXG4gICAgICAgIHRoaXMudXBkYXRlLmRpc3BhdGNoRXZlbnQoU2V0dGluZ09wZXJhdGlvbi5BZGRTdGFyTGF5ZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZW1vdmVTdGFyTGF5ZXIgPSAoc3RhckxheWVyOiBTdGFyTGF5ZXIpID0+IHtcclxuICAgICAgICBBcHAuc2V0dGluZ3Muc3RhckxheWVycy5yZW1vdmVJdGVtKHN0YXJMYXllcik7XHJcbiAgICAgICAgdGhpcy51cGRhdGUuZGlzcGF0Y2hFdmVudChTZXR0aW5nT3BlcmF0aW9uLlJlbW92ZVN0YXJMYXllcik7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNoYW5nZU51bWJlck9mU3RhcnMgPSAoc3RhckxheWVyOiBTdGFyTGF5ZXIsIG51bWJlck9mU3RhcnM6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIGlmIChudW1iZXJPZlN0YXJzID4gMCkge1xyXG4gICAgICAgICAgICB2YXIgZGlmZiA9IG51bWJlck9mU3RhcnMgLSBzdGFyTGF5ZXIuc3RhcnMubGVuZ3RoO1xyXG4gICAgICAgICAgICBpZiAoZGlmZiA+IDApIHtcclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGlmZjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhckxheWVyLnN0YXJzLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB4OiBNYXRoLnJhbmRvbSgpICogQXBwLnNldHRpbmdzLndpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB5OiBNYXRoLnJhbmRvbSgpICogQXBwLnNldHRpbmdzLmhlaWdodCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcjogTWF0aC5yYW5kb20oKSAqIDIgKyAwLjA1XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIGlmIChkaWZmIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAtZGlmZjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhckxheWVyLnN0YXJzLnNwbGljZShNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBzdGFyTGF5ZXIuc3RhcnMubGVuZ3RoKSwgMSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy51cGRhdGUuZGlzcGF0Y2hFdmVudChTZXR0aW5nT3BlcmF0aW9uLkNoYW5nZU51bWJlck9mU3RhcnMpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY2hhbmdlU3BlZWQgPSAoc3RhckxheWVyOiBTdGFyTGF5ZXIsIHNwZWVkOiBudW1iZXIpID0+IHtcclxuICAgICAgICBzdGFyTGF5ZXIuc3BlZWQgPSBzcGVlZDtcclxuICAgICAgICB0aGlzLnVwZGF0ZS5kaXNwYXRjaEV2ZW50KFNldHRpbmdPcGVyYXRpb24uQ2hhbmdlU3BlZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyBjaGFuZ2VTaXplcyA9IChzdGFyTGF5ZXI6IFN0YXJMYXllciwgbG93Qm9yZGVyOiBudW1iZXIsIGhpZ2hCb3JkZXI6IG51bWJlcikgPT4ge1xyXG4gICAgICAgIHZhciBzaXplcyA9IHN0YXJMYXllci5zdGFycy5tYXAoeCA9PiB4LnIpO1xyXG4gICAgICAgIHZhciBjdXJyZW50VmFsdWVMb3cgPSBNYXRoLm1pbiguLi5zaXplcyk7XHJcbiAgICAgICAgdmFyIGN1cnJlbnRWYWx1ZUhpZ2ggPSBNYXRoLm1heCguLi5zaXplcyk7XHJcblxyXG4gICAgICAgIHZhciBtaW5GaXggPSAoY3VycmVudFZhbHVlSGlnaCAtIGN1cnJlbnRWYWx1ZUxvdyk7XHJcbiAgICAgICAgaWYgKG1pbkZpeCA8PSAwKSB7XHJcbiAgICAgICAgICAgIG1pbkZpeCA9IDAuMDAwMVxyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGNvbnN0IHN0YXIgb2Ygc3RhckxheWVyLnN0YXJzKSB7XHJcbiAgICAgICAgICAgIHN0YXIuciA9ICgoc3Rhci5yIC0gY3VycmVudFZhbHVlTG93KSAvIG1pbkZpeCAqIChoaWdoQm9yZGVyIC0gbG93Qm9yZGVyKSkgKyBsb3dCb3JkZXI7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZyhzdGFyTGF5ZXIuc3RhcnNbMF0ucik7XHJcbiAgICAgICAgdGhpcy51cGRhdGUuZGlzcGF0Y2hFdmVudChTZXR0aW5nT3BlcmF0aW9uLkNoYW5nZVNwZWVkKTtcclxuICAgIH1cclxufSIsImltcG9ydCB7IEFwcCB9IGZyb20gXCIuL2FwcFwiO1xyXG5pbXBvcnQgXCIuLi9lbmMvc3JjL2V4dGVuc2lvbnNcIjtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBtYWluLCBmYWxzZSk7XHJcblxyXG5mdW5jdGlvbiBtYWluKCkge1xyXG4gICAgdmFyIGFwcCA9IG5ldyBBcHAoKTtcclxuICAgIGFwcC5ydW4oKTtcclxufSJdLCJzb3VyY2VSb290IjoiIn0=